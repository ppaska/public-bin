(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/uUt":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("Ji7U"),r=n("LK+K"),o=n("1OyB"),s=n("vuIU"),a=n("7o/Q");function l(e,t){return function(n){return n.lift(new c(e,t))}}var c=function(){function e(t,n){Object(o.a)(this,e),this.compare=t,this.keySelector=n}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.compare,this.keySelector))}}]),e}(),u=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e,i,r){var s;return Object(o.a)(this,n),(s=t.call(this,e)).keySelector=r,s.hasKey=!1,"function"==typeof i&&(s.compare=i),s}return Object(s.a)(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}]),n}(a.a)},0:function(e,t,n){e.exports=n("zUnb")},"0CDM":function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var i=n("mrSG"),r=n("2Vo4"),o=n("itXk"),s=n("LRne"),a=n("Cfvw"),l=n("z6cu"),c=n("cp0P"),u=n("/uUt"),h=n("lJxs"),d=n("JIr8"),f=n("vkgz"),p=n("eIep"),g=n("w1tV"),m=n("AytR"),b=n("OLrf"),v=n("M0ag"),y=n("TwVa"),_=n("ZF+8"),w=n("JGTj"),C=n("5sEi"),S=n("eY+I"),O=n("Uwcb"),T=n("xOOu"),k=n("Iab2"),x=n("QDG+"),E=n("fXoL"),j=n("tk/3"),A=m.a.apiBaseUrl+"/api/app-definitions",I=function(){function e(e,t,n,a){var l=this;this.httpClient=e,this.authService=t,this.notificationService=n,this.userFilesService=a,this._myApps=new r.a([]),this._currentApp=new r.a(void 0),this._menuItems=new r.a([]),this._sidebarItems=new r.a([]),this._appSidebarItems=new r.a([]),this._googleMapKey=new r.a(null),this.googleMapKey$=this._googleMapKey.asObservable().pipe(Object(u.a)()),this.currentApp$=this._currentApp.asObservable(),this.myApps$=this._myApps.asObservable(),this.menuItems$=this._menuItems.asObservable().pipe(Object(h.a)(C.d)),this.sidebarItems$=Object(o.a)([this._appSidebarItems.asObservable(),this._sidebarItems.asObservable()]).pipe(Object(h.a)((function(e){var t=e[0],n=e[1];return Object(i.g)(t,n)}))),this.authService.isAuthenticated$.pipe(Object(d.a)((function(e){return Object(s.a)(!1)}))).subscribe((function(e){return Object(i.b)(l,void 0,void 0,(function(){return Object(i.e)(this,(function(t){return e||this._myApps.next([]),[2]}))}))}))}return Object.defineProperty(e.prototype,"currentApp",{get:function(){return this._currentApp.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shellSettings",{get:function(){return this._shellSettings},enumerable:!1,configurable:!0}),e.prototype.loadMyApps=function(){var e=this;return this.httpClient.get(A+"/apps",this.authService.getHttpHeaders()).pipe(Object(f.a)((function(t){return e._myApps.next(t)})),Object(d.a)((function(t){return e._myApps.next([]),e.catchApiError(t,"Failed to load applications list")})))},e.prototype.reset=function(){this._sidebarItems.next([]),this._currentApp.next(null)},e.prototype.getApp=function(){var e=this;return this.getAppInfo().pipe(Object(p.a)((function(t){return e.getAppShell(t)})),Object(g.a)(),Object(d.a)((function(t){return e.catchApiError(t,"Failed to load app")})))},e.prototype.getAppContext=function(){var e=this.currentApp;if(e)return{appSettings:e.settings,appConnections:e.connections,appConnectionNames:e.connectionNames,appInfo:{appName:e.appName,ownerName:e.ownerName,accessLevel:e.accessLevel}}},e.prototype.getAppInfo=function(){var e=this;return this.appContentService.getAppInfo().pipe(Object(f.a)((function(t){var n;e.appScript=null,e._currentApp.next(t),(null===(n=t.settings)||void 0===n?void 0:n.hasOwnProperty("google-map-key"))?e._googleMapKey.next(t.settings["google-map-key"]):e._googleMapKey.next(null)})))},e.prototype.getAppShell=function(e){var t=this;return this.getAppContentByPath(e.shellUri||O.a.appShell).pipe(Object(p.a)((function(e){return Object(a.a)(Object(C.e)(e)).pipe(Object(d.a)((function(e){return t._shellSettings=null,Object(l.a)("App shell.xml parsing error: "+Object(v.h)(e))})))})),Object(f.a)((function(e){t._shellSettings=e,t._menuItems.next(e.menuItems),t._appSidebarItems.next(e.sideBarItems)})),Object(d.a)((function(e){return t.appScript=null,t._menuItems.next([]),t._appSidebarItems.next([]),t.catchApiError(e,"Failed to load app files")})))},e.prototype.getAppPages=function(e,t){var n=this;return this.httpClient.get(A+"/app-pages/"+e+"/"+t,this.authService.getHttpHeaders()).pipe(Object(d.a)((function(e){return n.catchApiError(e,"Failed to load app pages")})),Object(g.a)())},e.prototype.getAppScript=function(){return this.appScript?Object(s.a)(this.appScript):this.getAppContent(Object(i.a)({appOwnerName:this.currentApp.ownerName,appName:this.currentApp.appName},Object(C.a)(O.a.appScript))).pipe(Object(h.a)((function(e){return null==e?void 0:e.content})))},e.prototype.getAppPermissions=function(e){var t=this;return this.httpClient.get(A+"/app-permissions/"+e,this.authService.getHttpHeaders()).pipe(Object(d.a)((function(e){return t.catchApiError(e,"Failed to load app permissions")})),Object(g.a)())},e.prototype.saveAppPermission=function(e){var t=this;return this.httpClient.post(A+"/save-app-permission",e,this.authService.getHttpHeaders()).pipe(Object(f.a)((function(){return t.notificationService.open({message:"Permission saved",type:y.NotificationType.SUCCESS})})),Object(d.a)((function(e){return t.catchApiError(e,"Failed to save app permissions")})))},e.prototype.removeAppPermission=function(e,t){var n=this;return this.httpClient.request("delete",A+"/remove-app-permission",{headers:this.authService.getHttpHeaders().headers,body:{userId:e,appId:t}}).pipe(Object(f.a)((function(){return n.notificationService.open({message:"Permission removed",type:y.NotificationType.SUCCESS})})),Object(d.a)((function(e){return n.catchApiError(e,"Failed to remove app permissions")})))},e.prototype.saveAppInfo=function(e){var t=this,n=!e.appId;return this.httpClient.post(A+"/save-app",e,this.authService.getHttpHeaders()).pipe(Object(f.a)((function(r){return Object(i.b)(t,void 0,void 0,(function(){return Object(i.e)(this,(function(t){switch(t.label){case 0:return this.currentApp?this.currentApp.appName!==e.appName?this._currentApp.next(e):Object.assign(this._currentApp.value,e):(e.appId=r,this._currentApp.next(e)),n?[4,this.createAppFiles(e).toPromise()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[4,this.loadMyApps().toPromise()];case 3:return t.sent(),[4,this.getAppInfo().toPromise()];case 4:return t.sent(),this.notificationService.open({message:"Application configuration saved",type:y.NotificationType.SUCCESS}),[2]}}))}))})),Object(d.a)((function(e){return t.catchApiError(e,"Failed to save application configuration")})))},e.prototype.createAppFiles=function(e){var t=this,n=Object(C.c)(e);return Object(c.a)(n.map((function(e){return t.saveAppLink(e,!0)})))},e.prototype.getPageInfo=function(e){var t=this;return e?this.appContentService.getPageInfo(e).pipe(Object(d.a)((function(e){return t.catchApiError(e,"Failed to load page")}))):Object(l.a)("Page not found.")},e.prototype.parsePageContent=function(e){var t=this;return Object(a.a)(this.getPageXmlObj(e)).pipe(Object(p.a)((function(n){var i;return Object(a.a)(t.getPageScript(null===(i=null==n?void 0:n.$)||void 0===i?void 0:i.code)).pipe(Object(h.a)((function(t){var n,i=null===(n=e.pageContent)||void 0===n?void 0:n.replace(/(?:\r\n|\r|\n)/g,"").match(/<body>(.*)<\/body>/);return{script:t,uiModel:i?i[1]:""}})))})))},e.prototype.getPageDesignCode$=function(e){var t=this;return Object(a.a)(this.getPageXmlObj(e)).pipe(Object(p.a)((function(e){return Object(a.a)(t.getPageScript(e.$?e.$["design-code"]:null))})))},e.prototype.getDesignQueryUrl$=function(e){return Object(a.a)(this.getPageXmlObj(e)).pipe(Object(h.a)((function(e){return e.$?e.$["design-query-url"]:null})))},e.prototype.navigate=function(e,t){this.appContentService.navigate(this.currentApp,e,t)},e.prototype.getPagePath=function(e){return this.appContentService.getPagePath(this.currentApp,e)},e.prototype.getPageXmlObj=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t,n;return Object(i.e)(this,(function(i){switch(i.label){case 0:return e.pageContent?[4,Object(v.m)(e.pageContent)]:[2,null];case 1:if(t=i.sent(),"page"!==(n=Object.keys(t)[0]))throw Error("Page content is not valid");return[2,t[n]]}}))}))},e.prototype.getPageScript=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t,n,r,o;return Object(i.e)(this,(function(s){switch(s.label){case 0:return e?(n=(t=this.currentApp).appName,r=t.ownerName,[4,this.getAppContent(Object(i.a)({appName:n,appOwnerName:r},Object(C.a)(e))).toPromise()]):[2,Promise.resolve("")];case 1:if(!(o=s.sent()))throw Error("Script "+e+" not found");return[2,o.content]}}))}))},e.prototype.deleteApp=function(e){var t=this;return this.httpClient.delete(A+"/app/"+e,this.authService.getHttpHeaders()).pipe(Object(f.a)((function(){t.loadMyApps().toPromise(),t.notificationService.open({message:"Application deleted",type:y.NotificationType.SUCCESS})})),Object(d.a)((function(e){return t.catchApiError(e,"Failed to delete app")})))},e.prototype.deletePage=function(e,t){var n=this;return this.httpClient.delete(A+"/app-page/"+e+"/"+t,this.authService.getHttpHeaders()).pipe(Object(f.a)((function(){return n.notificationService.open({message:"Page deleted",type:y.NotificationType.SUCCESS})})),Object(d.a)((function(e){return n.catchApiError(e,"Failed to delete page")})))},e.prototype.getJsonValue=function(e){return this.httpClient.get(m.a.apiBaseUrl+"/api/json-data/get-value/"+e,this.authService.getHttpHeaders())},e.prototype.setJsonValue=function(e,t){return this.httpClient.post(m.a.apiBaseUrl+"/api/json-data/set-value",{key:e,value:t},this.authService.getHttpHeaders())},e.prototype.addMenuItem=function(e){if(e){var t=Array.isArray(e)?e:[e];this._menuItems.next(Object(i.g)(this._menuItems.getValue(),t))}},e.prototype.removeMenuItem=function(e){var t=this._menuItems.value.filter((function(t){return!e(t)}));this._menuItems.next(t)},e.prototype.addSidebarItem=function(e){if(e){var t=Array.isArray(e)?e:[e];this._sidebarItems.next(Object(i.g)(this._sidebarItems.getValue(),t))}},e.prototype.saveAppLink=function(e,t){var n=this;void 0===t&&(t=!1);var i=A+"/save-app-content";return e.appContent.contentType!==w.a.PAGE||t?this.httpClient.post(i,e,this.authService.getHttpHeaders()):this.parsePageContent({pageContent:e.appContent.content,pageContentId:null}).pipe(Object(p.a)((function(t){var r=t.uiModel;return Object(a.a)(r?S.d.parseXMLModel(r):Promise.resolve()).pipe(Object(p.a)((function(){return n.httpClient.post(i,e,n.authService.getHttpHeaders())})))})))},e.prototype.getAllLinks=function(){var e=this;return this.appContentService.getAllLinks().pipe(Object(d.a)((function(t){return e.catchApiError(t,"Failed to load app links")})))},e.prototype.deleteAppContent=function(e){var t=e.appContent;return this.httpClient.post(A+"/delete-app-content",{appOwnerName:e.appOwnerName,appName:e.appName,folder:t.folder,name:t.name,contentType:t.contentType},this.authService.getHttpHeaders())},e.prototype.getAppContent=function(e){return this.appContentService.getAppContent(e)},e.prototype.getAppContentByPath=function(e){return e?this.getAppContent(Object(i.a)({appOwnerName:this.currentApp.ownerName,appName:this.currentApp.appName},Object(C.a)(e))).pipe(Object(h.a)((function(e){return e.content}))):Object(l.a)("App shell.xml is not defined.")},e.prototype.removeSidebarItem=function(e){var t=this._sidebarItems.value.filter((function(t){return!e(t)}));this._sidebarItems.next(t)},e.prototype.cloneApp=function(e,t,n){var i=this;return this.httpClient.post(A+"/clone-app/"+e+"/"+t,n,this.authService.getHttpHeaders()).pipe(Object(f.a)((function(){i.notificationService.open({type:y.NotificationType.SUCCESS,message:"Applications successfully cloned"})})),Object(d.a)((function(e){return i.catchApiError(e,"Failed to clone application"),Object(l.a)(e)})))},e.prototype.downloadLinks=function(e){var t;return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,s;return Object(i.e)(this,(function(i){switch(i.label){case 0:n=new T,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this.generateZipFile(n,e)];case 2:return i.sent(),[4,n.generateAsync({type:"blob"})];case 3:return r=i.sent(),o=this.currentApp?this.currentApp.ownerName+"-"+this.currentApp.appName:((null===(t=this.authService.user)||void 0===t?void 0:t.userName)||"files")+"-worksheet.systems",Object(k.saveAs)(r,o+".zip"),[3,5];case 4:return s=i.sent(),this.notificationService.error(s),[3,5];case 5:return[2]}}))}))},e.prototype.generateZipFile=function(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r,o,s,a,l,c,u;return Object(i.e)(this,(function(d){switch(d.label){case 0:this.authService.user&&(t=t.filter((function(e){return e.children||e.link.contentId}))),n=0,r=t,d.label=1;case 1:return n<r.length?(o=r[n]).children?(s=e.folder(o.label),this.generateZipFile(s,o.children),[3,8]):[3,2]:[3,9];case 2:return a=void 0,this.currentApp?(c=(l=this.currentApp).appName,u=l.ownerName,[4,this.getAppContent(Object(i.a)({appOwnerName:u,appName:c},o.link)).pipe(Object(h.a)((function(e){return e.content}))).toPromise()]):[3,4];case 3:return a=d.sent(),[3,7];case 4:return this.authService.user?[4,this.userFilesService.getFileContent(o.link).pipe(Object(h.a)((function(e){return e.content}))).toPromise()]:[3,6];case 5:return a=d.sent(),[3,7];case 6:a=o.link.content,d.label=7;case 7:e.file(o.label,a),d.label=8;case 8:return n++,[3,1];case 9:return[2]}}))}))},e.prototype.catchApiError=function(e,t){var n=Object(v.h)(e)||t;return this.notificationService.open({message:n,type:y.NotificationType.DANGER}),Object(s.a)(null)},e.\u0275fac=function(t){return new(t||e)(E.Xb(j.a),E.Xb(b.b),E.Xb(_.e),E.Xb(x.a))},e.\u0275prov=E.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"0EUg":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("bHdf");function r(){return Object(i.a)(1)}},"0Qfz":function(e,t,n){"use strict";function i(e,t){if(t&&"function"==typeof t&&(e=t(e)),e instanceof Date)return e.getTime();switch(typeof e){case"string":var n=parseFloat(e);if(!isNaN(n))return n;break;case"boolean":return Number(e);case"number":return isNaN(e)?void 0:e}}function r(e){if(!e)return null;if(e instanceof Date&&!isNaN(e.valueOf()))return e;if("string"!=typeof e)return null;var t=String(e);if(!t.length)return null;var n=function(e){if(!e||!e.length)return NaN;var t=parseInt(e,10);return isNaN(t)?e.startsWith("jan")?0:e.startsWith("feb")?1:e.startsWith("mar")?2:e.startsWith("apr")?3:e.startsWith("may")?4:e.startsWith("jun")?5:e.startsWith("jul")?6:e.startsWith("aug")?7:e.startsWith("sep")?8:e.startsWith("oct")?9:e.startsWith("nov")?10:e.startsWith("dec")?11:NaN:t-1},i=function(e){return e<100?e<68?e+2e3:e+1900:e},r=function(e,t,n,i,r,o,s){if(t>11||n>31||i>=60||r>=60||o>=60)return null;var a=new Date(e,t,n,i,r,o,s);return isNaN(a.valueOf())?null:a},o=t.replace("T"," ").replace("."," ").toLowerCase().split(/[: /-]/),s=o.map(parseFloat),a=r(s[0],s[1]-1,s[2],s[3]||0,s[4]||0,s[5]||0,s[6]||0);return a||((a=r(i(s[2]),n(o[1]),s[0],s[3]||0,s[4]||0,s[5]||0,s[6]||0))?a:(a=r(i(s[2]),n(o[0]),i(s[1]),s[3]||0,s[4]||0,s[5]||0,s[6]||0))||null)}function o(e){var t=new Date(e.getTime());return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t.toISOString().replace("T00:00:00.000Z","")}function s(e){if("function"==typeof e)return e;if("string"==typeof e)return function(t){return t[e]instanceof Date?o(t[e]):t[e]};if(Array.isArray(e))return function(t){return e.map((function(e){return t[e]})).join("|")};throw Error("Unknown input. Can't create a fieldSelector")}function a(e,t,n,i,r){if(!e||!Array.isArray(e))throw Error("leftArray is not provided or not a valid");if(!t||!Array.isArray(t))throw Error("rightArray is not provided or not a valid");if("function"!=typeof n)throw Error("leftKeySelector is not provided or not a valid function");if("function"!=typeof i)throw Error("rightKeySelector is not provided or not a valid function");if("function"!=typeof r)throw Error("resultSelector is not provided or not a valid function")}function l(e,t,n,i,r,o){var l=s(i),c=s(r);a(t,n,l,c,o);for(var u=Object.create(null),h=0,d=n;h<d.length;h++){var f=d[h];u[c(f)]=f}for(var p=[],g=0,m=t;g<m.length;g++){var b=m[g],v=u[l(b)]||null;if(!e||v){var y=o(b,v);p.push(y||b)}}return p}function c(e,t,n,i,r){return l(!1,e,t,n,i,r)}function u(e,t,n,i,r){return l(!0,e,t,n,i,r)}function h(e,t,n,i,r){var o=s(n),l=s(i);a(e,t,o,l,r);for(var c=Object.create(null),u=0,h=t;u<h.length;u++)c[o(g=h[u])]=g;for(var d=Object.create(null),f=0,p=t;f<p.length;f++){var g;d[l(g=p[f])]=g}for(var m=[],b=0,v=e;b<v.length;b++){var y=v[b],_=o(y),w=r(y,S=d[_]||null);m.push(w||y),S&&delete d[_]}for(var C in d){var S;w=r(null,S=d[C]),m.push(w||S)}return m}function d(e,t,n,i){var r=s(n),o=s(i);a(e,t,r,o,(function(){return!1}));for(var l=Object.create(null),c=0,u=t;c<u.length;c++)l[r(p=u[c])]=p;for(var h=Object.create(null),d=0,f=t;d<f.length;d++){var p;h[o(p=f[d])]=p}for(var g=0,m=Object.keys(h);g<m.length;g++){var b=m[g],v=h[b];l[b]?Object.assign(l[b],v):e.push(v)}return e}function f(e,t,n){var o=n.field,s=e[o],a=t[o],l=n.asc?1:-1;if(void 0!==s&&void 0===a)return l;switch(typeof s){case"number":return l*function(e,t){var n=i(t);return void 0===n?1:e-n}(s,a);case"string":return l*function(e,t){return e.localeCompare(t)}(s,a);case"object":return l*function(e,t){var n=r(e),i=r(t);return n||i?n?i?n.getTime()-i.getTime():1:-1:0}(s,a);case"undefined":return void 0===a?0:-1*l}return 0}function p(e){return e.length?function(t,n){for(var i=0,r=e.length;i<r;i++){var o=f(t,n,e[i]);if(0!==o)return o}return 0}:function(){return 0}}function g(e){return!e||!Array.isArray(e)||!e.length}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e||!Array.isArray(e))throw Error("Array is not provided");if(!(null==t?void 0:t.length))return e.sort();var i=t.map((function(e){var t=!e.endsWith(" DESC");return{asc:t,field:e.replace(t?/\sASC$/:/\sDESC$/,"")}}));return e.sort(p(i)),e}function b(e,t){for(var n={},i=0,r=e;i<r.length;i++){var a=r[i],l=s(t)(a);l instanceof Date&&(l=o(l)),n[l]=a}return n}function v(e){return e?"function"==typeof e?e:function(t){return t[String(e)]}:function(e){return e}}function y(e,t){var n=v(t);return e.map((function(e){return i(e,n)})).filter((function(e){return void 0!==e}))}function _(e,t){if(g(e))return null;for(var n=v(t),r=0,o=0,s=e;o<s.length;o++){var a=i(s[o],n);a&&(r+=a)}return r}function w(e,t){if(g(e))return null;var n=_(e,v(t));return n?n/e.length:null}function C(e,t){var n=v(t),i=y(e,n);if(g(i))return null;var r=Math.min.apply(Math,i);return(n?n(e[0]):e[0])instanceof Date?new Date(r):r}function S(e,t){var n=v(t),i=y(e,n);if(g(i))return null;var r=Math.max.apply(Math,i);return(n?n(e[0]):e[0])instanceof Date?new Date(r):r}function O(e,t){return e&&Array.isArray(e)?t&&"function"==typeof t?e.filter(t).length:e.length:null}function T(e,t){if(g(e))return null;if(!t)return e[0];for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}function k(e,t){if(g(e))return null;var n=e.length-1;if(!t)return e[n];for(;n>=0;n--)if(t(e[n]))return e[n];return null}function x(e,t){if(!e||!Array.isArray(e))throw Error("No array provided");for(var n={},i=e.length,r=0;r<i;r++){var o=t(e[r]);n[o]=n[o]||0,n[o]++}return n}function E(e,t){if(g(e))return null;for(var n=0,r=0,o=0,s=e.length;r<s;++r){var a=i(e[r],v(t));"number"==typeof a&&(n+=(a-n)/++o)}return n}function j(e,t,n){if(g(e))return null;var i=(e.length-1)*t+1,r=Math.floor(i),o=v(n),s=o?o(e[r-1]):e[r-1],a=i-r;return a?s+a*(e[r]-s):s}function A(e,t){if(g(e))return null;var n=v(t);if(!Array.isArray(e)||e.length<2)return 0;for(var r=0,o=0,s=0,a=0;a<e.length;++a){var l=i(e[a],n);if("number"==typeof l){var c=l-r;o+=c*(l-(r+=c/++s))}}return o/(s-1)}function I(e,t){if(g(e))return null;var n=A(e,t);return null===n?null:Math.sqrt(n)}function M(e,t){return g(e)?null:(e.sort(function(e){return function(t,n){var r=i(t,v(e)),o=i(n,v(e));return void 0===o?1:void 0===r?-1:r-o>=0?1:-1}}(t)),j(y(e,t),.5))}function P(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function D(e,t){if(!Array.isArray(e))throw Error("An array is not provided");if(!e.length)return e;for(var n={},i=s(t),r=0;r<e.length;r++){var o=e[r],a=i(o);n[a]=n[a]||[],n[a].push(o)}return Object.values(n)}function R(e){if(!Array.isArray(e))throw Error("An array is not provided");if(!e.length)return e;for(var t=[],n=e.length,i=0;i<n;i++){var r=e[i];Array.isArray(r)?t=P(t,R(r)):t.push(r)}return t}function N(e,t,n,i,r,o){if(!Array.isArray(e))throw Error("An array is not provided");if(!e.length)return e;var a=Object.create(null);o=o||[],r=r||function(e){return _(e)};var l=s(t);t=Array.isArray(t)?t:[t];for(var c=0;c<e.length;c++){var u=l(g=e[c]);a[u]=a[u]||[],a[u].push(g),o.indexOf(S=g[n])<0&&o.push(S)}for(var h=[],d=0,f=Object.keys(a);d<f.length;d++){for(var p=f[d],g=Object.create(null),m=0,b=t;m<b.length;m++){var v=b[m];g[v]=a[p][0][v]}for(var y=function(e){var t=a[p].filter((function(t){return t[n]===e})).map((function(e){return e[i]}));g[e]=r(t)},w=0,C=o;w<C.length;w++){var S;y(S=C[w])}h.push(g)}return h}function L(e){if(!Array.isArray(e))throw Error("An array is not provided");return e.length?Object.keys(e[0]).map((function(t){var n={};return e.forEach((function(e,i){0===i&&(n.fieldName=t),n["row"+i]=e[t]})),n})):e}function F(e,t){if(!Array.isArray(e))throw Error("An array is not provided");if(!e.length)return e;var n=s(t);return e.map(n)}function B(e,t){if(!Array.isArray(e))throw Error("An array is not provided");return e.filter(t)}n.r(t),n.d(t,"avg",(function(){return w})),n.d(t,"count",(function(){return O})),n.d(t,"countBy",(function(){return x})),n.d(t,"first",(function(){return T})),n.d(t,"flatten",(function(){return R})),n.d(t,"fullJoin",(function(){return h})),n.d(t,"groupBy",(function(){return D})),n.d(t,"innerJoin",(function(){return u})),n.d(t,"isArrayEmptyOrNull",(function(){return g})),n.d(t,"last",(function(){return k})),n.d(t,"leftJoin",(function(){return c})),n.d(t,"max",(function(){return S})),n.d(t,"mean",(function(){return E})),n.d(t,"median",(function(){return M})),n.d(t,"merge",(function(){return d})),n.d(t,"min",(function(){return C})),n.d(t,"pivot",(function(){return N})),n.d(t,"quantile",(function(){return j})),n.d(t,"select",(function(){return F})),n.d(t,"sort",(function(){return m})),n.d(t,"stdev",(function(){return I})),n.d(t,"sum",(function(){return _})),n.d(t,"toObject",(function(){return b})),n.d(t,"transpose",(function(){return L})),n.d(t,"variance",(function(){return A})),n.d(t,"where",(function(){return B}))},"1G5W":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("Ji7U"),r=n("LK+K"),o=n("1OyB"),s=n("vuIU"),a=n("zx2A");function l(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(t){Object(o.a)(this,e),this.notifier=t}return Object(s.a)(e,[{key:"call",value:function(e,t){var n=new u(e),i=Object(a.c)(this.notifier,new a.a(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),u=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).seenValue=!1,i}return Object(s.a)(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(a.b)},"1OyB":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return i}))},"1ua0":function(e,t,n){"use strict";n.d(t,"c",(function(){return i.a})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f.a})),n.d(t,"b",(function(){return p.a})),n.d(t,"a",(function(){return g.a})),n("jyck");var i=n("fQZA"),r=n("mrSG"),o=n("fXoL"),s=(n("K3ix"),n("9Ejp")),a=n("ofXK"),l=n("dZIy");function c(e,t){if(1&e){var n=o.Ub();o.Tb(0,"li",14),o.Ec(1),o.Ob(2,"i",15),o.Tb(3,"i",16),o.bc("click",(function(){o.vc(n);var e=t.index;return o.dc().removeFilter(e)})),o.Sb(),o.Sb()}if(2&e){var i=t.$implicit;o.Bb(1),o.Gc(" ",i.bindingName," ")}}function u(e,t){if(1&e){var n=o.Ub();o.Tb(0,"li",19),o.Tb(1,"a",20),o.bc("click",(function(){o.vc(n);var e=t.$implicit;return o.dc(2).addFilter(e)})),o.Ec(2),o.Sb(),o.Sb()}if(2&e){var i=t.$implicit;o.Bb(2),o.Fc(i.bindingName)}}function h(e,t){if(1&e&&(o.Tb(0,"ul",17),o.Cc(1,u,3,1,"li",18),o.Sb()),2&e){var n=o.dc();o.Bb(1),o.jc("ngForOf",n.fields)}}var d=function(){function e(e){this.dragulaService=e,this.change=new o.p,e.createGroup("filters",{moves:function(e,t,n){return n.classList.contains("handle")}})}return e.prototype.ngOnInit=function(){this.filters=Object(r.g)(this.config.filters),this.setFields()},e.prototype.ngOnDestroy=function(){this.dragulaService.destroy("filters")},e.prototype.onApply=function(){this.change.emit(this.filters),this.modalRef.hide()},e.prototype.addFilter=function(e){this.filters.push(Object(r.a)(Object(r.a)({},e),{selected:null,items:[]})),this.setFields()},e.prototype.removeFilter=function(e){this.filters.splice(e,1)},e.prototype.setFields=function(){var e=this.filters.map((function(e){return e.bindingName}));this.fields=this.config.fields.filter((function(t){return!e.includes(t.bindingName)}))},e.\u0275fac=function(t){return new(t||e)(o.Nb(s.c))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-manage-filters"]],inputs:{modalRef:"modalRef",config:"config"},outputs:{change:"change"},decls:19,vars:3,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4","d-flex","flex-column","h-100"],["dragula","filters",1,"container",3,"dragulaModel","dragulaModelChange"],["class","row py-1 my-1 pl-2 border rounded align-items-baseline",4,"ngFor","ngForOf"],["dropdown","",1,"btn-group","mr-2","mb-2","align-self-baseline"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","btn-primary","dropdown-toggle","align-self-baseline","btn-sm",3,"disabled"],["id","dropdown-basic","class","dropdown-menu overflow-auto","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","button",1,"btn","btn-primary","ml-auto","mr-2",3,"click"],["type","button",1,"btn","btn-light",3,"click"],[1,"row","py-1","my-1","pl-2","border","rounded","align-items-baseline"],[1,"fa","fa-arrows","ml-auto","handle"],[1,"fa","fa-remove","mx-2","cursor-pointer",3,"click"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","overflow-auto"],["role","menuitem",4,"ngFor","ngForOf"],["role","menuitem"],[1,"dropdown-item","cursor-pointer",3,"click"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"h4",1),o.Ec(2,"Manage Filters"),o.Sb(),o.Tb(3,"button",2),o.bc("click",(function(){return t.modalRef.hide()})),o.Tb(4,"span",3),o.Ec(5,"\xd7"),o.Sb(),o.Sb(),o.Sb(),o.Tb(6,"div",4),o.Tb(7,"ul",5),o.bc("dragulaModelChange",(function(e){return t.filters=e})),o.Cc(8,c,4,1,"li",6),o.Sb(),o.Tb(9,"div",7),o.Tb(10,"button",8),o.Ec(11,"Add filter "),o.Sb(),o.Cc(12,h,2,1,"ul",9),o.Sb(),o.Sb(),o.Tb(13,"div",10),o.Tb(14,"div",11),o.Tb(15,"button",12),o.bc("click",(function(){return t.onApply()})),o.Ec(16,"Apply"),o.Sb(),o.Tb(17,"button",13),o.bc("click",(function(){return t.modalRef.hide()})),o.Ec(18,"Cancel"),o.Sb(),o.Sb(),o.Sb()),2&e&&(o.Bb(7),o.jc("dragulaModel",t.filters),o.Bb(1),o.jc("ngForOf",t.filters),o.Bb(2),o.jc("disabled",!t.fields.length))},directives:[s.a,a.l,l.a,l.d,l.b],styles:[".fa-arrows[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}"]}),e}(),f=n("pQGM"),p=(n("zShH"),n("c9YK")),g=n("ThTX")},"25BE":function(e,t,n){"use strict";function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return i}))},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("1OyB"),r=n("vuIU"),o=n("ReuC"),s=n("foSv"),a=n("Ji7U"),l=n("LK+K"),c=n("XNiG"),u=n("9ppp"),h=function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._value=e,r}return Object(r.a)(n,[{key:"_subscribe",value:function(e){var t=Object(o.a)(Object(s.a)(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u.a;return this._value}},{key:"next",value:function(e){Object(o.a)(Object(s.a)(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(c.a)},"2WcH":function(e,t,n){"use strict";function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return i}))},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},"2v5c":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("mrSG"),r=n("fXoL"),o=n("H4hQ"),s=n("L4Dr"),a=n("tyNb"),l=n("3Pt+"),c=function(){function e(e,t,n){this.authService=e,this.router=t,this.route=n,this.login=new r.p,this.action=new r.p,this.credentials={userName:"",password:""},this.DialogState=s.a}return e.prototype.onSubmit=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t,n;return Object(i.e)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.authService.login(this.credentials).toPromise()];case 1:return e=i.sent(),(t=this.route.snapshot.queryParams.returnUrl)?this.router.navigateByUrl(t):!1!==this.redirect&&e&&this.router.navigate([this.redirect?this.redirect:"/"]),this.login.emit(!0),[3,3];case 2:return n=i.sent(),console.error(n),[3,3];case 3:return[2]}}))}))},e.prototype.onRegister=function(){this.login.emit(!0),this.router.navigate(["/register"],{queryParamsHandling:"preserve"})},e.\u0275fac=function(t){return new(t||e)(r.Nb(o.a),r.Nb(a.f),r.Nb(a.a))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-login-form"]],inputs:{redirect:"redirect"},outputs:{login:"login",action:"action"},decls:34,vars:2,consts:[[1,"card-group"],[1,"card","p-4"],[1,"card-body"],[3,"ngSubmit"],[1,"text-muted"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-user-o"],["type","text","placeholder","Username","required","","name","username",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","mb-4"],[1,"fa","fa-lock"],["type","password","placeholder","Password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-6"],["type","submit",1,"btn","btn-primary","px-4"],[1,"col-6","text-right"],["type","button",1,"btn","btn-link","px-0",3,"click"],[1,"card","text-white","bg-primary","py-5","d-md-down-none",2,"width","44%"],[1,"card-body","text-center"],["type","button",1,"btn","btn-primary","active","mt-3",3,"click"]],template:function(e,t){1&e&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"form",3),r.bc("ngSubmit",(function(){return t.onSubmit()})),r.Tb(4,"h1"),r.Ec(5,"Login"),r.Sb(),r.Tb(6,"p",4),r.Ec(7,"Sign In to your account"),r.Sb(),r.Tb(8,"div",5),r.Tb(9,"div",6),r.Tb(10,"span",7),r.Ob(11,"i",8),r.Sb(),r.Sb(),r.Tb(12,"input",9),r.bc("ngModelChange",(function(e){return t.credentials.userName=e})),r.Sb(),r.Sb(),r.Tb(13,"div",10),r.Tb(14,"div",6),r.Tb(15,"span",7),r.Ob(16,"i",11),r.Sb(),r.Sb(),r.Tb(17,"input",12),r.bc("ngModelChange",(function(e){return t.credentials.password=e})),r.Sb(),r.Sb(),r.Tb(18,"div",13),r.Tb(19,"div",14),r.Tb(20,"button",15),r.Ec(21,"Login"),r.Sb(),r.Sb(),r.Tb(22,"div",16),r.Tb(23,"button",17),r.bc("click",(function(){return t.action.emit(t.DialogState.RESET_REQUEST)})),r.Ec(24,"Forgot password?"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(25,"div",18),r.Tb(26,"div",19),r.Tb(27,"div"),r.Tb(28,"h2"),r.Ec(29,"Sign up"),r.Sb(),r.Tb(30,"p"),r.Ec(31,"Welcome to Worksheet System's REST Client. Your free account will allow you to unlock new features and enable you to explore your REST Apis like never before."),r.Sb(),r.Tb(32,"button",20),r.bc("click",(function(){return t.onRegister()})),r.Ec(33,"Register Now!"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&e&&(r.Bb(12),r.jc("ngModel",t.credentials.userName),r.Bb(5),r.jc("ngModel",t.credentials.password))},directives:[l.t,l.j,l.k,l.b,l.q,l.i,l.l],styles:["i.fa[_ngcontent-%COMP%] {\n      width: 12px;\n    }"]}),e}()},"3N8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("1OyB"),r=n("vuIU"),o=n("Ji7U"),s=n("LK+K"),a=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var o;return Object(i.a)(this,n),(o=t.call(this,e,r)).scheduler=e,o.work=r,o.pending=!1,o}return Object(r.a)(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){return Object(i.a)(this,n),t.call(this)}return Object(r.a)(n,[{key:"schedule",value:function(e){return this}}]),n}(n("quSY").a))},"3Pt+":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return Me})),n.d(t,"d",(function(){return He})),n.d(t,"e",(function(){return Ne})),n.d(t,"f",(function(){return De})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return x})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return ye})),n.d(t,"l",(function(){return xe})),n.d(t,"m",(function(){return Q})),n.d(t,"n",(function(){return V})),n.d(t,"o",(function(){return Fe})),n.d(t,"p",(function(){return G})),n.d(t,"q",(function(){return Ae})),n.d(t,"r",(function(){return J})),n.d(t,"s",(function(){return ne})),n.d(t,"t",(function(){return Ee}));var i=n("JX7q"),r=n("uFwe"),o=n("KQm4"),s=n("Ji7U"),a=n("LK+K"),l=n("1OyB"),c=n("vuIU"),u=n("fXoL"),h=n("ofXK"),d=n("cp0P"),f=n("Cfvw"),p=n("lJxs"),g=new u.s("NgValueAccessor"),m={provide:g,useExisting:Object(u.V)((function(){return b})),multi:!0},b=function(){var e=function(){function e(t,n){Object(l.a)(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return Object(c.a)(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Nb(u.G),u.Nb(u.n))},e.\u0275dir=u.Ib({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&u.bc("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[u.Ab([m])]}),e}(),v={provide:g,useExisting:Object(u.V)((function(){return _})),multi:!0},y=new u.s("CompositionEventMode"),_=function(){var e=function(){function e(t,n,i){var r;Object(l.a)(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=i,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(h.y)()?Object(h.y)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return Object(c.a)(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Nb(u.G),u.Nb(u.n),u.Nb(y,8))},e.\u0275dir=u.Ib({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&u.bc("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[u.Ab([v])]}),e}(),w=function(){var e=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Ib({type:e}),e}(),C=function(){var e=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(w);return e.\u0275fac=function(t){return S(t||e)},e.\u0275dir=u.Ib({type:e,features:[u.yb]}),e}(),S=u.Vb(C);function O(){throw new Error("unimplemented")}var T=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(c.a)(n,[{key:"validator",get:function(){return O()}},{key:"asyncValidator",get:function(){return O()}}]),n}(w),k=function(){function e(t){Object(l.a)(this,e),this._cd=t}return Object(c.a)(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),x=function(){var e=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return n}(k);return e.\u0275fac=function(t){return new(t||e)(u.Nb(T,2))},e.\u0275dir=u.Ib({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&u.Fb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[u.yb]}),e}(),E=function(){var e=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return n}(k);return e.\u0275fac=function(t){return new(t||e)(u.Nb(C,2))},e.\u0275dir=u.Ib({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&u.Fb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[u.yb]}),e}();function j(e){return null==e||0===e.length}function A(e){return null!=e&&"number"==typeof e.length}var I=new u.s("NgValidators"),M=new u.s("NgAsyncValidators"),P=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,D=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"min",value:function(e){return function(t){if(j(t.value)||j(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(j(t.value)||j(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return j(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return j(e.value)||P.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){return j(t.value)||!A(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}}},{key:"maxLength",value:function(e){return function(t){return A(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(i="","^"!==t.charAt(0)&&(i+="^"),i+=t,"$"!==t.charAt(t.length-1)&&(i+="$"),n=new RegExp(i)):(i=t.toString(),n=t),function(e){if(j(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:i,actualValue:t}}}):e.nullValidator;var n,i}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(R);return 0==t.length?null:function(e){return L(F(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(R);return 0==t.length?null:function(e){var n=F(e,t).map(N);return Object(d.a)(n).pipe(Object(p.a)(L))}}}]),e}();function R(e){return null!=e}function N(e){var t=Object(u.sb)(e)?Object(f.a)(e):e;if(!Object(u.rb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function L(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function F(e,t){return t.map((function(t){return t(e)}))}function B(e){return e.map((function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}}))}var H={provide:g,useExisting:Object(u.V)((function(){return V})),multi:!0},V=function(){var e=function(){function e(t,n){Object(l.a)(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return Object(c.a)(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Nb(u.G),u.Nb(u.n))},e.\u0275dir=u.Ib({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&u.bc("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[u.Ab([H])]}),e}(),$={provide:g,useExisting:Object(u.V)((function(){return G})),multi:!0},z=function(){var e=function(){function e(){Object(l.a)(this,e),this._accessors=[]}return Object(c.a)(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Jb({token:e,factory:e.\u0275fac}),e}(),G=function(){var e=function(){function e(t,n,i,r){Object(l.a)(this,e),this._renderer=t,this._elementRef=n,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return Object(c.a)(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(T),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Nb(u.G),u.Nb(u.n),u.Nb(z),u.Nb(u.t))},e.\u0275dir=u.Ib({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&u.bc("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[u.Ab([$])]}),e}(),W={provide:g,useExisting:Object(u.V)((function(){return U})),multi:!0},U=function(){var e=function(){function e(t,n){Object(l.a)(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return Object(c.a)(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Nb(u.G),u.Nb(u.n))},e.\u0275dir=u.Ib({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&u.bc("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[u.Ab([W])]}),e}(),K='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',q='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',X={provide:g,useExisting:Object(u.V)((function(){return J})),multi:!0};function Y(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var J=function(){var e=function(){function e(t,n){Object(l.a)(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Object.is}return Object(c.a)(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=Y(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i),e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Nb(u.G),u.Nb(u.n))},e.\u0275dir=u.Ib({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&u.bc("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[u.Ab([X])]}),e}(),Q=function(){var e=function(){function e(t,n,i){Object(l.a)(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption())}return Object(c.a)(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Y(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Nb(u.n),u.Nb(u.G),u.Nb(J,9))},e.\u0275dir=u.Ib({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}(),Z={provide:g,useExisting:Object(u.V)((function(){return te})),multi:!0};function ee(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var te=function(){var e=function(){function e(t,n){Object(l.a)(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Object.is}return Object(c.a)(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var i=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(i.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var i=[];if(void 0!==n.selectedOptions)for(var r=n.selectedOptions,o=0;o<r.length;o++){var s=r.item(o),a=t._getOptionValue(s.value);i.push(a)}else for(var l=n.options,c=0;c<l.length;c++){var u=l.item(c);if(u.selected){var h=t._getOptionValue(u.value);i.push(h)}}t.value=i,e(i)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i)._value,e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Nb(u.G),u.Nb(u.n))},e.\u0275dir=u.Ib({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&u.bc("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[u.Ab([Z])]}),e}(),ne=function(){var e=function(){function e(t,n,i){Object(l.a)(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption(this))}return Object(c.a)(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(ee(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(ee(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Nb(u.n),u.Nb(u.G),u.Nb(te,9))},e.\u0275dir=u.Ib({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e}();function ie(e,t){return[].concat(Object(o.a)(t.path),[e])}function re(e,t){e||se(t,"Cannot find control with"),t.valueAccessor||se(t,"No value accessor for form control with"),e.validator=D.compose([e.validator,t.validator]),e.asyncValidator=D.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&oe(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&oe(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function oe(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function se(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function ae(e){return null!=e?D.compose(B(e)):null}function le(e){return null!=e?D.composeAsync(B(e)):null}var ce=[b,U,V,J,te,G];function ue(e){var t=de(e)?e.validators:e;return Array.isArray(t)?ae(t):t||null}function he(e,t){var n=de(t)?t.asyncValidators:e;return Array.isArray(n)?le(n):n||null}function de(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var fe=function(){function e(t,n){Object(l.a)(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object(c.a)(e,[{key:"setValidators",value:function(e){this.validator=ue(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=he(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=N(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var i=e;return t.forEach((function(e){i=i instanceof ge?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof me&&i.at(e)||null})),i}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new u.p,this.statusChanges=new u.p}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){de(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),pe=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(l.a)(this,n),(e=t.call(this,ue(r),he(o,r)))._onChange=[],e._applyFormState(i),e._setUpdateStrategy(r),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return Object(c.a)(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(fe),ge=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e,i,r){var o;return Object(l.a)(this,n),(o=t.call(this,ue(i),he(r,i))).controls=e,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return Object(c.a)(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(i){t._throwIfControlMissing(i),t.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(i){t.controls[i]&&t.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof pe?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var i=n[t],r=this.controls[i];if(this.contains(i)&&e(r))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,i){n=t(n,e,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++)if(this.controls[t[e]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(fe),me=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e,i,r){var o;return Object(l.a)(this,n),(o=t.call(this,ue(i),he(r,i))).controls=e,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return Object(c.a)(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,i){t._throwIfControlMissing(i),t.at(i).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,i){t.at(i)&&t.at(i).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof pe?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=Object(r.a)(this.controls);try{for(t.s();!(e=t.n()).done;)if(e.value.enabled)return!1}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(fe),be={provide:C,useExisting:Object(u.V)((function(){return ye}))},ve=function(){return Promise.resolve(null)}(),ye=function(){var e=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e,i){var r;return Object(l.a)(this,n),(r=t.call(this)).submitted=!1,r._directives=[],r.ngSubmit=new u.p,r.form=new ge({},ae(e),le(i)),r}return Object(c.a)(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;ve.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),re(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;ve.then((function(){var n,i,r=t._findContainer(e.path);r&&r.removeControl(e.name),(i=(n=t._directives).indexOf(e))>-1&&n.splice(i,1)}))}},{key:"addFormGroup",value:function(e){var t=this;ve.then((function(){var n=t._findContainer(e.path),i=new ge({});(function(e,t){null==e&&se(t,"Cannot find control with"),e.validator=D.compose([e.validator,t.validator]),e.asyncValidator=D.composeAsync([e.asyncValidator,t.asyncValidator])})(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;ve.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;ve.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(C);return e.\u0275fac=function(t){return new(t||e)(u.Nb(I,10),u.Nb(M,10))},e.\u0275dir=u.Ib({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&u.bc("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.Ab([be]),u.yb]}),e}(),_e=function(){var e=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return ie(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return ae(this._validators)}},{key:"asyncValidator",get:function(){return le(this._asyncValidators)}}]),n}(C);return e.\u0275fac=function(t){return we(t||e)},e.\u0275dir=u.Ib({type:e,features:[u.yb]}),e}(),we=u.Vb(_e),Ce=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat('\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ").concat('\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(K,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(q))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(K,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(q))}}]),e}(),Se={provide:C,useExisting:Object(u.V)((function(){return Oe}))},Oe=function(){var e=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e,i,r){var o;return Object(l.a)(this,n),(o=t.call(this))._parent=e,o._validators=i,o._asyncValidators=r,o}return Object(c.a)(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof ye||Ce.modelGroupParentException()}}]),n}(_e);return e.\u0275fac=function(t){return new(t||e)(u.Nb(C,5),u.Nb(I,10),u.Nb(M,10))},e.\u0275dir=u.Ib({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[u.Ab([Se]),u.yb]}),e}(),Te={provide:T,useExisting:Object(u.V)((function(){return xe}))},ke=function(){return Promise.resolve(null)}(),xe=function(){var e=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e,r,o,s){var a;return Object(l.a)(this,n),(a=t.call(this)).control=new pe,a._registered=!1,a.update=new u.p,a._parent=e,a._rawValidators=r||[],a._rawAsyncValidators=o||[],a.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||se(e,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,r=void 0;return t.forEach((function(t){var o;t.constructor===_?n=t:(o=t,ce.some((function(e){return o.constructor===e}))?(i&&se(e,"More than one built-in value accessor matches form control with"),i=t):(r&&se(e,"More than one custom value accessor matches form control with"),r=t))})),r||i||n||(se(e,"No valid value accessor for form control with"),null)}(Object(i.a)(a),s),a}return Object(c.a)(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){re(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Oe)&&this._parent instanceof _e?Ce.formGroupNameException():this._parent instanceof Oe||this._parent instanceof ye||Ce.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ce.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;ke.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,i=""===n||n&&"false"!==n;ke.then((function(){i&&!t.control.disabled?t.control.disable():!i&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?ie(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return ae(this._rawValidators)}},{key:"asyncValidator",get:function(){return le(this._rawAsyncValidators)}}]),n}(T);return e.\u0275fac=function(t){return new(t||e)(u.Nb(C,9),u.Nb(I,10),u.Nb(M,10),u.Nb(g,10))},e.\u0275dir=u.Ib({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u.Ab([Te]),u.yb,u.zb]}),e}(),Ee=function(){var e=function e(){Object(l.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Ib({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e}(),je={provide:I,useExisting:Object(u.V)((function(){return Ae})),multi:!0},Ae=function(){var e=function(){function e(){Object(l.a)(this,e),this._required=!1}return Object(c.a)(e,[{key:"validate",value:function(e){return this.required?D.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&"false"!=="".concat(e),this._onChange&&this._onChange()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Ib({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&u.Cb("required",t.required?"":null)},inputs:{required:"required"},features:[u.Ab([je])]}),e}(),Ie={provide:I,useExisting:Object(u.V)((function(){return Me})),multi:!0},Me=function(){var e=function(){function e(){Object(l.a)(this,e),this._enabled=!1}return Object(c.a)(e,[{key:"validate",value:function(e){return this._enabled?D.email(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"email",set:function(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Ib({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[u.Ab([Ie])]}),e}(),Pe={provide:I,useExisting:Object(u.V)((function(){return De})),multi:!0},De=function(){var e=function(){function e(){Object(l.a)(this,e),this._validator=D.nullValidator}return Object(c.a)(e,[{key:"ngOnChanges",value:function(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return null==this.minlength?null:this._validator(e)}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=D.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Ib({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&u.Cb("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[u.Ab([Pe]),u.zb]}),e}(),Re={provide:I,useExisting:Object(u.V)((function(){return Ne})),multi:!0},Ne=function(){var e=function(){function e(){Object(l.a)(this,e),this._validator=D.nullValidator}return Object(c.a)(e,[{key:"ngOnChanges",value:function(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return null!=this.maxlength?this._validator(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=D.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Ib({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&u.Cb("maxlength",t.maxlength?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[u.Ab([Re]),u.zb]}),e}(),Le={provide:I,useExisting:Object(u.V)((function(){return Fe})),multi:!0},Fe=function(){var e=function(){function e(){Object(l.a)(this,e),this._validator=D.nullValidator}return Object(c.a)(e,[{key:"ngOnChanges",value:function(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return this._validator(e)}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=D.pattern(this.pattern)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Ib({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&u.Cb("pattern",t.pattern?t.pattern:null)},inputs:{pattern:"pattern"},features:[u.Ab([Le]),u.zb]}),e}(),Be=function(){var e=function e(){Object(l.a)(this,e)};return e.\u0275mod=u.Lb({type:e}),e.\u0275inj=u.Kb({factory:function(t){return new(t||e)}}),e}(),He=function(){var e=function e(){Object(l.a)(this,e)};return e.\u0275mod=u.Lb({type:e}),e.\u0275inj=u.Kb({factory:function(t){return new(t||e)},providers:[z],imports:[Be]}),e}()},"3UWI":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("D0XW"),r=n("Ji7U"),o=n("LK+K"),s=n("1OyB"),a=n("vuIU"),l=n("zx2A");function c(e){return function(t){return t.lift(new u(e))}}var u=function(){function e(t){Object(s.a)(this,e),this.durationSelector=t}return Object(a.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.durationSelector))}}]),e}(),h=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e,i){var r;return Object(s.a)(this,n),(r=t.call(this,e)).durationSelector=i,r.hasValue=!1,r}return Object(a.a)(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(i){return this.destination.error(i)}var n=Object(l.c)(t,new l.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(l.b),d=n("PqYM");function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a;return c((function(){return Object(d.a)(e,t)}))}},"3XJ7":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("vuIU"),r=n("1OyB"),o=n("fXoL"),s=n("lUod"),a=n("WyaX"),l=function e(t,n,i){Object(r.a)(this,e),this.nodes=t,this.viewRef=n,this.componentRef=i},c=function(){function e(t,n,i,s,a,l,c,u){Object(r.a)(this,e),this._viewContainerRef=t,this._renderer=n,this._elementRef=i,this._injector=s,this._componentFactoryResolver=a,this._ngZone=l,this._applicationRef=c,this._posService=u,this.onBeforeShow=new o.p,this.onShown=new o.p,this.onBeforeHide=new o.p,this.onHidden=new o.p,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}return Object(i.a)(e,[{key:"attach",value:function(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}},{key:"to",value:function(e){return this.container=e||this.container,this}},{key:"position",value:function(e){return this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this}},{key:"provide",value:function(e){return this._providers.push(e),this}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);var t=o.t.create({providers:this._providers,parent:this._injector});if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof o.n&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){var n=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);n.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}},{key:"hide",value:function(e){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);var t=this._componentRef.location.nativeElement;return t.parentNode.removeChild(t),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}},{key:"toggle",value:function(){this.isShown?this.hide():this.show()}},{key:"dispose",value:function(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}},{key:"listen",value:function(e){var t=this;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||this._elementRef.nativeElement;var n=this._listenOpts.hide=function(){return e.hide?e.hide():void t.hide()},i=this._listenOpts.show=function(n){e.show?e.show(n):t.show(n),n()};return this._unregisterListenersFn=Object(s.e)(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:n,toggle:function(e){t.isShown?n():i(e)}}),this}},{key:"_removeGlobalListener",value:function(){this._globalListener&&(this._globalListener(),this._globalListener=null)}},{key:"attachInline",value:function(e,t){return this._inlineViewRef=e.createEmbeddedView(t),this}},{key:"_registerOutsideClick",value:function(){var e=this;if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){var t=this._componentRef.location.nativeElement;setTimeout((function(){e._globalListener=Object(s.h)(e._renderer,{targets:[t,e._elementRef.nativeElement],outsideClick:e._listenOpts.outsideClick,hide:function(){return e._listenOpts.hide()}})}))}if(this._listenOpts.outsideEsc){var n=this._componentRef.location.nativeElement;this._globalListener=Object(s.g)(this._renderer,{targets:[n,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:function(){return e._listenOpts.hide()}})}}}},{key:"getInnerComponent",value:function(){return this._innerComponent}},{key:"_subscribePositioning",value:function(){var e=this;!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe((function(){e._posService.position({element:e._componentRef.location,target:e._elementRef,attachment:e.attachment,appendToBody:"body"===e.container})})),this._zoneSubscription=this._ngZone.onStable.subscribe((function(){e._componentRef&&e._posService.calcPosition()})))}},{key:"_unsubscribePositioning",value:function(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}},{key:"_getContentRef",value:function(e,t,n){if(!e)return new l([]);if(e instanceof o.N){if(this._viewContainerRef){var i=this._viewContainerRef.createEmbeddedView(e,t);return i.markForCheck(),new l([i.rootNodes],i)}var r=e.createEmbeddedView({});return this._applicationRef.attachView(r),new l([r.rootNodes],r)}if("function"==typeof e){var s=this._componentFactoryResolver.resolveComponentFactory(e),a=o.t.create({providers:this._providers,parent:this._injector}),c=s.create(a);return Object.assign(c.instance,n),this._applicationRef.attachView(c.hostView),new l([[c.location.nativeElement]],c.hostView,c)}return new l([[this._renderer.createText("".concat(e))]])}},{key:"isShown",get:function(){return!this._isHiding&&!!this._componentRef}}]),e}(),u=function(){var e=function(){function e(t,n,i,o,s){Object(r.a)(this,e),this._componentFactoryResolver=t,this._ngZone=n,this._injector=i,this._posService=o,this._applicationRef=s}return Object(i.a)(e,[{key:"createLoader",value:function(e,t,n){return new c(t,n,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Xb(o.k),o.Xb(o.C),o.Xb(o.t),o.Xb(a.a),o.Xb(o.g))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac}),e}()},"3cVM":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("mrSG"),r=n("lMX+"),o=n("j13F"),s=n("TwVa"),a=n("fXoL"),l=n("fEDK"),c=n("RsUz"),u=["grid"],h=function(){function e(){this.preprocessors=s.Preprocessors,this.dataTypes=Object.values(s.SQLDataTypes)}return e.prototype.ngOnInit=function(){var e=this;this.grid.addEventListener(this.grid.hostElement,"contextmenu",(function(t){var n=e.grid.hitTest(t);e.rowIndex=n.row})),this.grid.cellEditEnded.addHandler((function(t,n){var i=e.grid.rows[n.row].dataItem,a=e.grid.columns[n.col].binding,l=i[a];if(n.panel.cellType===r.CellType.Cell){switch(a){case"dataType":i.size=s.SqlTypesSizes[l]||null;break;case"preprocessFunc":i.dataType=o.a[l]||null,i.dataType&&(i.size=s.SqlTypesSizes[i.dataType]||null)}e.grid.refreshCells(!1)}}))},e.prototype.onCtxMenuClicked=function(){this.grid.collectionView.sourceCollection=Object(i.g)(this.grid.collectionView.items.slice(0,this.rowIndex),[{isKey:!1,dataType:s.SQLDataTypes.NVARCHAR,size:s.SqlTypesSizes[s.SQLDataTypes.NVARCHAR]}],this.grid.collectionView.items.slice(this.rowIndex))},e.prototype.getItems=function(){return this.grid.collectionView.items},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Hb({type:e,selectors:[["app-fields-mappings"]],viewQuery:function(e,t){var n;1&e&&a.Ac(u,!0),2&e&&a.rc(n=a.cc())&&(t.grid=n.first)},inputs:{isNewTable:"isNewTable",tableColumns:"tableColumns",sourceFields:"sourceFields"},decls:13,vars:31,consts:[[2,"display","none",3,"isButton","itemClicked"],["ctxMenu",""],[3,"value"],[1,"h-100",3,"itemsSource","allowDelete","allowAddNew","wjContextMenu"],["grid",""],["header","IsKey","binding","isKey","dataType","Boolean",3,"isReadOnly","width","allowSorting"],["header","Table Field","binding","fieldName","dataType","String",3,"isReadOnly","minWidth","width","allowSorting"],["header","Source Field","binding","sourceField",3,"isReadOnly","dataMap","minWidth","width","allowSorting"],["header","Field Data Type","binding","dataType",3,"isReadOnly","dataMap","allowSorting"],["header","Size","binding","size","dataType","Number",3,"isRequired","isReadOnly","allowSorting"],["header","Preprocess Function","binding","preprocessFunc",3,"isRequired","isReadOnly","dataMap","allowSorting"],["header","Parameters","binding","preprocessParams",3,"isRequired","isReadOnly","allowSorting"]],template:function(e,t){if(1&e&&(a.Tb(0,"wj-menu",0,1),a.bc("itemClicked",(function(){return t.onCtxMenuClicked()})),a.Tb(2,"wj-menu-item",2),a.Ec(3,"Insert Field above"),a.Sb(),a.Sb(),a.Tb(4,"wj-flex-grid",3,4),a.Ob(6,"wj-flex-grid-column",5),a.Ob(7,"wj-flex-grid-column",6),a.Ob(8,"wj-flex-grid-column",7),a.Ob(9,"wj-flex-grid-column",8),a.Ob(10,"wj-flex-grid-column",9),a.Ob(11,"wj-flex-grid-column",10),a.Ob(12,"wj-flex-grid-column",11),a.Sb()),2&e){var n=a.sc(1);a.jc("isButton",!0),a.Bb(2),a.jc("value","edit"),a.Bb(2),a.jc("itemsSource",t.tableColumns)("allowDelete",!0)("allowAddNew",t.isNewTable)("wjContextMenu",n),a.Bb(2),a.jc("isReadOnly",!t.isNewTable)("width",50)("allowSorting",!1),a.Bb(1),a.jc("isReadOnly",!t.isNewTable)("minWidth",50)("width","*")("allowSorting",!1),a.Bb(1),a.jc("isReadOnly",!1)("dataMap",t.sourceFields)("minWidth",50)("width","*")("allowSorting",!1),a.Bb(1),a.jc("isReadOnly",!t.isNewTable)("dataMap",t.dataTypes)("allowSorting",!1),a.Bb(1),a.jc("isRequired",!1)("isReadOnly",!t.isNewTable)("allowSorting",!1),a.Bb(1),a.jc("isRequired",!1)("isReadOnly",!1)("dataMap",t.preprocessors)("allowSorting",!1),a.Bb(1),a.jc("isRequired",!1)("isReadOnly",!1)("allowSorting",!1)}},directives:[l.d,l.e,c.a,l.a,c.c],styles:[""]}),e}()},"3s35":function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return x}));var i={};n.r(i),n.d(i,"FilterCondition",(function(){return p})),n.d(i,"Operator",(function(){return o})),n.d(i,"ConditionFilter",(function(){return m})),n.d(i,"ConditionFilterEditor",(function(){return b})),n.d(i,"ValueFilter",(function(){return v})),n.d(i,"ValueFilterEditor",(function(){return y})),n.d(i,"ColumnFilter",(function(){return _})),n.d(i,"FilterType",(function(){return g})),n.d(i,"FlexGridFilter",(function(){return w})),n.d(i,"ColumnFilterEditor",(function(){return C}));var r,o,s,a=n("fXoL"),l=n("ofXK"),c=n("JIag"),u=n("lMX+"),h=n("tcrU"),d=n("SSYJ"),f=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(){function e(e){this._op=null,this._filter=e}return Object.defineProperty(e.prototype,"operator",{get:function(){return this._op},set:function(e){this._op=Object(h.asEnum)(e,o,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._val},set:function(e){this._val=e,this._strVal=Object(h.isString)(e)?e.toString().toLowerCase():null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){switch(this._op){case null:return!1;case o.EQ:case o.NE:return!0;default:return null!=this._val||null!=this._strVal}},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.operator=null,this.value=null},e.prototype.apply=function(t,n,i){var r=this._strVal||this._val;switch(Object(h.isString)(t)&&(t=t.toLowerCase()),Object(h.isString)(r)&&null==t&&(t=""),Object(h.isDate)(r)&&(n?r=h.DateTime.fromDateTime(r,e._refDateTime):i&&(r=h.DateTime.fromDateTime(e._refDateTime,r))),this._op){case null:return!0;case o.EQ:return null!=t&&null!=r?t.valueOf()==r.valueOf():t==r;case o.NE:return null!=t&&null!=r?t.valueOf()!=r.valueOf():t!=r;case o.GT:return t>r;case o.GE:return t>=r;case o.LT:return t<r;case o.LE:return t<=r;case o.BW:return!(null==this._strVal||!Object(h.isString)(t))&&0==t.indexOf(this._strVal);case o.EW:return!!(null!=this._strVal&&Object(h.isString)(t)&&t.length>=this._strVal.length)&&t.substr(t.length-this._strVal.length)==r;case o.CT:return!(null==this._strVal||!Object(h.isString)(t))&&t.indexOf(this._strVal)>-1;case o.NC:return!(null==this._strVal||!Object(h.isString)(t))&&t.indexOf(this._strVal)<0}throw"Unknown operator"},e._refDateTime=new Date(2e3,0,1,0,0,0),e}();(s=o||(o={}))[s.EQ=0]="EQ",s[s.NE=1]="NE",s[s.GT=2]="GT",s[s.GE=3]="GE",s[s.LT=4]="LT",s[s.LE=5]="LE",s[s.BW=6]="BW",s[s.EW=7]="EW",s[s.CT=8]="CT",s[s.NC=9]="NC";var g,m=function(){function e(e){this._c1=new p(this),this._c2=new p(this),this._and=!0,this._col=e}return Object.defineProperty(e.prototype,"condition1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"condition2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"and",{get:function(){return this._and},set:function(e){this._and=Object(h.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map=Object(h.asType)(e,u.DataMap,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._c1.isActive||this._c2.isActive},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var t=this._col,n=this._c1,i=this._c2,r=!1,o=!1;if(!t||!t._binding||!this.isActive)return!0;e=t._binding.getValue(e);var s=this.dataMap||t.dataMap;if(s)e=s.getDisplayValue(e);else if(Object(h.isDate)(e)){r=!this._hasTimePart(),o=!this._hasDatePart();var a=p._refDateTime;r?e=h.DateTime.fromDateTime(e,a):o&&(e=h.DateTime.fromDateTime(a,e))}else if(Object(h.isNumber)(e)){var l=h.Globalize,c=t.format,u=l.formatNumber(e,c);e=l.parseFloat(u,c)}var d=n.apply(e,r,o),f=i.apply(e,r,o);return n.isActive&&i.isActive?this._and?d&&f:d||f:n.isActive?d:!i.isActive||f},e.prototype.clear=function(){this._c1.clear(),this._c2.clear(),this.and=!0},e.prototype._hasDatePart=function(){var e=this._col.format;return!e||/[yMd]+/.test(e=h.culture.Globalize.calendar.patterns[e]||e)},e.prototype._hasTimePart=function(){var e=this._col.format;return!!e&&/[Hmst]+/.test(e=h.culture.Globalize.calendar.patterns[e]||e)},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e}(),b=function(e){function t(t,n){var i=e.call(this,t)||this;i._filter=Object(h.asType)(n,m,!1);var r=i.getTemplate();i.applyTemplate("wj-control wj-conditionfilter-editor",r,{_divHdr:"div-hdr",_divCmb1:"div-cmb1",_divVal1:"div-val1",_btnAnd:"btn-and",_btnOr:"btn-or",_spAnd:"sp-and",_spOr:"sp-or",_divCmb2:"div-cmb2",_divVal2:"div-val2"});var o=h.culture.FlexGridFilter,s=o.ariaLabels;Object(h.setAriaLabel)(i._btnAnd,s.and),Object(h.setAriaLabel)(i._btnOr,s.or),Object(h.setText)(i._divHdr,o.header),Object(h.setText)(i._spAnd,o.and),Object(h.setText)(i._spOr,o.or),i._cmb1=i._createOperatorCombo(i._divCmb1,s.op1),i._cmb2=i._createOperatorCombo(i._divCmb2,s.op2),i._val1=i._createValueInput(i._divVal1,s.val1),i._val2=i._createValueInput(i._divVal2,s.val2),i._val1.isDisabled=!0,i._cmb1.selectedIndexChanged.addHandler((function(e,t){i._val1.isDisabled=null==e.selectedValue})),i._val2.isDisabled=!0,i._cmb2.selectedIndexChanged.addHandler((function(e,t){i._val2.isDisabled=null==e.selectedValue}));var a=i.hostElement;return i.addEventListener(a,"change",i._btnAndOrChanged.bind(i)),i.addEventListener(a,"keydown",i._keydown.bind(i)),setTimeout((function(){i.updateEditor()})),i}return f(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this._filter.condition1,t=this._filter.condition2;this._cmb1.selectedValue=e.operator,this._cmb2.selectedValue=t.operator,this._val1 instanceof d.ComboBox&&!(this._val1 instanceof d.InputTime)?(this._val1.text=Object(h.changeType)(e.value,h.DataType.String),this._val2.text=Object(h.changeType)(t.value,h.DataType.String)):(this._val1.value=e.value,this._val2.value=t.value);var n=this._filter.and;this._checkRadio(this._btnAnd,n),this._checkRadio(this._btnOr,!n)},t.prototype.clearEditor=function(){this._cmb1.selectedValue=this._cmb2.selectedValue=null,this._val1.text=this._val2.text=null,this._checkRadio(this._btnAnd,!0),this._checkRadio(this._btnOr,!1)},Object.defineProperty(t.prototype,"isEditorClear",{get:function(){return null==this._cmb1.selectedValue&&!this._val1.text&&null==this._cmb2.selectedValue&&!this._val2.text},enumerable:!0,configurable:!0}),t.prototype.updateFilter=function(){var e=this._filter.condition1,t=this._filter.condition2;e.operator=this._cmb1.selectedValue,t.operator=this._cmb2.selectedValue,"value"in this._val1?(e.value=this._val1.value,t.value=this._val2.value):(e.value=this._getComboValue(this._val1),t.value=this._getComboValue(this._val2)),this._filter.and=this._btnAnd.checked},t.prototype._getComboValue=function(e){return e.selectedIndex>-1?e.selectedValue:e.text},t.prototype._createOperatorCombo=function(e,t){var n=this._filter.column,i=h.culture.FlexGridFilter,r=i.stringOperators,o=h.DataType;this._filter.dataMap||n.dataMap||(n.dataType==o.Date?r=i.dateOperators:n.dataType==o.Number?r=i.numberOperators:n.dataType==o.Boolean&&(r=i.booleanOperators));var s=new d.ComboBox(e,{itemsSource:r,displayMemberPath:"name",selectedValuePath:"op"});return Object(h.setAriaLabel)(s.inputElement,t),s},t.prototype._createValueInput=function(e,t){var n=this._filter,i=n.column,r=n.dataMap||i.dataMap,o=null,s=h.DataType;return i.dataType==s.Date?(o=n._hasDatePart()?n._hasTimePart()?new d.InputDateTime(e):new d.InputDate(e):new d.InputTime(e)).format=i.format:i.dataType!=s.Number||r?(o=new d.ComboBox(e),r?(o.itemsSource=r.getDisplayValues(),o.isEditable=!0):i.dataType==s.Boolean&&(o.itemsSource=[!0,!1])):(o=new d.InputNumber(e)).format=i.format,o.isRequired=!1,Object(h.setAriaLabel)(o.inputElement,t),o},t.prototype._btnAndOrChanged=function(e){var t=e.target==this._btnAnd,n=e.target==this._btnOr;(t||n)&&(this._checkRadio(this._btnAnd,t),this._checkRadio(this._btnOr,n))},t.prototype._checkRadio=function(e,t){e.checked=t,e.setAttribute("aria-checked",t.toString()),e.setAttribute("tabindex",t?"1":"-1")},t.prototype._keydown=function(e){var t=e.target==this._btnAnd;if(t||e.target==this._btnOr)switch(e.keyCode){case h.Key.Left:case h.Key.Right:case h.Key.Up:case h.Key.Down:var n=t?this._btnOr:this._btnAnd;n.click(),n.focus(),e.preventDefault()}},t.controlTemplate='<div><div wj-part="div-hdr"></div><div wj-part="div-cmb1"></div><br/><div wj-part="div-val1"></div><br/><div role="radiogroup" style="text-align:center"><label><input wj-part="btn-and" type="radio" role="radio"> <span wj-part="sp-and"></span> </label>&nbsp;&nbsp;&nbsp;<label><input wj-part="btn-or" type="radio" role="radio"> <span wj-part="sp-or"></span> </label></div><div wj-part="div-cmb2"></div><br/><div wj-part="div-val2"></div><br/></div>',t}(h.Control),v=function(){function e(e){this._values=null,this._filterText=null,this._xValueSearch=!0,this._maxValues=250,this._uniqueValues=null,this._sortValues=!0,this._col=e}return Object.defineProperty(e.prototype,"showValues",{get:function(){return this._values},set:function(e){this._values=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterText",{get:function(){return this._filterText},set:function(e){this._filterText=Object(h.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(e){this._xValueSearch=Object(h.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValues",{get:function(){return this._maxValues},set:function(e){this._maxValues=Object(h.asNumber)(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uniqueValues",{get:function(){return this._uniqueValues},set:function(e){this._uniqueValues=Object(h.asArray)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortValues",{get:function(){return this._sortValues},set:function(e){this._sortValues=Object(h.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map=Object(h.asType)(e,u.DataMap,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return null!=this._values&&Object.keys(this._values).length>0},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var t=this.column;return!(t&&t._binding&&this._values&&Object.keys(this._values).length)||(e=t._binding.getValue(e),e=this.dataMap?this.dataMap.getDisplayValue(e):t.dataMap?t.dataMap.getDisplayValue(e):h.Globalize.format(e,t.format),null!=this._values[e])},e.prototype.clear=function(){this.showValues=null,this.filterText=null},e.prototype.getUniqueValues=function(e){void 0===e&&(e=!0);var t=[];if(this.uniqueValues)return this.uniqueValues.forEach((function(e){t.push({value:e,text:e.toString()})})),t;var n={},i=this.column,r=i.collectionView,o=r?r.sourceCollection:[];if(e&&r&&r.sourceCollection&&r.filter){var s=this.showValues;this.showValues=null;for(var a=[],l=0;l<o.length;l++)r.filter(o[l])&&a.push(o[l]);o=a,this.showValues=s}for(l=0;l<o.length;l++){var c=i._binding.getValue(o[l]),u=this.dataMap?this.dataMap.getDisplayValue(c):i.dataMap?i.dataMap.getDisplayValue(c):h.Globalize.format(c,i.format);n[u]||(n[u]=!0,t.push({value:c,text:u}))}return t},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e}(),y=function(e){function t(t,n){var i=e.call(this,t)||this;i._filter=Object(h.asType)(n,v,!1);var r=i.getTemplate();i.applyTemplate("wj-control wj-valuefilter-editor",r,{_divFilter:"div-filter",_cbSelectAll:"cb-select-all",_spSelectAll:"sp-select-all",_divValues:"div-values"}),i._cbSelectAll.tabIndex=0;var o=h.culture.FlexGridFilter;Object(h.setText)(i._spSelectAll,o.selectAll);var s=i._view=new h.CollectionView;return s.sortNulls=h.SortNulls.First,n.sortValues&&s.sortDescriptions.push(new h.SortDescription(n.column.dataMap||n.dataMap?"text":"value",n.column.dataType!=h.DataType.Boolean)),s.filter=i._filterValues.bind(i),s.collectionChanged.addHandler(i._updateSelectAllCheck,i),i._filterText="",i._rxFilter=null,i._cmbFilter=new d.ComboBox(i._divFilter,{isRequired:!1,placeholder:o.search}),i._lbValues=new d.ListBox(i._divValues,{displayMemberPath:"text",checkedMemberPath:"show",itemsSource:i._view,itemFormatter:function(e,t){return t||o.null}}),Object(h.setAriaLabel)(i._cmbFilter.inputElement,o.ariaLabels.search),i._cmbFilter.inputElement.addEventListener("input",i._filterTextChanged.bind(i)),i._cbSelectAll.addEventListener("click",i._cbSelectAllClicked.bind(i)),i.updateEditor(),i}return f(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this._filter.column,t=this._filter.getUniqueValues(!0);this._lbValues.isContentHtml=e.isContentHtml;var n=this._filter.showValues;if(n&&0!=Object.keys(n).length){for(var i in n)for(r=0;r<t.length;r++)if(t[r].text==i){t[r].show=!0;break}}else for(var r=0;r<t.length;r++)t[r].show=!0;var o=this._filter.filterText||"";this._cmbFilter.text=o,this._filterText=o.toLowerCase(),this._rxFilter=o?new RegExp(Object(h.escapeRegExp)(o),"i"):null;var s=this._view,a=this._filter.maxValues,l=t.length;l>50&&l>a?(s.pageSize=50,setTimeout((function(){s.pageSize=a}))):s.pageSize=a,s.sourceCollection=t},t.prototype.clearEditor=function(e){void 0===e&&(e=!0),this._cmbFilter.text="",this._filterText="",this._rxFilter=null;var t=this._view;t.pageSize=0,t.items.forEach((function(t){t.show=e})),t.moveCurrentTo(-1),t.refresh(),t.pageSize=this._filter.maxValues},Object.defineProperty(t.prototype,"isEditorClear",{get:function(){return!this._filterText&&!this._cbSelectAll.indeterminate},enumerable:!0,configurable:!0}),t.prototype.updateFilter=function(){var e=null,t=this._getItems();if(this._filterText||this._cbSelectAll.indeterminate){e={};for(var n=0;n<t.length;n++){var i=t[n];i.show&&(e[i.text]=!0)}}var r=this._filter;r.showValues=e,r.filterText=this._filterText},t.prototype._getItems=function(){return this._filter.exclusiveValueSearch?this._view.items:this._view.sourceCollection},t.prototype._filterTextChanged=function(){var e=this;this._toFilter&&clearTimeout(this._toFilter),this._toFilter=setTimeout((function(){var t=e._cmbFilter.text.toLowerCase();t!=e._filterText&&(e._filterText=t,e._rxFilter=t?new RegExp(Object(h.escapeRegExp)(t),"i"):null,e._view.refresh(),e._filter.exclusiveValueSearch?(e._cbSelectAll.checked=!0,e._cbSelectAllClicked()):e._updateSelectAllCheck())}),h.Control._SEARCH_DELAY)},t.prototype._filterValues=function(e){var t=this._rxFilter;return null==t||null==e||t.test(e.text)},t.prototype._cbSelectAllClicked=function(){for(var e=this._cbSelectAll.checked,t=this._divValues.scrollTop,n=this._getItems(),i=0;i<n.length;i++)n[i].show=e;this._view.refresh(),this._divValues.scrollTop=t},t.prototype._updateSelectAllCheck=function(){for(var e=this._getItems(),t=0,n=0,i=0;i<e.length&&(e[i].show?t++:n++,!t||!n);i++);Object(h.setChecked)(this._cbSelectAll,t&&n?null:t>0)},t.controlTemplate='<div><div wj-part="div-filter"></div><div class="wj-listbox-item"><label><input wj-part="cb-select-all" type="checkbox"> <span wj-part="sp-select-all"></span></label></div><div wj-part="div-values"></div></div>',t}(h.Control),_=function(){function e(e,t){this._owner=e,this._col=t,this._valueFilter=new v(t),this._valueFilter.exclusiveValueSearch=e.exclusiveValueSearch,this._conditionFilter=new m(t)}return Object.defineProperty(e.prototype,"filterType",{get:function(){return null!=this._filterType?this._filterType:this._owner.defaultFilterType},set:function(e){if((e=Object(h.asEnum)(e,g,!0))!=this._filterType){var t=this.isActive;this.clear(),this._filterType=e,t?this._owner.apply():this._col.grid&&this._col.grid.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this.conditionFilter.dataMap||this.valueFilter.dataMap},set:function(e){this.conditionFilter.dataMap=e,this.valueFilter.dataMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){return this._conditionFilter.apply(e)&&this._valueFilter.apply(e)},e.prototype.clear=function(){this._valueFilter.clear(),this._conditionFilter.clear()},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e}();!function(e){e[e.None=0]="None",e[e.Condition=1]="Condition",e[e.Value=2]="Value",e[e.Both=3]="Both"}(g||(g={}));var w=function(){function e(e,t){this._showIcons=!0,this._showSort=!0,this._defFilterType=g.Both,this._xValueSearch=!0,this.filterApplied=new h.Event,this.filterChanging=new h.Event,this.filterChanged=new h.Event,this._filters=[],this._g=Object(h.asType)(e,u.FlexGrid,!1),this._g.formatItem.addHandler(this._formatItem.bind(this)),this._g.itemsSourceChanged.addHandler(this.clear.bind(this));var n=this._g.hostElement;e.addEventListener(n,"mousedown",this._mousedown.bind(this),!0),e.addEventListener(n,"click",this._click.bind(this),!0),e.addEventListener(n,"keydown",this._keydown.bind(this),!0),this._g.invalidate(),Object(h.copy)(this,t)}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterColumns",{get:function(){return this._filterColumns},set:function(e){this._filterColumns=Object(h.asArray)(e),this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showFilterIcons",{get:function(){return this._showIcons},set:function(e){e!=this.showFilterIcons&&(this._showIcons=Object(h.asBoolean)(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSortButtons",{get:function(){return this._showSort},set:function(e){this._showSort=Object(h.asBoolean)(e)},enumerable:!0,configurable:!0}),e.prototype.getColumnFilter=function(e,t){if(void 0===t&&(t=!0),e=this._asColumn(e)){for(var n=0;n<this._filters.length;n++)if(this._filters[n].column==e)return this._filters[n];if(t&&e.binding){var i=new _(this,e);return this._filters.push(i),i}}return null},Object.defineProperty(e.prototype,"defaultFilterType",{get:function(){return this._defFilterType},set:function(e){(e=Object(h.asEnum)(e,g,!1))!=this.defaultFilterType&&(this._defFilterType=e,this._g.invalidate(),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(e){this._xValueSearch=Object(h.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterDefinition",{get:function(){var e=this,t={defaultFilterType:this.defaultFilterType,filters:[]};return this._filters.forEach((function(n){var i=n.conditionFilter,r=n.valueFilter,o=r.uniqueValues&&r.uniqueValues.length;if(n&&n.column&&n.column.binding&&(n.isActive||o||n.filterType!=e.defaultFilterType)){var s={binding:n.column.binding};if(i.isActive){var a=i.condition1,l=i.condition2;s={binding:n.column.binding,type:"condition",condition1:{operator:a.operator,value:a.value},and:i.and,condition2:{operator:l.operator,value:l.value}}}else(r.isActive||o)&&(s={binding:n.column.binding,type:"value",uniqueValues:r.uniqueValues,sortValues:r.sortValues,maxValues:r.maxValues,exclusiveValueSearch:r.exclusiveValueSearch,showValues:r.showValues});n.filterType!=e.defaultFilterType&&(s.filterType=n.filterType),t.filters.push(s)}})),JSON.stringify(t)},set:function(e){if(e=Object(h.asString)(e),this.clear(),e){var t=JSON.parse(e);this.defaultFilterType=t.defaultFilterType;for(var n=function(e){var n=t.filters[e],r=i._g.getColumn(n.binding),o=i.getColumnFilter(r,!0);if(o)switch(null!=n.filterType&&(o.filterType=Object(h.asEnum)(n.filterType,g)),n.type){case"condition":var s=o.conditionFilter;s.condition1.value=r.dataType==h.DataType.Date?Object(h.changeType)(n.condition1.value,r.dataType,null):n.condition1.value,s.condition1.operator=n.condition1.operator,s.and=n.and,s.condition2.value=r.dataType==h.DataType.Date?Object(h.changeType)(n.condition2.value,r.dataType,null):n.condition2.value,s.condition2.operator=n.condition2.operator;break;case"value":var a=o.valueFilter;a.uniqueValues=n.uniqueValues,["sortValues","maxValues","exclusiveValueSearch"].forEach((function(e){null!=n[e]&&(a[e]=n[e])})),a.showValues=n.showValues}},i=this,r=0;r<t.filters.length;r++)n(r)}this.apply()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeEditor",{get:function(){return h.Control.getControl(this._divEdt)},enumerable:!0,configurable:!0}),e.prototype.editColumnFilter=function(e,t,n){var i=this;this.closeEditor(),e=this._asColumn(e);var r=this._g,o=Object(h.createElement)('<div class="wj-dropdown-panel"></div>'),s=this.getColumnFilter(e),a=new C(o,s,this.showSortButtons);this._divEdt=o,this._edtCol=e,r.rightToLeft&&(o.dir="rtl");var l=new u.CellRangeEventArgs(r.cells,new u.CellRange(-1,e.index));if(this.onFilterChanging(l)){l.cancel=!0,a.filterChanged.addHandler((function(){l.cancel=!1,setTimeout((function(){l.cancel||i.apply()}))})),a.buttonClicked.addHandler((function(){i.closeEditor(),r.focus(),i.onFilterChanged(l)})),a.lostFocus.addHandler((function(){setTimeout((function(){var e=h.Control.getControl(i._divEdt);e&&!e.containsFocus()&&i.closeEditor()}),10)}));var c=t?t.col:e.index,d=r.columns[c];!t&&d&&d.binding!=e.binding&&(c=r.selection.leftCol),r._edtHdl._commitRowEdits(),r.scrollIntoView(-1,c,!0);var f=r.columnHeaders,p=t&&t.panel==f?t.row:f.rows.length-1,g=c,m=n||f.getCellElement(p,g),b=m?null:f.getCellBoundingRect(p,g);m?Object(h.showPopup)(o,m,!1,!1,!1):Object(h.showPopup)(o,b),this._setAriaExpanded(m,!0),this._setAriaExpanded(r.cells.getCellElement(-1,g),!0);for(var v=a.hostElement.querySelectorAll("input"),y=0;y<v.length;y++){var _=v[y];if(_.offsetHeight>0&&_.tabIndex>-1&&!_.disabled){_.focus();break}}a.containsFocus()||a.focus()}else this._divEdt=this._edtCol=null},e.prototype._setAriaExpanded=function(t,n){if(t){var i=t.querySelector("."+e._WJC_FILTER);Object(h.setAttribute)(i,"aria-expanded",n)}},e.prototype.closeEditor=function(){var e=this._g,t=h.Control.getControl(this._divEdt),n=this._edtCol;if(t&&Object(h.hidePopup)(t.hostElement,(function(){t.dispose()})),n){var i=e.columnHeaders,r=i.rows.length?i.getCellElement(i.rows.length-1,n.index):null;this._setAriaExpanded(r,!1),r=e.cells.getCellElement(-1,n.index),this._setAriaExpanded(r,!1)}this._divEdt=null,this._edtCol=null},e.prototype.apply=function(){var e=this._g.collectionView;if(e){var t=this._g.editableCollectionView;t&&(t.commitEdit(),t.commitNew()),e.filter=this._filter.bind(this)}var n=e?e.updateFilterDefinition:null;Object(h.isFunction)(n)&&n.call(e,this),this.onFilterApplied()},e.prototype.clear=function(){this._filters.length&&(this._filters=[],this.apply())},e.prototype.onFilterApplied=function(e){this.filterApplied.raise(this,e)},e.prototype.onFilterChanging=function(e){return this.filterChanging.raise(this,e),!e.cancel},e.prototype.onFilterChanged=function(e){this.filterChanged.raise(this,e)},e.prototype._asColumn=function(e){return Object(h.isString)(e)?this._g.getColumn(e):Object(h.isNumber)(e)?this._g.columns[e]:Object(h.asType)(e,u.Column,!1)},e.prototype._filter=function(e){for(var t=this._filters,n=0;n<t.length;n++)if(!t[n].apply(e))return!1;return!0},e.prototype._formatItem=function(e,t){if(t.panel==e.columnHeaders){var n=this._g,i=n.getMergedRange(t.panel,t.row,t.col)||new u.CellRange(t.row,t.col),r=n.columns[i.col],o=n._getBindingColumn(t.panel,t.row,r),s=t.cell;if(i.row2==t.panel.rows.length-1||r!=o){var a=this.getColumnFilter(o,this.defaultFilterType!=g.None);this._filterColumns&&this._filterColumns.indexOf(o.binding)<0&&(a=null),a?(Object(h.toggleClass)(s,"wj-filter-on",a.isActive),Object(h.toggleClass)(s,"wj-filter-off",!a.isActive)):(Object(h.removeClass)(s,"wj-filter-on"),Object(h.removeClass)(s,"wj-filter-off")),a&&a.filterType!=g.None&&(this._showIcons&&this._addFilterButton(o,a,s),0==t.row&&(s=n.cells.getCellElement(-1,t.col))&&this._addFilterButton(r,a,s))}}},e.prototype._addFilterButton=function(t,n,i){var r=e._WJC_FILTER,o=Object(h.createElement)('<button class="wj-btn wj-btn-glyph wj-right '+r+'" type="button" tabindex="-1"><span class="wj-glyph-filter"></span></button>');Object(h.setAriaLabel)(o,h.culture.FlexGridFilter.ariaLabels.edit+" "+t.header),Object(h.setAttribute)(o,"aria-haspopup","dialog"),Object(h.setAttribute)(o,"aria-expanded",!1),Object(h.setAttribute)(o,"aria-describedby",t.describedById),Object(h.setAttribute)(o,"aria-pressed",n.isActive),i.querySelector("."+r)||(1==i.children.length&&(i=i.querySelector("div")||i),i.insertBefore(o,i.firstChild))},e.prototype._mousedown=function(e){this._edtColPrev=this._edtCol},e.prototype._click=function(e){this._toggleEditor(e)&&(e.stopPropagation(),e.preventDefault())},e.prototype._toggleEditor=function(t){var n=this;if(!t.defaultPrevented&&0==t.button)if(Object(h.closestClass)(t.target,e._WJC_FILTER)){var i=this._g,r=i.hitTest(t.target);if(r.panel||(r=i.hitTest(t)),r.panel==i.columnHeaders||r.panel==i.cells&&-1==r.row){var o=i.getMergedRange(r.panel,r.row,r.col)||new u.CellRange(r.row,r.col),s=i._getBindingColumn(r.panel,r.row,i.columns[o.col]);return this._divEdt&&this._edtCol==s?(this.closeEditor(),i.focus()):s!=this._edtColPrev&&setTimeout((function(){n.editColumnFilter(s,r)}),this._divEdt?100:0),!0}}else this.closeEditor();return!1},e.prototype._keydown=function(e){if(!e.defaultPrevented&&!e.ctrlKey&&e.altKey&&(e.keyCode==h.Key.Down||e.keyCode==h.Key.Up)){var t=this.grid,n=t.selection,i=n.col>-1?t.columns[n.col]:null,r=i?t._getBindingColumn(t.cells,n.row,i):null,o=r&&r.dataMap&&r.dataMapEditor==u.DataMapEditor.DropDownList;if(r&&r.editor instanceof d.DropDown&&(o=!0),r&&!o){var s=this.getColumnFilter(r,!1);s&&s.filterType!=g.None&&(this.editColumnFilter(r),e.preventDefault(),e.stopPropagation())}}},e._WJC_FILTER="wj-elem-filter",e}();Object(h._addCultureInfo)("FlexGridFilter",{ariaLabels:{edit:"Edit Filter for Column",dialog:"Filter Editor for Column",asc:"Sort Column in Ascending Order",dsc:"Sort Column in Descending Order",search:"Search Item List",op1:"First Condition Operator",val1:"First Condition Value",and:"Require both Conditions",or:"Require either Condition",op2:"Second Condition Operator",val2:"Second Condition Value"},ascending:"\u2191 Ascending",descending:"\u2193 Descending",apply:"Apply",cancel:"Cancel",clear:"Clear",conditions:"Filter by Condition",values:"Filter by Value",search:"Search",selectAll:"Select All",null:"(nothing)",header:"Show items where the value",and:"And",or:"Or",stringOperators:[{name:"(not set)",op:null},{name:"Equals",op:o.EQ},{name:"Does not equal",op:o.NE},{name:"Begins with",op:o.BW},{name:"Ends with",op:o.EW},{name:"Contains",op:o.CT},{name:"Does not contain",op:o.NC}],numberOperators:[{name:"(not set)",op:null},{name:"Equals",op:o.EQ},{name:"Does not equal",op:o.NE},{name:"Is Greater than",op:o.GT},{name:"Is Greater than or equal to",op:o.GE},{name:"Is Less than",op:o.LT},{name:"Is Less than or equal to",op:o.LE}],dateOperators:[{name:"(not set)",op:null},{name:"Equals",op:o.EQ},{name:"Is Before",op:o.LT},{name:"Is After",op:o.GT}],booleanOperators:[{name:"(not set)",op:null},{name:"Equals",op:o.EQ},{name:"Does not equal",op:o.NE}]});var C=function(e){function t(t,n,i){void 0===i&&(i=!0);var r=e.call(this,t,null,!0)||this;r.filterChanged=new h.Event,r.buttonClicked=new h.Event,r._filter=Object(h.asType)(n,_);var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-columnfiltereditor",o,{_divSort:"div-sort",_btnAsc:"btn-asc",_btnDsc:"btn-dsc",_divType:"div-type",_aVal:"a-val",_aCnd:"a-cnd",_divEdtVal:"div-edt-val",_divEdtCnd:"div-edt-cnd",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_btnClear:"btn-clear"});var s=h.culture.FlexGridFilter,a=s.ariaLabels,l=r.hostElement,c=r.filter.column,u=c.grid.collectionView;Object(h.setAttribute)(l,"role","dialog"),Object(h.setAriaLabel)(l,a.dialog+" "+c.header),Object(h.setAriaLabel)(r._btnAsc,a.asc),Object(h.setAriaLabel)(r._btnDsc,a.dsc),Object(h.setText)(r._btnAsc,s.ascending),Object(h.setText)(r._btnDsc,s.descending),Object(h.setText)(r._aVal,s.values),Object(h.setText)(r._aCnd,s.conditions),Object(h.setText)(r._btnApply,s.apply),Object(h.setText)(r._btnCancel,s.cancel),Object(h.setText)(r._btnClear,s.clear),r._showFilter(r.filter.conditionFilter.isActive||0==(n.filterType&g.Value)?g.Condition:g.Value),i&&u&&u.canSort||(r._divSort.style.display="none"),r._updateSortButtonState();var d=r._btnClicked.bind(r);return r._btnApply.addEventListener("click",d),r._btnCancel.addEventListener("click",d),r._btnClear.addEventListener("click",d),r._btnAsc.addEventListener("click",d),r._btnDsc.addEventListener("click",d),r._aVal.addEventListener("click",d),r._aCnd.addEventListener("click",d),r.addEventListener(l,"keydown",(function(e){if(!e.defaultPrevented){var t=e.target.tagName.match(/^(a|button)$/i);switch(e.keyCode){case h.Key.Space:t&&(r._btnClicked(e),e.preventDefault());break;case h.Key.Enter:t?r._btnClicked(e):(r.updateFilter(),r.onFilterChanged(),r.onButtonClicked()),e.preventDefault();break;case h.Key.Escape:r.onButtonClicked(),e.preventDefault();break;case h.Key.Tab:Object(h.moveFocus)(r.hostElement,e.shiftKey?-1:1),e.preventDefault()}}})),r.addEventListener(window,"resize",(function(){r.isTouching||r._wasTouching||r.onButtonClicked()})),r}return f(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){this._edtVal&&this._edtVal.updateEditor(),this._edtCnd&&this._edtCnd.updateEditor()},t.prototype.updateFilter=function(){switch(this._getFilterType()){case g.Value:this._edtVal.updateFilter(),this.filter.conditionFilter.clear();break;case g.Condition:this._edtCnd.updateFilter(),this.filter.valueFilter.clear()}},t.prototype.onFilterChanged=function(e){this.filterChanged.raise(this,e)},t.prototype.onButtonClicked=function(e){this.buttonClicked.raise(this,e)},t.prototype._showFilter=function(e){this._wasTouching=this.isTouching,e==g.Value&&null==this._edtVal&&(this._edtVal=new y(this._divEdtVal,this.filter.valueFilter)),e==g.Condition&&null==this._edtCnd&&(this._edtCnd=new b(this._divEdtCnd,this.filter.conditionFilter)),0!=(e&this.filter.filterType)&&(e==g.Value?(this._divEdtVal.style.display="",this._divEdtCnd.style.display="none",this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0),this._edtVal.focus()):(this._divEdtVal.style.display="none",this._divEdtCnd.style.display="",this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1),this._edtCnd.focus()));var t=this._divType.style;switch(this.filter.filterType){case g.None:case g.Condition:case g.Value:t.display="none";break;default:t.display=""}},t.prototype._enableLink=function(e,t){Object(h.toggleClass)(e,"wj-state-disabled",!t),Object(h.setAttribute)(e,"href",t?"":null),Object(h.setAttribute)(e,"disabled",t?null:"disabled")},t.prototype._updateSortButtonState=function(){var e=this.filter.column,t=e?e.currentSort:"",n="wj-state-active";Object(h.toggleClass)(this._btnAsc,n,"+"==t),Object(h.toggleClass)(this._btnDsc,n,"-"==t)},t.prototype._getFilterType=function(){return"none"!=this._divEdtVal.style.display?g.Value:g.Condition},t.prototype._btnClicked=function(e){var t=e.target;if(e.preventDefault(),e.stopPropagation(),!Object(h.hasClass)(t,"wj-state-disabled"))if(t!=this._aVal)if(t!=this._aCnd){if(t==this._btnAsc||t==this._btnDsc){var n=this.filter.column,i=n.grid.collectionView,r=new h.SortDescription(n.sortMemberPath||n.binding,e.target==this._btnAsc);i.sortDescriptions.deferUpdate((function(){i.sortDescriptions.clear(),i.sortDescriptions.push(r)})),this._updateSortButtonState()}t==this._btnApply?(this.updateFilter(),this.onFilterChanged()):t==this._btnClear?this.filter.isActive&&(this.filter.clear(),this.onFilterChanged()):this.updateEditor(),this.onButtonClicked()}else this._showFilter(g.Condition),Object(h.moveFocus)(this._edtCnd.hostElement,0);else this._showFilter(g.Value),Object(h.moveFocus)(this._edtVal.hostElement,0)},t.controlTemplate='<div><div wj-part="div-sort" class="wj-sort-buttons"><button wj-part="btn-asc" class="wj-btn"></button>&nbsp;&nbsp;&nbsp;<button wj-part="btn-dsc" class="wj-btn"></button></div><div wj-part="div-type" class="wj-filtertype"><a wj-part="a-cnd" href="" draggable="false"></a>&nbsp;|&nbsp;<a wj-part="a-val" href="" draggable="false"></a></div><div wj-part="div-edt-val" tabindex="-1"></div><div wj-part="div-edt-cnd" tabindex="-1"></div><div style="text-align:right;margin-top:10px"><button wj-part="btn-apply" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-cancel" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-clear" class="wj-btn"></button></div></div>',t}(h.Control);Object(h._registerModule)("wijmo.grid.filter",i);var S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O=function(e,t){return function(n,i){t(n,i,e)}},T={selector:"wj-flex-grid-filter",template:"",inputs:["wjProperty","showFilterIcons","showSortButtons","defaultFilterType","filterColumns"],outputs:["initialized","filterChangingNg: filterChanging","filterChangedNg: filterChanged","filterAppliedNg: filterApplied"],providers:[]},k=function(e){function t(t,n,i){var r=e.call(this,i)||this;return r.isInitialized=!1,r._wjBehaviour=c.a.attach(r,t,n,i),r.created(),r}var n;return S(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:T.outputs},t.\u0275fac=function(e){return new(e||t)(a.Nb(a.n),a.Nb(a.t),a.Nb("WjComponent",12))},t.\u0275cmp=a.Hb({type:t,selectors:[["wj-flex-grid-filter"]],inputs:{wjProperty:"wjProperty",showFilterIcons:"showFilterIcons",showSortButtons:"showSortButtons",defaultFilterType:"defaultFilterType",filterColumns:"filterColumns"},outputs:{initialized:"initialized",filterChangingNg:"filterChanging",filterChangedNg:"filterChanged",filterAppliedNg:"filterApplied"},features:[a.Ab([{provide:"WjComponent",useExisting:Object(a.V)((function(){return n}))}].concat(T.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}([,O(0,Object(a.r)(a.n)),O(1,Object(a.r)(a.t)),O(2,Object(a.r)("WjComponent")),O(2,Object(a.L)()),O(2,Object(a.D)())],t)}(w),x=function(){function e(){}return e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({factory:function(t){return new(t||e)},imports:[[l.c]]}),e}()},"44PX":function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p}));var i=n("rePB"),r=n("1OyB"),o=n("vuIU"),s=n("fXoL"),a=n("ofXK");function l(e,t){if(1&e){var n=s.Ub();s.Tb(0,"span",7),s.bc("click",(function(e){s.vc(n);var t=s.dc().$implicit,i=s.dc();return e.preventDefault(),i.removeTab(t)})),s.Ec(1," \u274c"),s.Sb()}}var c=function(e){return["nav-item",e]};function u(e,t){if(1&e){var n=s.Ub();s.Tb(0,"li",3),s.bc("keydown",(function(e){s.vc(n);var i=t.index;return s.dc().keyNavActions(e,i)})),s.Tb(1,"a",4),s.bc("click",(function(){return t.$implicit.active=!0})),s.Tb(2,"span",5),s.Ec(3),s.Sb(),s.Cc(4,l,2,0,"span",6),s.Sb(),s.Sb()}if(2&e){var i=t.$implicit;s.Fb("active",i.active)("disabled",i.disabled),s.jc("ngClass",s.nc(15,c,i.customClass||"")),s.Bb(1),s.Fb("active",i.active)("disabled",i.disabled),s.Cb("aria-controls",i.id?i.id:"")("aria-selected",!!i.active)("id",i.id?i.id+"-link":""),s.Bb(1),s.jc("ngTransclude",i.headingRef),s.Bb(1),s.Fc(i.heading),s.Bb(1),s.jc("ngIf",i.removable)}}var h=["*"],d=function(){var e=function(){function e(t){Object(r.a)(this,e),this.viewRef=t}return Object(o.a)(e,[{key:"ngTransclude",set:function(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)},get:function(){return this._ngTransclude}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Nb(s.R))},e.\u0275dir=s.Ib({type:e,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),e}(),f=function(){var e=function e(){Object(r.a)(this,e),this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(s.Jb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),p=function(){var e=function(){function e(t,n,i){Object(r.a)(this,e),this.renderer=n,this.elementRef=i,this.clazz=!0,this.tabs=[],this.classMap={},Object.assign(this,t)}return Object(o.a)(e,[{key:"ngOnDestroy",value:function(){this.isDestroyed=!0}},{key:"addTab",value:function(e){this.tabs.push(e),e.active=1===this.tabs.length&&void 0===e.active}},{key:"removeTab",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{reselect:!0,emit:!0},n=this.tabs.indexOf(e);if(-1!==n&&!this.isDestroyed){if(t.reselect&&e.active&&this.hasAvailableTabs(n)){var i=this.getClosestTabIndex(n);this.tabs[i].active=!0}t.emit&&e.removed.emit(e),this.tabs.splice(n,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}},{key:"keyNavActions",value:function(e,t){if(this.isKeysAllowed){var n=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===e.keyCode||"Enter"===e.key||32===e.keyCode||"Space"===e.key)return e.preventDefault(),void n[t%n.length].click();if(39!==e.keyCode&&"RightArrow"!==e.key)if(37!==e.keyCode&&"LeftArrow"!==e.key)if(36!==e.keyCode&&"Home"!==e.key)if(35!==e.keyCode&&"End"!==e.key){if((46===e.keyCode||"Delete"===e.key)&&this.tabs[t].removable){if(this.removeTab(this.tabs[t]),n[t+1])return void n[(t+1)%n.length].focus();n[n.length-1]&&n[0].focus()}}else{var i;e.preventDefault();var r=1,o=t;do{o-r<0?(i=n[o=n.length-1],r=0):i=n[o-r],r++}while(i.classList.contains("disabled"));i.focus()}else{var s;e.preventDefault();var a=0;do{s=n[a%n.length],a++}while(s.classList.contains("disabled"));s.focus()}else{var l,c=1,u=t;do{u-c<0?(l=n[u=n.length-1],c=0):l=n[u-c],c++}while(l.classList.contains("disabled"));l.focus()}else{var h,d=1;do{h=n[(t+d)%n.length],d++}while(h.classList.contains("disabled"));h.focus()}}}},{key:"getClosestTabIndex",value:function(e){var t=this.tabs.length;if(!t)return-1;for(var n=1;n<=t;n+=1){var i=e-n,r=e+n;if(this.tabs[i]&&!this.tabs[i].disabled)return i;if(this.tabs[r]&&!this.tabs[r].disabled)return r}return-1}},{key:"hasAvailableTabs",value:function(e){var t=this.tabs.length;if(!t)return!1;for(var n=0;n<t;n+=1)if(!this.tabs[n].disabled&&n!==e)return!0;return!1}},{key:"setClassMap",value:function(){this.classMap=Object(i.a)({"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified},"nav-".concat(this.type),!0)}},{key:"vertical",get:function(){return this._vertical},set:function(e){this._vertical=e,this.setClassMap()}},{key:"justified",get:function(){return this._justified},set:function(e){this._justified=e,this.setClassMap()}},{key:"type",get:function(){return this._type},set:function(e){this._type=e,this.setClassMap()}},{key:"isKeysAllowed",get:function(){return this._isKeysAllowed},set:function(e){this._isKeysAllowed=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Nb(f),s.Nb(s.G),s.Nb(s.n))},e.\u0275cmp=s.Hb({type:e,selectors:[["tabset"]],hostVars:2,hostBindings:function(e,t){2&e&&s.Fb("tab-container",t.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:h,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(e,t){1&e&&(s.ic(),s.Tb(0,"ul",0),s.bc("click",(function(e){return e.preventDefault()})),s.Cc(1,u,5,17,"li",1),s.Sb(),s.Tb(2,"div",2),s.hc(3),s.Sb()),2&e&&(s.jc("ngClass",t.classMap),s.Cb("aria-label",t.ariaLabel),s.Bb(1),s.jc("ngForOf",t.tabs))},directives:[a.k,a.l,d,a.m],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),e}(),g=function(){var e=function(){function e(t,n,i){Object(r.a)(this,e),this.elementRef=n,this.renderer=i,this.selectTab=new s.p,this.deselect=new s.p,this.removed=new s.p,this.addClass=!0,this.role="tabpanel",this.tabset=t,this.tabset.addTab(this)}return Object(o.a)(e,[{key:"ngOnInit",value:function(){this.removable=this.removable}},{key:"ngOnDestroy",value:function(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}},{key:"customClass",get:function(){return this._customClass},set:function(e){var t=this;this.customClass&&this.customClass.split(" ").forEach((function(e){t.renderer.removeClass(t.elementRef.nativeElement,e)})),this._customClass=e?e.trim():null,this.customClass&&this.customClass.split(" ").forEach((function(e){t.renderer.addClass(t.elementRef.nativeElement,e)}))}},{key:"active",get:function(){return this._active},set:function(e){var t=this;this._active!==e&&(this.disabled&&e||!e?this._active&&!e&&(this.deselect.emit(this),this._active=e):(this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach((function(e){e!==t&&(e.active=!1)}))))}},{key:"ariaLabelledby",get:function(){return this.id?"".concat(this.id,"-link"):""}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Nb(p),s.Nb(s.n),s.Nb(s.G))},e.\u0275dir=s.Ib({type:e,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(e,t){2&e&&(s.Cb("role",t.role)("aria-labelledby",t.ariaLabelledby)("id",t.id),s.Fb("tab-pane",t.addClass)("active",t.active))},inputs:{customClass:"customClass",active:"active",removable:"removable",heading:"heading",id:"id",disabled:"disabled"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]}),e}(),m=function(){var e=function e(t,n){Object(r.a)(this,e),n.headingRef=t};return e.\u0275fac=function(t){return new(t||e)(s.Nb(s.N),s.Nb(g))},e.\u0275dir=s.Ib({type:e,selectors:[["","tabHeading",""]]}),e}(),b=function(){var e=function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[]}}}]),e}();return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e}()},"4I5i":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},"4nBg":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("ofXK"),r=n("K3ix"),o=n("L4Dr"),s=n("fXoL"),a=n("2v5c"),l=n("XRfL"),c=n("hAiv"),u=n("3Pt+");function h(e,t){1&e&&(s.Tb(0,"div"),s.Ec(1,"UserName or e-mail is required."),s.Sb())}function d(e,t){if(1&e&&(s.Tb(0,"div",13),s.Cc(1,h,2,0,"div",14),s.Sb()),2&e){s.dc();var n=s.sc(11);s.Bb(1),s.jc("ngIf",n.errors.required)}}var f=function(){function e(e){this.registrationService=e,this.DialogState=o.a,this.requested=new s.p,this.action=new s.p}return e.prototype.onSubmit=function(){var e=this;this.registrationService.resetRequest(this.userName).subscribe((function(t){e.requested.emit()}))},e.\u0275fac=function(t){return new(t||e)(s.Nb(c.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-reset-password-request-form"]],outputs:{requested:"requested",action:"action"},decls:19,vars:3,consts:[[1,"card","mb-0"],[1,"card-body","mx-4","mt-4","mb-0"],["resetForm","ngForm"],[1,"form-group","row","my-4","mx-0"],["for","request-name",1,"col-form-label","px-0","col-sm-3"],[1,"flex-fill"],["type","text","name","userName","placeholder","Username","autocomplete","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["user","ngModel"],["class","alert alert-danger py-1 px-2 m-0 w-100",4,"ngIf"],[1,"card-footer","p-4"],[1,"row","m-0","px-4"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-light","ml-2",3,"click"],[1,"alert","alert-danger","py-1","px-2","m-0","w-100"],[4,"ngIf"]],template:function(e,t){if(1&e&&(s.Tb(0,"div",0),s.Tb(1,"div",1),s.Tb(2,"form",null,2),s.Tb(4,"h1"),s.Ec(5,"Request password reset"),s.Sb(),s.Tb(6,"div",3),s.Tb(7,"label",4),s.Ec(8,"Enter UserName or e-mail"),s.Sb(),s.Tb(9,"div",5),s.Tb(10,"input",6,7),s.bc("ngModelChange",(function(e){return t.userName=e})),s.Sb(),s.Cc(12,d,2,1,"div",8),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(13,"div",9),s.Tb(14,"div",10),s.Tb(15,"button",11),s.bc("click",(function(){return t.onSubmit()})),s.Ec(16,"Reset"),s.Sb(),s.Tb(17,"button",12),s.bc("click",(function(){return t.action.emit(t.DialogState.LOGIN)})),s.Ec(18,"Cancel"),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&e){var n=s.sc(3),i=s.sc(11);s.Bb(10),s.jc("ngModel",t.userName),s.Bb(2),s.jc("ngIf",i.invalid&&(i.dirty||i.touched)),s.Bb(3),s.jc("disabled",!n.valid)}},directives:[u.t,u.j,u.k,u.b,u.q,u.i,u.l,i.m],encapsulation:2}),e}(),p=["modal"];function g(e,t){if(1&e){var n=s.Ub();s.Tb(0,"app-login-form",7),s.bc("login",(function(e){return s.vc(n),s.dc().onLogin(e)}))("action",(function(e){return s.vc(n),s.dc().state=e})),s.Sb()}2&e&&s.jc("redirect",!1)}function m(e,t){if(1&e){var n=s.Ub();s.Tb(0,"app-register-form",8),s.bc("register",(function(){return s.vc(n),s.dc().onRegister()}))("login",(function(){s.vc(n);var e=s.dc();return e.state=e.DialogState.LOGIN})),s.Sb()}}function b(e,t){if(1&e){var n=s.Ub();s.Tb(0,"app-reset-password-request-form",9),s.bc("action",(function(e){return s.vc(n),s.dc().state=e}))("requested",(function(){return s.vc(n),s.dc().onLogin(!0)})),s.Sb()}}var v=function(){function e(){this.state=o.a.LOGIN,this.DialogState=o.a}return e.prototype.openModal=function(){this.modal.show()},e.prototype.onLogin=function(e){e&&this.modal.hide()},e.prototype.onRegister=function(){this.state=o.a.LOGIN},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-login-dialog"]],viewQuery:function(e,t){var n;1&e&&s.Ac(p,!0),2&e&&s.rc(n=s.cc())&&(t.modal=n.first)},decls:7,vars:4,consts:[["bsModal","","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade"],["modal","bs-modal"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content","shadow",3,"ngSwitch"],[3,"redirect","login","action",4,"ngSwitchCase"],[3,"register","login",4,"ngSwitchCase"],[3,"action","requested",4,"ngSwitchCase"],[3,"redirect","login","action"],[3,"register","login"],[3,"action","requested"]],template:function(e,t){1&e&&(s.Tb(0,"div",0,1),s.Tb(2,"div",2),s.Tb(3,"div",3),s.Cc(4,g,1,1,"app-login-form",4),s.Cc(5,m,1,0,"app-register-form",5),s.Cc(6,b,1,0,"app-reset-password-request-form",6),s.Sb(),s.Sb(),s.Sb()),2&e&&(s.Bb(3),s.jc("ngSwitch",t.state),s.Bb(1),s.jc("ngSwitchCase",t.DialogState.LOGIN),s.Bb(1),s.jc("ngSwitchCase",t.DialogState.REGISTRATION),s.Bb(1),s.jc("ngSwitchCase",t.DialogState.RESET_REQUEST))},directives:[r.b,i.o,i.p,a.a,l.a,f],encapsulation:2}),e}(),y=function(){function e(e,t,n,i){this._document=e,this.componentFactoryResolver=t,this.appRef=n,this.injector=i}return e.prototype.openDialog=function(){this.appendModal()},e.prototype.closeDialog=function(){this.dialog&&this.dialog.modal.hide()},e.prototype.appendModal=function(){var e=this.componentFactoryResolver.resolveComponentFactory(v).create(this.injector);this.dialog=e.instance,e.instance.modal.onHide.subscribe((function(){e.destroy()})),this.appRef.attachView(e.hostView),this._document.body.appendChild(e.hostView.rootNodes[0]),setTimeout((function(){e.instance.openModal(),e.instance.modal.config={backdrop:!0,ignoreBackdropClick:!0}}))},e.\u0275fac=function(t){return new(t||e)(s.Xb(i.d),s.Xb(s.k),s.Xb(s.g),s.Xb(s.t))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("Ji7U"),r=n("LK+K"),o=n("1OyB"),s=n("vuIU"),a=n("lJxs"),l=n("Cfvw"),c=n("zx2A");function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(i){return i.pipe(u((function(n,i){return Object(l.a)(e(n,i)).pipe(Object(a.a)((function(e,r){return t(n,e,i,r)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new h(e,n))})}var h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;Object(o.a)(this,e),this.project=t,this.concurrent=n}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new d(e,this.project,this.concurrent))}}]),e}(),d=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e,i){var r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return Object(o.a)(this,n),(r=t.call(this,e)).project=i,r.concurrent=s,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return Object(s.a)(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new c.a(this),n=this.destination;n.add(t);var i=Object(c.c)(e,t);i!==t&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(c.b)},"57Jz":function(e,t){},"5sEi":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return u}));var i=n("mrSG"),r=n("Uwcb"),o=n("iFvM");function s(e){var t={},n=[];return e.forEach((function(e){var r=e.groupName;r?(t[r]||(t[r]=function(e,t){void 0===t&&(t=!1);var n={url:"http",title:t?e.groupName:e.title,icon:t?"icon-cursor":e.icon};return t&&(n.children=[]),n}(Object(i.a)({},e),!0),n.push(t[r])),t[r].children.push(e)):n.push(e)})),n}function a(e){var t=e.split("/"),n=t.pop(),i=n.indexOf(".");return{contentType:n.substring(i+1),name:n.substring(0,i),folder:t.join("/")}}function l(e){return(e.folder?e.folder+"/":"")+e.name+"."+e.contentType}function c(e){var t,n,r,s;return Object(i.b)(this,void 0,void 0,(function(){var a,l,c,u,h,d;return Object(i.e)(this,(function(i){switch(i.label){case 0:return[4,Object(o.w)(e)];case 1:return a=i.sent(),u=(null===(n=null===(t=((c=((l=a["app-shell"])["app-shell.resources"]||[{}])[0])["menu-items"]||[])[0])||void 0===t?void 0:t.$$)||void 0===n?void 0:n.map((function(e){return e.$})))||[],h=(null===(s=null===(r=(c["sidebar-items"]||[])[0])||void 0===r?void 0:r.$$)||void 0===s?void 0:s.map((function(e){return e.$})))||[],[2,{sidebar:(d=l.$||{}).sidebar,homePageUri:d.homePageUri,code:d.code,menuItems:u,sideBarItems:h,onInit:d.onInit}]}}))}))}function u(e){return r.d.map((function(t){return{appOwnerName:e.ownerName,appName:e.appName,appContent:t}}))}},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("1OyB"),r=n("vuIU"),o=n("JX7q"),s=n("ReuC"),a=n("foSv"),l=n("Ji7U"),c=n("LK+K"),u=n("n6bG"),h=n("gRHU"),d=n("quSY"),f=n("2QA8"),p=n("2fFW"),g=n("NJ4a"),m=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,s){var a;switch(Object(i.a)(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=h.a;break;case 1:if(!e){a.destination=h.a;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(Object(o.a)(a))):(a.syncErrorThrowable=!0,a.destination=new b(Object(o.a)(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new b(Object(o.a)(a),e,r,s)}return a}return Object(r.a)(n,[{key:f.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,Object(s.a)(Object(a.a)(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,i){var r=new n(e,t,i);return r.syncErrorThrowable=!1,r}}]),n}(d.a),b=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,s,a){var l,c;Object(i.a)(this,n),(l=t.call(this))._parentSubscriber=e;var d=Object(o.a)(l);return Object(u.a)(r)?c=r:r&&(c=r.next,s=r.error,a=r.complete,r!==h.a&&(d=Object.create(r),Object(u.a)(d.unsubscribe)&&l.add(d.unsubscribe.bind(d)),d.unsubscribe=l.unsubscribe.bind(Object(o.a)(l)))),l._context=d,l._next=c,l._error=s,l._complete=a,l}return Object(r.a)(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;p.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=p.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(g.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(g.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};p.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),p.a.useDeprecatedSynchronousErrorHandling)throw n;Object(g.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!p.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return p.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Object(g.a)(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(m)},"8/JR":function(e,t,n){"use strict";var i=n("8T9/"),r=n("Ibf7");e.exports=function(e,t){var n=t||{},o={};return void 0===e&&(e={}),e.on=function(t,n){return o[t]?o[t].push(n):o[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var i=arguments.length;if(1===i)delete o[t];else if(0===i)o={};else{var r=o[t];if(!r)return e;r.splice(r.indexOf(n),1)}return e},e.emit=function(){var t=i(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var s=(o[t]||[]).slice(0);return function(){var o=i(arguments),a=this||e;if("error"===t&&!1!==n.throws&&!s.length)throw 1===o.length?o[0]:o;return s.forEach((function(i){n.async?r(i,o,a):i.apply(a,o),i._once&&e.off(t,i)})),e}},e}},"8T9/":function(e,t){e.exports=function(e,t){return Array.prototype.slice.call(e,t)}},"9Ejp":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return C})),n("KQm4");var i=n("vuIU"),r=n("ODXe"),o=n("1OyB"),s=n("YS7c"),a=n.n(s),l=n("fXoL"),c=n("XNiG"),u=n("quSY"),h=n("pLZG"),d=n("lJxs"),f=function e(t,n,i){Object(o.a)(this,e),this.name=t,this.drake=n,this.options=i,this.initEvents=!1},p={Cancel:"cancel",Cloned:"cloned",Drag:"drag",DragEnd:"dragend",Drop:"drop",Out:"out",Over:"over",Remove:"remove",Shadow:"shadow",DropModel:"dropModel",RemoveModel:"removeModel"},g=Object.keys(p).map((function(e){return p[e]})),m=a.a||s,b=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;Object(o.a)(this,e),this.build=t},v=function(e,t,n){return function(i){return i.pipe(Object(h.a)((function(n){return n.event===e&&(void 0===t||n.name===t)})),Object(d.a)((function(e){return n(e.name,e.args)})))}},y=function(e,t){var n=Object(r.a)(t,3);return{name:e,el:n[0],container:n[1],source:n[2]}},_=function(){var e=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(o.a)(this,e),this.drakeFactory=n,this.dispatch$=new c.a,this.drag=function(e){return t.dispatch$.pipe(v(p.Drag,e,(function(e,t){var n=Object(r.a)(t,2);return{name:e,el:n[0],source:n[1]}})))},this.dragend=function(e){return t.dispatch$.pipe(v(p.DragEnd,e,(function(e,t){return{name:e,el:Object(r.a)(t,1)[0]}})))},this.drop=function(e){return t.dispatch$.pipe(v(p.Drop,e,(function(e,t){var n=Object(r.a)(t,4);return{name:e,el:n[0],target:n[1],source:n[2],sibling:n[3]}})))},this.elContainerSource=function(e){return function(n){return t.dispatch$.pipe(v(e,n,y))}},this.cancel=this.elContainerSource(p.Cancel),this.remove=this.elContainerSource(p.Remove),this.shadow=this.elContainerSource(p.Shadow),this.over=this.elContainerSource(p.Over),this.out=this.elContainerSource(p.Out),this.cloned=function(e){return t.dispatch$.pipe(v(p.Cloned,e,(function(e,t){var n=Object(r.a)(t,3);return{name:e,clone:n[0],original:n[1],cloneType:n[2]}})))},this.dropModel=function(e){return t.dispatch$.pipe(v(p.DropModel,e,(function(e,t){var n=Object(r.a)(t,9);return{name:e,el:n[0],target:n[1],source:n[2],sibling:n[3],item:n[4],sourceModel:n[5],targetModel:n[6],sourceIndex:n[7],targetIndex:n[8]}})))},this.removeModel=function(e){return t.dispatch$.pipe(v(p.RemoveModel,e,(function(e,t){var n=Object(r.a)(t,6);return{name:e,el:n[0],container:n[1],source:n[2],item:n[3],sourceModel:n[4],sourceIndex:n[5]}})))},this.groups={},null===this.drakeFactory&&(this.drakeFactory=new b)}return Object(i.a)(e,[{key:"add",value:function(e){if(this.find(e.name))throw new Error('Group named: "'+e.name+'" already exists.');return this.groups[e.name]=e,this.handleModels(e),this.setupEvents(e),e}},{key:"find",value:function(e){return this.groups[e]}},{key:"destroy",value:function(e){var t=this.find(e);t&&(t.drake&&t.drake.destroy(),delete this.groups[e])}},{key:"createGroup",value:function(e,t){return this.add(new f(e,this.drakeFactory.build([],t),t))}},{key:"handleModels",value:function(e){var t,n,i,r=this,o=e.name,s=e.drake,a=e.options;s.on("remove",(function(e,t,i){if(s.models){var a=s.models[s.containers.indexOf(i)],l=(a=a.slice(0)).splice(n,1)[0];r.dispatch$.next({event:p.RemoveModel,name:o,args:[e,t,i,l,a,n]})}})),s.on("drag",(function(e,i){s.models&&(t=e,n=r.domIndexOf(e,i))})),s.on("drop",(function(e,l,c,u){if(s.models&&l){i=r.domIndexOf(e,l);var h,d=s.models[s.containers.indexOf(c)],f=s.models[s.containers.indexOf(l)];if(l===c)h=(d=d.slice(0)).splice(n,1)[0],d.splice(i,0,h),f=d;else{var g=t!==e;if(h=d[n],g){if(!a.copyItem)throw new Error("If you have enabled `copy` on a group, you must provide a `copyItem` function.");h=a.copyItem(h)}if(g||(d=d.slice(0)).splice(n,1),(f=f.slice(0)).splice(i,0,h),g)try{l.removeChild(e)}catch(m){}}r.dispatch$.next({event:p.DropModel,name:o,args:[e,l,c,u,h,d,f,n,i]})}}))}},{key:"setupEvents",value:function(e){var t=this;if(!e.initEvents){e.initEvents=!0;var n=e.name;g.forEach((function(i){e.drake.on(i,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t.dispatch$.next({event:i,name:n,args:r})}))}))}}},{key:"domIndexOf",value:function(e,t){return Array.prototype.indexOf.call(t.children,e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Xb(b,8))},e.\u0275prov=l.Jb({token:e,factory:e.\u0275fac}),e}(),w=function(){var e=function(){function e(t,n){Object(o.a)(this,e),this.el=t,this.dragulaService=n,this.dragulaModelChange=new l.p}return Object(i.a)(e,[{key:"ngOnChanges",value:function(e){if(e&&e.dragula){var t=e.dragula,n=t.previousValue,i=!!t.currentValue;!!n&&this.teardown(n),i&&this.setup()}else if(e&&e.dragulaModel){var r=e.dragulaModel,o=r.previousValue,s=r.currentValue,a=this.group.drake;if(this.dragula&&a){a.models=a.models||[];var l=a.models.indexOf(o);-1!==l?(a.models.splice(l,1),s&&a.models.splice(l,0,s)):s&&a.models.push(s)}}}},{key:"setup",value:function(){var e=this,t=this.dragulaService.find(this.dragula);t||(t=this.dragulaService.createGroup(this.dragula,{})),function(t){e.dragulaModel&&(t.drake.models?t.drake.models.push(e.dragulaModel):t.drake.models=[e.dragulaModel])}(t),t.drake.containers.push(this.container),this.subscribe(this.dragula),this.group=t}},{key:"subscribe",value:function(e){var t=this;this.subs=new u.a,this.subs.add(this.dragulaService.dropModel(e).subscribe((function(e){var n=e.target,i=e.targetModel;e.source===t.el.nativeElement?t.dragulaModelChange.emit(e.sourceModel):n===t.el.nativeElement&&t.dragulaModelChange.emit(i)}))),this.subs.add(this.dragulaService.removeModel(e).subscribe((function(e){e.source===t.el.nativeElement&&t.dragulaModelChange.emit(e.sourceModel)})))}},{key:"teardown",value:function(e){this.subs&&this.subs.unsubscribe();var t=this.dragulaService.find(e);if(t){var n=t.drake.containers.indexOf(this.el.nativeElement);if(-1!==n&&t.drake.containers.splice(n,1),this.dragulaModel&&t.drake&&t.drake.models){var i=t.drake.models.indexOf(this.dragulaModel);-1!==i&&t.drake.models.splice(i,1)}}}},{key:"ngOnDestroy",value:function(){this.teardown(this.dragula)}},{key:"container",get:function(){return this.el&&this.el.nativeElement}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Nb(l.n),l.Nb(_))},e.\u0275dir=l.Ib({type:e,selectors:[["","dragula",""]],inputs:{dragula:"dragula",dragulaModel:"dragulaModel"},outputs:{dragulaModelChange:"dragulaModelChange"},features:[l.zb]}),e}(),C=function(){var e=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[_]}}}]),e}();return e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({factory:function(t){return new(t||e)}}),e}()},"9YtQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return _}));var i=n("1OyB"),r=n("vuIU"),o=n("fXoL"),s=n("ofXK"),a={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:"Unknown"},l={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},c={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},u={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:"Unknown",HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone"},h=Object.assign(Object.assign(Object.assign({},l),c),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/}),d={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,iOS:/(iPhone OS\s*[0-9_]+)/},f={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},p=function(e,t){return e[t]=d[t],e},g=Object.keys(d).reduce(p,{}),m=function(e,t){return e[a[t]]=f[t],e},b=Object.keys(f).reduce(m,{}),v=Object.freeze({__proto__:null,BROWSERS:a,MOBILES_RE:l,TABLETS_RE:c,DEVICES:u,OS:{WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:"Unknown"},OS_VERSIONS:{WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",UNKNOWN:"unknown"},OS_RE:{WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:h,OS_VERSIONS_RE_MAP:d,BROWSER_VERSIONS_RE_MAP:f,OS_VERSIONS_RE:g,BROWSER_VERSIONS_RE:b,"\u02750":p,"\u02751":m}),y=function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"test",value:function(e,t){var n=this;return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.test(e):t&&Array.isArray(t.and)?t.and.every((function(t){return n.test(e,t)})):t&&Array.isArray(t.or)?t.or.some((function(t){return n.test(e,t)})):!(!t||!t.not||this.test(e,t.not))}},{key:"exec",value:function(e,t){var n=this;return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.exec(e):t&&Array.isArray(t)?t.reduce((function(t,i){return t||n.exec(e,i)}),null):null}}]),e}(),_=function(){var e=function(){function e(t){Object(i.a)(this,e),this.platformId=t,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new y,Object(s.v)(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}return Object(r.a)(e,[{key:"setDeviceInfo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userAgent;t!==this.userAgent&&(this.userAgent=t);var n=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(n.forEach((function(n){e[n.prop]=Object.keys(v[n.const]).reduce((function(i,r){return"device"===v[n.const][r]&&Object(s.v)(e.platformId)&&(e.reTree.test(e.userAgent,c.iPad)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(i[v[n.const][r]]="iPad",Object):(i[v[n.const][r]]=e.reTree.test(t,v["".concat(n.const,"_RE")][r]),i)}),{})})),n.forEach((function(t){e[t.prop]=Object.keys(v[t.const]).map((function(e){return v[t.const][e]})).reduce((function(n,i){return"device"===t.prop&&n===v[t.const].ANDROID?e[t.prop][i]?i:n:n===v[t.const].UNKNOWN&&e[t.prop][i]?i:n}),v[t.const].UNKNOWN)})),this.browser_version="0",this.browser!==a.UNKNOWN){var i=b[this.browser],r=this.reTree.exec(t,i);r&&(this.browser_version=r[1])}}},{key:"getDeviceInfo",value:function(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version}}},{key:"isMobile",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userAgent;if(this.isTablet(t))return!1;var n=Object.keys(l).find((function(n){return e.reTree.test(t,l[n])}));return!!n}},{key:"isTablet",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userAgent;if(Object(s.v)(this.platformId)&&(this.reTree.test(this.userAgent,c.iPad)||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))return!0;var n=Object.keys(c).find((function(n){return!!e.reTree.test(t,c[n])}));return!!n}},{key:"isDesktop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.userAgent,t=[u.PS4,u.CHROME_BOOK,u.UNKNOWN];return(this.device!==u.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&t.indexOf(this.device)>-1}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Xb(o.E))},e.\u0275prov=Object(o.Jb)({factory:function(){return new e(Object(o.Xb)(o.E))},token:e,providedIn:"root"}),e}(),w=function(){var e=function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[_]}}}]),e}();return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[s.c]]}),e}()},"9nlD":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("ofXK"),r=n("K3ix"),o=n("TwVa"),s=n("fXoL"),a=n("psEu"),l=["modal"];function c(e,t){if(1&e){var n=s.Ub();s.Tb(0,"div",4),s.Tb(1,"alert",5),s.Tb(2,"button",6),s.bc("click",(function(){return s.vc(n),s.dc(),s.sc(1).hide()})),s.Tb(3,"span",7),s.Ec(4,"\xd7"),s.Sb(),s.Sb(),s.Ec(5),s.Sb(),s.Sb()}if(2&e){var i=s.dc();s.Bb(1),s.jc("type",i.config.type),s.Bb(4),s.Gc(" ",i.config.message," ")}}var u=function(){function e(){}return e.prototype.openModal=function(){var e=this.config.hasOwnProperty("backdrop")?this.config.backdrop:this.config.type!==o.NotificationType.SUCCESS;this.modal.config.backdrop=e,this.modal.config.ignoreBackdropClick=e,this.modal.show()},e.prototype.ngOnInit=function(){var e=this;this.config.type===o.NotificationType.SUCCESS&&(this.timer=window.setTimeout((function(){e.modal.hide()}),3e3))},e.prototype.ngOnDestroy=function(){this.timer&&clearTimeout(this.timer)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-notification"]],viewQuery:function(e,t){var n;1&e&&s.Ac(l,!0),2&e&&s.rc(n=s.cc())&&(t.modal=n.first)},inputs:{config:"config"},decls:4,vars:1,consts:[["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["modal","bs-modal"],["role","document",1,"modal-dialog","modal-sm"],["class","modal-content shadow",4,"ngIf"],[1,"modal-content","shadow"],[1,"m-0",3,"type"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(e,t){1&e&&(s.Tb(0,"div",0,1),s.Tb(2,"div",2),s.Cc(3,c,6,2,"div",3),s.Sb(),s.Sb()),2&e&&(s.Bb(3),s.jc("ngIf",t.config))},directives:[r.b,i.m,a.a],styles:["alert[_ngcontent-%COMP%]     .alert {\n      margin-bottom: 0;\n      text-align: center;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }"]}),e}(),h=n("iFvM"),d=function(){function e(e,t,n,i){this._document=e,this.componentFactoryResolver=t,this.appRef=n,this.injector=i}return e.prototype.open=function(e){return this.appendModal(e)},e.prototype.error=function(e,t){return this.appendModal({type:o.NotificationType.DANGER,message:Object(h.l)(e,t)})},e.prototype.success=function(e){return this.appendModal({type:o.NotificationType.SUCCESS,message:e})},e.prototype.close=function(){this.dialog&&this.dialog.modal.hide()},e.prototype.appendModal=function(e){var t=this.componentFactoryResolver.resolveComponentFactory(u).create(this.injector);return this.dialog=t.instance,t.instance.config=e,t.instance.modal.onHide.subscribe((function(){t.destroy()})),this.appRef.attachView(t.hostView),this._document.body.appendChild(t.hostView.rootNodes[0]),setTimeout((function(){t.instance.openModal()})),t},e.\u0275fac=function(t){return new(t||e)(s.Xb(i.d),s.Xb(s.k),s.Xb(s.g),s.Xb(s.t))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},AIMp:function(e,t,n){"use strict";var i={};function r(){try{return new window.XMLHttpRequest}catch(e){}}i._getBinaryFromXHR=function(e){return e.response||e.responseText};var o="undefined"!=typeof window&&window.ActiveXObject?function(){return r()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:r;i.getBinaryContent=function(e,t){var n,r,s,a;t||(t={}),"function"==typeof t?(a=t,t={}):"function"==typeof t.callback&&(a=t.callback),a||"undefined"==typeof Promise?(r=function(e){a(null,e)},s=function(e){a(e,null)}):n=new Promise((function(e,t){r=e,s=t}));try{var l=o();l.open("GET",e,!0),"responseType"in l&&(l.responseType="arraybuffer"),l.overrideMimeType&&l.overrideMimeType("text/plain; charset=x-user-defined"),l.onreadystatechange=function(t){if(4===l.readyState)if(200===l.status||0===l.status)try{r(i._getBinaryFromXHR(l))}catch(n){s(new Error(n))}else s(new Error("Ajax error for "+e+" : "+this.status+" "+this.statusText))},t.progress&&(l.onprogress=function(n){t.progress({path:e,originalEvent:n,percent:n.loaded/n.total*100,loaded:n.loaded,total:n.total})}),l.send()}catch(c){s(new Error(c),null)}return n},e.exports=i},AytR:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={production:!0,useHash:!1,apiBaseUrl:"http://tech-pc3:222",version:n("kiQV").version,excludeHomePage:!1}},B9Yq:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},BFxc:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("Ji7U"),r=n("LK+K"),o=n("1OyB"),s=n("vuIU"),a=n("7o/Q"),l=n("4I5i"),c=n("EY2u");function u(e){return function(t){return 0===e?Object(c.b)():t.lift(new h(e))}}var h=function(){function e(t){if(Object(o.a)(this,e),this.total=t,this.total<0)throw new l.a}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new d(e,this.total))}}]),e}(),d=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e,i){var r;return Object(o.a)(this,n),(r=t.call(this,e)).total=i,r.ring=new Array,r.count=0,r}return Object(s.a)(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=t++%n;e.next(i[o])}e.complete()}}]),n}(a.a)},BsWD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("a3WO");function r(e,t){if(e){if("string"==typeof e)return Object(i.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i.a)(e,t):void 0}}},CMQV:function(e,t){},Cfvw:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("HDdC"),r=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),l=n("Lhse"),c=n("c2HN"),u=n("I55L");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[s.a]}(e))return function(e,t){return new i.a((function(n){var i=new o.a;return i.add(t.schedule((function(){var r=e[s.a]();i.add(r.subscribe({next:function(e){i.add(t.schedule((function(){return n.next(e)})))},error:function(e){i.add(t.schedule((function(){return n.error(e)})))},complete:function(){i.add(t.schedule((function(){return n.complete()})))}}))}))),i}))}(e,t);if(Object(c.a)(e))return function(e,t){return new i.a((function(n){var i=new o.a;return i.add(t.schedule((function(){return e.then((function(e){i.add(t.schedule((function(){n.next(e),i.add(t.schedule((function(){return n.complete()})))})))}),(function(e){i.add(t.schedule((function(){return n.error(e)})))}))}))),i}))}(e,t);if(Object(u.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[l.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new i.a((function(n){var i,r=new o.a;return r.add((function(){i&&"function"==typeof i.return&&i.return()})),r.add(t.schedule((function(){i=e[l.a](),r.add(t.schedule((function(){if(!n.closed){var e,t;try{var r=i.next();e=r.value,t=r.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),r}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof i.a?e:new i.a(Object(r.a)(e))}},Czp8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("eY+I"),r=new(function(){function e(){this.STORAGE_KEY="app-variables",this.SETTINGS_KEY="app-settings-variables",this._contextVariables={},this._variables=this.getLocalStorageVars(),this._settingsVariables=this.getLocalStorageVars(this.SETTINGS_KEY)}return Object.defineProperty(e.prototype,"variables",{get:function(){return this._variables},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contextVariables",{get:function(){return this._contextVariables},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"settingsVariables",{get:function(){return this._settingsVariables},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentEnv",{get:function(){return localStorage.getItem("env")},set:function(e){e?localStorage.setItem("env",e):localStorage.removeItem("env")},enumerable:!1,configurable:!0}),e.prototype.setVariable=function(e,t,n){n?(this._variables[n]=this._variables[n]||{},this._variables[n][e]=t):this._variables[e]=t,this.syncVariables()},e.prototype.setSettingsVariable=function(e,t){this._settingsVariables[e]=t,this.syncVariables(this.SETTINGS_KEY,this._settingsVariables)},e.prototype.syncVariables=function(e,t){void 0===e&&(e=this.STORAGE_KEY),void 0===t&&(t=this.variables),localStorage.setItem(e,JSON.stringify(t))},e.prototype.setVariables=function(e){this._variables=e.filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]=t.value,e}),{}),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.variables))},e.prototype.setContextVariable=function(e){this._contextVariables[e.name]=e.value},e.prototype.removeContextVariable=function(e){delete this._contextVariables[e]},e.prototype.getContextVar=function(e){return this.contextVariables[e]},e.prototype.addVariables=function(e){this._variables=e.filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]=t.value,e}),this._variables),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.variables))},e.prototype.resolve=function(e,t){var n=this;return Array.isArray(e)?e.map((function(e){return n.resolve(e,t)})):"string"==typeof e?this.resolveString(e,t):Object.keys(e).reduce((function(i,r){var o=e[r];return i[r]="string"==typeof o?n.resolveString(o,t):Array.isArray(o)?o.map((function(e){return n.resolve(e,t)})):"object"==typeof o?n.resolve(e[r],t):o,i}),{})},e.prototype.resolveString=function(e,t){var n=this;if("string"!=typeof e)return e;(t=t||{})instanceof Map&&(t=Object(i.o)(t));var r=e.match(/{{[\w-]*}}+[\w\/]*/g);if(r){var o=e;return r.forEach((function(e){var r=e.split("}}/"),s=r[1],a=r[0].replace("{{","").replace("}}",""),l=t[a]||n.variables[a]||n.contextVariables[a];o="object"!=typeof l?o.replace("{{"+a+"}}",l):s?Object(i.s)(l,"$."+s):l})),o}var s=this.resolvePath(e);if(s){var a=t[s.key]||this.variables[s.key]||this.contextVariables[s.key],l=Object(i.s)(a,"$."+s.name);if(l)return l}return e},e.prototype.resolvePath=function(e){var t=e.match(/^\$([\w-]+)*/);if(t&&t[1]){var n=t[1];return-1!==e.indexOf("/")?{name:e.replace("$"+n+"/","$."),key:n}:{name:"$",key:n}}},e.prototype.isVariable=function(e){return"string"==typeof e&&Boolean(e.match(/^{{[\w-]*}}+[\w\/]*/g))},e.prototype.getLocalStorageVars=function(e){void 0===e&&(e=this.STORAGE_KEY);try{return JSON.parse(localStorage.getItem(e))||{}}catch(t){return console.error(t),{}}},e}())},D0XW:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("3N8a"),r=new(n("IjjT").a)(i.a)},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},DSFK:function(e,t,n){"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return i}))},EDFS:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var i=n("vuIU"),r=n("1OyB"),o=n("fXoL"),s=n("3XJ7"),a=n("lUod"),l=n("WyaX"),c=n("PqYM"),u=n("ofXK");function h(e,t){if(1&e&&(o.Tb(0,"h3",3),o.Ec(1),o.Sb()),2&e){var n=o.dc();o.Bb(1),o.Fc(n.title)}}var d=["*"],f=function(){var e=function e(){Object(r.a)(this,e),this.adaptivePosition=!0,this.placement="top",this.triggers="click",this.outsideClick=!1,this.delay=0};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(o.Jb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),p=function(){var e=function(){function e(t){Object(r.a)(this,e),Object.assign(this,t)}return Object(i.a)(e,[{key:"isBs3",get:function(){return Object(a.d)()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Nb(f))},e.\u0275cmp=o.Hb({type:e,selectors:[["popover-container"]],hostAttrs:["role","tooltip",2,"display","block"],hostVars:7,hostBindings:function(e,t){2&e&&(o.Cb("id",t.popoverId),o.Db("popover in popover-"+t.placement+" bs-popover-"+t.placement+" "+t.placement+" "+t.containerClass),o.Fb("show",!t.isBs3)("bs3",t.isBs3))},inputs:{placement:"placement",title:"title"},ngContentSelectors:d,decls:4,vars:1,consts:[[1,"popover-arrow","arrow"],["class","popover-title popover-header",4,"ngIf"],[1,"popover-content","popover-body"],[1,"popover-title","popover-header"]],template:function(e,t){1&e&&(o.ic(),o.Ob(0,"div",0),o.Cc(1,h,2,1,"h3",1),o.Tb(2,"div",2),o.hc(3),o.Sb()),2&e&&(o.Bb(1),o.jc("ngIf",t.title))},directives:[u.m],styles:[".bs3.popover-top[_nghost-%COMP%] {\n      margin-bottom: 10px;\n    }\n    .bs3.popover.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%] {\n      margin-left: -2px;\n    }\n    .bs3.popover.top[_nghost-%COMP%] {\n      margin-bottom: 10px;\n    }\n    .popover.bottom[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%] {\n      margin-left: -4px;\n    }\n    .bs3.bs-popover-left[_nghost-%COMP%] {\n      margin-right: .5rem;\n    }\n    .bs3.bs-popover-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-popover-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{\n      margin: .3rem 0;\n    }"],changeDetection:0}),e}(),g=0,m=function(){var e=function(){function e(t,n,i,o,s,a){Object(r.a)(this,e),this._elementRef=n,this._renderer=i,this._positionService=a,this.popoverId=g++,this.outsideClick=!1,this.containerClass="",this._isInited=!1,this._popover=s.createLoader(n,o,i).provide({provide:f,useValue:t}),Object.assign(this,t),this.onShown=this._popover.onShown,this.onHidden=this._popover.onHidden,"undefined"!=typeof window&&n.nativeElement.addEventListener("click",(function(){try{n.nativeElement.focus()}catch(e){return}}))}return Object(i.a)(e,[{key:"setAriaDescribedBy",value:function(){this._ariaDescribedby=this.isOpen?"ngx-popover-".concat(this.popoverId):null,this._ariaDescribedby?(this._popover.instance.popoverId=this._ariaDescribedby,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby)):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}},{key:"show",value:function(){var e=this;if(!this._popover.isShown&&this.popover&&!this._delayTimeoutId){this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition}}});var t=function(){e._delayTimeoutId&&(e._delayTimeoutId=void 0),e._popover.attach(p).to(e.container).position({attachment:e.placement}).show({content:e.popover,context:e.popoverContext,placement:e.placement,title:e.popoverTitle,containerClass:e.containerClass}),e.adaptivePosition||(e._positionService.calcPosition(),e._positionService.deletePositionElement(e._popover._componentRef.location)),e.isOpen=!0,e.setAriaDescribedBy()},n=function(){e._popoverCancelShowFn&&e._popoverCancelShowFn()};if(this.delay){var i=Object(c.a)(this.delay).subscribe((function(){t(),n()}));this.triggers&&Object(a.f)(this.triggers).forEach((function(t){e._popoverCancelShowFn=e._renderer.listen(e._elementRef.nativeElement,t.close,(function(){i.unsubscribe(),n()}))}))}else t()}}},{key:"hide",value:function(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this.isOpen&&(this._popover.hide(),this.setAriaDescribedBy(),this.isOpen=!1)}},{key:"toggle",value:function(){if(this.isOpen)return this.hide();this.show()}},{key:"ngOnInit",value:function(){var e=this;this._isInited||(this._isInited=!0,this._popover.listen({triggers:this.triggers,outsideClick:this.outsideClick,show:function(){return e.show()},hide:function(){return e.hide()}}))}},{key:"ngOnDestroy",value:function(){this._popover.dispose()}},{key:"isOpen",get:function(){return this._popover.isShown},set:function(e){e?this.show():this.hide()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Nb(f),o.Nb(o.n),o.Nb(o.G),o.Nb(o.R),o.Nb(s.a),o.Nb(l.a))},e.\u0275dir=o.Ib({type:e,selectors:[["","popover",""]],inputs:{outsideClick:"outsideClick",containerClass:"containerClass",isOpen:"isOpen",adaptivePosition:"adaptivePosition",popover:"popover",popoverContext:"popoverContext",popoverTitle:"popoverTitle",placement:"placement",triggers:"triggers",container:"container",delay:"delay"},outputs:{onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-popover"]}),e}(),b=function(){var e=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[s.a,l.a]}}}]),e}();return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[u.c]]}),e}()},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("HDdC"),r=new i.a((function(e){return e.complete()}));function o(e){return e?function(e){return new i.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):r}},FQei:function(e,t,n){"use strict";function i(e){return void 0===e&&(e=""),e.replace(/^\w/,(function(e){return e.toUpperCase()})).replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/_/g," ")}function r(e,t,n){return void 0===n&&(n=""),e.replace(new RegExp(t,"g"),n||"")}n.r(t),n.d(t,"formatCamelStr",(function(){return i})),n.d(t,"replaceAll",(function(){return r}))},GXwU:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var i=n("mrSG"),r=n("fXoL"),o=n("JX91"),s=n("lJxs"),a=n("pLZG"),l=n("eIep"),c=n("JIr8"),u=n("2Vo4"),h=n("EY2u"),d=n("LRne"),f=n("z6cu"),p=(n("K3ix"),n("ZF+8")),g=n("TwVa"),m=n("HvV6"),b=n("j13F"),v=n("iFvM"),y=n("3cVM"),_=n("ZOsW"),w=n("3Pt+"),C=n("ofXK"),S=n("psEu"),O=["selectConnection"],T=["selectTable"];function k(e,t){1&e&&r.Ec(0),2&e&&r.Fc(t.item.connectionName)}function x(e,t){1&e&&r.Ec(0),2&e&&r.Fc(t.item.connectionName)}function E(e,t){if(1&e){var n=r.Ub();r.Rb(0),r.Tb(1,"div",31),r.Tb(2,"label",32),r.Ec(3,"Schema name"),r.Sb(),r.Tb(4,"div",33),r.Tb(5,"input",34),r.bc("ngModelChange",(function(e){return r.vc(n),r.dc().metaData.schemaName=e})),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",31),r.Tb(7,"label",35),r.Ec(8,"Object name"),r.Sb(),r.Tb(9,"div",33),r.Tb(10,"input",36),r.bc("ngModelChange",(function(e){return r.vc(n),r.dc().metaData.objectName=e})),r.Sb(),r.Sb(),r.Sb(),r.Qb()}if(2&e){var i=r.dc();r.Bb(5),r.jc("ngModel",i.metaData.schemaName),r.Bb(5),r.jc("ngModel",i.metaData.objectName)}}function j(e,t){if(1&e&&r.Ec(0),2&e){var n=t.item;r.Hc("",n.schemaName,".",n.objectName,"")}}function A(e,t){if(1&e&&r.Ec(0),2&e){var n=t.item;r.Hc("",n.schemaName,".",n.objectName,"")}}function I(e,t){if(1&e){var n=r.Ub();r.Rb(0),r.Tb(1,"label",37),r.Ec(2,"Import data into"),r.Sb(),r.Tb(3,"ng-select",38,39),r.bc("change",(function(e){return r.vc(n),r.dc().onTableSelect(e)})),r.Cc(5,j,1,2,"ng-template",11),r.Cc(6,A,1,2,"ng-template",12),r.Sb(),r.Qb()}if(2&e){var i=r.dc();r.Bb(3),r.jc("items",i.tables)("searchFn",i.tableSearchFn)}}function M(e,t){1&e&&(r.Tb(0,"span",40),r.Ec(1,"Key fields are required."),r.Sb())}function P(e,t){if(1&e&&(r.Tb(0,"span",41),r.Ec(1),r.ec(2,"number"),r.Sb()),2&e){var n=r.dc();r.Bb(1),r.Gc("",r.fc(2,1,n.rowsLoaded)," rows loaded")}}function D(e,t){if(1&e&&(r.Tb(0,"div",42),r.Tb(1,"div",43),r.Tb(2,"span",44),r.Ec(3,"Loading..."),r.Sb(),r.Sb(),r.Tb(4,"h5"),r.Ec(5),r.Sb(),r.Sb()),2&e){var n=r.dc();r.Bb(5),r.Fc(n.progressMessage)}}function R(e,t){if(1&e&&(r.Tb(0,"div",45),r.Tb(1,"alert",46),r.Tb(2,"strong"),r.Ec(3,"Error:"),r.Sb(),r.Ec(4),r.Sb(),r.Sb()),2&e){var n=r.dc();r.Bb(4),r.Gc(" Verify file format (",n.error,"). ")}}var N=function(){function e(e,t,n,i){this.fileService=e,this.sqlService=t,this.notificationService=n,this.dialogService=i,this.import=new r.p,this.dataTypes=Object.values(g.SQLDataTypes),this.createTable$=new u.a(!0),this.loading=!1,this.preprocessors=g.Preprocessors}return e.prototype.ngOnInit=function(){var e=this;this.metaData={objectId:0,objectName:null,schemaName:null,objectType:g.DbObjectType.Table,fields:[]},this.selectConnection.changeEvent.pipe(Object(o.a)(this.config.connection),Object(s.a)((function(t){var n;return e.connection=null===(n=t)||void 0===n?void 0:n.connectionName,e.metaData.schemaName=null==t?void 0:t.defaultSchema,e.tables=[],e.selectTable&&e.selectTable.clearModel(),e.connection})),Object(a.a)((function(e){return Boolean(e)})),Object(l.a)((function(t){return e.sqlService.getObjects(t).pipe(Object(c.a)((function(t){return e.notificationService.open({type:g.NotificationType.DANGER,message:Object(v.l)(t)}),h.a})))}))).subscribe((function(t){return e.tables=t})),this.createTable$.subscribe((function(t){t?e.createNewTableColumns():e.createSelectedTableColumns()}))},e.prototype.tableSearchFn=function(e,t){return e=e.toLowerCase(),(t.schemaName.toLowerCase()+"."+t.objectName.toLowerCase()).includes(e)},e.prototype.connectionSearchFn=function(e,t){return e=e.toLowerCase(),t.connectionName.toLowerCase().includes(e)},Object.defineProperty(e.prototype,"isValid",{get:function(){var e=this.createTable$.value?this.metaData:this.selectedTable;return Boolean(this.connection&&this.data&&(null==e?void 0:e.schemaName)&&e.objectName&&e.fields.length)},enumerable:!1,configurable:!0}),e.prototype.onTableSelect=function(e){var t=this;e?(this.loading=!0,this.sqlService.getMetaDataObject(this.connection,e.schemaName,e.objectName).subscribe((function(e){t.selectedTable=e,t.createSelectedTableColumns(),t.loading=!1}))):(this.selectedTable=null,this.tableColumns=[])},e.prototype.importData=function(){var e=this;this.loading=!0;var t=this.createTable$.value,n=this.mappings.getItems(),r=Object(v.r)(n),o=Object(i.a)(Object(i.a)({},t?this.metaData:this.selectedTable),{fields:Object(v.o)(n),primaryKeys:r}),s=this.getMergeDataDto();r.length?Array.isArray(s)?(this.notificationService.error(null,"Data contains duplicates"),this.dialogService.open(m.a,{class:"modal-w-90 full-height d-flex flex-column"}).config={data:s,fields:n,title:"Duplicated fields"},this.loading=!1):(this.progressMessage=t?g.ProgressMessage.Create:g.ProgressMessage.Importing,(t?this.sqlService.generateObject(this.connection,o):Object(d.a)(null)).pipe(Object(c.a)((function(t){var n=Object(v.l)(t)||"Failed to create new table";return e.notificationService.open({message:n,type:g.NotificationType.DANGER}),Object(f.a)(n)})),Object(l.a)((function(){return e.saveData$(s)}))).subscribe((function(t){return e.importHandler(o,t)}),(function(t){return e.importErrorHandler(t)}))):(this.notificationService.error(null,"Table should have primary key."),this.loading=!1)},e.prototype.previewData=function(){var e=this.dialogService.open(m.a,{class:"modal-w-90 full-height d-flex flex-column"}),t=this.mappings.getItems();e.config={data:b.b.getValuesFromCsv(this.data,t,this.sourceFieldNames).rows,fields:t}},e.prototype.loadCSV=function(){var e=this;this.fileService.importCSVFile$().subscribe((function(t){if(e.error=null,t.scallarTable){var n=t.file;e.metaData.objectName||(e.metaData.objectName=Object(v.h)(n.name.replace(/.txt|-|.csv$/g,""))),e.data=t.scallarTable.rows,e.rowsLoaded=e.data.length,e.fileName=n.name;try{e.sourceFields=t.scallarTable.fieldDescriptions,e.sourceFieldNames=t.scallarTable.fieldNames,e.metaData.fields=t.scallarTable.fieldDescriptions.map((function(e){var t=g.DataTypeToSqlTypesMap[e.dataTypeName]||g.SQLDataTypes.NVARCHAR;return{fieldName:e.fieldName,dataType:t,size:g.SqlTypesSizes[t]&&Math.max(e.maxSize||0,g.SqlTypesSizes[t]),isNullable:"boolean"!=typeof e.isNullable||e.isNullable}})),e.createTable$.value?e.createNewTableColumns():e.createSelectedTableColumns()}catch(i){e.data=null,e.sourceFields=null,e.sourceFieldNames=null,e.metaData.fields=null,e.error=i.message}finally{e.loading=!1}}else e.loading=!0}))},e.prototype.getSelectedTableTitle=function(){return this.selectedTable?this.selectedTable.schemaName+"."+this.selectedTable.objectName:"Select table"},e.prototype.importHandler=function(e,t){var n=this;if(t.savedItemsCount===t.itemsToSaveCount)this.notificationService.open({type:g.NotificationType.SUCCESS,message:Object(v.u)(t)}),this.progressMessage=g.ProgressMessage.Imported,setTimeout((function(){n.modalRef.hide(),n.loading=!1,n.progressMessage=null,n.import.emit({newTable:n.createTable$.value,metaData:e,connection:n.connection})}),1e3);else{var i=t.savedItemsCount?"So far ":"";t.inserted&&(i+="Inserted: "+t.inserted.toLocaleString()+" "),t.updated&&(i+="Updated: "+t.updated.toLocaleString()+" "),t.deleted&&(i+="Deleted: "+t.deleted.toLocaleString()),this.progressMessage=g.ProgressMessage.Importing+" "+t.itemsToSaveCount.toLocaleString()+" rows. "+i}},e.prototype.importErrorHandler=function(e){this.loading=!1,this.progressMessage=null,console.error(e)},e.prototype.createSelectedTableColumns=function(){var e,t=this;if(this.selectedTable){var n=new Set(null===(e=this.selectedTable.primaryKeys)||void 0===e?void 0:e.map((function(e){return e.fieldName})));this.tableColumns=Object(v.b)(this.selectedTable.fields).map((function(e){var i=t.sourceFields?t.sourceFields.find((function(t){return t.fieldName===e.fieldName})):null;return{fieldName:e.fieldName,dataType:e.dataType||g.DataTypeToSqlTypesMap[i.dataTypeName]||g.SQLDataTypes.NVARCHAR,size:e.size,sourceField:null==i?void 0:i.fieldName,isKey:n.has(e.fieldName),preprocessFunc:null,preprocessParams:null}}))}else this.tableColumns=[]},e.prototype.createNewTableColumns=function(){this.sourceFields&&(this.tableColumns=Object(v.b)(this.sourceFields).map((function(e,t){var n=g.DataTypeToSqlTypesMap[e.dataTypeName]||g.SQLDataTypes.NVARCHAR,i=g.SqlTypesSizes[n]&&Math.max(e.maxSize||0,g.SqlTypesSizes[n]);return{fieldName:Object(v.h)(e.fieldName),dataType:n,size:i,sourceField:e.fieldName,isKey:e.isUnique,preprocessFunc:null,preprocessParams:null}})))},e.prototype.saveData$=function(e){var t=this;this.progressMessage=g.ProgressMessage.Importing;var n=this.createTable$.value?this.metaData:this.selectedTable;return this.sqlService.mergeInData$(this.connection,n.schemaName+"."+n.objectName,e).pipe(Object(c.a)((function(e){var n="string"==typeof e.error?e.error:"Failed to Import";return t.notificationService.open({message:n,type:g.NotificationType.DANGER}),Object(f.a)(n)})))},e.prototype.getMergeDataDto=function(){var e=this.mappings.getItems(),t=e.map((function(e){return e.fieldName})),n=t.map((function(e,t){return e?t:-1})).filter((function(e){return-1!==e})),i=b.b.getValuesFromCsv(this.data,e,this.sourceFieldNames);return i.duplicates.length?i.duplicates:{tableData:{fieldNames:t.filter((function(e){return e})),rows:i.rows.map((function(e){return e.filter((function(e,t){return n.includes(t)}))}))}}},e.\u0275fac=function(t){return new(t||e)(r.Nb(p.c),r.Nb(p.f),r.Nb(p.e),r.Nb(p.b))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-import-csv"]],viewQuery:function(e,t){var n;1&e&&(r.Ac(y.a,!0),r.Ac(O,!0),r.Jc(T,!0)),2&e&&(r.rc(n=r.cc())&&(t.mappings=n.first),r.rc(n=r.cc())&&(t.selectConnection=n.first),r.rc(n=r.cc())&&(t.selectTable=n.first))},inputs:{modalRef:"modalRef",config:"config"},outputs:{import:"import"},decls:48,vars:29,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4","d-flex","flex-column","h-100","overflow-hidden"],[1,"row","m-0"],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"d-flex","w-75"],["for","object-name",1,"col-sm-2","col-form-label","pl-2","pr-0"],["placeholder","Select connection",1,"px-0","col-sm-3",3,"items","ngModel","searchFn"],["selectConnection",""],["ng-label-tmp",""],["ng-option-tmp",""],[4,"ngIf"],[1,"form-check","form-check-inline"],["type","checkbox","id","create-tabel",1,"form-check-input","mr-2",3,"checked","value","change"],["for","create-tabel",1,"form-check-label"],[1,"row","flex-fill","mx-0","flex-column","my-2","h-100","position-relative","overflow-hidden"],[1,"row","mx-0"],[1,"table-title"],["class","ml-2",4,"ngIf"],["class","ml-auto",4,"ngIf"],[1,"fields-container","d-flex","flex-fill","w-100",3,"tableColumns","sourceFields","isNewTable"],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],["class","d-flex position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","button",1,"btn","btn-light",3,"disabled","click"],[1,"d-flex","align-items-center","mx-2"],["type","button",1,"btn","btn-primary","ml-auto","mr-2",3,"disabled","click"],["type","button",1,"btn","btn-light",3,"click"],[1,"form-group","row","m-0","w-50x"],["for","schema-name",1,"col-sm-5","col-form-label","pl-2","pr-0"],[1,"col-sm-7","px-2"],["type","text","id","schema-name","placeholder","Shema",1,"form-control",3,"ngModel","ngModelChange"],["for","object-name",1,"col-sm-5","col-form-label","pl-2","pr-0"],["type","text","id","object-name","placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],["for","object-name",1,"col-sm-2","col-form-label"],["placeholder","Select table",1,"col","px-0","mr-3",3,"items","searchFn","change"],["selectTable",""],[1,"ml-2"],[1,"ml-auto"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"d-flex","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["type","danger"]],template:function(e,t){1&e&&(r.Tb(0,"div",0),r.Tb(1,"h4",1),r.Ec(2,"Import CSV data"),r.Sb(),r.Tb(3,"button",2),r.bc("click",(function(){return t.modalRef.hide()})),r.Tb(4,"span",3),r.Ec(5,"\xd7"),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",4),r.Tb(7,"div",5),r.Tb(8,"button",6),r.bc("click",(function(){return t.loadCSV()})),r.Ec(9,"Browse..."),r.Sb(),r.Tb(10,"div",7),r.Tb(11,"label",8),r.Ec(12,"Select connection"),r.Sb(),r.Tb(13,"ng-select",9,10),r.Cc(15,k,1,1,"ng-template",11),r.Cc(16,x,1,1,"ng-template",12),r.Sb(),r.Cc(17,E,11,2,"ng-container",13),r.ec(18,"async"),r.Cc(19,I,7,2,"ng-container",13),r.ec(20,"async"),r.Sb(),r.Tb(21,"div",14),r.Tb(22,"input",15),r.bc("change",(function(e){return t.createTable$.next(e.target.checked)})),r.ec(23,"async"),r.ec(24,"async"),r.Sb(),r.Tb(25,"label",16),r.Ec(26,"Create New Table"),r.Sb(),r.Sb(),r.Sb(),r.Tb(27,"div",17),r.Tb(28,"div",18),r.Tb(29,"h5",19),r.Ec(30,"Fields Mappings"),r.Sb(),r.Cc(31,M,2,0,"span",20),r.ec(32,"async"),r.Cc(33,P,3,3,"span",21),r.Sb(),r.Ob(34,"app-fields-mappings",22),r.ec(35,"async"),r.Cc(36,D,6,1,"div",23),r.Cc(37,R,5,1,"div",24),r.Sb(),r.Sb(),r.Tb(38,"div",25),r.Tb(39,"div",26),r.Tb(40,"button",27),r.bc("click",(function(){return t.previewData()})),r.Ec(41,"Preview Data"),r.Sb(),r.Tb(42,"i",28),r.Ec(43),r.Sb(),r.Tb(44,"button",29),r.bc("click",(function(){return t.importData()})),r.Ec(45,"Import"),r.Sb(),r.Tb(46,"button",30),r.bc("click",(function(){return t.modalRef.hide()})),r.Ec(47,"Cancel"),r.Sb(),r.Sb(),r.Sb()),2&e&&(r.Bb(13),r.jc("items",t.config.connections)("ngModel",t.config.connection)("searchFn",t.connectionSearchFn),r.Bb(4),r.jc("ngIf",r.fc(18,17,t.createTable$)),r.Bb(2),r.jc("ngIf",!r.fc(20,19,t.createTable$)),r.Bb(3),r.jc("checked",r.fc(23,21,t.createTable$))("value",r.fc(24,23,t.createTable$)),r.Bb(9),r.jc("ngIf",!r.fc(32,25,t.createTable$)),r.Bb(2),r.jc("ngIf",t.rowsLoaded),r.Bb(1),r.jc("tableColumns",t.tableColumns)("sourceFields",t.sourceFieldNames)("isNewTable",r.fc(35,27,t.createTable$)),r.Bb(2),r.jc("ngIf",t.loading),r.Bb(1),r.jc("ngIf",t.error),r.Bb(3),r.jc("disabled",!t.data||!t.data.length),r.Bb(3),r.Fc(t.fileName),r.Bb(1),r.jc("disabled",!t.isValid))},directives:[_.a,w.i,w.l,_.d,_.c,C.m,y.a,w.b,S.a],pipes:[C.b,C.f],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.fields-container[_ngcontent-%COMP%]{height:calc(100% - 200px)}"]}),e}()},Gjsa:function(e,t){var n="function"==typeof setImmediate;e.exports=n?function(e){setImmediate(e)}:function(e){setTimeout(e,0)}},H0VJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("ofXK"),r=n("HDdC"),o=n("eIep"),s=n("K3ix"),a=n("mrSG"),l=n("fXoL"),c=["dialogContent"],u=["modal"];function h(e,t){}var d=function(e){return[e]},f=function(){function e(e){this.componentFactoryResolver=e,this.init=new l.p}return Object.defineProperty(e.prototype,"component",{get:function(){if(this.componentRef)return this.componentRef.instance},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;window.requestAnimationFrame((function(){e.loadChildComponent(e.childComponentType),e.init.emit(e.componentRef.instance)}))},e.prototype.loadChildComponent=function(e){var t=this.componentFactoryResolver.resolveComponentFactory(e);this.insertionPoint.clear(),this.componentRef=this.insertionPoint.createComponent(t),this.componentRef.instance.config=this.config,this.modal.config=Object(a.a)(Object(a.a)({},this.options),{ignoreBackdropClick:!0}),this.componentRef.instance.modalRef=this.modal},e.\u0275fac=function(t){return new(t||e)(l.Nb(l.k))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-dynamic-dialog"]],viewQuery:function(e,t){var n;1&e&&(l.Jc(c,!0,l.R),l.Ac(u,!0)),2&e&&(l.rc(n=l.cc())&&(t.insertionPoint=n.first),l.rc(n=l.cc())&&(t.modal=n.first))},inputs:{config:"config",options:"options"},outputs:{init:"init"},decls:6,vars:3,consts:[["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["modal","bs-modal"],["role","document",1,"modal-dialog",3,"ngClass"],[1,"modal-content","shadow","h-100"],["dialogContent",""]],template:function(e,t){1&e&&(l.Tb(0,"div",0,1),l.Tb(2,"div",2),l.Tb(3,"div",3),l.Cc(4,h,0,0,"ng-template",null,4,l.Dc),l.Sb(),l.Sb(),l.Sb()),2&e&&(l.Bb(2),l.jc("ngClass",l.nc(1,d,t.options.class||"")))},directives:[s.b,i.k],styles:[".modal-content[_ngcontent-%COMP%]    >   * {\n      height: 100%;\n    }"]}),e}(),p=function(){function e(){this.confirm=new l.p}return e.prototype.confirmHandle=function(e){this.confirm.emit(e),this.modalRef.hide()},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Hb({type:e,selectors:[["app-confirmation"]],inputs:{modalRef:"modalRef",config:"config"},outputs:{confirm:"confirm"},decls:14,vars:1,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4","d-flex","flex-column","h-100"],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","button",1,"btn","btn-primary","ml-auto","mr-2",3,"click"],["type","button",1,"btn","btn-light",3,"click"]],template:function(e,t){1&e&&(l.Tb(0,"div",0),l.Tb(1,"h4",1),l.Ec(2,"Confirmation"),l.Sb(),l.Tb(3,"button",2),l.bc("click",(function(){return t.confirmHandle(!1)})),l.Tb(4,"span",3),l.Ec(5,"\xd7"),l.Sb(),l.Sb(),l.Sb(),l.Tb(6,"div",4),l.Ec(7),l.Sb(),l.Tb(8,"div",5),l.Tb(9,"div",6),l.Tb(10,"button",7),l.bc("click",(function(){return t.confirmHandle(!0)})),l.Ec(11,"Yes"),l.Sb(),l.Tb(12,"button",8),l.bc("click",(function(){return t.confirmHandle(!1)})),l.Ec(13,"Cancel"),l.Sb(),l.Sb(),l.Sb()),2&e&&(l.Bb(7),l.Gc(" ",t.config.message,"\n"))},styles:[""]}),e}(),g=function(){function e(e,t,n,i,r){this._document=e,this.componentFactoryResolver=t,this.appRef=n,this.injector=i,this.modalService=r}return e.prototype.open=function(e,t){return this.appendModal(),this.dialogComponentRef.instance.childComponentType=e,this.dialogComponentRef.instance.options=t||{},this.dialogComponentRef.instance},e.prototype.close=function(){this.dialogComponentRef&&this.dialogComponentRef.instance.modal.hide()},e.prototype.confirmation=function(e){var t=this.open(p);return t.config={message:e},new r.a((function(e){t.init.pipe(Object(o.a)((function(){return t.component.confirm}))).subscribe((function(t){e.next(t),e.complete()}))}))},e.prototype.openTmpl=function(e){return this.modalService.show(e,{backdrop:!0,ignoreBackdropClick:!0})},e.prototype.appendModal=function(){var e=this;this.dialogComponentRef=this.componentFactoryResolver.resolveComponentFactory(f).create(this.injector),this.dialogComponentRef.instance.modal.onHide.subscribe((function(){e.dialogComponentRef.destroy()})),this.appRef.attachView(this.dialogComponentRef.hostView),this._document.body.appendChild(this.dialogComponentRef.hostView.rootNodes[0]),setTimeout((function(){e.dialogComponentRef.instance.modal.show()}))},e.\u0275fac=function(t){return new(t||e)(l.Xb(i.d),l.Xb(l.k),l.Xb(l.g),l.Xb(l.t),l.Xb(s.a))},e.\u0275prov=l.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},H4hQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("mrSG"),r=n("2Vo4"),o=n("z6cu"),s=n("LRne"),a=n("tk/3"),l=n("pLZG"),c=n("lJxs"),u=n("JIr8"),h=n("vkgz"),d=n("AytR"),f=n("9nlD"),p=n("TwVa"),g=n("Czp8"),m=n("fXoL"),b=d.a.apiBaseUrl+"/api/security",v=function(){function e(e,t){this.httpClient=e,this.notificationService=t,this._isAuth=new r.a(void 0),this.isAuthenticated$=this._isAuth.asObservable().pipe(Object(l.a)((function(e){return"boolean"==typeof e}))),this.getCurrentUser().subscribe()}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token||(this._token=JSON.parse(localStorage.getItem("token"))),this._token},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this._user},enumerable:!1,configurable:!0}),e.prototype.login=function(e){var t=this;return this.httpClient.post(b+"/authenticate",{username:e.userName,password:e.password}).pipe(Object(c.a)((function(e){return t.authHandler(e)})),Object(u.a)((function(e){return t.logout(),t.notificationService.open({type:p.NotificationType.DANGER,message:e.error.message||"Connection error.",backdrop:!1}),Object(o.a)(e)})))},e.prototype.authorize=function(e,t){var n=this;return e?this.httpClient.post(b+"/authenticate-with-access-token/"+e,null).pipe(Object(h.a)((function(e){t&&g.a.setContextVariable({name:t,value:e.token})})),Object(u.a)((function(e){return Object(o.a)(e)}))):this.getCurrentUser().pipe(Object(c.a)((function(e){return{user:e,token:n.token}})))},e.prototype.logout=function(){localStorage.removeItem("token"),g.a.removeContextVariable("userInfo"),g.a.removeContextVariable("authentication_token"),g.a.setVariable("authentication_token",null),this._user=null,this._token=null,this._isAuth.next(!1)},e.prototype.isAuthenticated=function(){return this.isAuthenticated$},e.prototype.getCurrentUser=function(){var e=this;return this._user?(this._isAuth.next(!0),Object(s.a)(this._user)):this.token?this.httpClient.get(b+"/user",this.getHttpHeaders()).pipe(Object(h.a)((function(t){return e.authHandler({user:t,token:e.token})})),Object(u.a)((function(){return e.logout(),Object(o.a)("Not authenticated")}))):(this.logout(),Object(o.a)("Not authenticated"))},e.prototype.lookupUser=function(e){return this.httpClient.get(b+"/lookup-user/"+e,this.getHttpHeaders())},e.prototype.getHttpHeaders=function(){var e=new a.d({"Content-Type":"application/json"});return this.token&&(e=e.append("Authorization","Bearer "+this.token)),{headers:e}},e.prototype.updateUser=function(e){var t=this;return this.httpClient.put(b+"/user",e,this.getHttpHeaders()).pipe(Object(h.a)((function(n){Object.assign(t._user,e),t.notificationService.success("Profile updated")})),Object(u.a)((function(e){return t.notificationService.error(e),Object(o.a)(e)})))},e.prototype.changeSubscription=function(e,t){var n=this;return this.httpClient.post(b+"/change-subscription",e,Object(i.a)({responseType:"text"},this.getHttpHeaders())).pipe(Object(h.a)((function(e){n._user.packageInfo=t,n.notificationService.success(e)})),Object(u.a)((function(e){return n.notificationService.error(e),Object(o.a)(e)})))},e.prototype.authHandler=function(e){var t=e.user,n=e.token;return this._user=t,this._token=n,g.a.setContextVariable({name:"userInfo",value:this._user}),localStorage.setItem("token",JSON.stringify(n)),this._isAuth.next(!0),{user:t,token:n}},e.\u0275fac=function(t){return new(t||e)(m.Xb(a.a),m.Xb(f.a))},e.\u0275prov=m.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},HDdC:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("1OyB"),r=n("vuIU"),o=n("7o/Q"),s=n("2QA8"),a=n("gRHU"),l=n("kJWO"),c=n("SpAZ");function u(e){return 0===e.length?c.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var h=n("2fFW"),d=function(){var e=function(){function e(t){Object(i.a)(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return Object(r.a)(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var i=this.operator,r=function(e,t,n){if(e){if(e instanceof o.a)return e;if(e[s.a])return e[s.a]()}return e||t||n?new o.a(e,t,n):new o.a(a.a)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||h.a.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),h.a.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){h.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof o.a?t:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=f(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(n){i(n),r&&r.unsubscribe()}}),i,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:l.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:u(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=f(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))}}]),e}();return e.create=function(t){return new e(t)},e}();function f(e){if(e||(e=h.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},Hcy3:function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return h})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return v}));var i,r,o,s,a,l=n("tcrU"),c=n("Soar"),u=function(e){return e.VARCHAR="varchar",e.NVARCHAR="nvarchar",e.FLOAT="float",e.DATE="date",e.DATETIME2="datetime2",e.DATETIME="datetime",e.INT="int",e.TEXT="text",e.CHAR="char",e.BINARY="binary",e.VARBINARY="varbinary",e.BIT="bit",e.TINYINT="tinyint",e.SMALLINT="smallint",e.BIGINT="bigint",e.DECIMAL="decimal",e.REAL="real",e.NUMERIC="numeric",e}({}),h=((i={})[c.DataTypeName.WholeNumber]=u.INT,i[c.DataTypeName.DateTime]=u.DATETIME2,i[c.DataTypeName.FloatNumber]=u.FLOAT,i[c.DataTypeName.String]=u.NVARCHAR,i[c.DataTypeName.Boolean]=u.BIT,i[c.DataTypeName.BigIntNumber]=u.BIGINT,i[c.DataTypeName.LargeString]=u.TEXT,i),d=((r={})[u.TEXT]=l.DataType.String,r[u.CHAR]=l.DataType.String,r[u.VARCHAR]=l.DataType.String,r[u.NVARCHAR]=l.DataType.String,r[u.BINARY]=l.DataType.String,r[u.VARBINARY]=l.DataType.String,r[u.DATE]=l.DataType.Date,r[u.DATETIME]=l.DataType.Date,r[u.DATETIME2]=l.DataType.Date,r[u.DECIMAL]=l.DataType.Number,r[u.FLOAT]=l.DataType.Number,r[u.NUMERIC]=l.DataType.Number,r[u.REAL]=l.DataType.Number,r[u.SMALLINT]=l.DataType.Number,r[u.BIGINT]=l.DataType.Number,r[u.INT]=l.DataType.Number,r[u.TINYINT]=l.DataType.Number,r[u.BIT]=l.DataType.Boolean,r),f=((o={})[l.DataType.Date]=u.DATE,o[l.DataType.String]=u.NVARCHAR,o[l.DataType.Number]=u.NUMERIC,o[l.DataType.Boolean]=u.BIT,o[l.DataType.Object]=u.TEXT,o[l.DataType.Array]=u.TEXT,(s={})[u.TEXT]=8e3,s[u.CHAR]=8e3,s[u.VARCHAR]=8e3,s[u.NVARCHAR]=100,s),p=((a={})[c.DataTypeName.WholeNumber]=l.DataType.Number,a[c.DataTypeName.DateTime]=l.DataType.Date,a[c.DataTypeName.FloatNumber]=l.DataType.Number,a[c.DataTypeName.String]=l.DataType.String,a[c.DataTypeName.Boolean]=l.DataType.Boolean,a[c.DataTypeName.BigIntNumber]=l.DataType.Number,a[c.DataTypeName.LargeString]=l.DataType.String,a),g=function(e){return e.NoAccess="No Access",e.Reader="Reader",e.Writer="Writer",e.Manager="Manager",e.TopManager="Top Manager",e}({}),m=function(e){return e.Schema="Schema",e.Database="Database",e["Managed Sql"]="Managed Sql Database",e}({}),b=function(e){return e.Reader="Reader",e.Writer="Writer",e.NoAccess="No Access",e}({}),v=function(e){return e.Reader="Reader",e.Writer="Writer",e.NoAccess="No Access",e.SchemaAdmin="Schema Admin",e.DatabaseAdmin="Database Admin",e.ServerAdmin="Server Admin",e}({})},HvV6:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n("K3ix");var i=n("TwVa"),r=n("ztEp"),o=n("fXoL"),s=n("RsUz"),a=n("ofXK"),l=n("3s35");function c(e,t){if(1&e&&o.Ob(0,"wj-flex-grid-column",12),2&e){var n=t.$implicit,i=o.dc();o.jc("header",n.fieldName)("binding",n.fieldName)("dataType",i.getColumnType(n.dataType))("format","dd/MM/yyyy HH:mm:ss")}}var u=function(){function e(){}return e.prototype.ngOnInit=function(){this.data=Object(r.fromTable)({rows:this.config.data,fieldNames:this.config.fields.map((function(e){return e.fieldName}))})},e.prototype.getColumnType=function(e){return i.SqlTypesToWijmoMap[e]},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-preview-data"]],inputs:{modalRef:"modalRef",config:"config"},decls:18,vars:9,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4","d-flex","flex-column","h-100","overflow-hidden"],[1,"h-100",3,"itemsSource","allowDelete","allowAddNew","isReadOnly"],["grid",""],[3,"header","binding","dataType","format",4,"ngFor","ngForOf"],[1,"ml-auto","mr-1"],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","button",1,"btn","btn-light",3,"click"],[3,"header","binding","dataType","format"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"h4",1),o.Ec(2),o.Sb(),o.Tb(3,"button",2),o.bc("click",(function(){return t.modalRef.hide()})),o.Tb(4,"span",3),o.Ec(5,"\xd7"),o.Sb(),o.Sb(),o.Sb(),o.Tb(6,"div",4),o.Tb(7,"wj-flex-grid",5,6),o.Cc(9,c,1,4,"wj-flex-grid-column",7),o.Ob(10,"wj-flex-grid-filter"),o.Sb(),o.Tb(11,"span",8),o.Ec(12),o.ec(13,"number"),o.Sb(),o.Sb(),o.Tb(14,"div",9),o.Tb(15,"div",10),o.Tb(16,"button",11),o.bc("click",(function(){return t.modalRef.hide()})),o.Ec(17,"Close"),o.Sb(),o.Sb(),o.Sb()),2&e&&(o.Bb(2),o.Fc(t.config.title||"Preview result table"),o.Bb(5),o.jc("itemsSource",t.data)("allowDelete",!1)("allowAddNew",!1)("isReadOnly",!0),o.Bb(2),o.jc("ngForOf",t.config.fields),o.Bb(3),o.Gc("Rows: ",o.fc(13,7,t.data.length),""))},directives:[s.a,a.l,l.a,s.c],pipes:[a.f],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"]}),e}()},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},Iab2:function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){"use strict";function t(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){o(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(e,o,s){var a=r.URL||r.webkitURL,l=document.createElement("a");l.download=o=o||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):n(l.href)?t(e,o,s):i(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,r,o){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),r);else if(n(e))t(e,r,o);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){i(s)}))}}:function(e,n,i,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,i);var s="application/octet-stream"===e.type,a=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&a)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},c.readAsDataURL(e)}else{var u=r.URL||r.webkitURL,h=u.createObjectURL(e);o?o.location=h:location.href=h,o=null,setTimeout((function(){u.revokeObjectURL(h)}),4e4)}});r.saveAs=o.saveAs=o,e.exports=o})?i.apply(t,[]):i)||(e.exports=r)},Ibf7:function(e,t,n){"use strict";var i=n("Gjsa");e.exports=function(e,t,n){e&&i((function(){e.apply(n||null,t||[])}))}},IjjT:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("1OyB"),r=n("vuIU"),o=n("JX7q"),s=n("ReuC"),a=n("foSv"),l=n("Ji7U"),c=n("LK+K"),u=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;Object(i.a)(this,e),this.SchedulerAction=t,this.now=n}return Object(r.a)(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),h=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.now;return Object(i.a)(this,n),(r=t.call(this,e,(function(){return n.delegate&&n.delegate!==Object(o.a)(r)?n.delegate.now():s()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return Object(r.a)(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,i):Object(s.a)(Object(a.a)(n.prototype),"schedule",this).call(this,e,t,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(u)},IzEk:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("Ji7U"),r=n("LK+K"),o=n("1OyB"),s=n("vuIU"),a=n("7o/Q"),l=n("4I5i"),c=n("EY2u");function u(e){return function(t){return 0===e?Object(c.b)():t.lift(new h(e))}}var h=function(){function e(t){if(Object(o.a)(this,e),this.total=t,this.total<0)throw new l.a}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new d(e,this.total))}}]),e}(),d=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e,i){var r;return Object(o.a)(this,n),(r=t.call(this,e)).total=i,r.count=0,r}return Object(s.a)(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(a.a)},JGTj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(e){return e.STYLE="style.xml",e.SCRIPT="jspy",e.PAGE="page.xml",e.SHELL="shell.xml",e.APP="xml",e.SQL="sql",e.REST="rest",e.JSON="json",e.QUERY="query",e}({}),r=function(e){return e.FILES="files",e.APP="app",e.FROM_FILE="fromFileApi",e}({})},JIag:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var i=n("fXoL"),r=n("tcrU"),o=function(){function e(){}return e.asyncBindings=!0,e}(),s=function(){function e(e){this.changeEventMap=[],this.allImplEvents=[],this.resolveChangeEventMap(e)}return e.prototype.resolveChangeEventMap=function(e){var t=this.changeEventMap,n=e.outputs,i=e.changeEvents||{};if(t.splice(0,t.length),this.allImplEvents=[],n&&n.length){var r=n.map((function(e){return e.split(":")})).map((function(e){return{implName:e[0].trim(),exposeName:e[1]&&e[1].trim()}}));this.allImplEvents=r.map((function(e){return e.implName}));for(var o=0,s=r.filter((function(e){return e.implName&&e.exposeName}));o<s.length;o++){var a=s[o];if(l.getWjEventName(a.implName)){var c={eventImpl:a.implName,event:a.exposeName},u=i[a.exposeName];u&&u.length&&(c.props=u.map((function(e){return{prop:e,evExposed:l.getChangeEventNameExposed(e),evImpl:l.getChangeEventNameImplemented(e)}}))),t.push(c)}}for(var h in i)h.indexOf(".")>-1&&(c={eventImpl:null,event:h,props:i[h].map((function(e){return{prop:e,evExposed:l.getChangeEventNameExposed(e),evImpl:l.getChangeEventNameImplemented(e)}}))},t.push(c))}},e}(),a=function(){function e(t,n,i,r){this._pendingEvents=[],this.isInitialized=!1,this.isDestroyed=!1,this.directive=t,this.elementRef=n,this.injector=i,this.injectedParent=r;var o=this.typeData=t.constructor[e.directiveTypeDataProp];null==o.siblingId&&(o.siblingId=++e.siblingDirId+"");var a=t.constructor[e.directiveResolvedTypeDataProp];a?this.resolvedTypeData=a:t.constructor[e.directiveResolvedTypeDataProp]=a=this.resolvedTypeData=new s(o),t[e.BehaviourRefProp]=this,i[e.BehaviourRefProp]=this,t[e.isInitializedPropAttr]=!1,this._createEvents(),this._setupAsChild(),this._isHostElement()&&n.nativeElement.setAttribute(e.siblingDirIdAttr,o.siblingId),this.subscribeToEvents(!1)}return e.getHostElement=function(t,n){return e.ngZone||(e.ngZone=n.get(i.C)),t.nativeElement},e.attach=function(t,n,i,r){return new e(t,n,i,r)},e.prototype.ngOnInit=function(){this.isInitialized=!0,this._initParent(),this.subscribeToEvents(!0)},e.prototype.ngAfterViewInit=function(){var t=this;this.directive[e.isInitializedPropAttr]=!0,setTimeout((function(){t.isDestroyed||t.directive[e.initializedEventAttr].emit(void 0)}))},e.prototype.ngOnDestroy=function(){if(!this.isDestroyed){this.isDestroyed=!0;var t=this.directive;if(this._siblingInsertedEH&&this.elementRef.nativeElement.removeEventListener("DOMNodeInserted",this._siblingInsertedEH),this._isChild()&&this.parentBehavior){var n=this.parentBehavior.directive,i=this._getParentProp();if(!this.parentBehavior.isDestroyed&&n&&i&&t){var o=n[i];if(r.isArray(o)&&o){var s=o.indexOf(t);s>=0&&o.splice(s,1)}}}if(t instanceof r.Control&&t.hostElement){var a=this.elementRef.nativeElement,l=a&&a.parentNode,c=l?Array.prototype.indexOf.call(l.childNodes,a):-1;t.dispose(),c>-1&&Array.prototype.indexOf.call(l.childNodes,a)<0&&(a.textContent="",c<l.childNodes.length&&l.replaceChild(a,l.childNodes[c]))}this.injector[e.BehaviourRefProp]=null}},e.instantiateTemplate=function(e,t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r={});var o,s=t.createEmbeddedView(n,r,t.length),a=s.rootNodes;if(i&&1===a.length)o=a[0];else{o=document.createElement("div");for(var l=0,c=a;l<c.length;l++)o.appendChild(c[l])}return e&&e.appendChild(o),{viewRef:s,rootElement:o}},e.prototype.getPropChangeEvent=function(e){var t=this.typeData.changeEvents;if(t)for(var n in t)if(t[n].indexOf(e)>-1)return n;return null},e.prototype._createEvents=function(){for(var e=0,t=this.resolvedTypeData.allImplEvents;e<t.length;e++)this.directive[t[e]]=new i.p(!1)},e.prototype.subscribeToEvents=function(e){var t=this.resolvedTypeData.changeEventMap;e=!!e;for(var n=0,i=t;n<i.length;n++)e!==(s=i[n]).event.indexOf(".")<0&&this.addHandlers(s);if(e)for(var r=0,o=t;r<o.length;r++){var s=o[r];this.triggerPropChangeEvents(s,!0)}},e.prototype.addHandlers=function(t){var n=this,i=this.directive;e.evaluatePath(i,t.event).addHandler((function(e,r){n._runInsideNgZone((function(){n.isInitialized&&n.triggerPropChangeEvents(t),t.eventImpl&&n._triggerEvent(i[t.eventImpl],r,t.props&&t.props.length>0)}))}))},e.prototype.triggerPropChangeEvents=function(e,t){void 0===t&&(t=!0);var n=this.directive;if(e.props&&e.props.length)for(var i=0,r=e.props;i<r.length;i++){var o=r[i];this._triggerEvent(n[o.evImpl],n[o.prop],t)}},e.prototype._setupAsChild=function(){this._isChild()&&(this._isHostElement()&&(this.elementRef.nativeElement.style.display="none"),this.parentBehavior=e.getBehavior(this.injectedParent))},e.prototype._isAsyncBinding=function(){var t=this.directive[e.asyncBindingUpdatePropAttr];return null==t?o.asyncBindings:t},e.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},e.prototype._isParentInitializer=function(){return null!=this.directive[e.parPropAttr]},e.prototype._isParentReferencer=function(){return!!this.typeData.parentRefProperty},e.prototype._getParentProp=function(){return this.directive[e.parPropAttr]},e.prototype._getParentReferenceProperty=function(){return this.typeData.parentRefProperty},e.prototype._useParentObj=function(){return!1},e.prototype._parentInCtor=function(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()},e.prototype._initParent=function(){if(this.parentBehavior&&!this._useParentObj()){var e=this.parentBehavior.directive,t=this._getParentProp(),n=this.directive;if(this._isParentInitializer()){this._getParentProp();var i=e[t];if(r.isArray(i)){var o=this._isHostElement(),s=o?this._getSiblingIndex():-1;(s<0||s>=i.length)&&(s=i.length),i.splice(s,0,n),o&&(this._siblingInsertedEH=this._siblingInserted.bind(this),this.elementRef.nativeElement.addEventListener("DOMNodeInserted",this._siblingInsertedEH))}else e[t]=n}this._isParentReferencer()&&!this._parentInCtor()&&(n[this._getParentReferenceProperty()]=e)}},e.prototype._getSiblingIndex=function(){var t=this.elementRef.nativeElement,n=t.parentElement;if(!n)return-1;for(var i=n.childNodes,r=-1,o=this.typeData.siblingId,s=0;s<i.length;s++){var a=i[s];if(1==a.nodeType&&a.getAttribute(e.siblingDirIdAttr)==o&&(++r,a===t))return r}return-1},e.prototype._siblingInserted=function(e){if(e.target===this.elementRef.nativeElement){var t=this._getSiblingIndex(),n=this.parentBehavior.directive[this._getParentProp()],i=this.directive,r=n.indexOf(i);t>=0&&r>=0&&t!==r&&(n.splice(r,1),t=Math.min(t,n.length),n.splice(t,0,i))}},e.prototype._isHostElement=function(){return this.elementRef.nativeElement.nodeType===Node.ELEMENT_NODE},e.prototype._runInsideNgZone=function(t){var n=e;return n.ngZone&&!n._ngZoneRun&&(n._ngZoneRun=n.ngZone.run.bind(n.ngZone)),(n._ngZoneRun||function(e){return e()})(t)},e.prototype._triggerEvent=function(e,t,n){var i=this;n&&this._isAsyncBinding()?(this._pendingEvents.push({event:e,args:t}),null==this._pendingEventsTO&&(this._pendingEventsTO=setTimeout((function(){i._triggerPendingEvents(!1)}),0))):e.emit(t)},e.prototype._triggerPendingEvents=function(e){if(null!=this._pendingEventsTO&&(clearTimeout(this._pendingEventsTO),this._pendingEventsTO=null),!this.isDestroyed){var t=[].concat(this._pendingEvents);this._pendingEvents.splice(0,this._pendingEvents.length);for(var n=0,i=t;n<i.length;n++){var r=i[n];r.event.emit(r.args)}e&&this._pendingEvents.length&&this._triggerPendingEvents(!0)}},e.prototype.flushPendingEvents=function(){this._triggerPendingEvents(!0)},e.evaluatePath=function(e,t){return this._pathBinding.path=t,this._pathBinding.getValue(e)},e.getBehavior=function(t){return t?t[e.BehaviourRefProp]:null},e.directiveTypeDataProp="meta",e.directiveResolvedTypeDataProp="_wjResolvedMeta",e.BehaviourRefProp="_wjBehaviour",e.parPropAttr="wjProperty",e.wjModelPropAttr="wjModelProperty",e.initializedEventAttr="initialized",e.isInitializedPropAttr="isInitialized",e.siblingDirIdAttr="wj-directive-id",e.asyncBindingUpdatePropAttr="asyncBindings",e.siblingDirId=0,e.wijmoComponentProviderId="WjComponent",e.outsideZoneEvents={pointermove:!0,pointerover:!0,mousemove:!0,wheel:!0,touchmove:!0,pointerenter:!0,pointerleave:!0,pointerout:!0,mouseover:!0,mouseenter:!0,mouseleave:!0,mouseout:!0},e._pathBinding=new r.Binding(""),e.\u0275fac=function(e){i.ac()},e.\u0275dir=i.Ib({type:e}),e}(),l=function(){function e(){}return e.initEvents=function(e,t){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i],s=o.props;if(o.event&&o.eventImpl&&n.push(o.eventImpl+":"+o.event),s&&s.length)for(var a=0,l=s;a<l.length;a++){var c=l[a];n.push(c.evImpl+":"+c.evExposed)}}return n},e.getChangeEventNameImplemented=function(t){return e.getChangeEventNameExposed(t)+e.changeEventImplementSuffix},e.getChangeEventNameExposed=function(e){return e+"Change"},e.getWjEventNameImplemented=function(t){return t+e.wjEventImplementSuffix},e.getWjEventName=function(t){if(t){var n=e.wjEventImplementSuffix,i=t.length-n.length;if(i>0&&t.substr(i)===n)return t.substr(0,i)}return null},e.getBaseType=function(e){var t;return e&&(t=Object.getPrototypeOf(e.prototype))&&t.constructor},e.getAnnotations=function(e){return Reflect.getMetadata("annotations",e)},e.getAnnotation=function(e,t){if(t&&e)for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r instanceof t)return r}return null},e.getTypeAnnotation=function(t,n,i){for(var r=t;r;r=i?null:e.getBaseType(r)){var o=e.getAnnotation(e.getAnnotations(r),n);if(o)return o}return null},e.equals=function(e,t){return e!=e&&t!=t||r.DateTime.equals(e,t)||e===t},e._copy=function(e,t,n,i,o){if(e&&t)for(var s in t)if(i||"_"!==s[0]){var a=t[s];if(!o||o(s,a)){var l=e[s];r.isArray(a)?e[s]=(!r.isArray(l)||n?[]:l).concat(a):void 0!==a&&(e[s]=a)}}},e.changeEventImplementSuffix="PC",e.wjEventImplementSuffix="Ng",e}(),c=function(){function e(e){this._writeQnt=0,this._isSubscribed=!1,this._dirUpdateQnt=0,this._onChange=function(e){},this._onTouched=function(){},this._directive=e,this._behavior=a.getBehavior(e)}return e.prototype.writeValue=function(e){var t=this;this._modelValue=e,++this._writeQnt,this._directive.isInitialized?(this._ensureInitEhUnsubscribed(),this._updateDirective()):this._dirInitEh||(this._dirInitEh=this._directive.initialized.subscribe((function(){t._updateDirective(),t._ensureInitEhUnsubscribed()})))},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){var t=this._directive;t instanceof r.Control&&(t.isDisabled=e)},e.prototype._updateDirective=function(){if(!this._isFirstChange()||null!=this._modelValue){if(this._ensureNgModelProp(),this._directive&&this._ngModelProp){var e=this._modelValue;""===e&&(e=null),this._dirUpdateQnt++;try{this._directive[this._ngModelProp]=e}finally{this._dirUpdateQnt--}}this._ensureSubscribed()}},e.prototype._ensureSubscribed=function(){if(!this._isSubscribed){var e=this._directive;if(e){this._ensureNgModelProp();var t=this._ngModelProp=e[a.wjModelPropAttr];if(t){var n=this._behavior.getPropChangeEvent(t);n&&e[n].addHandler(this._dirValChgEh,this)}e instanceof r.Control&&e.lostFocus.addHandler(this._dirLostFocusEh,this),this._isSubscribed=!0}}},e.prototype._ensureNgModelProp=function(){!this._ngModelProp&&this._directive&&(this._ngModelProp=this._directive[a.wjModelPropAttr])},e.prototype._ensureInitEhUnsubscribed=function(){this._dirInitEh&&(this._dirInitEh.unsubscribe(),this._dirInitEh=null)},e.prototype._isFirstChange=function(){return this._writeQnt<2},e.prototype._dirValChgEh=function(e,t){if(this._onChange&&this._directive&&this._ngModelProp){var n=this._directive[this._ngModelProp],i=this._modelValue;""===i&&(i=null),(this._dirUpdateQnt>0&&h(i)&&h(n)||l.equals(i,n))&&!r.isArray(n)||(this._modelValue=n,this._onChange(n))}},e.prototype._dirLostFocusEh=function(e,t){this._onTouched&&this._onTouched()},e}();function u(e){return new c(e)}function h(e){return null==e||""===e}},JIr8:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("ReuC"),r=n("foSv"),o=n("Ji7U"),s=n("LK+K"),a=n("1OyB"),l=n("vuIU"),c=n("zx2A");function u(e){return function(t){var n=new h(e),i=t.lift(n);return n.caught=i}}var h=function(){function e(t){Object(a.a)(this,e),this.selector=t}return Object(l.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new d(e,this.selector,this.caught))}}]),e}(),d=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,i,r){var o;return Object(a.a)(this,n),(o=t.call(this,e)).selector=i,o.caught=r,o}return Object(l.a)(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(a){return void Object(i.a)(Object(r.a)(n.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var o=new c.a(this);this.add(o);var s=Object(c.c)(t,o);s!==o&&this.add(s)}}}]),n}(c.b)},JLyS:function(e,t,n){(function(e){ace.define("ace/theme/tomorrow_night",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!0,t.cssClass="ace-tomorrow-night",t.cssText=".ace-tomorrow-night .ace_gutter {background: #25282c;color: #C5C8C6}.ace-tomorrow-night .ace_print-margin {width: 1px;background: #25282c}.ace-tomorrow-night {background-color: #1D1F21;color: #C5C8C6}.ace-tomorrow-night .ace_cursor {color: #AEAFAD}.ace-tomorrow-night .ace_marker-layer .ace_selection {background: #373B41}.ace-tomorrow-night.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #1D1F21;}.ace-tomorrow-night .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-tomorrow-night .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #4B4E55}.ace-tomorrow-night .ace_marker-layer .ace_active-line {background: #282A2E}.ace-tomorrow-night .ace_gutter-active-line {background-color: #282A2E}.ace-tomorrow-night .ace_marker-layer .ace_selected-word {border: 1px solid #373B41}.ace-tomorrow-night .ace_invisible {color: #4B4E55}.ace-tomorrow-night .ace_keyword,.ace-tomorrow-night .ace_meta,.ace-tomorrow-night .ace_storage,.ace-tomorrow-night .ace_storage.ace_type,.ace-tomorrow-night .ace_support.ace_type {color: #B294BB}.ace-tomorrow-night .ace_keyword.ace_operator {color: #8ABEB7}.ace-tomorrow-night .ace_constant.ace_character,.ace-tomorrow-night .ace_constant.ace_language,.ace-tomorrow-night .ace_constant.ace_numeric,.ace-tomorrow-night .ace_keyword.ace_other.ace_unit,.ace-tomorrow-night .ace_support.ace_constant,.ace-tomorrow-night .ace_variable.ace_parameter {color: #DE935F}.ace-tomorrow-night .ace_constant.ace_other {color: #CED1CF}.ace-tomorrow-night .ace_invalid {color: #CED2CF;background-color: #DF5F5F}.ace-tomorrow-night .ace_invalid.ace_deprecated {color: #CED2CF;background-color: #B798BF}.ace-tomorrow-night .ace_fold {background-color: #81A2BE;border-color: #C5C8C6}.ace-tomorrow-night .ace_entity.ace_name.ace_function,.ace-tomorrow-night .ace_support.ace_function,.ace-tomorrow-night .ace_variable {color: #81A2BE}.ace-tomorrow-night .ace_support.ace_class,.ace-tomorrow-night .ace_support.ace_type {color: #F0C674}.ace-tomorrow-night .ace_heading,.ace-tomorrow-night .ace_markup.ace_heading,.ace-tomorrow-night .ace_string {color: #B5BD68}.ace-tomorrow-night .ace_entity.ace_name.ace_tag,.ace-tomorrow-night .ace_entity.ace_other.ace_attribute-name,.ace-tomorrow-night .ace_meta.ace_tag,.ace-tomorrow-night .ace_string.ace_regexp,.ace-tomorrow-night .ace_variable {color: #CC6666}.ace-tomorrow-night .ace_comment {color: #969896}.ace-tomorrow-night .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y}",e("../lib/dom").importCssString(t.cssText,t.cssClass)})),ace.require(["ace/theme/tomorrow_night"],(function(t){e&&(e.exports=t)}))}).call(this,n("YuTi")(e))},JX7q:function(e,t,n){"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return i}))},JX91:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("LRne"),r=n("0EUg");function o(){return Object(r.a)()(i.a.apply(void 0,arguments))}var s=n("z+Ro");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return Object(s.a)(i)?(t.pop(),function(e){return o(t,e,i)}):function(e){return o(t,e)}}},Ji7U:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("s4An");function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(i.a)(e,t)}},K3ix:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return y}));var i=n("uFwe"),r=n("vuIU"),o=n("1OyB"),s=n("fXoL"),a=n("lUod"),l=n("3XJ7"),c=n("WyaX"),u=["*"],h=function(){var e=function e(){Object(o.a)(this,e),this.hide=Function,this.setClass=Function};return e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}(),d=function(){var e=function e(){Object(o.a)(this,e)};return e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}(),f={id:(new Date).getUTCMilliseconds(),backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{}},p=new s.s("override-default-config"),g=function(){var e=function(){function e(t,n,i){Object(o.a)(this,e),this._element=n,this._renderer=i,this.isShown=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}return Object(r.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout((function(){e.isShown=!0,e._renderer.addClass(e._element.nativeElement,Object(a.d)()?"in":"show")}),this.isAnimated?150:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open")),this._element.nativeElement&&this._element.nativeElement.focus()}},{key:"onClickStarted",value:function(e){this.clickStartedInContent=e.target!==this._element.nativeElement}},{key:"onClickStop",value:function(e){this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService.setDismissReason("backdrop-click"),this.hide())}},{key:"onPopState",value:function(){this.hide()}},{key:"onEsc",value:function(e){this.isShown&&(27!==e.keyCode&&"Escape"!==e.key||e.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason("esc"),this.hide()))}},{key:"ngOnDestroy",value:function(){this.isShown&&this.hide()}},{key:"hide",value:function(){var e=this;!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,Object(a.d)()?"in":"show"),setTimeout((function(){e.isShown=!1,document&&document.body&&1===e.bsModalService.getModalsCount()&&e._renderer.removeClass(document.body,"modal-open"),e.bsModalService.hide(e.config.id),e.isModalHiding=!1}),this.isAnimated?300:0))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Nb(d),s.Nb(s.n),s.Nb(s.G))},e.\u0275cmp=s.Hb({type:e,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(e,t){1&e&&s.bc("mousedown",(function(e){return t.onClickStarted(e)}))("mouseup",(function(e){return t.onClickStop(e)}))("popstate",(function(){return t.onPopState()}),!1,s.uc)("keydown.esc",(function(e){return t.onEsc(e)}),!1,s.uc),2&e&&s.Cb("aria-modal",!0)("aria-labelledby",t.config.ariaLabelledBy)("aria-describedby",t.config.ariaDescribedby)},ngContentSelectors:u,decls:3,vars:2,consts:[["role","document"],[1,"modal-content"]],template:function(e,t){1&e&&(s.ic(),s.Tb(0,"div",0),s.Tb(1,"div",1),s.hc(2),s.Sb(),s.Sb()),2&e&&s.Db("modal-dialog"+(t.config.class?" "+t.config.class:""))},encapsulation:2}),e}(),m=function(){var e=function(){function e(t,n){Object(o.a)(this,e),this._isShown=!1,this.element=t,this.renderer=n}return Object(r.a)(e,[{key:"ngOnInit",value:function(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"".concat("fade")),a.b.reflow(this.element.nativeElement)),this.isShown=!0}},{key:"isAnimated",get:function(){return this._isAnimated},set:function(e){this._isAnimated=e}},{key:"isShown",get:function(){return this._isShown},set:function(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,"".concat("in")):this.renderer.removeClass(this.element.nativeElement,"".concat("in")),Object(a.d)()||(e?this.renderer.addClass(this.element.nativeElement,"".concat("show")):this.renderer.removeClass(this.element.nativeElement,"".concat("show")))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Nb(s.n),s.Nb(s.G))},e.\u0275cmp=s.Hb({type:e,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),b=function(){var e=function(){function e(t,n,i,r,a){Object(o.a)(this,e),this._element=t,this._renderer=i,this.onShow=new s.p,this.onShown=new s.p,this.onHide=new s.p,this.onHidden=new s.p,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._backdrop=r.createLoader(t,n,i),this._config=f||f}return Object(r.a)(e,[{key:"onClickStarted",value:function(e){this.clickStartedInContent=e.target!==this._element.nativeElement}},{key:"onClickStop",value:function(e){this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason="backdrop-click",this.hide(e))}},{key:"onEsc",value:function(e){this._isShown&&(27!==e.keyCode&&"Escape"!==e.key||e.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}},{key:"ngOnDestroy",value:function(){this.config=void 0,this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}},{key:"ngOnInit",value:function(){var e=this;this._config=this._config||this.getConfig(),setTimeout((function(){e._config.show&&e.show()}),0)}},{key:"toggle",value:function(){return this._isShown?this.hide():this.show()}},{key:"show",value:function(){var e=this;this.dismissReason=null,this.onShow.emit(this),this._isShown||(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),a.c&&a.c.body&&(a.c.body.classList.contains("modal-open")?this.isNested=!0:this._renderer.addClass(a.c.body,"modal-open")),this.showBackdrop((function(){e.showElement()})))}},{key:"hide",value:function(e){var t=this;e&&e.preventDefault(),this.onHide.emit(this),this._isShown&&(a.k.clearTimeout(this.timerHideModal),a.k.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,"in"),Object(a.d)()||this._renderer.removeClass(this._element.nativeElement,"show"),this._config.animated?this.timerHideModal=a.k.setTimeout((function(){return t.hideModal()}),300):this.hideModal())}},{key:"getConfig",value:function(e){return Object.assign({},this._config,e)}},{key:"showElement",value:function(){var e=this;this._element.nativeElement.parentNode&&this._element.nativeElement.parentNode.nodeType===Node.ELEMENT_NODE||a.c&&a.c.body&&a.c.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&a.b.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,"in"),Object(a.d)()||this._renderer.addClass(this._element.nativeElement,"show");var t=function(){e._config.focus&&e._element.nativeElement.focus(),e.onShown.emit(e)};this._config.animated?setTimeout(t,300):t()}},{key:"hideModal",value:function(){var e=this;this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop((function(){e.isNested||(a.c&&a.c.body&&e._renderer.removeClass(a.c.body,"modal-open"),e.resetScrollbar()),e.resetAdjustments(),e.focusOtherModal(),e.onHidden.emit(e)}))}},{key:"showBackdrop",value:function(e){var t=this;if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;var n=function(){t.removeBackdrop(),e&&e()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=a.k.setTimeout(n,150):n()}else e&&e();else{if(this.removeBackdrop(),this._backdrop.attach(m).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!e)return;if(!this._config.animated)return void e();setTimeout(e,150)}}},{key:"removeBackdrop",value:function(){this._backdrop.hide()}},{key:"focusOtherModal",value:function(){if(null!=this._element.nativeElement.parentElement){var e=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");e.length&&e[e.length-1].focus()}}},{key:"resetAdjustments",value:function(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}},{key:"checkScrollbar",value:function(){this.isBodyOverflowing=a.c.body.clientWidth<a.k.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}},{key:"setScrollbar",value:function(){a.c&&(this.originalBodyPadding=parseInt(a.k.getComputedStyle(a.c.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(a.c.body.style.paddingRight="".concat(this.originalBodyPadding+this.scrollbarWidth,"px")))}},{key:"resetScrollbar",value:function(){a.c.body.style.paddingRight="".concat(this.originalBodyPadding,"px")}},{key:"getScrollbarWidth",value:function(){var e=this._renderer.createElement("div");this._renderer.addClass(e,"modal-scrollbar-measure"),this._renderer.appendChild(a.c.body,e);var t=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(a.c.body,e),t}},{key:"config",set:function(e){this._config=this.getConfig(e)},get:function(){return this._config}},{key:"isShown",get:function(){return this._isShown}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Nb(s.n),s.Nb(s.R),s.Nb(s.G),s.Nb(l.a),s.Nb(p,8))},e.\u0275dir=s.Ib({type:e,selectors:[["","bsModal",""]],hostBindings:function(e,t){1&e&&s.bc("mousedown",(function(e){return t.onClickStarted(e)}))("mouseup",(function(e){return t.onClickStop(e)}))("keydown.esc",(function(e){return t.onEsc(e)}))},inputs:{config:"config"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]}),e}(),v=function(){var e=function(){function e(t,n,i){Object(o.a)(this,e),this.clf=n,this.modalDefaultOption=i,this.onShow=new s.p,this.onShown=new s.p,this.onHide=new s.p,this.onHidden=new s.p,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason=null,this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},f,i):f}return Object(r.a)(e,[{key:"show",value:function(e,t){return this.modalsCount++,this._createLoaders(),this.config=this.modalDefaultOption?Object.assign({},f,this.modalDefaultOption,t):Object.assign({},f,t),this._showBackdrop(),this.lastDismissReason=null,this._showModal(e)}},{key:"hide",value:function(e){var t=this;1!==this.modalsCount&&null!=e||(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=e?this.modalsCount-1:0,setTimeout((function(){t._hideModal(e),t.removeLoaders(e)}),this.config.animated?150:0)}},{key:"_showBackdrop",value:function(){var e=this.config.backdrop||"static"===this.config.backdrop,t=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),e&&t&&(this._backdropLoader.attach(m).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}},{key:"_hideBackdrop",value:function(){var e=this;this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout((function(){return e.removeBackdrop()}),this.config.animated?150:0))}},{key:"_showModal",value:function(e){var t,n=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers){var r,o=Object(i.a)(this.config.providers);try{for(o.s();!(r=o.n()).done;)n.provide(r.value)}catch(c){o.e(c)}finally{o.f()}}var a=new h,l=n.provide({provide:d,useValue:this.config}).provide({provide:h,useValue:a}).attach(g).to("body");return a.hide=function(){return l.instance.hide()},a.setClass=function(e){l.instance.config.class=e},a.onHidden=new s.p,a.onHide=new s.p,this.copyEvent(n.onBeforeHide,a.onHide),this.copyEvent(n.onHidden,a.onHidden),l.show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),l.instance.level=this.getModalsCount(),a.content=n.getInnerComponent()||null,a.id=null===(t=l.instance.config)||void 0===t?void 0:t.id,a}},{key:"_hideModal",value:function(e){if(null!=e){var t=this.loaders.findIndex((function(t){return t.instance.config.id===e})),n=this.loaders[t];n&&n.hide(e)}else this.loaders.forEach((function(e){e.hide(e.instance.config.id)}))}},{key:"getModalsCount",value:function(){return this.modalsCount}},{key:"setDismissReason",value:function(e){this.lastDismissReason=e}},{key:"removeBackdrop",value:function(){this._renderer.removeClass(document.body,"modal-open"),this._backdropLoader.hide(),this.backdropRef=null}},{key:"checkScrollbar",value:function(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}},{key:"setScrollbar",value:function(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight="".concat(this.originalBodyPadding+this.scrollbarWidth,"px")))}},{key:"resetScrollbar",value:function(){document.body.style.paddingRight="".concat(this.originalBodyPadding,"px")}},{key:"getScrollbarWidth",value:function(){var e=this._renderer.createElement("div");this._renderer.addClass(e,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,e);var t=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(document.body,e),t}},{key:"_createLoaders",value:function(){var e=this.clf.createLoader(null,null,null);this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)}},{key:"removeLoaders",value:function(e){if(null!=e){var t=this.loaders.findIndex((function(t){return t.instance.config.id===e}));t>=0&&(this.loaders.splice(t,1),this.loaders.forEach((function(e,t){e.instance.level=t+1})))}else this.loaders.splice(0,this.loaders.length)}},{key:"copyEvent",value:function(e,t){var n=this;e.subscribe((function(e){t.emit(n.lastDismissReason||e)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Xb(s.H),s.Xb(l.a),s.Xb(p,8))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac}),e}(),y=function(){var e=function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[v,l.a,c.a]}}},{key:"forChild",value:function(){return{ngModule:e,providers:[v,l.a,c.a]}}}]),e}();return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(t){return new(t||e)}}),e}()},"KKE/":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=function(e){return e.Text="text",e.ParseNumber="parseNumber",e.ParseDate="parseDate",e.ParseBoolean="parseBoolean",e.Autoid="autoid",e}({}),r=function(e){return e.Create="Creating new table",e.Importing="Importing data",e.Imported="Data successfully imported",e}({}),o=[i.Text,i.ParseNumber,i.ParseDate,i.ParseBoolean,i.Autoid]},KQm4:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("a3WO"),r=n("25BE"),o=n("BsWD");function s(e){return function(e){if(Array.isArray(e))return Object(i.a)(e)}(e)||Object(r.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},Kj3r:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("Ji7U"),r=n("LK+K"),o=n("1OyB"),s=n("vuIU"),a=n("7o/Q"),l=n("D0XW");function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a;return function(n){return n.lift(new u(e,t))}}var u=function(){function e(t,n){Object(o.a)(this,e),this.dueTime=t,this.scheduler=n}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.dueTime,this.scheduler))}}]),e}(),h=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e,i,r){var s;return Object(o.a)(this,n),(s=t.call(this,e)).dueTime=i,s.scheduler=r,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return Object(s.a)(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(d,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(a.a);function d(e){e.debouncedNext()}},Kqap:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("Ji7U"),r=n("LK+K"),o=n("1OyB"),s=n("vuIU"),a=n("7o/Q");function l(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new c(e,t,n))}}var c=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(o.a)(this,e),this.accumulator=t,this.seed=n,this.hasSeed=i}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),u=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e,i,r,s){var a;return Object(o.a)(this,n),(a=t.call(this,e)).accumulator=i,a._seed=r,a.hasSeed=s,a.index=0,a}return Object(s.a)(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(a.a)},L4Dr:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.LOGIN="login",e.REGISTRATION="registration",e.RESET_REQUEST="reset request",e.RESET="reset",e}({})},L5rO:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("mrSG"),r=n("AIMp"),o=n("Ub3T"),s=n("TwVa"),a=n("9nlD"),l=n("OLrf"),c=n("UShy"),u=n("tk/3"),h=n("z6cu"),d=n("LRne"),f=n("lJxs"),p=n("vkgz"),g=n("ztEp"),m=n("fXoL"),b=function(){function e(e){this.http=e,this.QSKey="quandle-service-key",this.QSCallsCount="quandle-calls-count",this.CACHE=new Map,this.URL_OPTIONS=["database_code","dataset_code","return_format"],this.URL="https://www.quandl.com/api/v3/datasets";var t=window.localStorage.getItem(this.QSKey);this._apiKey=t,this._apiKey&&this.initCallsCount()}return e.prototype.quandlCallsCountForToday=function(){if(this._apiKey)return this.initCallsCount(),this._quandlCallsCount[this.currentDate][this._apiKey]},e.prototype.setApiKey=function(e){this._apiKey=e,window.localStorage.setItem(this.QSKey,e)},e.prototype.get=function(e,t){t=this.validateParams(e,t);var n=this.URL+"/"+t.database_code+"/"+t.dataset_code+"/data."+t.return_format,i=this.getQueryParams(t);return this.getRequest(n,i).pipe(Object(f.a)((function(e){return Object(g.fromTable)(e.dataset_data.data,e.dataset_data.column_names)})))},e.prototype.getMetaData=function(e){var t=this.validateParams(e);return this.getRequest(this.URL+"/"+t.database_code+"/"+t.dataset_code+"/metadata.json").pipe(Object(f.a)((function(e){return e.dataset})))},e.prototype.getRequest=function(e,t){var n=this;if(void 0===t&&(t=new u.e),!this._apiKey)return Object(h.a)("API key is not provided");var i=e+t.toString();return this.CACHE.has(i)?Object(d.a)(this.CACHE.get(i)):this.http.get(e,{params:t}).pipe(Object(p.a)((function(e){n.CACHE.set(i,e),n.incrementCallsCount()})))},e.prototype.getQueryParams=function(e){var t=this,n=new u.e;return Object.entries(e).forEach((function(e){var i=e[0],r=e[1];t.URL_OPTIONS.includes(i)||(n=n.set(i,r))})),n=n.set("api_key",this._apiKey)},e.prototype.validateParams=function(e,t){if("string"==typeof e){var n=e.split("/"),r=n[0],o=n[1];t?(t.database_code=r,t.dataset_code=o):t={database_code:r,dataset_code:o}}else"object"==typeof e&&(t=e);if(!t.database_code)throw Error("database_code - not provided");if(!t.dataset_code)throw Error("dataset_code - not provided");return Object(i.a)({return_format:"json"},t)},e.prototype.initCallsCount=function(){try{var e=window.localStorage.getItem(this.QSCallsCount);if(!e)throw Error("Calls count not set");if(this._quandlCallsCount=JSON.parse(e),!this._quandlCallsCount.hasOwnProperty(this.currentDate))throw Error("Calls count not set for today");if("object"!=typeof this._quandlCallsCount)throw Error("Not valid data")}catch(t){this._quandlCallsCount=this.getValidCallsCount()}},e.prototype.getValidCallsCount=function(e){var t,n;return void 0===e&&(e=this._quandlCallsCount),e&&e.hasOwnProperty(this.currentDate)&&"object"==typeof e[this.currentDate]?e[this.currentDate].hasOwnProperty(this._apiKey)||(e[this.currentDate][this._apiKey]=0):((t={})[this.currentDate]=((n={})[this._apiKey]=0,n),e=t),e},e.prototype.incrementCallsCount=function(){this._quandlCallsCount=this.getValidCallsCount(),this._quandlCallsCount[this.currentDate][this._apiKey]++,localStorage.setItem(this.QSCallsCount,JSON.stringify(this._quandlCallsCount))},Object.defineProperty(e.prototype,"currentDate",{get:function(){return(new Date).toISOString().replace(/T.+/,"")},enumerable:!1,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(m.Xb(u.a))},e.\u0275prov=m.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),v=n("AytR"),y=function(){function e(e,t,n,o,a){var l=this;this.notificationService=e,this.authService=t,this.http=n,this.fileService=o,this.quandlService=a,this.registerQuandl(),Object(c.b)("notify",(function(t,n){void 0===n&&(n=s.NotificationType.SUCCESS),e.open({type:n,message:t})})),Object(c.b)("alert",(function(t){e.open({type:s.NotificationType.DANGER,message:t})})),Object(c.b)("authorizeWithAccessCode",(function(e,n){return Object(i.b)(l,void 0,void 0,(function(){return Object(i.e)(this,(function(i){switch(i.label){case 0:return[4,t.authorize(e,n).toPromise()];case 1:return[2,i.sent()]}}))}))})),Object(c.b)("getZip",(function(e){return Object(i.b)(l,void 0,void 0,(function(){var t=this;return Object(i.e)(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n,i){r.getBinaryContent(e,(function(e,r){if(!e)return t.fileService.readZip(r).subscribe(n);i(e)}))}))];case 1:return[2,n.sent()]}}))}))})),Object(c.b)("quandlCache",(function(e){var t=null==e?void 0:e.split("/");if(2!==(null==t?void 0:t.length))throw new Error("Incorrect Quandl Code. Please make sure a Quandl Code is: [database]/[dataset]");return l.http.get(v.a.apiBaseUrl+"/api/quandl-hub/dataset/"+t[0]+"/"+t[1]).pipe(Object(f.a)((function(e){return Object(g.fromTable)(e.rows,e.fieldNames)}))).toPromise()}))}return e.prototype.registerQuandl=function(){var e=this,t="quandlApi";Object(c.c)(t,"get",(function(t,n){try{return e.quandlService.get(t,n).toPromise()}catch(i){return i}})),Object(c.c)(t,"getMetaData",(function(t){try{return e.quandlService.getMetaData(t).toPromise()}catch(n){return n}})),Object(c.c)(t,"setApiKey",(function(t){e.quandlService.setApiKey(t)})),Object(c.c)(t,"quandlCallsCountForToday",(function(){return e.quandlService.quandlCallsCountForToday()}))},e.\u0275fac=function(t){return new(t||e)(m.Xb(a.a),m.Xb(l.b),m.Xb(u.a),m.Xb(o.a),m.Xb(b))},e.\u0275prov=m.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"LK+K":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("foSv"),r=n("2WcH");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n("JX7q");function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?Object(s.a)(e):t}function l(e){var t=Object(r.a)();return function(){var n,r=Object(i.a)(e);if(t){var o=Object(i.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("z+Ro"),r=n("yCtX"),o=n("jZKg");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=t[t.length-1];return Object(i.a)(s)?(t.pop(),Object(o.a)(t,s)):Object(r.a)(t)}},Lhse:function(e,t,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",(function(){return r}));var r=i()},M0ag:function(e,t,n){"use strict";n.d(t,"c",(function(){return T})),n.d(t,"g",(function(){return k.k})),n.d(t,"h",(function(){return k.l})),n.d(t,"f",(function(){return k.i})),n.d(t,"j",(function(){return k.s})),n.d(t,"m",(function(){return k.w})),n.d(t,"n",(function(){return k.y})),n.d(t,"d",(function(){return k.a})),n.d(t,"i",(function(){return k.m})),n.d(t,"l",(function(){return k.v})),n.d(t,"k",(function(){return k.u})),n.d(t,"e",(function(){return k.c})),n.d(t,"b",(function(){return x.c})),n.d(t,"a",(function(){return x.b}));var i=n("ofXK"),r=n("tyNb"),o=n("3Pt+"),s=n("RsUz"),a=n("3s35"),l=n("fEDK"),c=n("K3ix"),u=n("dZIy"),h=n("psEu"),d=n("44PX"),f=n("S8xs"),p=n("EDFS"),g=n("9YtQ"),m=n("ZOsW"),b=n("cdP3"),v=n("9Ejp"),y=n("eY+I"),_=n("bqqp"),w=n("9nlD"),C=n("L5rO"),S=n("ZF+8"),O=(n("u5sK"),n("fXoL")),T=function(){function e(e,t){this.interpreterService=e,this.localSettings=t}return e.forRoot=function(){return{ngModule:e,providers:[w.a]}},e.\u0275mod=O.Lb({type:e}),e.\u0275inj=O.Kb({factory:function(t){return new(t||e)(O.Xb(C.a),O.Xb(S.d))},imports:[[i.c,o.d,u.c.forRoot(),c.c.forRoot(),h.b.forRoot(),d.c.forRoot(),f.b.forRoot(),g.a.forRoot(),p.b.forRoot(),v.b.forRoot(),r.i,s.d,a.b,l.c,y.g,_.a,m.b,b.a],f.b,d.c,u.c,c.c,h.b,m.b,s.d,a.b,b.a]}),e}(),k=n("iFvM"),x=n("1ua0")},NJ4a:function(e,t,n){"use strict";function i(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return i}))},NJ9Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("sVev"),r=n("pLZG"),o=n("BFxc"),s=n("XDbj"),a=n("xbPD"),l=n("SpAZ");function c(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?Object(r.a)((function(t,n){return e(t,n,c)})):l.a,Object(o.a)(1),n?Object(a.a)(t):Object(s.a)((function(){return new i.a})))}}},NXyV:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("HDdC"),r=n("Cfvw"),o=n("EY2u");function s(e){return new i.a((function(t){var n;try{n=e()}catch(i){return void t.error(i)}return(n?Object(r.a)(n):Object(o.b)()).subscribe(t)}))}},ODXe:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("DSFK"),r=n("BsWD"),o=n("PYwp");function s(e,t){return Object(i.a)(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(e,t)||Object(r.a)(e,t)||Object(o.a)()}},OLrf:function(e,t,n){"use strict";var i=n("SuQF");n.d(t,"e",(function(){return i.a}));var r=n("dR4o");n.d(t,"a",(function(){return r.a}));var o=n("UfhM");n.d(t,"b",(function(){return o.a})),n.d(t,"c",(function(){return o.b})),n.d(t,"d",(function(){return o.c}))},PYwp:function(e,t,n){"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return i}))},PqYM:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("HDdC"),r=n("D0XW"),o=n("DH7j");function s(e){return!Object(o.a)(e)&&e-parseFloat(e)+1>=0}var a=n("z+Ro");function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=-1;return s(t)?o=Number(t)<1?1:Number(t):Object(a.a)(t)&&(n=t),Object(a.a)(n)||(n=r.a),new i.a((function(t){var i=s(e)?e:+e-n.now();return n.schedule(c,i,{index:0,period:o,subscriber:t})}))}function c(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}},PzH3:function(e,t,n){"use strict";var i=n("bBst"),r=n("Ys8N"),o=global.document,s=function(e,t,n,i){return e.addEventListener(t,n,i)},a=function(e,t,n,i){return e.removeEventListener(t,n,i)},l=[];function c(e,t,n){var i=function(e,t,n){var i,r;for(i=0;i<l.length;i++)if((r=l[i]).element===e&&r.type===t&&r.fn===n)return i}(e,t,n);if(i){var r=l[i].wrapper;return l.splice(i,1),r}}global.addEventListener||(s=function(e,t,n){return e.attachEvent("on"+t,function(e,t,n){var i=c(e,t,n)||function(e,t,n){return function(t){var i=t||global.event;i.target=i.target||i.srcElement,i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},i.which=i.which||i.keyCode,n.call(e,i)}}(e,0,n);return l.push({wrapper:i,element:e,type:t,fn:n}),i}(e,t,n))},a=function(e,t,n){var i=c(e,t,n);if(i)return e.detachEvent("on"+t,i)}),e.exports={add:s,remove:a,fabricate:function(e,t,n){var s=-1===r.indexOf(t)?new i(t,{detail:n}):function(){var e;return o.createEvent?(e=o.createEvent("Event")).initEvent(t,!0,!0):o.createEventObject&&(e=o.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(s):e.fireEvent("on"+t,s)}}},"QDG+":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("AytR"),r=n("OLrf"),o=n("fXoL"),s=n("tk/3"),a=i.a.apiBaseUrl+"/api/user-content",l=function(){function e(e,t){this.httpClient=e,this.authService=t}return e.prototype.saveFileLink=function(e){return this.httpClient.post(a+"/save",e,this.authService.getHttpHeaders())},e.prototype.getAllLinks=function(){return this.httpClient.get(a+"/links",this.authService.getHttpHeaders())},e.prototype.deleteFileContent=function(e){return this.httpClient.post(a+"/delete-user-content",e,this.authService.getHttpHeaders())},e.prototype.getFileContent=function(e){return this.httpClient.post(a+"/get",e,this.authService.getHttpHeaders())},e.\u0275fac=function(t){return new(t||e)(o.Xb(s.a),o.Xb(r.b))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},R0Ic:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return p}));var i=n("vuIU"),r=n("1OyB"),o=function e(){Object(r.a)(this,e)},s=function e(){Object(r.a)(this,e)},a="*";function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function u(e){return{type:6,styles:e,offset:null}}function h(e){Promise.resolve(null).then(e)}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(r.a)(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return Object(i.a)(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;h((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),f=function(){function e(t){var n=this;Object(r.a)(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var i=0,o=0,s=0,a=this.players.length;0==a?h((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++i==a&&n._onFinish()})),e.onDestroy((function(){++o==a&&n._onDestroy()})),e.onStart((function(){++s==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return Object(i.a)(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),p="!"},ReuC:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("foSv");function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(i.a)(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}},RsUz:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return j}));var i={};n.r(i),n.d(i,"softInput",(function(){return d})),n.d(i,"softGridDetail",(function(){return f})),n.d(i,"DirectiveCellFactoryBase",(function(){return b})),n.d(i,"GridCellTemplateType",(function(){return g}));var r,o=n("fXoL"),s=n("ofXK"),a=n("3Pt+"),l=n("JIag"),c=n("tcrU"),u=n("lMX+"),h=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function d(){return Object(c._getModule)("wijmo.input")}function f(){return Object(c._getModule)("wijmo.grid.detail")}var p=u&&u.CellFactory;p||(window.wijmo.grid={},window.wijmo.grid.CellFactory=function(){});var g,m,b=function(e){function t(n){var i=e.call(this)||this;if(i._lastApplyTimeStamp=0,i._noApplyLag=!1,i._startingEditing=!1,i._cellStampCounter=0,i._composing=!1,i.grid=n,!t._templateTypes)for(var r in t._templateTypes=[],g)isNaN(r)&&t._templateTypes.push(r);var o=i;return i._baseCf=n.cellFactory,n.cellFactory=i,i._evtInput=document.createEvent("HTMLEvents"),i._evtInput.initEvent("input",!0,!1),i._evtBlur=document.createEvent("HTMLEvents"),i._evtBlur.initEvent("blur",!1,!1),n.prepareCellForEdit.addHandler((function(e,t){o._noApplyLag=!0})),n.cellEditEnded.addHandler((function(e,i){(i.range.col<0||i.range.col<n.columns.length&&!n.columns[i.range.col][t.getTemplContextProp(g.CellEdit)])&&(o._editChar=null),setTimeout((function(){o._noApplyLag=!1}),300)})),n.beginningEdit.addHandler((function(e,t){o._startingEditing=!0})),n.hostElement.addEventListener("keydown",(function(e){o._startingEditing=!1}),!0),n.hostElement.addEventListener("keypress",(function(e){var t=e.charCode>32?String.fromCharCode(e.charCode):null;t&&c.closest(e.target,".wj-flexgrid")===n.hostElement&&(!n.activeEditor||o._startingEditing?(o._editChar=t,setTimeout((function(){n.activeEditor||(o._editChar=null)}),0)):o._editChar&&(o._editChar+=t))}),!0),n.hostElement.addEventListener("compositionstart",(function(e){o._composing=!0}),!0),n.hostElement.addEventListener("compositionend",(function(e){o._composing=!1}),!0),i}return h(t,e),t.prototype.updateCell=function(e,n,i,r,o){var s=this;this._cellStampCounter=(this._cellStampCounter+1)%1e7;var a=r[t._cellStampProp]=this._cellStampCounter;r.style.overflow&&(r.style.overflow="");var l=n,h=i;o&&!o.isSingleCell&&(n=o.row,i=o.col);var p,m=this,b=e.grid,v=b.editRange,y=e.rows[n],_=y.dataItem,w=!1,C=!1,S=!1,O=!1;switch(e.cellType){case u.CellType.Cell:if(v&&v.row===n&&v.col===i)p=g.CellEdit,C=S=!0;else if(y instanceof u.GroupRow){var T=!((O=_ instanceof c.CollectionViewGroup)||y.hasChildren);i==e.columns.firstVisibleIndex?p=T?g.Cell:g.GroupHeader:(p=T?g.Cell:g.Group,C=!0)}else y instanceof u._NewRowTemplate?p=g.NewCellTemplate:f()&&f().DetailRow&&y instanceof f().DetailRow||(p=g.Cell);break;case u.CellType.ColumnHeader:p=g.ColumnHeader;break;case u.CellType.RowHeader:p=b.collectionView&&b.collectionView.currentEditItem===_?g.RowHeaderEdit:g.RowHeader,w=!0;break;case u.CellType.TopLeft:p=g.TopLeft,w=!0;break;case u.CellType.ColumnFooter:p=g.ColumnFooter,C=!0;break;case u.CellType.BottomLeft:p=g.BottomLeft,w=!0}var k=!1;if(null!=p){var x=O&&p==g.GroupHeader?b.columns.getColumn(_.groupDescription.propertyName):i>=0&&i<e.columns.length?e.columns[i]:null;if(x){var E=t.getTemplContextProp,j=E(p),A=(w?b:x)[j];if(A||(p===g.RowHeaderEdit?(j=E(p=g.RowHeader),A=b[j]):p!==g.Group&&p!==g.GroupHeader||O||(j=E(p=g.Cell),A=x[j])),A){var I;C&&(I=e.getCellData(n,i,!1)),k=!0;var M=r.getAttribute(u.FlexGrid._WJS_MEASURE),P=M&&"true"===M.toLowerCase();S&&(this.clearCell(r),this._baseCf.updateCell(e,l,h,r,o,!0));var D,R=S&&b.imeEnabled,N=r[j],L={cell:r,column:x,row:y,panel:e,rng:o,isEdit:S,isImeInput:R,isTrueImeInput:R&&this._composing,templateContext:A,templateCache:N,templateContextProperty:j,cellStamp:a,cellValue:I};if(this.shouldInstantiate(L)){if(S){var F=r.firstElementChild;F&&(R||r.focus(),F.style.display="none")}else this.clearCell(r);this._doDisposeCell(r),this.renderTemplate(L,!0),L.templateCache=N=r[j],D=L.cellBindingsData}else this.renderTemplate(L,!1),D=L.cellBindingsData;A.cellOverflow&&(r.style.overflow=A.cellOverflow),P?this.applyImmediately(L):A.autoSizeRows&&!R?this.checkHeight(L):S&&setTimeout((function(){R?s._initImeEditInput(N,A):s._initEditInput(N,A,null)}),0),S?(m._cellEditorVars=D.localVars,b.cellEditEnding.addHandler((function e(t,n){if(b.cellEditEnding.removeHandler(e),!n.stayInEditMode){var i=c.getActiveElement();i&&i.dispatchEvent(m._evtBlur),c.contains(r,c.getActiveElement())&&r.focus()}if(m._triggerEditorEvents(r),!n.cancel&&!n.stayInEditMode)for(var o=D.localVars,s=0,a=Object.getOwnPropertyNames(D.bindings);s<a.length;s++){var l=a[s];D.bindings[l].setValue(o,D.localVars.values[l])}var u=r.querySelectorAll(".wj-dropdown");[].forEach.call(u,(function(e){var t=c.Control.getControl(e);t&&d()&&t instanceof d().DropDown&&(t.isDroppedDown=!1)}))})),b.cellEditEnded.addHandler((function e(t,n){b.cellEditEnded.removeHandler(e),m._cellEditorVars=null}))):this._baseCf.updateCell(e,l,h,r,o,!1)}}}k||(this._doDisposeCell(r),this._baseCf.updateCell(e,l,h,r,o))},t.prototype.getEditorValue=function(t){if(this._cellEditorVars){var n=t.editRange;return n&&n.isValid&&this._triggerEditorEvents(t.cells.getCellElement(n.row,n.col)),this._cellEditorVars.value}return e.prototype.getEditorValue.call(this,t)},t.prototype.disposeCell=function(e){this._doDisposeCell(e)},t.prototype.disposeTemplate=function(e,t,n){t&&(t.rootElement=null,t.column=null,e[t.templateContextProperty]=null,t.templateContextProperty=null)},t.prototype.setBindingsData=function(e,t,n,i,r,o){e.row=t,e.col=n,e.item=i;var s={},a=e.cell||{},l={},u={localVars:a,bindings:l};if(a.row=t,a.col=n,a.item=i,a.value=r,a.values=s,o)for(var h=0,d=Object.getOwnPropertyNames(o);h<d.length;h++){var f=d[h],p=new c.Binding(o[f]);l[f]=p,s[f]=p.getValue(a)}return e.cell!==a&&(e.cell=a),u},t.prototype.checkHeight=function(e){var n=this;setTimeout((function(){var i=e.cell;if(e.cellStamp===i[t._cellStampProp]){var r=i.scrollHeight,o=e.panel.rows,s=e.row.index,a=e.rng,l=a&&a.rowSpan||1,c=e.isEdit;if(null!=o.maxSize&&(r=Math.min(r,o.maxSize)),s<o.length&&o[s].renderHeight*l<r-1){if(o.defaultSize=r/l,c){var u=n._isFullEdit(),h=n.grid;return h.refresh(),void h.startEditing(u)}}else c&&(e.isImeInput?n._initImeEditInput(e.templateCache,e.templateContext):n._initEditInput(e.templateCache,e.templateContext,null))}}),0)},t.prototype.doDisposeCell=function(e){for(var n=t._templateTypes,i=0;i<n.length;i++){var r=t.getTemplContextProp(g[n[i]]),o=e[r];o&&this.disposeTemplate(e,o,(o.column||this.grid)[r])}},t.getTemplContextProp=function(e){return"$__cellTempl"+g[e]},t.prototype._doDisposeCell=function(e){this.doDisposeCell(e)},t.prototype._initEditInput=function(e,n,i){var r=this,o=!1!==this.getEditorFocusFlag();if(this.setEditorFocusFlag(null),this._setFullEdit(n),o){var s=this._findInitialInput(e);s&&(s.addEventListener("focus",(function e(){s.removeEventListener("focus",e),setTimeout((function(){setTimeout((function(){var e=null!=i?i:r._editChar;e&&(s.value=e,r._editChar=null,t._setSelectionRange(s,e.length,e.length),s.dispatchEvent(r._evtInput))}),0)}),t._FOCUS_INTERVAL)})),s.focus())}},t.prototype._initImeEditInput=function(e,n){var i=this,r=c.getActiveElement();if(r&&(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)&&c.hasClass(r,"wj-grid-ime")){var o=this._findInitialInput(e),s=o&&o.style.color,a=this._composing,l=function t(){r.removeEventListener("compositionend",t),c.setCss(r,u._ImeHandler._cssHidden),i.setEditorFocusFlag(!0),o&&(o.style.color=s),i._initEditInput(e,n,a?r.value:null)};if(a){if(r.addEventListener("compositionend",l),o){var h=o.getBoundingClientRect(),d=r.getBoundingClientRect(),f=window.getComputedStyle(r),p=parseFloat(f.left),g=parseFloat(f.top);c.setCss(r,{left:p+h.left-d.left+"px",top:g+h.top-d.top+"px",width:h.width+"px",height:h.height+"px"}),o.style.color="transparent"}}else setTimeout((function(){return l()}),t._FOCUS_INTERVAL)}},t.prototype._findInitialInput=function(e){var t=e&&e.rootElement&&e.rootElement.querySelectorAll("input,textarea");if(t)for(var n=0;n<t.length;n++){var i=t[n],r=window.getComputedStyle(i);if("none"!==r.display&&"visible"===r.visibility)return i}return null},t._setSelectionRange=function(e,t,n){if(void 0===n&&(n=t),c.contains(document.body,e)&&!e.disabled&&"none"!=e.style.display)try{e.setSelectionRange(c.asNumber(t),c.asNumber(n),c.isIE()?null:"backward"),e.focus()}catch(e){}},t.prototype._triggerEditorEvents=function(e){if(e)for(var t=e.querySelectorAll(".wj-control"),n=0;n<t.length;n++){var i=c.Control.getControl(t[n]);i&&this.flushPendingEvents(i)}},t.prototype._isFullEdit=function(){var e=this.grid;return!e.activeEditor||e._edtHdl._fullEdit},t.prototype._setFullEdit=function(e){var t=this.grid;e.forceFullEdit&&t.activeEditor&&(t._edtHdl._fullEdit=!0)},t._cellStampProp="__wjCellStamp",t._FOCUS_INTERVAL=c.Control._FOCUS_INTERVAL+20,t}(u.CellFactory);p||(window.wijmo.grid=null),(m=g||(g={}))[m.Cell=0]="Cell",m[m.CellEdit=1]="CellEdit",m[m.ColumnHeader=2]="ColumnHeader",m[m.RowHeader=3]="RowHeader",m[m.RowHeaderEdit=4]="RowHeaderEdit",m[m.TopLeft=5]="TopLeft",m[m.GroupHeader=6]="GroupHeader",m[m.Group=7]="Group",m[m.NewCellTemplate=8]="NewCellTemplate",m[m.ColumnFooter=9]="ColumnFooter",m[m.BottomLeft=10]="BottomLeft",Object(c._registerModule)("wijmo.interop.grid",i);var v=["*"],y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},w=function(e,t){return function(n,i){t(n,i,e)}},C=g,S={selector:"wj-flex-grid",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","newRowAtTop","allowAddNew","allowDelete","allowDragging","allowMerging","allowResizing","allowSorting","allowPinning","autoScroll","autoRowHeights","autoSizeMode","autoGenerateColumns","autoSearch","caseSensitiveSearch","quickAutoSize","bigCheckboxes","childItemsPath","groupHeaderFormat","headersVisibility","showSelectedHeaders","showMarquee","itemFormatter","isReadOnly","imeEnabled","mergeManager","selectionMode","showGroups","showSort","showDropDown","showAlternatingRows","showErrors","alternatingRowStep","validateEdits","treeIndent","itemsSource","autoClipboard","expandSelectionOnCopyPaste","frozenRows","frozenColumns","cloneFrozenCells","deferResizing","sortRowIndex","editColumnIndex","stickyHeaders","preserveSelectedState","preserveOutlineState","preserveWhiteSpace","keyActionTab","keyActionEnter","rowHeaderPath","virtualizationThreshold","anchorCursor","lazyRender","refreshOnEdit","copyHeaders","columnGroups"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","beginningEditNg: beginningEdit","cellEditEndedNg: cellEditEnded","cellEditEndingNg: cellEditEnding","prepareCellForEditNg: prepareCellForEdit","formatItemNg: formatItem","resizingColumnNg: resizingColumn","resizedColumnNg: resizedColumn","autoSizingColumnNg: autoSizingColumn","autoSizedColumnNg: autoSizedColumn","draggingColumnNg: draggingColumn","draggingColumnOverNg: draggingColumnOver","draggedColumnNg: draggedColumn","sortingColumnNg: sortingColumn","sortedColumnNg: sortedColumn","pinningColumnNg: pinningColumn","pinnedColumnNg: pinnedColumn","resizingRowNg: resizingRow","resizedRowNg: resizedRow","autoSizingRowNg: autoSizingRow","autoSizedRowNg: autoSizedRow","draggingRowNg: draggingRow","draggingRowOverNg: draggingRowOver","draggedRowNg: draggedRow","deletingRowNg: deletingRow","deletedRowNg: deletedRow","loadingRowsNg: loadingRows","loadedRowsNg: loadedRows","rowEditStartingNg: rowEditStarting","rowEditStartedNg: rowEditStarted","rowEditEndingNg: rowEditEnding","rowEditEndedNg: rowEditEnded","rowAddedNg: rowAdded","groupCollapsedChangingNg: groupCollapsedChanging","groupCollapsedChangedNg: groupCollapsedChanged","itemsSourceChangingNg: itemsSourceChanging","itemsSourceChangedNg: itemsSourceChanged","selectionChangingNg: selectionChanging","selectionChangedNg: selectionChanged","scrollPositionChangedNg: scrollPositionChanged","updatingViewNg: updatingView","updatedViewNg: updatedView","updatingLayoutNg: updatingLayout","updatedLayoutNg: updatedLayout","pastingNg: pasting","pastedNg: pasted","pastingCellNg: pastingCell","pastedCellNg: pastedCell","copyingNg: copying","copiedNg: copied"],providers:[{provide:a.h,useFactory:l.b,multi:!0,deps:["WjComponent"]}]},O=function(e){function t(t,n,i,r){var o=e.call(this,l.a.getHostElement(t,n))||this;return o.cdRef=r,o.isInitialized=!1,o._wjBehaviour=l.a.attach(o,t,n,i),new E(o,r),o.deferUpdate((function(){if(o.rows.defaultSize<10){var e=o.hostElement,t=getComputedStyle(e),n=getComputedStyle(document.body),i=2*parseInt(t.fontSize&&c.contains(document.body,e)?t.fontSize:n.fontSize);o.rows.defaultSize=i,o.columns.defaultSize=4*i,o.columnHeaders.rows.defaultSize=i,o.rowHeaders.columns.defaultSize=Math.round(1.25*i)}})),o.created(),o}var n;return y(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var s=l.a,a=s.ngZone;a&&s.outsideZoneEvents[n]?a.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.prototype.startEditing=function(t,n,i,r,o){void 0===t&&(t=!0),this._edtFocus=null;var s=e.prototype.startEditing.call(this,t,n,i,r,o);return s&&(this._edtFocus=r||null==r),s},t.prototype.onCellEditEnding=function(t){return this._edtFocus=null,e.prototype.onCellEditEnding.call(this,t)},t.meta={outputs:S.outputs},t.\u0275fac=function(e){return new(e||t)(o.Nb(o.n),o.Nb(o.t),o.Nb("WjComponent",12),o.Nb(o.h))},t.\u0275cmp=o.Hb({type:t,selectors:[["wj-flex-grid"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",newRowAtTop:"newRowAtTop",allowAddNew:"allowAddNew",allowDelete:"allowDelete",allowDragging:"allowDragging",allowMerging:"allowMerging",allowResizing:"allowResizing",allowSorting:"allowSorting",allowPinning:"allowPinning",autoScroll:"autoScroll",autoRowHeights:"autoRowHeights",autoSizeMode:"autoSizeMode",autoGenerateColumns:"autoGenerateColumns",autoSearch:"autoSearch",caseSensitiveSearch:"caseSensitiveSearch",quickAutoSize:"quickAutoSize",bigCheckboxes:"bigCheckboxes",childItemsPath:"childItemsPath",groupHeaderFormat:"groupHeaderFormat",headersVisibility:"headersVisibility",showSelectedHeaders:"showSelectedHeaders",showMarquee:"showMarquee",itemFormatter:"itemFormatter",isReadOnly:"isReadOnly",imeEnabled:"imeEnabled",mergeManager:"mergeManager",selectionMode:"selectionMode",showGroups:"showGroups",showSort:"showSort",showDropDown:"showDropDown",showAlternatingRows:"showAlternatingRows",showErrors:"showErrors",alternatingRowStep:"alternatingRowStep",validateEdits:"validateEdits",treeIndent:"treeIndent",itemsSource:"itemsSource",autoClipboard:"autoClipboard",expandSelectionOnCopyPaste:"expandSelectionOnCopyPaste",frozenRows:"frozenRows",frozenColumns:"frozenColumns",cloneFrozenCells:"cloneFrozenCells",deferResizing:"deferResizing",sortRowIndex:"sortRowIndex",editColumnIndex:"editColumnIndex",stickyHeaders:"stickyHeaders",preserveSelectedState:"preserveSelectedState",preserveOutlineState:"preserveOutlineState",preserveWhiteSpace:"preserveWhiteSpace",keyActionTab:"keyActionTab",keyActionEnter:"keyActionEnter",rowHeaderPath:"rowHeaderPath",virtualizationThreshold:"virtualizationThreshold",anchorCursor:"anchorCursor",lazyRender:"lazyRender",refreshOnEdit:"refreshOnEdit",copyHeaders:"copyHeaders",columnGroups:"columnGroups"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",beginningEditNg:"beginningEdit",cellEditEndedNg:"cellEditEnded",cellEditEndingNg:"cellEditEnding",prepareCellForEditNg:"prepareCellForEdit",formatItemNg:"formatItem",resizingColumnNg:"resizingColumn",resizedColumnNg:"resizedColumn",autoSizingColumnNg:"autoSizingColumn",autoSizedColumnNg:"autoSizedColumn",draggingColumnNg:"draggingColumn",draggingColumnOverNg:"draggingColumnOver",draggedColumnNg:"draggedColumn",sortingColumnNg:"sortingColumn",sortedColumnNg:"sortedColumn",pinningColumnNg:"pinningColumn",pinnedColumnNg:"pinnedColumn",resizingRowNg:"resizingRow",resizedRowNg:"resizedRow",autoSizingRowNg:"autoSizingRow",autoSizedRowNg:"autoSizedRow",draggingRowNg:"draggingRow",draggingRowOverNg:"draggingRowOver",draggedRowNg:"draggedRow",deletingRowNg:"deletingRow",deletedRowNg:"deletedRow",loadingRowsNg:"loadingRows",loadedRowsNg:"loadedRows",rowEditStartingNg:"rowEditStarting",rowEditStartedNg:"rowEditStarted",rowEditEndingNg:"rowEditEnding",rowEditEndedNg:"rowEditEnded",rowAddedNg:"rowAdded",groupCollapsedChangingNg:"groupCollapsedChanging",groupCollapsedChangedNg:"groupCollapsedChanged",itemsSourceChangingNg:"itemsSourceChanging",itemsSourceChangedNg:"itemsSourceChanged",selectionChangingNg:"selectionChanging",selectionChangedNg:"selectionChanged",scrollPositionChangedNg:"scrollPositionChanged",updatingViewNg:"updatingView",updatedViewNg:"updatedView",updatingLayoutNg:"updatingLayout",updatedLayoutNg:"updatedLayout",pastingNg:"pasting",pastedNg:"pasted",pastingCellNg:"pastingCell",pastedCellNg:"pastedCell",copyingNg:"copying",copiedNg:"copied"},features:[o.Ab([{provide:"WjComponent",useExisting:Object(o.V)((function(){return n}))}].concat(S.providers))],ngContentSelectors:v,decls:2,vars:0,template:function(e,t){1&e&&(o.ic(),o.Tb(0,"div"),o.hc(1),o.Sb())},encapsulation:2}),t=n=_([,w(0,Object(o.r)(o.n)),w(1,Object(o.r)(o.t)),w(2,Object(o.r)("WjComponent")),w(2,Object(o.L)()),w(2,Object(o.D)()),w(3,Object(o.r)(o.h))],t)}(u.FlexGrid),T={selector:"wj-flex-grid-column",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","name","dataMap","dataType","binding","sortMemberPath","format","cellTemplate","header","width","maxLength","minWidth","maxWidth","align","allowDragging","allowSorting","allowResizing","allowMerging","aggregate","isReadOnly","cssClass","isContentHtml","isSelected","visible","wordWrap","multiLine","mask","inputType","isRequired","showDropDown","dataMapEditor","dropDownCssClass","quickAutoSize","editor"],outputs:["initialized","isSelectedChangePC: isSelectedChange"],providers:[]},k=function(e){function t(t,n,i,r){var o=e.call(this)||this;o.cdRef=r,o.isInitialized=!1,o.wjProperty="columns";var s=(o._wjBehaviour=l.a.attach(o,t,n,i)).parentBehavior.directive;return s.autoGenerateColumns&&(s.autoGenerateColumns=!1,s.columns.clear()),o.created(),o}var n;return y(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:T.outputs,changeEvents:{"grid.selectionChanged":["isSelected"]}},t.\u0275fac=function(e){return new(e||t)(o.Nb(o.n),o.Nb(o.t),o.Nb("WjComponent",12),o.Nb(o.h))},t.\u0275cmp=o.Hb({type:t,selectors:[["wj-flex-grid-column"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",name:"name",dataMap:"dataMap",dataType:"dataType",binding:"binding",sortMemberPath:"sortMemberPath",format:"format",cellTemplate:"cellTemplate",header:"header",width:"width",maxLength:"maxLength",minWidth:"minWidth",maxWidth:"maxWidth",align:"align",allowDragging:"allowDragging",allowSorting:"allowSorting",allowResizing:"allowResizing",allowMerging:"allowMerging",aggregate:"aggregate",isReadOnly:"isReadOnly",cssClass:"cssClass",isContentHtml:"isContentHtml",isSelected:"isSelected",visible:"visible",wordWrap:"wordWrap",multiLine:"multiLine",mask:"mask",inputType:"inputType",isRequired:"isRequired",showDropDown:"showDropDown",dataMapEditor:"dataMapEditor",dropDownCssClass:"dropDownCssClass",quickAutoSize:"quickAutoSize",editor:"editor"},outputs:{initialized:"initialized",isSelectedChangePC:"isSelectedChange"},features:[o.Ab([{provide:"WjComponent",useExisting:Object(o.V)((function(){return n}))}].concat(T.providers))],ngContentSelectors:v,decls:2,vars:0,template:function(e,t){1&e&&(o.ic(),o.Tb(0,"div"),o.hc(1),o.Sb())},encapsulation:2}),t=n=_([,w(0,Object(o.r)(o.n)),w(1,Object(o.r)(o.t)),w(2,Object(o.r)("WjComponent")),w(2,Object(o.L)()),w(2,Object(o.D)()),w(3,Object(o.r)(o.h))],t)}(u.Column),x=function(){function e(e,t,n,i,r,o){this.viewContainerRef=e,this.templateRef=t,this.elRef=n,this.cdRef=o,this.autoSizeRows=!0,this.forceFullEdit=!0,i instanceof O?this.grid=i:i instanceof k&&(this.column=i,this.grid=l.a.getBehavior(i).parentBehavior.directive)}var t;return t=e,e.prototype.ngOnInit=function(){this.ownerControl=this.column&&this.column.grid===this.grid?this.column:this.grid,this._attachToControl()},e.prototype.ngOnDestroy=function(){this.cellTypeStr&&(this.viewContainerRef.clear(),this.ownerControl[E.getTemplContextProp(this.cellType)]=null,this.grid.invalidate())},e.prototype._instantiateTemplate=function(e,t){return l.a.instantiateTemplate(e,this.viewContainerRef,this.templateRef,!1,t)},e.prototype._attachToControl=function(){if(this.cellTypeStr){var e=this.cellType=c.asEnum(this.cellTypeStr,C),t=this.ownerControl;t[E.getTemplContextProp(e)]=this,t instanceof u.Column&&(e===C.Cell||e===C.ColumnHeader||e===C.ColumnFooter)&&t._setFlag(u.RowColFlags.HasTemplate,!0),this.grid.invalidate()}},e.\u0275fac=function(t){return new(t||e)(o.Nb(o.R),o.Nb(o.N,8),o.Nb(o.n),o.Nb("WjComponent",12),o.Nb(o.t),o.Nb(o.h))},e.\u0275dir=o.Ib({type:e,selectors:[["","wjFlexGridCellTemplate",""]],inputs:{wjFlexGridCellTemplate:"wjFlexGridCellTemplate",cellTypeStr:["cellType","cellTypeStr"],cellOverflow:"cellOverflow",valuePaths:"valuePaths",autoSizeRows:"autoSizeRows",forceFullEdit:"forceFullEdit"},exportAs:["wjFlexGridCellTemplate"],features:[o.Ab([{provide:"WjComponent",useExisting:Object(o.V)((function(){return t}))}])]}),e=t=_([,w(0,Object(o.r)(o.R)),w(1,Object(o.r)(o.N)),w(1,Object(o.D)()),w(2,Object(o.r)(o.n)),w(3,Object(o.r)("WjComponent")),w(3,Object(o.L)()),w(3,Object(o.D)()),w(4,Object(o.r)(o.t)),w(5,Object(o.r)(o.h))],e)}(),E=function(e){function t(t,n){var i=e.call(this,t)||this;return i._needsCdCheck=!1,i._gridCdRef=n,t.updatedView.addHandler((function(){i._needsCdCheck&&(i._needsCdCheck=!1,i._gridCdRef.markForCheck())}),i),i}return y(t,e),t.prototype.shouldInstantiate=function(e){var t=e.templateCache;return null==t||t.column!==e.column||!t.viewRef||t.templateContextProperty!==e.templateContextProperty||e.cell.firstChild!=t.rootElement},t.prototype.renderTemplate=function(e,t){var n=e.row,i=t?{}:e.templateCache.viewRef.context,r=e.templateContext;if(e.cellBindingsData=this.setBindingsData(i,n,e.column,n.dataItem,e.cellValue,r.valuePaths),t){var o=e.cell,s=r._instantiateTemplate(o,i),a=e.templateCache={column:e.column,viewRef:s.viewRef,rootElement:s.rootElement,templateContextProperty:e.templateContextProperty};o[e.templateContextProperty]=a}},t.prototype.setBindingsData=function(t,n,i,r,o,s){return this._needsCdCheck=!0,e.prototype.setBindingsData.call(this,t,n,i,r,o,s)},t.prototype.disposeTemplate=function(t,n,i){if(n&&n.viewRef){if(i){var r=i.viewContainerRef.indexOf(n.viewRef);r>-1&&i.viewContainerRef.remove(r)}n.viewRef=null,e.prototype.disposeTemplate.call(this,t,n,i)}},t.prototype.clearCell=function(e){e.textContent=""},t.prototype.applyImmediately=function(e){e.templateContext.cdRef.detectChanges()},t.prototype.flushPendingEvents=function(e){if(e){var t=l.a.getBehavior(e);t&&t.flushPendingEvents()}},t.prototype.getEditorFocusFlag=function(){return this.grid._edtFocus},t.prototype.setEditorFocusFlag=function(e){this.grid._edtFocus=e},t.prototype.checkHeight=function(t){var n=this;l.a.ngZone.runOutsideAngular((function(){e.prototype.checkHeight.call(n,t)}))},t}(b),j=function(){function e(){}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[s.c]]}),e}()},S8xs:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return _}));var i=n("vuIU"),r=n("1OyB"),o=n("fXoL"),s=n("lUod"),a=n("ofXK"),l=n("R0Ic"),c=[Object(l.g)({height:0,visibility:"hidden"}),Object(l.e)("400ms cubic-bezier(0.4,0.0,0.2,1)",Object(l.g)({height:"*",visibility:"visible"}))],u=[Object(l.g)({height:"*",visibility:"visible"}),Object(l.e)("400ms cubic-bezier(0.4,0.0,0.2,1)",Object(l.g)({height:0,visibility:"hidden"}))],h=function(){var e=function(){function e(t,n,i){Object(r.a)(this,e),this._el=t,this._renderer=n,this.collapsed=new o.p,this.collapses=new o.p,this.expanded=new o.p,this.expands=new o.p,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=i.build(u),this._factoryExpandAnimation=i.build(c)}return Object(i.a)(e,[{key:"ngAfterViewChecked",value:function(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}},{key:"toggle",value:function(){this.isExpanded?this.hide():this.show()}},{key:"hide",value:function(){var e=this;this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)((function(){e._isAnimationDone=!0,e.collapseNewValue!==e.isCollapsed&&e.isAnimated?e.show():(e.collapsed.emit(e),e._renderer.setStyle(e._el.nativeElement,"display","none"))}))}},{key:"show",value:function(){var e=this;this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)((function(){e._isAnimationDone=!0,e.collapseNewValue!==e.isCollapsed&&e.isAnimated?e.hide():(e.expanded.emit(e),e._renderer.removeStyle(e._el.nativeElement,"overflow"))}))}},{key:"animationRun",value:function(e,t){var n=this;if(!e||!this._stylesLoaded)return function(e){return e()};this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");var i=t===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.destroy(),this._player=i.create(this._el.nativeElement),this._player.play(),function(e){return n._player.onDone(e)}}},{key:"display",set:function(e){this.isAnimated?(this._display=e,"none"!==e?this.show():this.hide()):this._renderer.setStyle(this._el.nativeElement,"display",e)}},{key:"collapse",set:function(e){this.collapseNewValue=e,this._player&&!this._isAnimationDone||(this.isExpanded=e,this.toggle())},get:function(){return this.isExpanded}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.n),o.Nb(o.G),o.Nb(l.b))},e.\u0275dir=o.Ib({type:e,selectors:[["","collapse",""]],hostVars:10,hostBindings:function(e,t){2&e&&(o.Cb("aria-expanded",t.isExpanded)("aria-hidden",t.isCollapsed),o.Fb("collapse",t.isCollapse)("in",t.isExpanded)("show",t.isExpanded)("collapsing",t.isCollapsing))},inputs:{isAnimated:"isAnimated",display:"display",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),e}(),d=function(){var e=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[]}}}]),e}();return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)}}),e}(),f=["*"],p=function(e){return{"text-muted":e}};function g(e,t){if(1&e&&(o.Tb(0,"button",7),o.Ec(1),o.Sb()),2&e){var n=o.dc();o.jc("ngClass",o.nc(2,p,n.isDisabled)),o.Bb(1),o.Gc(" ",n.heading," ")}}var m=[[["","accordion-heading",""]],"*"],b=["[accordion-heading]","*"],v=function(){var e=function e(){Object(r.a)(this,e),this.closeOthers=!1,this.isAnimated=!1};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(o.Jb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),y=function(){var e=function(){function e(t){Object(r.a)(this,e),this.isAnimated=!1,this.groups=[],Object.assign(this,t)}return Object(i.a)(e,[{key:"closeOtherPanels",value:function(e){this.closeOthers&&this.groups.forEach((function(t){t!==e&&(t.isOpen=!1)}))}},{key:"addGroup",value:function(e){e.isAnimated=this.isAnimated,this.groups.push(e)}},{key:"removeGroup",value:function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Nb(v))},e.\u0275cmp=o.Hb({type:e,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(e,t){2&e&&o.Cb("aria-multiselectable",t.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:f,decls:1,vars:0,template:function(e,t){1&e&&(o.ic(),o.hc(0))},encapsulation:2}),e}(),_=function(){var e=function(){function e(t){Object(r.a)(this,e),this.isAnimated=!1,this.isOpenChange=new o.p,this._isOpen=!1,this.accordion=t}return Object(i.a)(e,[{key:"ngOnInit",value:function(){this.panelClass=this.panelClass||"panel-default",this.accordion.addGroup(this)}},{key:"ngOnDestroy",value:function(){this.accordion.removeGroup(this)}},{key:"toggleOpen",value:function(){this.isDisabled||(this.isOpen=!this.isOpen)}},{key:"isOpen",get:function(){return this._isOpen},set:function(e){var t=this;e!==this.isOpen&&(e&&this.accordion.closeOtherPanels(this),this._isOpen=e,Promise.resolve(null).then((function(){t.isOpenChange.emit(e)})).catch((function(e){console.log(e)})))}},{key:"isBs3",get:function(){return Object(s.d)()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Nb(y))},e.\u0275cmp=o.Hb({type:e,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(e,t){2&e&&o.Fb("panel-open",t.isOpen)},inputs:{isOpen:"isOpen",panelClass:"panelClass",heading:"heading",isDisabled:"isDisabled"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:b,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"ngClass","click"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(e,t){1&e&&(o.ic(m),o.Tb(0,"div",0),o.Tb(1,"div",1),o.bc("click",(function(){return t.toggleOpen()})),o.Tb(2,"div",2),o.Tb(3,"div",3),o.Cc(4,g,2,4,"button",4),o.hc(5),o.Sb(),o.Sb(),o.Sb(),o.Tb(6,"div",5),o.Tb(7,"div",6),o.hc(8,1),o.Sb(),o.Sb(),o.Sb()),2&e&&(o.jc("ngClass",t.panelClass),o.Bb(1),o.jc("ngClass",t.isDisabled?"panel-disabled":"panel-enabled"),o.Bb(2),o.Cb("aria-expanded",t.isOpen),o.Bb(1),o.jc("ngIf",t.heading),o.Bb(2),o.jc("collapse",!t.isOpen)("isAnimated",t.isAnimated))},directives:[a.k,a.m,h],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]}),e}(),w=function(){var e=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[]}}}]),e}();return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[a.c,d]]}),e}()},SSYJ:function(e,t,n){"use strict";n.r(t),n.d(t,"InputNumber",(function(){return a})),n.d(t,"InputMask",(function(){return l})),n.d(t,"ColorPicker",(function(){return c})),n.d(t,"CollectionViewNavigator",(function(){return u})),n.d(t,"ListBox",(function(){return h})),n.d(t,"FormatItemEventArgs",(function(){return d})),n.d(t,"MultiSelectListBox",(function(){return g})),n.d(t,"DateSelectionMode",(function(){return f})),n.d(t,"Calendar",(function(){return b})),n.d(t,"ClickAction",(function(){return m})),n.d(t,"DropDown",(function(){return _})),n.d(t,"PopupTrigger",(function(){return y})),n.d(t,"Popup",(function(){return w})),n.d(t,"PopupBoundsChangingEventArgs",(function(){return C})),n.d(t,"InputDate",(function(){return S})),n.d(t,"InputColor",(function(){return O})),n.d(t,"ComboBox",(function(){return T})),n.d(t,"MultiSelect",(function(){return k})),n.d(t,"Menu",(function(){return x})),n.d(t,"InputTime",(function(){return E})),n.d(t,"InputDateTime",(function(){return j})),n.d(t,"AutoComplete",(function(){return A})),n.d(t,"MultiAutoComplete",(function(){return I}));var i,r=n("tcrU"),o=n("SSYJ"),s=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object(r._addCultureInfo)("InputNumber",{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}});var a=function(e){function t(t,n){var i=e.call(this,t)||this;i._value=null,i._min=null,i._max=null,i._format="",i._step=null,i._showBtn=!0,i._readOnly=!1,i._oldText="",i.textChanged=new r.Event,i.valueChanged=new r.Event;var o=i.hostElement;Object(r.setAttribute)(o,"role","spinbutton",!0);var s=i.getTemplate();i.applyTemplate("wj-control wj-content wj-inputnumber",s,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var a=r.culture.InputNumber.ariaLabels;Object(r.setAriaLabel)(i._btnUp.querySelector("button"),a.incVal),Object(r.setAriaLabel)(i._btnDn.querySelector("button"),a.decVal),i._tbx.type.match(/number/i)&&(i.inputType="");var l=i._tbx;l.autocomplete="off",l.spellcheck=!1,i._updateSymbols();var c=i.addEventListener.bind(i);c(l,"keypress",i._keypress.bind(i)),c(l,"keydown",i._keydown.bind(i)),c(l,"input",i._input.bind(i)),c(l,"blur",(function(){i.text!=i._oldText&&i._setText(i.text)})),c(l,"compositionstart",(function(){i._composing=!0})),c(l,"compositionend",(function(){i._composing=!1,setTimeout((function(){var e=i.text,t=i._oldText;t&&t.indexOf(i._chrPct)>-1&&e.indexOf(i._chrPct)<0&&(e+=i._chrPct),i._setText(e)}))}));var u=i._clickSpinner.bind(i);return c(i._btnUp,"click",u),c(i._btnDn,"click",u),i._rptUp=new r._ClickRepeater(i._btnUp.querySelector("button")),i._rptDn=new r._ClickRepeater(i._btnDn.querySelector("button")),c(l,"wheel",(function(e){if(!e.defaultPrevented&&!e.ctrlKey&&!i.isReadOnly&&i.containsFocus()){var t=Object(r.clamp)(-e.deltaY,-1,1);i._increment((i.step||1)*t),setTimeout((function(){return i.selectAll()})),e.preventDefault()}})),i.value=0,i.isRequired=!0,i.initialize(n),i}return s(t,e),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this._value)if(null==(e=Object(r.asNumber)(e,!this.isRequired||null==e&&null==this._value)))this._setText("");else if(!isNaN(e)){var t=r.Globalize.format(e,this.format);this._setText(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=Object(r.asBoolean)(e),this.inputElement.readOnly=this._readOnly,Object(r.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e!=this._min&&(this._min=Object(r.asNumber)(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e!=this._max&&(this._max=Object(r.asNumber)(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){this._step=Object(r.asNumber)(e,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=Object(r.asString)(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._oldText=null,this._setText(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(e){this._showBtn=Object(r.asBoolean)(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;Object(r.setSelectionRange)(e,0,e.value.length)},t.prototype.clamp=function(e){return Object(r.clamp)(e,this.min,this.max)},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onValueChanged=function(e){this._updateAria(),this.valueChanged.raise(this,e)},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,e.prototype.dispose.call(this)},t.prototype.onGotFocus=function(t){this._oldValue=this.value,this.isTouching||(this._tbx.focus(),this.selectAll()),e.prototype.onGotFocus.call(this,t)},t.prototype.onLostFocus=function(t){if(this._composing&&(this._composing=!1,this._setText(this.text)),!this.isReadOnly){var n=this.clamp(this.value);if(n==this.value||this.onInvalidInput(new r.CancelEventArgs)){var i=r.Globalize.format(n,this.format);this._setText(i)}}e.prototype.onLostFocus.call(this,t)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement){this._updateSymbols();var n=r.Globalize.format(this.value,this.format);this._setText(n)}},t.prototype._updateSymbols=function(){var e=r.culture.Globalize.numberFormat,t=r.Globalize._parseNumericFormat(this.format);this._chrDec=e["."]||".",this._chrTho=e[","]||",",this._chrNeg=e["-"]||"-",this._chrPls=e["+"]||"+",this._chrPct=e["%"]||"%",this._chrCur=t.curr||e.currency.symbol||"$",this._fmtSpc=t.spec,this._fmtPrc=t.prec,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("(\\-|\\(|\\"+this._chrNeg+")")},t.prototype._isNumeric=function(e,t){var n=e==this._chrDec||e>="0"&&e<="9",i="x"==this._fmtSpc;return!n&&i&&(n=e>="a"&&e<="f"||e>="A"&&e<="F"),n||t||i||(n=e==this._chrPls||e==this._chrNeg||"("==e||")"==e),n},t.prototype._getInputRange=function(e){for(var t=[0,0],n=this.text,i=!1,r=0;r<n.length;r++)this._isNumeric(n[r],e)&&(i||(t[0]=r,i=!0),t[1]=r+1);return t},t.prototype._flipSign=function(){var e=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(e)},t.prototype._getSelStartDigits=function(){for(var e=0,t=this._tbx.selectionStart,n=this._tbx.value,i=0;i<n.length&&i<t;i++)this._isNumeric(n[i],!0)&&e++;return e},t.prototype._setSelStartDigits=function(e){for(var t=this._tbx.value,n=0;n<t.length&&e>=0;n++)if(this._isNumeric(t[n],!0)){if(!e){Object(r.setSelectionRange)(this._tbx,n);break}e--}else if(!e){Object(r.setSelectionRange)(this._tbx,n);break}},t.prototype._increment=function(e){if(e){var t=this.clamp(Object(r.isNumber)(this.value)?this.value+e:0),n=r.Globalize.format(t,this.format,!1,!1);this._setText(n)}},t.prototype._updateBtn=function(){var e=this.showSpinner&&!!this.step,t=e;Object(r.setCss)([this._btnUp,this._btnDn],{display:e?"":"none"}),Object(r.toggleClass)(this.hostElement,"wj-input-show-spinner",e),Object(r.enable)(this._btnUp,t),Object(r.enable)(this._btnDn,t),this._updateAria()},t.prototype._setText=function(e){if(!this._composing){var t=this._tbx,n=this._rxNeg.test(e),i=this._delKey,o=this.containsFocus();if(e&&this._rxSym.test(e)&&o&&(e=this.isRequired||!i?"0":""),this._delKey=!1,i&&0==this.value&&!this.isRequired&&(e=""),!e){if(!this.isRequired)return t.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=e,this.onTextChanged()),void this._updateBtn();e="0"}var s=this._format||(e.indexOf(this._chrDec)>-1?"n2":"n0"),a=r.Globalize.parseFloat(e,s);if(isNaN(a))this.onInvalidInput(new r.CancelEventArgs)?t.value=this._oldText:this.focus();else{var l=r.Globalize.format(a,s,!1);n&&a>=0&&!i&&(l=this._chrNeg+l),o&&(null!=this._fmtPrc&&"g"!=this._fmtSpc||!i&&t.value.match(/\.0?$/)&&(l=e+("0"==e?this._chrDec:""))),t.value!=l&&("g"==this._fmtSpc&&t.value.match(l+"0*")&&this.containsFocus()&&t.selectionStart==t.value.length&&(l=t.value),t.value=l,a=r.Globalize.parseFloat(l,this.format)),a!=this._value&&(this._value=a,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn()}}},t.prototype._keypress=function(e){if(!(e.defaultPrevented||this._composing||this.isReadOnly)&&e.charCode&&!e.ctrlKey&&!e.metaKey){var t=this._tbx,n=String.fromCharCode(e.charCode);if(this._isNumeric(n,!1)){var i=t.maxLength;if(i>-1&&t.value.length>=i&&t.selectionEnd==t.selectionStart)return void e.preventDefault();var o=this._getInputRange(!0),s=t.selectionStart,a=t.selectionEnd;if(s<o[0]&&a<t.value.length&&(a=Math.max(a,o[0]),Object(r.setSelectionRange)(t,o[0],a)),s>=o[1]){var l=null!=this._fmtPrc?this._fmtPrc:2,c=t.value.indexOf(this._chrDec);c>-1&&s-c>l&&e.preventDefault()}}else e.preventDefault();switch(n){case"-":case this._chrNeg:this.clamp(-1)>=0?this.value<0&&this._flipSign():this.value&&t.selectionStart==t.selectionEnd?this._flipSign():this.clamp(-1)<0&&(t.value=this._chrNeg,Object(r.setSelectionRange)(t,1)),e.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),e.preventDefault();break;case".":case this._chrDec:if(0==this._fmtPrc)e.preventDefault();else{var u=t.value.indexOf(this._chrDec);u>-1&&(t.selectionStart<=u&&u++,Object(r.setSelectionRange)(t,u),e.preventDefault())}}if(!e.defaultPrevented&&Object(r.isIE)()){var h=t.value;(s=t.selectionStart)==(a=t.selectionEnd)&&(t.value=h.substr(0,s)+n+h.substr(a),Object(r.setSelectionRange)(t,s+1),e.preventDefault(),this._input())}}},t.prototype._keydown=function(e){var t=this;if(this._delKey=!1,!e.defaultPrevented&&!this._composing){var n=this._tbx,i=n.value,o=n.selectionStart,s=n.selectionEnd;switch(e.keyCode){case 65:e.ctrlKey&&(setTimeout((function(){t.selectAll()})),e.preventDefault());break;case r.Key.Up:case r.Key.Down:this.step&&!this.isReadOnly&&(this._increment(this.step*(e.keyCode==r.Key.Up?1:-1)),setTimeout((function(){t.selectAll()})),e.preventDefault());break;case r.Key.Back:if(this._delKey=!0,s-o<2&&!this.isReadOnly){var a=i[s-1];a!=this._chrDec&&a!=this._chrPct&&a!=this._chrTho&&")"!=a||(setTimeout((function(){s=a==t._chrPct?t._getInputRange(!0)[1]:s-1,Object(r.setSelectionRange)(n,s)})),e.preventDefault())}break;case r.Key.Delete:if(this._delKey=!0,s-o<2&&!this.isReadOnly)if("0"==i&&1==o)Object(r.setSelectionRange)(n,0);else{var l=i[o];l!=this._chrDec&&l!=this._chrPct||(setTimeout((function(){Object(r.setSelectionRange)(n,o+1)})),e.preventDefault())}break;case r.Key.Escape:this.value=this._oldValue,this.selectAll()}}},t.prototype._input=function(){var e=this;this._composing||setTimeout((function(){var t=e._tbx,n=t.value,i=n.indexOf(e._chrDec),o=t.selectionStart,s=e._getSelStartDigits();if("p"==e._fmtSpc&&n.length&&n.indexOf(e._chrPct)<0&&(n+=e._chrPct),e._setText(n),e.containsFocus()){var a=t.value,l=a.indexOf(e._chrDec),c=e._getInputRange(!0);if(n==e._chrNeg+e._chrDec&&l>-1)return void Object(r.setSelectionRange)(t,l+1);if(n[0]==e._chrNeg&&a[0]!=e._chrNeg)return void(1==a.length?Object(r.setSelectionRange)(t,1):e._setSelStartDigits(s));n?n==e._chrDec&&l>-1?o=l+1:o<=i&&l>-1||i<0&&l<0?o+=a.length-n.length:i<0&&l>-1&&(o=l):o=l>-1?l:c[1],o=Object(r.clamp)(o,c[0],c[1]),Object(r.setSelectionRange)(t,o)}}))},t.prototype._clickSpinner=function(e){var t=this;e.defaultPrevented||this.isReadOnly||!this.step||(this._increment(this.step*(Object(r.contains)(this._btnUp,e.target)?1:-1)),this.isTouching||setTimeout((function(){return t.selectAll()})))},t.prototype._updateAria=function(){var e=this.hostElement;e&&(Object(r.setAttribute)(e,"aria-valuemin",this.min),Object(r.setAttribute)(e,"aria-valuemax",this.max),Object(r.setAttribute)(e,"aria-valuenow",this.value))},t.controlTemplate='<div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div>',t}(r.Control),l=function(e){function t(t,n){var i=e.call(this,t)||this;i.valueChanged=new r.Event;var o=i.getTemplate();if(i.applyTemplate("wj-control wj-content wj-inputmask",o,{_tbx:"input"},"input"),"INPUT"==i._orgTag){var s=i._tbx.getAttribute("value");s&&(i.value=s)}return i._msk=new r._MaskProvider(i._tbx),i.isRequired=!0,i.initialize(n),i.addEventListener(i._tbx,"input",(function(){i.onValueChanged()})),i.addEventListener(i._tbx,"blur",i._commitText.bind(i)),i.addEventListener(i._tbx,"keydown",(function(e){e.keyCode==r.Key.Enter&&i._commitText()})),i}return s(t,e),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._tbx.value},set:function(e){e!=this.value&&(this._tbx.value=Object(r.asString)(e),e=this._msk._applyMask(),this._tbx.value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(e){e!=this.rawValue&&(this.value=Object(r.asString)(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){var t=this.value;this._msk.mask=Object(r.asString)(e),this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(e){var t=this.value;this._msk.promptChar=e,this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=Object(r.asBoolean)(e),Object(r.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._msk.getMaskRange();Object(r.setSelectionRange)(this._tbx,e[0],e[1]+1)},t.prototype.onValueChanged=function(e){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,e)),this._updateState()},t.prototype._commitText=function(){if((this.value||this.isRequired)&&!this.maskFull&&!this.onInvalidInput(new r.CancelEventArgs)){var e=this._tbx,t=e.value,n=t.indexOf(this.promptChar);n>-1&&Object(r.setSelectionRange)(e,n,t.length)}},t.prototype.dispose=function(){this._msk.input=null,e.prototype.dispose.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&this._msk.refresh()},t.prototype.onGotFocus=function(t){e.prototype.onGotFocus.call(this,t),this.selectAll()},t.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',t}(r.Control),c=function(e){function t(n,i){var o=e.call(this,n)||this;o._hsb=[.5,1,1],o._alpha=1,o.valueChanged=new r.Event;var s=o.getTemplate();o.applyTemplate("wj-control wj-content wj-colorpicker",s,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),o._palette="#FFF,#000, #F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),o._updatePalette(),o._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",o._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(o._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",o._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),s=t._tplCursor,o._cSB=Object(r.createElement)(s),o._cHue=Object(r.createElement)(s),o._cHue.style.width="100%",o._cAlpha=Object(r.createElement)(s),o._cAlpha.style.height="100%",o._eSB.appendChild(o._cSB),o._eHue.appendChild(o._cHue),o._eAlpha.appendChild(o._cAlpha);var a=o.addEventListener.bind(o),l=o.removeEventListener.bind(o),c=document;a(o.hostElement,"mousedown",(function(e){a(c,"mousemove",u),a(c,"mouseup",h),o._mouseDown(e)})),a(o.hostElement,"touchstart",(function(e){a(c,"touchmove",u),a(c,"touchend",h),o._mouseDown(e)}));var u=function(e){o._mouseMove(e)},h=function e(t){l(c,"mousemove",u),l(c,"mouseup",e),l(c,"touchmove",u),l(c,"touchend",e),o._mouseUp(t)};return a(o.hostElement,"click",(function(e){var t=e.target;if(t&&"DIV"==t.tagName&&Object(r.contains)(o._ePal,t)){var n=t.style.backgroundColor;n&&(o.value=new r.Color(n).toString())}})),o.value="#ffffff",o.initialize(i),o._updatePanels(),o}return s(t,e),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(e){this._eAlpha.parentElement.style.display=Object(r.asBoolean)(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(e){this._eText.style.display=Object(r.asBoolean)(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this.value){this._value=Object(r.asString)(e),this._eText.innerText=this._value;var t=new r.Color(this._value),n=t.getHsb();this._hsb[0]==n[0]&&this._hsb[1]==n[1]&&this._hsb[2]==n[2]&&this._alpha==t.a||(0==n[2]?(n[0]=this._hsb[0],n[1]=this._hsb[1]):0==n[1]&&(n[0]=this._hsb[0]),this._hsb=n,this._alpha=t.a,this.onValueChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._palette},set:function(e){e=Object(r.asArray)(e);for(var t=0;t<e.length&&t<this._palette.length;t++){var n=Object(r.asString)(e[t]);this._palette[t]=n}this._updatePalette()},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this._updatePanels(),this.valueChanged.raise(this,e)},t.prototype._mouseDown=function(e){this._htDown=this._getTargetPanel(e),this._htDown&&(e.preventDefault(),this.focus(),this._mouseMove(e))},t.prototype._mouseMove=function(e){var t=e.touches?e.touches[0]:e;if(this._htDown){var n=this._htDown.getBoundingClientRect();this._htDown==this._eHue?(this._hsb[0]=Object(r.clamp)((t.clientY-n.top)/n.height,0,.99),this._updateColor()):this._htDown==this._eSB?(this._hsb[1]=Object(r.clamp)((t.clientX-n.left)/n.width,0,1),this._hsb[2]=Object(r.clamp)(1-(t.clientY-n.top)/n.height,0,1),this._updateColor()):this._htDown==this._eAlpha&&(this._alpha=Object(r.clamp)((t.clientX-n.left)/n.width,0,1),this._updateColor())}},t.prototype._mouseUp=function(e){this._htDown=null},t.prototype._updateColor=function(){var e=r.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=e.toString(),this._updatePanels()},t.prototype._updatePalette=function(){var e=new r.Color("#fff"),t=new r.Color("#000");this._ePal.innerHTML="";for(var n=0;n<this._palette.length;n++){var i=Object(r.createElement)('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),o=new r.Color(this._palette[n]),s=o.getHsb();i.appendChild(this._makePalEntry(o,4));for(var a=0;a<5;a++)o=0==s[1]?r.Color.interpolate(e,t,.1*a+(s[2]>.5?.05:.55)):r.Color.fromHsb(s[0],.1+.2*a,1-.1*a),i.appendChild(this._makePalEntry(o,0));this._ePal.appendChild(i)}},t.prototype._makePalEntry=function(e,t){var n=document.createElement("div");return Object(r.setCss)(n,{cursor:"pointer",backgroundColor:e.toString(),marginBottom:t||""}),n.innerHTML="&nbsp",n},t.prototype._updatePanels=function(){var e=r.Color.fromHsb(this._hsb[0],1,1,1),t=r.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=e.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+t.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+t.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},t.prototype._getTargetPanel=function(e){var t=e.target;return Object(r.contains)(this._eSB,t)?this._eSB:Object(r.contains)(this._eHue,t)?this._eHue:Object(r.contains)(this._eAlpha,t)?this._eAlpha:null},t.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',t._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',t}(r.Control),u=function(e){function t(t,n){var i=e.call(this,t)||this;i._byPage=!1,i._fmt="{current:n0} / {count:n0}";var o=i.getTemplate();return i.applyTemplate("wj-control wj-content wj-pager wj-collectionview-navigator",o,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_txtCurr:"txt-curr",_btnNext:"btn-next",_btnLast:"btn-last"},"input"),i._rptNext=new r._ClickRepeater(i._btnNext.querySelector("button")),i._rptPrev=new r._ClickRepeater(i._btnPrev.querySelector("button")),i.addEventListener(i.hostElement,"click",i._click.bind(i)),i.initialize(n),i._update(),i}return s(t,e),Object.defineProperty(t.prototype,"cv",{get:function(){return this._view},set:function(e){if(e!=this._view){var t=this._view;t&&(t.collectionChanged.removeHandler(this._collectionChanged),t.currentChanged.removeHandler(this._currentChanged)),t=this._view=Object(r.asType)(e,"ICollectionView",!0),this._update(),t&&(t.collectionChanged.addHandler(this._collectionChanged,this),t.currentChanged.addHandler(this._currentChanged,this))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byPage",{get:function(){return this._byPage},set:function(e){e!=this._byPage&&(this._byPage=Object(r.asBoolean)(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._fmt},set:function(e){e!=this._fmt&&(this._fmt=Object(r.asString)(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptNext.disabled},set:function(e){this._rptNext.disabled=this._rptPrev.disabled=!Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),t.prototype._update=function(){var e=this._view,t=this._byPage,n=e?t?e.pageIndex:e.currentPosition:0,i=e?t?e.pageCount:e.itemCount:0;Object(r.enable)(this._btnFirst,e&&n>0),Object(r.enable)(this._btnPrev,e&&n>0),Object(r.enable)(this._txtCurr,null!=e),Object(r.enable)(this._btnNext,e&&n<i-1),Object(r.enable)(this._btnLast,e&&n<i-1),this._txtCurr.value=Object(r.format)(this._fmt,{current:e?n+1:0,count:e?i:0,currentItem:e?e.currentPosition+1:0,itemCount:e?e.itemCount:0,currentPage:e?e.pageIndex+1:0,pageCount:e?e.pageCount:0})},t.prototype._currentChanged=function(){this._update()},t.prototype._collectionChanged=function(){this._update()},t.prototype._click=function(e){var t=e.target,n=this._view,i=this._byPage;n&&(Object(r.contains)(this._btnFirst,t)?i?n.moveToFirstPage():n.moveCurrentToFirst():Object(r.contains)(this._btnPrev,t)?i?n.moveToPreviousPage():n.moveCurrentToPrevious():Object(r.contains)(this._btnNext,t)?i?n.moveToNextPage():n.moveCurrentToNext():Object(r.contains)(this._btnLast,t)&&(i?n.moveToLastPage():n.moveCurrentToLast()),e.preventDefault())},t.controlTemplate='<div class="wj-input-group"><span wj-part="btn-first" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-backward"></span></button></span><span wj-part="btn-prev" class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span> </button></span><input wj-part="txt-curr" class="wj-form-control" readonly><span wj-part="btn-next" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></span><span wj-part="btn-last" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-forward"></span></button></span></div>',t}(r.Control),h=function(e){function t(t,n){var i=e.call(this,t)||this;i._pathDisplay=new r.Binding(null),i._pathValue=new r.Binding(null),i._pathChecked=new r.Binding(null),i._html=!1,i._shGroups=!1,i._itemRole="option",i._search="",i._caseSensitive=!1,i._fmtItemHandlers=0,i._itemCount=0,i.selectedIndexChanged=new r.Event,i.itemsChanged=new r.Event,i.loadingItems=new r.Event,i.loadedItems=new r.Event,i.itemChecked=new r.Event,i.checkedItemsChanged=new r.Event,i.formatItem=new r.Event((function(){i.invalidate()})),i.applyTemplate("wj-control wj-content wj-listbox",null,null);var o=i.hostElement;return Object(r.setAttribute)(o,"role","listbox",!0),"SELECT"==i._orgTag&&i._initFromSelect(i.hostElement),i.addEventListener(o,"click",i._click.bind(i)),i.addEventListener(o,"keydown",i._keydown.bind(i)),i.addEventListener(o,"keypress",i._keypress.bind(i)),i.addEventListener(o,"wheel",(function(e){o.scrollHeight>o.offsetHeight&&(e.deltaY<0&&0==o.scrollTop||e.deltaY>0&&o.scrollTop+o.offsetHeight>=o.scrollHeight)&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())})),i.initialize(n),i}return s(t,e),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){this._items!=e&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._checkedItems=null,this._cv=Object(r.asCollectionView)(e),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=Object(r.asBoolean)(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){e!=this._html&&(this._html=Object(r.asBoolean)(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=Object(r.asFunction)(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(e){e!=this.displayMemberPath&&(this._pathDisplay.path=Object(r.asString)(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(e){this._pathValue.path=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(e){e!=this.checkedMemberPath&&(this._pathChecked.path=Object(r.asString)(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemRole",{get:function(){return this._itemRole},set:function(e){e!=this.itemRole&&(this._itemRole=Object(r.asString)(e),this._populateList())},enumerable:!0,configurable:!0}),t.prototype.getDisplayValue=function(e){var t=null;e>-1&&Object(r.hasItems)(this._cv)&&(t=this._cv.items[e],this.displayMemberPath&&(t=this._pathDisplay.getValue(t)));var n=null!=t?t.toString():"";return this._itemFormatter&&(n=this._itemFormatter(e,n)),n},t.prototype.getDisplayText=function(e){var t=this._getChild(e);return null!=t?t.textContent:""},t.prototype.isItemEnabled=function(e){var t=this._getChild(e);return null!=t&&!t.hasAttribute("disabled")&&!Object(r.hasClass)(t,"wj-state-disabled")&&!Object(r.hasClass)(t,"wj-separator")},Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(e){this._cv&&this._cv.moveCurrentToPosition(Object(r.asNumber)(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(e){this._cv&&this._cv.moveCurrentTo(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){var e=this.selectedItem;return e&&this.selectedValuePath&&(e=this._pathValue.getValue(e)),e},set:function(e){var t=this._cv,n=t?t.items:null,i=this.selectedValuePath,o=-1;if(n){for(var s=0;s<n.length;s++){var a=n[s],l=i?this._pathValue.getValue(a):a;if(l===e||r.DateTime.equals(l,e)){o=s;break}if(this.isContentHtml&&Object(r.isString)(l)&&l.indexOf("<")>-1&&Object(r.toPlainText)(l)===e){o=s;break}}this.selectedIndex=o}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.hostElement;return e?parseFloat(e.style.maxHeight):null},set:function(e){var t=this.hostElement;t&&(t.style.maxHeight=Object(r.asNumber)(e)+"px")},enumerable:!0,configurable:!0}),t.prototype.showSelection=function(e){var t=this.selectedIndex,n=this.hostElement,i=n.children;t=this._getElementIndex(t);for(var o=0;o<i.length;o++){var s=i[o],a=o==t,l=this.checkedMemberPath?this._getCheckbox(o):null,c=l?l.checked:null;Object(r.toggleClass)(s,"wj-state-selected",a),Object(r.setAttribute)(s,"aria-selected",this._getAriaSelected(a,c)),s.tabIndex=a?this._orgTabIndex:-1}if(t>-1&&t<i.length){var u=(s=i[t]).getBoundingClientRect(),h=n.getBoundingClientRect(),d=0;if(this._shGroups){var f=i[0];Object(r.hasClass)(f,"wj-header")&&(d=f.offsetHeight)}u.bottom>h.bottom?n.scrollTop+=u.bottom-h.bottom:u.top<h.top+d&&(n.scrollTop-=h.top+d-u.top)}t>-1&&(null==e&&(e=this.containsFocus()),e&&(s=i[t])instanceof HTMLElement&&!Object(r.contains)(s,Object(r.getActiveElement)())&&s.focus()),n.tabIndex=t<0?this._orgTabIndex:-1},t.prototype.loadList=function(){this._populateList()},t.prototype.getItemChecked=function(e){var t=this._cv.items[e],n=this._pathChecked;if(Object(r.isObject)(t)&&n.path)return n.getValue(t);var i=this._getCheckbox(e);return!!i&&i.checked},t.prototype.setItemChecked=function(e,t){this._setItemChecked(e,t,!0)},t.prototype.toggleItemChecked=function(e){this.setItemChecked(e,!this.getItemChecked(e))},Object.defineProperty(t.prototype,"checkedItems",{get:function(){var e=this;if(null==this._checkedItems){var t=this.collectionView;this._checkedItems=t&&this.checkedMemberPath?t.items.filter((function(t,n){return e.getItemChecked(n)})):[]}return this._checkedItems},set:function(e){var t=this,n=Object(r.asArray)(e,!1),i=this._cv;if(!this._arrayEquals(n,this.checkedItems)){if(i){var o=this.hostElement,s=i.currentPosition,a=o.scrollTop;i.items.forEach((function(e,i){var r=n.indexOf(e)>-1;t._setItemChecked(i,r,!1)})),i.moveCurrentToPosition(s),o.scrollTop=a}this.onCheckedItemsChanged()}},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(e){if(this._shGroups&&Object(r.hasClass)(e,"wj-header"))return-1;for(var t=this.hostElement.children,n=0,i=0;n<t.length;n++){var o=t[n];if(Object(r.contains)(t[n],e))return i;this._shGroups&&Object(r.hasClass)(o,"wj-header")||i++}return-1},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype.onItemsChanged=function(e){this.itemsChanged.raise(this,e)},t.prototype.onLoadingItems=function(e){this.loadingItems.raise(this,e)},t.prototype.onLoadedItems=function(e){this.loadedItems.raise(this,e)},t.prototype.onItemChecked=function(e){this.itemChecked.raise(this,e)},t.prototype.onCheckedItemsChanged=function(e){this._checkedItems=null,this.checkedItemsChanged.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement){var n=this.formatItem.handlerCount;(this._cv?this._cv.items.length:0)==this._itemCount&&n==this._fmtItemHandlers||(this._fmtItemHandlers=n,this._populateList())}},t.prototype._arrayEquals=function(e,t){if(e==t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0},t.prototype._getChild=function(e){return e=this._getElementIndex(e),this.hostElement.children[e]},t.prototype._getElementIndex=function(e){if(this._shGroups)for(var t=this.hostElement.children,n=0;n<=e&&n<t.length;n++){var i=t[n];Object(r.hasClass)(i,"wj-header")&&e++}return e},t.prototype._setItemChecked=function(e,t,n){void 0===n&&(n=!0);var i=this._cv.items[e],o=this._pathChecked,s=!1;if(Object(r.isObject)(i)&&o.path){var a=Object(r.tryCast)(this._cv,"IEditableCollectionView");o.getValue(i)!=t&&(s=!0,this._checking=!0,a?(a.editItem(i),o.setValue(i,t),a.commitEdit()):(o.setValue(i,t),this._cv.refresh()),this._checking=!1)}else s=!0;var l=this._getCheckbox(e);if(l){l.checked=t;var c=Object(r.closest)(l,".wj-listbox-item");c&&(Object(r.toggleClass)(c,"wj-state-checked",t),Object(r.setAttribute)(c,"aria-selected",!!t||null))}return s&&n&&(this.onItemChecked(),this.onCheckedItemsChanged()),s},t.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},t.prototype._cvCurrentChanged=function(){this._checking||(this.showSelection(),this.onSelectedIndexChanged())},t.prototype._populateList=function(){var e=this.hostElement;if(this._itemCount=this._cv?this._cv.items.length:0,e){var t=this.containsFocus(),n=-1,i=void 0;this.onLoadingItems(),e.textContent="",e.scrollTop=0;var o=this._cv;if(o){var s=[],a=0,l=void 0;if(n=o.currentPosition,this._shGroups&&o.groups&&o.groups.length){i={};for(var c=0;c<o.groups.length;c++){var u=o.groups[c];i[a]=u,l=this._createHeaderItem(u),s.push(l);for(var h=0;h<u.items.length;h++,a++)l=this._createItem(a),s.push(l)}}else for(h=0;h<o.items.length;h++,a++)l=this._createItem(a),s.push(l);e.innerHTML=s.join("")}if(this.formatItem.hasHandlers&&o){var f=e.children,p=o.items,g=(a=0,new d(0,null,null));for(h=0;h<f.length;h++)g._item=f[h],this._shGroups&&Object(r.hasClass)(g._item,"wj-header")?(g._index=-1,g._data=i[a]):(g._index=a,g._data=p[a],a++),this.onFormatItem(g)}0==e.children.length&&e.appendChild(document.createElement("div")),e.tabIndex=n<0?this._orgTabIndex:-1,t?(n>=0?e.children[this._getElementIndex(n)]:e).focus():n>0&&this.showSelection(),this.onLoadedItems()}},t.prototype._createItem=function(e){var t=this._cv.items[e],n=e==this._cv.currentPosition,i=this.getDisplayValue(e);1!=this._html&&(i=Object(r.escapeHtml)(i));var o=null;this.checkedMemberPath&&(i='<label><input type="checkbox" tabindex="-1"'+((o=!!this._pathChecked.getValue(t))?" checked":"")+"><span></span> "+i+"</label>");var s="wj-listbox-item";if(n&&(s+=" wj-state-selected"),o&&(s+=" wj-state-checked"),this._html){var a=["wj-separator","wj-state-disabled"];if(i.indexOf(a[0])>-1||i.indexOf(a[1])>-1){var l=Object(r.createElement)(i);a.forEach((function(e){Object(r.hasClass)(l,e)&&(s+=" "+e)}))}}return'<div class="'+s+'" role="'+this.itemRole+'" '+(this._getAriaSelected(n,o)?'aria-selected="true" ':"")+'tabindex="'+(n?this._orgTabIndex:-1)+'">'+i+"</div>"},t.prototype._getAriaSelected=function(e,t){return!(!t&&!e)||null},t.prototype._createHeaderItem=function(e){return'<div class="wj-listbox-item wj-header wj-state-disabled" role="presentation" tabindex="-1">'+Object(r.escapeHtml)(e.name)+"</div>"},t.prototype._click=function(e){if(0==e.button&&!e.defaultPrevented){var t=this.indexOf(e.target);if(t>-1&&(this.selectedIndex=t,this.checkedMemberPath)){var n=this._getCheckbox(t),i=this.hostElement.children[t];n!=e.target&&e.target!=i||(i.focus({preventScroll:!0}),this.setItemChecked(t,n.checked))}}},t.prototype._keydown=function(e){var t=this.selectedIndex;if(!e.defaultPrevented){if(65==e.keyCode&&(e.ctrlKey||e.metaKey)){var n=this.collectionView;if(this.checkedMemberPath&&Object(r.hasItems)(n))return this.checkedItems=this.checkedItems.length!=n.items.length?n.items:[],void e.preventDefault()}if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(e.keyCode){case r.Key.Down:e.preventDefault(),this._selectNext();break;case r.Key.Up:e.preventDefault(),this._selectPrev();break;case r.Key.Home:e.preventDefault(),this._selectFirst();break;case r.Key.End:e.preventDefault(),this._selectLast();break;case r.Key.PageDown:e.preventDefault(),this._selectNextPage();break;case r.Key.PageUp:e.preventDefault(),this._selectPrevPage();break;case r.Key.Space:if(this.checkedMemberPath&&t>-1){var i=this._getCheckbox(t);i&&this.isItemEnabled(t)&&(this.setItemChecked(t,!i.checked),e.preventDefault())}}}},t.prototype._keypress=function(e){var t=this;if(!e.defaultPrevented&&!(e.target instanceof HTMLInputElement)&&(e.charCode>32||32==e.charCode&&this._search)){e.preventDefault(),this._search+=String.fromCharCode(e.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout((function(){t._toSearch=null,t._search=""}),r.Control._SEARCH_DELAY);var n=this._findNext();n<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],n=this._findNext()),n>-1&&(this.selectedIndex=n)}},t.prototype._selectNext=function(){for(var e=this.hostElement.children.length,t=this.selectedIndex+1;t<e;t++)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},t.prototype._selectPrev=function(){for(var e=this.selectedIndex-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectFirst=function(){for(var e=this.hostElement.children.length,t=0;t<e;t++)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},t.prototype._selectLast=function(){for(var e=this.hostElement.children.length-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectNextPage=function(){for(var e=this.hostElement,t=e.offsetHeight,n=e.children,i=0,r=this.selectedIndex+1;r<this._cv.items.length;r++){var o=n[r].scrollHeight;if(i+o>t&&this.isItemEnabled(r))return this.selectedIndex=r,!0;i+=o}return this._selectLast()},t.prototype._selectPrevPage=function(){for(var e=this.hostElement,t=e.offsetHeight,n=e.children,i=0,r=this.selectedIndex-1;r>0;r--){var o=n[r].scrollHeight;if(i+o>t&&this.isItemEnabled(r))return this.selectedIndex=r,!0;i+=o}return this._selectFirst()},t.prototype._findNext=function(){if(this.hostElement){var e=this.hostElement.childElementCount,t=this.selectedIndex;(t<0||1==this._search.length)&&t++;var n=this._search,i=this.caseSensitiveSearch;i||(n=n.toLowerCase());for(var r=0;r<e;r++){var o=(t+r)%e;if(this.isItemEnabled(o)){var s=this.getDisplayText(o).trim();if(i||(s=s.toLowerCase()),0==s.indexOf(n))return o}}}return-1},t.prototype._getCheckbox=function(e){var t=this.hostElement,n=t?t.children:null;return e=this._getElementIndex(e),t&&e>-1&&e<n.length?n[e].querySelector("input[type=checkbox]"):null},t.prototype._initFromSelect=function(e){for(var t=e.children,n=[],i=-1,r=0;r<t.length;r++){var o=t[r];"OPTION"==o.tagName&&(o.hasAttribute("selected")&&(i=n.length),n.push(o.innerHTML?{hdr:o.innerHTML,val:o.getAttribute("value"),cmdParam:o.getAttribute("cmd-param")}:{hdr:'<div class="wj-separator"></div>'}),e.removeChild(o),r--)}n&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=n,this.selectedIndex=i)},t}(r.Control),d=function(e){function t(t,n,i){var o=e.call(this)||this;return o._index=Object(r.asNumber)(t),o._data=n,o._item=Object(r.asType)(i,HTMLElement,!0),o}return s(t,e),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t}(r.EventArgs);Object(r._addCultureInfo)("MultiSelectListBox",{filterPlaceholder:"Filter",selectAll:"Select All"});var f,p,g=function(e){function t(n,i){var o=e.call(this,n)||this;o._filterText="",o._checkOnFilter=!0,o.checkedItemsChanged=new r.Event;var s=o.getTemplate();o.applyTemplate("wj-control wj-content wj-multiselectlistbox",s,{_selectAll:"select-all",_filter:"filter",_lbHost:"list-box"}),o._selectAll.style.display="none",o._filter.style.display="none",o._lbx=new h(o._lbHost,{checkedMemberPath:t._DEF_CHECKED_PATH,checkedItemsChanged:function(){o.onCheckedItemsChanged()}}),o._cbSelectAll=o._selectAll.querySelector("input[type=checkbox]"),o._spSelectAll=o._selectAll.querySelector("label>span");var a=r.culture.MultiSelectListBox;return Object(r.setText)(o._spSelectAll,a.selectAll),o._filter.placeholder=a.filterPlaceholder,o.initialize(i),o.addEventListener(o._filter,"input",(function(){o._filter.value!=o._filterText&&(o._filterText=o._filter.value,o._toSearch&&clearTimeout(o._toSearch),o._toSearch=setTimeout((function(){o._toSearch=null,o._applyFilter()}),r.Control._SEARCH_DELAY))})),o.addEventListener(o._cbSelectAll,"click",(function(e){var t=o._lbx.collectionView;Object(r.hasItems)(t)&&(o.checkedItems=e.target.checked?t.items:[])})),o.addEventListener(o.hostElement,"keydown",(function(e){var t=o._filter;if(e.keyCode==r.Key.F3&&(Object(r.setSelectionRange)(t,0,t.value.length),e.preventDefault()),Object(r.getActiveElement)()==t)e.stopPropagation();else switch(e.keyCode){case r.Key.Down:case r.Key.Up:case r.Key.Home:case r.Key.End:case r.Key.PageDown:case r.Key.PageUp:o._lbx.focus()}})),o}return s(t,e),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){this._lbx.isContentHtml=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._checkOnFilter=Object(r.asBoolean)(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return""==this._filter.style.display},set:function(e){e!=this.showFilterInput&&(this._filter.style.display=Object(r.asBoolean)(e)?"":"none",this.showFilterInput||(this._filter.value="",this._applyFilter()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._filterPlaceholder},set:function(e){e!=this._filterPlaceholder&&(this._filterPlaceholder=Object(r.asString)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(e){this._selectAll.style.display=Object(r.asBoolean)(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(e){e!=this._selectAllLabel&&(this._selectAllLabel=Object(r.asString)(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){var e=this.listBox.checkedMemberPath;return e!=t._DEF_CHECKED_PATH?e:null},set:function(e){e=Object(r.asString)(e),this.listBox.checkedMemberPath=e||t._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(e){this.listBox.checkedItems=Object(r.asArray)(e)},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){this._updateCheckAllCheckbox(),this.checkedItemsChanged.raise(this,e)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement){var n=r.culture.MultiSelectListBox;this._filter.placeholder=null!=this._filterPlaceholder?this._filterPlaceholder:n.filterPlaceholder,this._spSelectAll&&Object(r.setText)(this._spSelectAll,null!=this._selectAllLabel?this._selectAllLabel:n.selectAll),this._updateCheckAllCheckbox()}},t.prototype.dispose=function(){this.listBox.dispose(),e.prototype.dispose.call(this)},t.prototype._applyFilter=function(){var e=this,t=this._lbx,n=t.collectionView,i=this._filter.value,o=i?new RegExp(Object(r.escapeRegExp)(i),"i"):null,s=this.displayMemberPath,a=s?new r.Binding(s):null,l=this._checkOnFilter?this.checkedItems:[];n.filter=function(t){return null==o||(a&&(t=a.getValue(t)),e.isContentHtml&&(t=Object(r.toPlainText)(t)),null!=t&&o.test(t.toString()))},t.selectedIndex=Math.max(0,t.selectedIndex),this.checkedItems=this._checkOnFilter?o?n.items:[]:l},t.prototype._updateCheckAllCheckbox=function(){var e=this._lbx.collectionView,t=this._cbSelectAll;if(Object(r.hasItems)(e)){var n=e.items.length,i=this.checkedItems.length;Object(r.setChecked)(t,i==n||0!=i&&null),t.disabled=!1}else Object(r.setChecked)(t,!1),t.checked=!1,t.disabled=!0},t._DEF_CHECKED_PATH="$checked",t.controlTemplate='<div class="wj-template wj-listbox"><input wj-part="filter" class="wj-form-control"><div wj-part="select-all" class="wj-header wj-select-all wj-listbox-item"><label><input type="checkbox" tabindex="-1"> <span></span></label></div><div wj-part="list-box"/></div>',t}(r.Control);Object(r._addCultureInfo)("Calendar",{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}}),(p=f||(f={}))[p.None=0]="None",p[p.Day=1]="Day",p[p.Month=2]="Month";var m,b=function(e){function t(t,n){var i=e.call(this,t)||this;i._yrPicker=!0,i._mtPicker=!0,i._wksBefore=0,i._wksAfter=0,i._rngMin=0,i._rngMax=0,i._min=null,i._max=null,i._readOnly=!1,i._selMode=f.Day,i._tmYrHidden=0,i._tdFirst=null,i._tdLast=null,i._fmtYrMo="y",i._fmtYr="yyyy",i._fmtDayHdr="ddd",i._fmtDay="d ",i._fmtMonths="MMM",i.valueChanged=new r.Event,i.rangeEndChanged=new r.Event,i.displayMonthChanged=new r.Event,i.formatItem=new r.Event((function(){i.invalidate()})),i._value=i._rngEnd=r.DateTime.newDate(),i._month=i._getMonth(i._value),i._createChildren(),i._createYearPicker();var o=i.hostElement,s=i.addEventListener.bind(i);return s(o,"keydown",i._keydown.bind(i)),s(o,"click",i._click.bind(i)),i._rptUp=new r._ClickRepeater(i._btnPrv),i._rptDn=new r._ClickRepeater(i._btnNxt),i.addEventListener(o,"wheel",(function(e){e.defaultPrevented||i.isReadOnly||!i.containsFocus()||(e.deltaY<0?i._btnPrv.click():i._btnNxt.click(),e.preventDefault())})),i.initialize(n),i.refresh(!0),i}return s(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){e=Object(r.asDate)(e,!0),e=this._clamp(e),(this._valid(e)||null==e)&&(this._ensureVisible(e),this._value==e||r.DateTime.equals(this._value,e)||(this._value=e,this._rngEnd=null,this.invalidate(!1),this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEnd",{get:function(){return this._rngEnd},set:function(e){if(e=Object(r.asDate)(e,!0),(e=this._clamp(e))&&this._value&&this._rngMode()){var t=this._rngMin,n=this._rngMax;if(t&&t>0||n&&n>0){var i=this._value,o=Math.ceil((e.getTime()-i.getTime())/864e5)+1;t&&t>0&&o<t&&(e=r.DateTime.addDays(i,t-1)),n&&n>0&&o>n&&(e=r.DateTime.addDays(i,n-1))}}!this._valid(e)&&null!=e||r.DateTime.equals(this._rngEnd,e)||(this._rngEnd=e,this.invalidate(!1),this.onRangeEndChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMin",{get:function(){return this._rngMin},set:function(e){this._rngMin=Object(r.asNumber)(e),this._syncProp(this,"rangeMin")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMax",{get:function(){return this._rngMax},set:function(e){this._rngMax=Object(r.asNumber)(e),this._syncProp(this,"rangeMax")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e!=this.min&&(this._min=Object(r.asDate)(e,!0),this.refresh(),this._syncProp(this,"min"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e!=this.max&&(this._max=Object(r.asDate)(e,!0),this.refresh(),this._syncProp(this,"max"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selMode},set:function(e){(e=Object(r.asEnum)(e,f))!=this._selMode&&(this._selMode=e,this._mthMode()&&(this.monthView=!1),this.refresh(),this._syncProp(this,"selectionMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=Object(r.asBoolean)(e),Object(r.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly),this._syncProp(this,"isReadOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!Object(r.asBoolean)(e),this._syncProp(this,"repeatButtons")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this._yrPicker},set:function(e){e!=this._yrPicker&&(this._yrPicker=Object(r.asBoolean)(e),this._syncProp(this,"showYearPicker"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthPicker",{get:function(){return this._mtPicker},set:function(e){e!=this._mtPicker&&(this._mtPicker=Object(r.asBoolean)(e),this.invalidate(),this._syncProp(this,"showMonthPicker"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(e){if(e!=this._fdw){if((e=Object(r.asNumber)(e,!0))&&(e>6||e<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=e,this.refresh(),this._syncProp(this,"firstDayOfWeek")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonth",{get:function(){return this._month},set:function(e){r.DateTime.equals(this.displayMonth,e)||(e=Object(r.asDate)(e),(this.monthView?this._monthInValidRange(e):this._yearInValidRange(e))&&(this._month=this._getMonth(this._clamp(e)),this.invalidate(!0),this.onDisplayMonthChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonths",{get:function(){return this.hostElement.querySelectorAll(".wj-calendar").length+1},set:function(e){var n=this;if(e!=this.displayMonths){var i=this.hostElement,o=i.querySelectorAll(".wj-calendar");e=Object(r.asInt)(e,!1),Object(r.assert)(e>0,"Calendars must have at least one display month."),Object(r.assert)(1==e||!Object(r.closest)(i.parentElement,".wj-calendar"),"Only top-level calendars can have displayMonths.");for(var s=0;s<o.length;s++){var a=o[s];Object(r.removeChild)(a),this._getCalendar(a).dispose()}for(this._cals=[this],s=1;s<e;s++){for(var l in a=new t(document.createElement("div"),{itemFormatter:this.itemFormatter,itemValidator:this.itemValidator,formatItem:function(e,t){return n.onFormatItem(t)}}),this)if(!/^(_.*|constructor|displayMonth(s)?|hostElement|rightToLeft|isUpdating|isTouching)$/.test(l)){var c=this[l];Object(r.isFunction)(c)||c instanceof r.Event||(a[l]=c)}this._cals.push(a),i.appendChild(a.hostElement)}Object(r.toggleClass)(i,"wj-calendar-multimonth",e>1),this._syncProp(this,"displayMonth")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(e){e!=this._fmtYrMo&&(this._fmtYrMo=Object(r.asString)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(e){e!=this._fmtDayHdr&&(this._fmtDayHdr=Object(r.asString)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(e){e!=this._fmtDay&&(this._fmtDay=Object(r.asString)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(e){e!=this._fmtYr&&(this._fmtYr=Object(r.asString)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(e){e!=this._fmtMonths&&(this._fmtMonths=Object(r.asString)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(e){this._tbHdr.style.display=Object(r.asBoolean)(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(e){if(e!=this.monthView){this._tbMth.style.display=e?"":"none",this._tbYr.style.display=e?"none":"",this.refresh();var t=r.culture.Calendar.ariaLabels;Object(r.setAriaLabel)(this._btnPrv,e?t.prvMo:t.prvYr),Object(r.setAriaLabel)(this._btnTdy,e?t.today:t.currMo),Object(r.setAriaLabel)(this._btnNxt,e?t.nxtMo:t.nxtYr),Object(r.setAriaLabel)(this._btnMth,e?t.monthView:t.yearView),this._syncProp(this,"monthView")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksBefore",{get:function(){return this._wksBefore},set:function(e){e!=this._wksBefore&&(this._wksBefore=Math.floor(Object(r.asNumber)(e,!1,!0)),this._syncProp(this,"weeksBefore"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksAfter",{get:function(){return this._wksAfter},set:function(e){e!=this._wksAfter&&(this._wksAfter=Math.floor(Object(r.asNumber)(e,!1,!0)),this._syncProp(this,"weeksAfter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=Object(r.asFunction)(e),this._syncProp(this,"itemFormatter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this._itemValidator&&(this._itemValidator=Object(r.asFunction)(e),this._syncProp(this,"itemValidator"),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e){return(e=Object(r.closest)(e,"td"))?e[t._DATE_KEY]:null},t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e),this._syncProp(this,"value")},t.prototype.onRangeEndChanged=function(e){},t.prototype.onDisplayMonthChanged=function(e){this.displayMonthChanged.raise(this,e),this._syncProp(this,"displayMonth")},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.containsFocus=function(){return e.prototype.containsFocus.call(this)||this._lbYears.containsFocus()},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,this._lbYears.dispose(),e.prototype.dispose.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0);var n=this.hostElement,i=this.containsFocus();if(n&&(e.prototype.refresh.call(this,t),t&&this._updateContent(),this._updateSelection(),i)){var r=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||n;r&&r.focus()}},t.prototype._getCalendar=function(e){return r.Control.getControl(e)},t.prototype._getCalendars=function(){var e=Object(r.closest)(this.hostElement,".wj-calendar-multimonth");return(e?this._getCalendar(e):this)._cals},t.prototype._syncProp=function(e,t){var n=this;if(!this._syncing){var i=this._getCalendars();if(i&&i.length>1){var o=e[t],s=r.DateTime,a=this._mthMode()?s.addYears:s.addMonths;"displayMonth"==t&&(o=a(o,-i.indexOf(e))),i[0].deferUpdate((function(){n._syncing=!0,i.forEach((function(i,r){if(i!=e){var s=i.displayMonth;i[t]="displayMonth"==t?a(o,r):o,"value"==t&&(i.displayMonth=s,n._rngMode()&&(i.rangeEnd=null))}})),n._syncing=!1}))}}},t.prototype._updateContent=function(){var e=this.displayMonth,n=r.Globalize.format,i=r.DateTime;Object(r.setText)(this._spMth,n(e,this._fmtYrMo));var o=this._btnMth.querySelector(".wj-glyph-down");o&&(o.style.display=this._mthMode()||!this._mtPicker?"none":"");for(var s=null!=this._fdw?this._fdw:r.Globalize.getFirstDayOfWeek(),a=i.addDays(e,-(e.getDay()-s+7)%7),l=i.monthLast(e),c=this._tbMth.querySelectorAll("td"),u=0;u<7&&u<c.length;u++){var h=i.addDays(a,u);Object(r.setText)(c[u],n(h,this._fmtDayHdr))}var d=this._tbMth.querySelectorAll("tr");for(u=1;u<d.length;u++)Object(r.removeChild)(d[u]);var f=i.addDays(a,-7*this._wksBefore);for(u=0;u<this._wksBefore;u++)f=this._addWeek(f,"wj-week-before");for(;f<=l;)f=this._addWeek(f);for(u=0;u<this._wksAfter;u++)f=this._addWeek(f,"wj-week-after");for(this._tdFirst=i.addDays(a,-7*this._wksBefore),this._tdLast=i.addDays(f,-1),(c=this._tbYr.querySelectorAll("td")).length&&Object(r.setText)(c[0],n(e,this._fmtYr)),u=1;u<c.length;u++){f=i.newDate(e.getFullYear(),u-1,1);var p=c[u],g=!this._monthInValidRange(f);p[t._DATE_KEY]=f,Object(r.setText)(p,n(f,this._fmtMonths)),Object(r.toggleClass)(p,"wj-state-disabled",g)}},t.prototype._updateSelection=function(){for(var e=t._DATE_KEY,n=r.DateTime,i=this._tbMth.querySelectorAll("td"),o=7;o<i.length;o++){var s=(d=i[o])[e],a=this.value,l=this.rangeEnd,c=this._selMode&&n.sameDate(s,a),u=this._selMode&&n.sameDate(s,l),h=this._selMode&&s>a&&null!=l&&s<=l;Object(r.toggleClass)(d,"wj-state-selected",c),Object(r.toggleClass)(d,"wj-state-multi-selected",h),Object(r.toggleClass)(d,"wj-state-last-selected",u),Object(r.setAttribute)(d,"aria-selected",!!c||null),this._customizeCell(o,s,d)}for(i=this._tbYr.querySelectorAll("td"),o=0;o<i.length;o++){var d;s=(d=i[o])[e],c=this._sameMonth(s,this.value),Object(r.toggleClass)(d,"wj-state-selected",c),Object(r.setAttribute)(d,"aria-selected",!!c||null)}},t.prototype._addWeek=function(e,n){for(var i=this._createElement("tr",this._tbMth,n),o=r.DateTime,s=0;s<7;s++){var a=this._createElement("td",i),l=o.addDays(e,s);a[t._DATE_KEY]=l,Object(r.setText)(a,r.Globalize.format(l,this._fmtDay));var c=!this._valid(l),u=l.getDay(),h=l.getMonth()!=this.displayMonth.getMonth();Object(r.toggleClass)(a,"wj-day-today",o.sameDate(l,o.newDate())),Object(r.toggleClass)(a,"wj-day-weekend",0==u||6==u),Object(r.toggleClass)(a,"wj-day-othermonth",h||!this._inValidRange(l)||c),Object(r.toggleClass)(a,"wj-state-invalid",c)}return o.addDays(e,7)},t.prototype._customizeCell=function(e,t,n){if(Object(r.isFunction)(this.itemFormatter)&&this.itemFormatter(t,n),this.formatItem.hasHandlers){var i=new d(e,t,n);this.onFormatItem(i)}},t.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=f.None},t.prototype._valid=function(e){return!(!Object(r.isDate)(e)||!r.DateTime.sameDate(e,this._clamp(e)))&&(!Object(r.isFunction)(this.itemValidator)||this.itemValidator(e))},t.prototype._inValidRange=function(e){var t=r.DateTime.fromDateTime;return!(this.min&&e<t(this.min,e)||this.max&&e>t(this.max,e))},t.prototype._monthInValidRange=function(e){if(this.min||this.max){var t=e.getFullYear(),n=e.getMonth(),i=r.DateTime,o=i.newDate(t,n,1),s=i.newDate(t,n+1,0);if(this.min&&this.min>s)return!1;if(this.max&&this.max<o)return!1}return!0},t.prototype._yearInValidRange=function(e){if(this.min||this.max){var t=e.getFullYear(),n=r.DateTime,i=n.newDate(t,0,1),o=n.newDate(t,11,31);if(this.min&&this.min>o)return!1;if(this.max&&this.max<i)return!1}return!0},t.prototype._sameMonth=function(e,t){return Object(r.isDate)(e)&&Object(r.isDate)(t)&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()},t.prototype._getValidDate=function(e,t){if(Object(r.isDate)(e))for(var n=e.getFullYear(),i=e.getMonth()+(t?0:1),o=r.DateTime,s=o.newDate(n,i,t?1:0),a=t?1:-1,l=0;l<31;l++){if(this._valid(s))return s;s=o.addDays(s,a)}return null},t.prototype._clamp=function(e){if(e){var t=r.DateTime.fromDateTime;if(this.min){var n=t(this.min,e);e<n&&(e=n)}if(this.max){var i=t(this.max,e);e>i&&(e=i)}}return e},t.prototype._createChildren=function(){var e=this.getTemplate();this.applyTemplate("wj-control wj-calendar",e,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"}),this._tbYr.style.display="none";var t=r.culture.Calendar.ariaLabels;Object(r.setAriaLabel)(this._tbMth,t.calendar),Object(r.setAriaLabel)(this._tbYr,t.calendar),Object(r.setAriaLabel)(this._btnPrv,t.calendar),Object(r.setAriaLabel)(this._btnMth,t.monthView),Object(r.setAriaLabel)(this._btnPrv,t.prvMo),Object(r.setAriaLabel)(this._btnTdy,t.today),Object(r.setAriaLabel)(this._btnNxt,t.nxtMo);for(var n=this._createElement("tr",this._tbMth,"wj-header"),i=0;i<7;i++)this._createElement("td",n);n=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",n).setAttribute("colspan","4");for(var o=0;o<3;o++){n=this._createElement("tr",this._tbYr);for(var s=0;s<4;s++)this._createElement("td",n)}},t.prototype._createYearPicker=function(){var e=this,t=this.hostElement,n=this._createElement("div",null,"wj-dropdown-panel wj-yearpicker");n.tabIndex=this._orgTabIndex,this._lbYears=new h(n,{lostFocus:function(t){if(Object(r.hidePopup)(n),e._tmYrHidden=Date.now(),e.removeEventListener(window,"touchstart"),t.selectedIndex>-1){var i=r.DateTime.clone(e.displayMonth);i.setFullYear(t.selectedIndex+t.itemsSource[0]),e.displayMonth=i}}}),this.addEventListener(n,"keydown",(function(n){switch(n.keyCode){case r.Key.Enter:t.focus();break;case r.Key.Escape:e._lbYears.selectedIndex=-1,t.focus()}n.defaultPrevented&&n.stopPropagation()})),this.addEventListener(n,"click",(function(e){t.focus()}))},t.prototype._createElement=function(e,t,n){var i=document.createElement(e);return n&&Object(r.addClass)(i,n),t&&t.appendChild(i),i},t.prototype._click=function(e){var t=this;if(!e.defaultPrevented&&0==e.button){var n=!1,i=e.target;if(Object(r.contains)(this._btnMth,i)&&!this._mthMode()&&this._mtPicker?(this.monthView=!this.monthView,n=!0):Object(r.contains)(this._btnPrv,i)?(this._navigate(-1),n=!0):Object(r.contains)(this._btnNxt,i)?(this._navigate(1),n=!0):Object(r.contains)(this._btnTdy,i)&&(this._navigate(0),n=!0),i&&!n&&this._yrPicker&&Object(r.contains)(this._tbYr,i)&&Object(r.closest)(i,".wj-header")){if(Date.now()-this._tmYrHidden<600)return void e.preventDefault();for(var o=this.displayMonth.getFullYear(),s=this.min?this.min.getFullYear():o-100,a=this.max?this.max.getFullYear():o+100,l=[],c=s;c<=a;c++)l.push(c);var u=this._lbYears,h=u.hostElement,d=Object(r.closest)(i,".wj-header"),f=this.hostElement,p=Object(r.closest)(f,".wj-inputdate-dropdown")||f;return u.itemsSource=l,u.selectedIndex=o-l[0],Object(r.setAttribute)(h,"dir",this.rightToLeft?"rtl":null),Object(r.setCss)(h,{minWidth:"",width:d.offsetWidth}),Object(r.showPopup)(h,d,!1,!1,p),requestAnimationFrame((function(){u.showSelection(!0)})),this.addEventListener(window,"touchstart",(function(e){Object(r.contains)(h,e.target)||(Object(r.hidePopup)(h),t._tmYrHidden=Date.now(),t.removeEventListener(window,"touchstart"))})),void e.preventDefault()}if(i&&!n){var g=Object(r.closest)(i,"td");if(g){var m=this.hitTest(g),b=r.DateTime.fromDateTime;if(this.monthView){if(m&&this._canChangeValue()){var v=b(m,this._value);this._inValidRange(v)&&this._valid(v)&&(this._rngMode()&&this.value&&!this.rangeEnd&&v>=this.value?this.rangeEnd=v:this.value=v),n=!0}}else m&&(this.displayMonth=m,this._mthMode()?this._canChangeValue()&&(v=b(this.displayMonth,this.value),this._inValidRange(v)&&(this.value=v)):this.monthView=!0,n=!0)}}n&&(e.preventDefault(),this.focus())}},t.prototype._keydown=function(e){if(!e.defaultPrevented){if(e.altKey)switch(e.keyCode){case r.Key.Up:case r.Key.Down:return;case r.Key.End:return this._navigate(0),void e.preventDefault()}if(!(e.ctrlKey||e.metaKey||e.shiftKey&&!this._rngMode())){var t=this._getKeyCode(e),n=0,i=0,o=!0;if(this.monthView)switch(t){case r.Key.Left:n=-1;break;case r.Key.Right:n=1;break;case r.Key.Up:n=-7;break;case r.Key.Down:n=7;break;case r.Key.PageDown:i=e.altKey?12:1;break;case r.Key.PageUp:i=e.altKey?-12:-1;break;case r.Key.Home:case r.Key.End:if(this._canChangeValue()&&!e.shiftKey){var s=this.value||this.displayMonth;(l=this._getValidDate(s,t==r.Key.Home))&&(this.value=r.DateTime.fromDateTime(l,this.value),this._rngEnd=null)}break;default:o=!1}else switch(t){case r.Key.Left:i=-1;break;case r.Key.Right:i=1;break;case r.Key.Up:i=-4;break;case r.Key.Down:i=4;break;case r.Key.PageDown:i=e.altKey?120:12;break;case r.Key.PageUp:i=e.altKey?-120:-12;break;case r.Key.Home:i=this.value?-this.value.getMonth():0;break;case r.Key.End:i=this.value?11-this.value.getMonth():0;break;case r.Key.Enter:this._mthMode()?o=!1:this.monthView=!0;break;default:o=!1}if(this._canChangeValue()&&(n||i)){var a=e.shiftKey&&null!=this.rangeEnd?this.rangeEnd:this.value,l=r.DateTime;if(a?(a=l.addDays(a,n),a=l.addMonths(a,i)):a=this._getValidDate(new Date,!0),i&&!this._valid(a)){s=a.getMonth();for(var c=1;c<31&&!this._valid(a);c++){var u=l.addDays(a,+c),h=l.addDays(a,-c);this._valid(u)&&u.getMonth()==s?a=u:this._valid(h)&&h.getMonth()==s&&(a=h)}}for(c=0;c<31&&!this._valid(a);c++)a=l.addDays(a,n>0||i>0?1:-1);e.shiftKey&&a>this.value?this.rangeEnd=a:this.value=a}o&&e.preventDefault()}}},t.prototype._getMonth=function(e){var t=r.DateTime;return e=e||t.newDate(),t.newDate(e.getFullYear(),e.getMonth(),1)},t.prototype._ensureVisible=function(e){var t=this._tdFirst,n=this._tdLast;e=e||r.DateTime.newDate(),(!t||e<t||!n||e>n)&&(this.displayMonth=this._getMonth(e))},t.prototype._mthMode=function(){return this.selectionMode==f.Month},t.prototype._rngMode=function(){return!1},t.prototype._navigate=function(e){var t=this.monthView,n=this.displayMonth,i=r.DateTime;switch(e){case 0:var o=i.newDate();this._canChangeValue()&&(this.value=t?i.fromDateTime(o,this.value):this._getMonth(o)),n=this._getMonth(o);break;case 1:n=i.addMonths(n,t?1:12);break;case-1:n=i.addMonths(n,t?-1:-12)}this.displayMonth=n},t._DATE_KEY="$WJ-DATE",t.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid"></table></div>',t}(r.Control);Object(r._addCultureInfo)("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}}),function(e){e[e.Select=0]="Select",e[e.Open=1]="Open",e[e.Toggle=2]="Toggle"}(m||(m={}));var v,y,_=function(e){function t(t,n){var i=e.call(this,t)||this;i._clickAction=m.Select,i._showBtn=!0,i._autoExpand=!0,i._animate=!1,i._oldText="",i.textChanged=new r.Event,i.isDroppedDownChanging=new r.Event,i.isDroppedDownChanged=new r.Event;var o=i.getTemplate();i.applyTemplate("wj-control wj-content wj-dropdown",o,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input"),i._dropDown.style.display="none";var s=r.culture.DropDown.ariaLabels;Object(r.setAriaLabel)(i._btn.querySelector("button"),s.tgl);var a=i._elRef=i._tbx;Object(r.disableAutoComplete)(a),i._createDropDown(),i._updateBtn();var l=i.hostElement;Object(r.addClass)(l,"wj-state-collapsed"),i.addEventListener(window,"resize",(function(){i.isDroppedDown&&i.invalidate()}));var c=i.dropDown,u=i.addEventListener.bind(i),h=i._updateFocusState.bind(i);u(c,"blur",h,!0),u(c,"focus",h);var d=i._keydown.bind(i);return u(l,"keydown",d),u(c,"keydown",d),u(a,"keypress",(function(e){9787==e.keyCode&&e.preventDefault()})),u(a,"input",(function(){i._setText(i.text,!1)})),u(a,"click",(function(){i._autoExpand&&i._expandSelection()})),u(a,"blur",(function(){i._commitText()}),!0),u(a,"mousedown",(function(e){switch(i._clickAction){case m.Open:i.isDroppedDown||(i.isDroppedDown=!0,i.focus(),e.preventDefault());break;case m.Toggle:i.isDroppedDown=!i.isDroppedDown,i.focus(),e.preventDefault()}})),u(i._btn,"mousedown",(function(e){i._btnclick(e)})),Object(r.removeChild)(c),Object(r.isIE)()&&i._elRef==i._tbx&&u(l,"mouseup",(function(e){if(!e.defaultPrevented&&0==e.button&&Object(r.hasClass)(e.target,"wj-btn")){var t=Object(r.getActiveElement)();t&&t!=e.target&&setTimeout((function(){t.focus()}))}})),Object(r.isIE9)()&&u(a,"keyup",(function(){i._setText(i.text,!1)})),u(c,"click",i._dropDownClick.bind(i)),i}return s(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=Object(r.asBoolean)(e),Object(r.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickAction",{get:function(){return this._clickAction},set:function(e){this._clickAction=Object(r.asEnum)(e,m)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDroppedDown",{get:function(){var e=this._dropDown;return e&&"none"!=e.style.display},set:function(e){var t=this,n=this.hostElement,i=this._dropDown,o=this.containsFocus()||this._setFocus;n&&i&&(e=Object(r.asBoolean)(e)&&!this.isDisabled&&!this.isReadOnly)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new r.CancelEventArgs)&&(e?(this._minWidthDropdown=i.style.minWidth,i.style.display="block",this._updateDropDown(),this.addEventListener(window,"touchstart",(function(e){for(var i=e.target;i;){if(i==n)return;i=i[r.Control._OWNR_KEY]||i.parentNode}r.Control._touching=!0,t.isDroppedDown=!1,r.Control._touching=!1}))):(this.removeEventListener(window,"touchstart"),Object(r.hidePopup)(i),i.style.minWidth=this._minWidthDropdown),this._setFocus=!1,o&&(this.isTouching&&this.showDropDownButton?n.focus():this.selectAll()),this._updateFocusState(),Object(r.toggleClass)(n,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(Object(r.removeClass)(this._dropDown,this._cssClass),this._cssClass=Object(r.asString)(e),Object(r.addClass)(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(e){this._showBtn=Object(r.asBoolean)(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(e){this._autoExpand=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animate},set:function(e){this._animate=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;this._elRef==e&&Object(r.setSelectionRange)(e,0,this.text.length),this.containsFocus()||this.focus()},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDownChanging.raise(this,e),!e.cancel},t.prototype.onIsDroppedDownChanged=function(e){this.isDroppedDownChanged.raise(this,e)},t.prototype.onGotFocus=function(t){this.isTouching||Object(r.contains)(this._dropDown,Object(r.getActiveElement)())||this.selectAll(),e.prototype.onGotFocus.call(this,t)},t.prototype.onLostFocus=function(t){this._commitText(),this.isDroppedDown=!1,e.prototype.onLostFocus.call(this,t)},t.prototype.containsFocus=function(){return e.prototype.containsFocus.call(this)||this.isDroppedDown&&Object(r.contains)(this._dropDown,Object(r.getActiveElement)())},t.prototype.dispose=function(){this.isDroppedDown=!1;var t=this._dropDown;if(t){var n=r.Control.getControl(t);n&&n.dispose(),Object(r.removeChild)(t),this._dropDown=null}e.prototype.dispose.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t);var n=this.hostElement;if(n&&n.offsetHeight&&this.isDroppedDown){var i=Object(r.getActiveElement)();this.isAnimated&&""!=this._dropDown.style.opacity||Object(r.showPopup)(this._dropDown,n,!1,!1,null==this.dropDownCssClass),i instanceof HTMLElement&&i!=Object(r.getActiveElement)()&&i.focus()}},t.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},t.prototype._dropDownClick=function(e){e.stopPropagation()},t.prototype._expandSelection=function(){var e=this._tbx,t=e.value,n=e.selectionStart,i=e.selectionEnd;if(t&&n==i){var o=this._getCharType(t,n);if(o>-1){for(;i<t.length&&this._getCharType(t,i)==o;i++);for(;n>0&&this._getCharType(t,n-1)==o;n--);n!=i&&Object(r.setSelectionRange)(e,n,i)}}},t.prototype._getCharType=function(e,t){var n=e[t];return n>="0"&&n<="9"?0:n>="a"&&n<="z"||n>="A"&&n<="Z"?1:-1},t.prototype._keydown=function(e){if(!e.defaultPrevented)switch(e.keyCode){case r.Key.Tab:case r.Key.Escape:case r.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,e.keyCode==r.Key.Tab||this.containsFocus()||this.focus(),e.preventDefault());break;case r.Key.F4:case r.Key.Up:case r.Key.Down:if(e.keyCode==r.Key.F4||e.altKey){var t=this.hostElement;t&&t.offsetHeight&&(this.isDroppedDown=!this.isDroppedDown,e.preventDefault())}}},t.prototype._btnclick=function(e){e.defaultPrevented||0!=e.button||(this._setFocus=!0,this.isDroppedDown=!this.isDroppedDown,e.preventDefault())},t.prototype._setText=function(e,t){null==e&&(e=""),(e=e.toString())!=this._tbx.value&&(this._tbx.value=e),e!=this._oldText&&(this._oldText=e,this.onTextChanged())},t.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},t.prototype._createDropDown=function(){},t.prototype._commitText=function(){},t.prototype._updateDropDown=function(){if(this.isDroppedDown){this._commitText();var e=this.dropDown;Object(r.setAttribute)(e,"dir",this.rightToLeft?"rtl":null),Object(r.showPopup)(e,this.hostElement,!1,this._animate,null==this.dropDownCssClass)}},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(r.Control);!function(e){e[e.None=0]="None",e[e.ClickOwner=1]="ClickOwner",e[e.ClickPopup=2]="ClickPopup",e[e.Click=3]="Click",e[e.BlurOwner=4]="BlurOwner",e[e.BlurPopup=8]="BlurPopup",e[e.Blur=12]="Blur",e[e.ClickOrBlur=15]="ClickOrBlur",e[e.DownOwner=16]="DownOwner",e[e.DownPopup=32]="DownPopup",e[e.Down=48]="Down",e[e.EnterOwner=64]="EnterOwner",e[e.EnterPopup=128]="EnterPopup",e[e.Enter=192]="Enter",e[e.LeaveOwner=256]="LeaveOwner",e[e.LeavePopup=512]="LeavePopup",e[e.Leave=768]="Leave"}(y||(y={})),function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Top=2]="Top",e[e.Right=4]="Right",e[e.Bottom=8]="Bottom",e[e.LeftTop=3]="LeftTop",e[e.RightTop=6]="RightTop",e[e.RightBottom=12]="RightBottom",e[e.LeftBottom=9]="LeftBottom"}(v||(v={}));var w=function(e){function t(t,n){var i=e.call(this,t)||this;i._modal=!1,i._position=r.PopupPosition.BelowLeft,i._showTrigger=y.ClickOwner,i._hideTrigger=y.Blur,i._hideAnim=[],i._fadeIn=!0,i._fadeOut=!0,i._removeOnHide=!0,i._draggable=!1,i._resizable=!1,i._visible=!1,i._ownerClickBnd=i._ownerClick.bind(i),i._ownerDownBnd=i._ownerDown.bind(i),i._ownerBlurBnd=i._ownerBlur.bind(i),i._ownerEnterBnd=i._ownerEnter.bind(i),i._ownerLeaveBnd=i._ownerLeave.bind(i),i._mousedownBnd=i._mousedown.bind(i),i._mousemoveBnd=i._mousemove.bind(i),i._mousedragBnd=i._mousedrag.bind(i),i._mouseupBnd=i._mouseup.bind(i),i._hideBnd=i.hide.bind(i),i._lastShow=0,i.showing=new r.Event,i.shown=new r.Event,i.hiding=new r.Event,i.hidden=new r.Event,i.resizing=new r.Event,i.resized=new r.Event,i.dragging=new r.Event,i.dragged=new r.Event,i.sizeChanging=new r.Event,i.sizeChanged=new r.Event,i.positionChanging=new r.Event,i.positionChanged=new r.Event;var o=i.hostElement;Object(r.addClass)(o,"wj-control wj-content wj-popup"),o.getAttribute("tabindex")||(o.tabIndex=0),Object(r.hidePopup)(o,!1);var s=i.addEventListener.bind(i);s(o,"compositionstart",(function(){i._composing=!0})),s(o,"compositionend",(function(){i._composing=!1})),s(window,"resize",(function(){!i.isVisible||i._dragged||i.isTouching||i.invalidate()})),s(o,"keydown",(function(e){if(!e.defaultPrevented){if(e.keyCode==r.Key.Escape&&!i._composing){var t=i._oldFocus;e.preventDefault(),i.hide(),t&&t.offsetHeight&&t.focus()}if(e.keyCode==r.Key.Enter&&!i._composing){var n=i.dialogResultEnter;n&&(e.preventDefault(),i._validateAndHide(n))}e.keyCode==r.Key.Tab&&i.modal&&(e.preventDefault(),Object(r.moveFocus)(o,e.shiftKey?-1:1))}})),s(o,"click",(function(e){var t=e.target;if(t instanceof HTMLElement){if(t instanceof HTMLButtonElement&&"submit"==t.type){var n=i.hostElement,r=i.dialogResultSubmit;n instanceof HTMLFormElement&&r&&n.reportValidity()&&(e.preventDefault(),i.hide(r))}var o=t.className.match(/\bwj-hide[\S]*\b/);o&&o.length>0&&(e.preventDefault(),e.stopPropagation(),i.hide(o[0]))}}));var a=i._toggle.bind(i),l=y;return i.addEventListener(o,"click",(function(e){i._ignoreClick||a(e,l.ClickPopup)}),!0),i.addEventListener(o,"mousedown",(function(e){i._ignoreClick=!1,a(e,l.DownPopup)}),!0),i.addEventListener(o,"mouseenter",(function(e){e.target==o&&a(e,l.EnterPopup)}),!0),i.addEventListener(o,"mouseleave",(function(e){e.target==o&&a(e,l.LeavePopup)}),!0),i.addEventListener(o,"blur",(function(e){i.containsFocus()||a(e,l.BlurPopup)}),!0),s(document,"wheel",(function(e){if(i.isVisible&&i._modal){for(var t=e.target;t&&t!=document.body;t=t.parentElement)if(t.scrollHeight>t.clientHeight)return;e.preventDefault()}})),i.initialize(n),i}return s(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){var t=this._owner;t&&(this.removeEventListener(t,"click"),this.removeEventListener(t,"mousedown"),this.removeEventListener(t,"mouseenter"),this.removeEventListener(t,"mouseleave"),this.removeEventListener(t,"blur")),(t=this._owner=null!=e?Object(r.getElement)(e):null)&&(this.addEventListener(t,"click",this._ownerClickBnd,!0),this.addEventListener(t,"mousedown",this._ownerDownBnd,!0),this.addEventListener(t,"mouseenter",this._ownerEnterBnd,!0),this.addEventListener(t,"mouseleave",this._ownerLeaveBnd,!0),this.addEventListener(t,"blur",this._ownerBlurBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=Object(r.asEnum)(e,r.PopupPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(e){e!=this.content&&(this.hostElement.innerHTML="",e instanceof HTMLElement&&this.hostElement.appendChild(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(e){this._showTrigger=Object(r.asEnum)(e,y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(e){this._hideTrigger=Object(r.asEnum)(e,y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(e){this._fadeIn=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(e){this._fadeOut=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(e){this._removeOnHide=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal},set:function(e){this._modal=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraggable",{get:function(){return this._draggable},set:function(e){this._draggable=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isResizable",{get:function(){return this._resizable},set:function(e){this._resizable=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResult",{get:function(){return this._result},set:function(e){this._result=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(e){this._resultEnter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultSubmit",{get:function(){return this._resultSubmit},set:function(e){this._resultSubmit=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.hostElement;return this._visible&&null!=e&&e.offsetHeight>0},enumerable:!0,configurable:!0}),t.prototype.show=function(e,t){var n=this;if(this._lastShow=Date.now(),!this.isVisible){var i=this.hostElement;this.dialogResult=null,this._callback=null,this._oldFocus=null,this._hideAnim.forEach((function(e){clearInterval(e)})),this._hideAnim.length=0;var o=new r.CancelEventArgs;this.onShowing(o)&&(null!=e&&(this.modal=Object(r.asBoolean)(e)),null!=t&&(this._callback=Object(r.asFunction)(t)),this._oldFocus=Object(r.getActiveElement)(),Object(r.showPopup)(i,this._owner,this._position,this._fadeIn,!1,this._hideBnd),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(o),this.modal&&this.addEventListener(window,"focus",(function(){n.containsFocus()||Object(r.moveFocus)(i,0)})),this._resized=this._dragged=this._ignoreClick=!1,this._handleDragResize(!0),this.addEventListener(window,"touchstart",(function(e){n._hideTrigger&y.Blur&&!Object(r.contains)(i,e.target,!0)&&n.hide()})),setTimeout((function(){if(!n.isTouching){var e=i.querySelector("[autofocus]");e&&e.clientHeight>0&&!e.disabled&&e.tabIndex>-1&&!Object(r.closest)(e,"[disabled],.wj-state-disabled")?(e.focus(),Object(r.isFunction)(e.select)&&e.select()):Object(r.moveFocus)(i,0)}n.containsFocus()||(i.tabIndex=0,i.focus())}),200))}},t.prototype.hide=function(e){var n=this;if(this._handleDragResize(!1),this.removeEventListener(window,"touchstart"),this.isVisible){Object(r.isUndefined)(e)||(this.dialogResult=e);var i=new r.CancelEventArgs,o=this.hostElement;if(this.onHiding(i)){for(var s=o.querySelectorAll(".wj-control.wj-dropdown"),a=0;a<s.length;a++){var l=r.Control.getControl(s[a]);l instanceof _&&(l.isDroppedDown=!1)}var c=this.removeOnHide,u=this.fadeOut;this._bkDrop&&this._hideAnim.push(Object(r.hidePopup)(this._bkDrop,c,u)),this._hideAnim.push(Object(r.hidePopup)(o,c,u)),this._visible=!1,this._oldFocus=null,this.removeEventListener(window,"focus"),this.containsFocus()&&Object(r.getActiveElement)().blur(),setTimeout((function(){if(n._updateState(),n.onHidden(i),n._callback&&n._callback(n),n.hideTrigger&y.LeavePopup){var e=r.Control.getControl(Object(r.closest)(n.owner,".wj-popup"));if(e instanceof t&&0!=(e.hideTrigger&y.Leave)){var o=t._evtHover,s=o?document.elementFromPoint(o.clientX,o.clientY):null,a=r.Control.getControl(Object(r.closest)(s,".wj-popup"));a instanceof t&&!a.isVisible&&(s=null),s&&Object(r.contains)(e.hostElement,s,!0)||e.hide()}}}))}}},t.prototype.onShowing=function(e){return this.showing.raise(this,e),!e.cancel},t.prototype.onShown=function(e){this.shown.raise(this,e)},t.prototype.onHiding=function(e){return this.hiding.raise(this,e),!e.cancel},t.prototype.onHidden=function(e){this._wasVisible=!1,this.hidden.raise(this,e)},t.prototype.onResizing=function(e){return this.resizing.raise(this,e),!e.cancel},t.prototype.onResized=function(e){this.resized.raise(this,e)},t.prototype.onDragging=function(e){return this.dragging.raise(this,e),!e.cancel},t.prototype.onDragged=function(e){this.dragged.raise(this,e)},t.prototype.onSizeChanging=function(e){return this.sizeChanging.raise(this,e),!e.cancel},t.prototype.onSizeChanged=function(e){this.sizeChanged.raise(this,e)},t.prototype.onPositionChanging=function(e){return this.positionChanging.raise(this,e),!e.cancel},t.prototype.onPositionChanged=function(e){this.positionChanged.raise(this,e)},t.prototype.onLostFocus=function(t){if(e.prototype.onLostFocus.call(this,t),this._hideTrigger&y.BlurPopup&&!this.containsFocus()){var n=document.createEvent("Event");n.initEvent("blur",!0,!0),this._toggle(n,y.BlurPopup)}},t.prototype.dispose=function(){this.owner=null,e.prototype.dispose.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0);var n=this.hostElement;if(e.prototype.refresh.call(this,t),this.isVisible&&!this._refreshing&&n){this._refreshing=!0;var i=Object(r.getActiveElement)(),o=this._owner?this._owner.getBoundingClientRect():null;Object(r.showPopup)(n,o,this._position),this._modal&&i instanceof HTMLElement&&i!=Object(r.getActiveElement)()&&i.focus(),this._refreshing=!1}},t.prototype._handleDragResize=function(e){var t=this.hostElement,n=this._draggable?this._getHeaderElement():null,i=this.addEventListener.bind(this),r=this.removeEventListener.bind(this),o=this._mousemoveBnd,s=this._mousedownBnd;e?(i(t,"mousemove",o),i(t,"mousedown",s),i(t,"touchstart",s),n&&(n.style.touchAction="none")):(this._mousedownEvt=null,this._rcBounds=null,r(t,"mousemove",o),r(t,"mousedown",s),r(t,"touchstart",s),r(document,"mousemove",this._mousedragBnd),r(document,"mouseup",this._mouseupBnd),n&&(n.style.touchAction=""))},t.prototype._mousemove=function(e){if(!this._mousedownEvt){var t=this.hostElement,n=this._getEdges(t,e),i="",r=v;this._edges=n,this._resizable&&(n==r.LeftTop||n==r.RightBottom?i="nwse-resize":n==r.LeftBottom||n==r.RightTop?i="nesw-resize":n==r.Left||n==r.Right?i="ew-resize":n!=r.Top&&n!=r.Bottom||(i="ns-resize")),this._draggable&&!i&&this._getClosestHeader(e.target)&&(i="move"),t.style.cursor=i}},t.prototype._mousedown=function(e){if(!e.defaultPrevented){var t=e.touches&&e.touches.length>0?e.touches[0]:e;if(this._edges=this._getEdges(this.hostElement,t),this._edges||this._draggable&&this._getClosestHeader(e.target)){var n=new r.CancelEventArgs;if(this._edges?this.onResizing(n):this.onDragging(n)){this._mousedownEvt=t,this._rcBounds=this.hostElement.getBoundingClientRect();var i=this.addEventListener.bind(this),o=document,s=this._mousedragBnd,a=this._mouseupBnd;i(o,"mousemove",s),i(o,"touchmove",s),i(o,"mouseup",a),i(o,"touchend",a)}}this._ignoreClick=!1}},t.prototype._mouseup=function(){this._mousedownEvt=null,this._rcBounds=null;var e=this.removeEventListener.bind(this),t=document,n=this._mousedragBnd,i=this._mouseupBnd;e(t,"mousemove",n),e(t,"touchmove",n),e(t,"mouseup",i),e(t,"touchend",i),this._resized?this.onResized():this._dragged&&this.onDragged()},t.prototype._mousedrag=function(e){if(!e.defaultPrevented){var n=this.hostElement,i=this._mousedownEvt,o=e.touches&&e.touches.length>0?e.touches[0]:e,s=o.clientX-i.clientX,a=o.clientY-i.clientY,l=this._rcBounds,c=this._edges,u=t._SZ_MIN,h=r.Rect.fromBoundingRect(l);if(c){if(c&v.Left?(h.left=l.left+s+(o.pageX-o.clientX),h.width=Math.max(l.width-s,u)):c&v.Right&&(h.left=l.left,h.width=Math.max(l.width+s,u)),c&v.Top?(h.top=l.top+a+(o.pageY-o.clientY),h.height=Math.max(l.height-a,u)):c&v.Bottom&&(h.top=l.top,h.height=Math.max(l.height+a,u)),this.onSizeChanging(new C(h))&&(Object(r.setCss)(n,{left:h.left,top:h.top,width:h.width,height:h.height}),this._resized=this._dragged=this._ignoreClick=!0,this.onSizeChanged()),!window.ResizeObserver)for(var d=this.hostElement.children,f=0;f<d.length;f++)r.Control.invalidateAll(d[f])}else this._draggable&&(this._dragged||Math.abs(s)+Math.abs(a)>t._DRAG_THRESHOLD)&&(h.left=Math.max(l.left+s+(o.pageX-o.clientX),50-l.width),h.top=Math.max(l.top+a+(o.pageY-o.clientY),0),this.onPositionChanging(new C(h))&&(Object(r.setCss)(n,{left:h.left,top:h.top}),this._dragged=this._ignoreClick=!0,this.onPositionChanged()))}},t.prototype._getEdges=function(e,n){var i=0;if(this._resizable){var r=e.getBoundingClientRect(),o=t._SZ_EDGE;n.clientX-r.left<o&&(i|=v.Left),n.clientY-r.top<o&&(i|=v.Top),r.right-n.clientX<o&&(i|=v.Right),r.bottom-n.clientY<o&&(i|=v.Bottom)}return i},t.prototype._ownerClick=function(e){this._toggle(e,y.ClickOwner)},t.prototype._ownerDown=function(e){this._wasVisible=this.isVisible,this._toggle(e,y.DownOwner)},t.prototype._ownerBlur=function(e){Object(r.contains)(this._owner,Object(r.getActiveElement)())||this._toggle(e,y.BlurOwner)},t.prototype._ownerEnter=function(e){e.target==this._owner&&this._toggle(e,y.EnterOwner)},t.prototype._ownerLeave=function(e){e.target==this._owner&&this._toggle(e,y.LeaveOwner)},t.prototype._toggle=function(e,n){var i=this;if(e instanceof MouseEvent&&(t._evtHover=e),!("mouseenter"==e.type&&Date.now()-this._lastShow<300||e.defaultPrevented)){var o=0!=(this._hideTrigger&n),s=0!=(this._showTrigger&n),a=y;(o||s)&&(this._toHide&&(clearTimeout(this._toHide),this._toHide=null),this._toShow&&(clearTimeout(this._toShow),this._toShow=null)),o&&this.isVisible&&(n&a.Leave?this._toHide=setTimeout((function(){var e=t._evtHover,n=e?document.elementFromPoint(e.clientX,e.clientY):null;n&&Object(r.contains)(i.hostElement,n,!0)||i.hide()}),r.Control._LEAVE_DELAY):n&a.Blur?setTimeout((function(){i.containsFocus()||Object(r.contains)(i._owner,Object(r.getActiveElement)())||i.hide()}),r.Control._FOCUS_INTERVAL+50):this.hide()),s&&n!=a.ClickPopup&&(this._wasVisible||(n&a.Enter?this._toShow=setTimeout((function(){i.show()}),r.Control._HOVER_DELAY):this.show()))}},t.prototype._getHeaderElement=function(){var e=this.hostElement;return e.querySelector(".wj-dialog-header")||e.querySelector(".modal-header")},t.prototype._getClosestHeader=function(e){return Object(r.closest)(e,".wj-dialog-header")||Object(r.closest)(e,".modal-header")},t.prototype._showBackdrop=function(){var e=this;this._bkDrop||(this._bkDrop=document.createElement("div"),this._bkDrop.tabIndex=-1,Object(r.addClass)(this._bkDrop,"wj-popup-backdrop"),this.addEventListener(this._bkDrop,"mousedown",(function(t){t.preventDefault(),t.stopPropagation(),e.hostElement.focus(),e.hideTrigger&y.Blur&&e.hide()}))),Object(r.setCss)(this._bkDrop,{zIndex:r.Control._POPUP_ZINDEX,display:""});var t=this.hostElement;t.parentElement.insertBefore(this._bkDrop,t)},t.prototype._validateAndHide=function(e){var t=this.hostElement;if(t instanceof HTMLFormElement)t.reportValidity()&&this.hide(e);else{var n=this.hostElement.querySelector(":invalid");n?n.focus():this.hide(e)}},t._DRAG_THRESHOLD=6,t._SZ_EDGE=10,t._SZ_MIN=40,t}(r.Control),C=function(e){function t(t){var n=e.call(this)||this;return n._rc=t,n}return s(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this._rc},enumerable:!0,configurable:!0}),t}(r.CancelEventArgs),S=function(e){function t(t,n){var i=e.call(this,t)||this;i._fmt="d",i._sep=" - ",i._rngs=null,i._showCal=!1,i._clsOnSel=!0,i._clicked=!1,i.valueChanged=new r.Event,i.rangeEndChanged=new r.Event,Object(r.addClass)(i.hostElement,"wj-inputdate"),i._msk=new r._MaskProvider(i._tbx),Object(r.isIE9)()||(i.inputType="tel"),i._tbx.type.match(/^(tel|text|)$/i)&&(i.inputType=""),i.addEventListener(i.hostElement,"wheel",(function(e){if(!e.defaultPrevented&&!i.isDroppedDown&&i.containsFocus()&&null!=i.value&&i._canChangeValue()){var t=Object(r.clamp)(-e.deltaY,-1,1),n=i.value;i.value=i.selectionMode==f.Month?r.DateTime.addMonths(n,t):r.DateTime.addDays(n,t),i.selectAll(),e.preventDefault()}}));var o=i._lbx=new h(document.createElement("div"),{displayMemberPath:"name",selectedIndexChanged:function(e){var t=e.selectedItem,n=r.DateTime.fromDateTime;t&&t.start&&t.end?(i.value=n(t.start,i.value),i.rangeEnd=n(t.end,i.value),i._selectAll()):i._cal.hostElement.style.display=""}}),s=i._cal=new b(document.createElement("div")),a=i._dropDown;if(Object(r.addClass)(a,"wj-inputdate-dropdown"),a.appendChild(o.hostElement),a.appendChild(s.hostElement),i.addEventListener(a,"click",(function(){i._clicked=!0,setTimeout((function(){i._clicked=!1}),50)}),!0),"INPUT"==i._orgTag){var l=i._tbx.getAttribute("value");l&&(s.value=s.rangeEnd=r.Globalize.parseDate(l,"yyyy-MM-dd"))}return i.isRequired=!0,i.initialize(n),i._tbx.value=i._oldText=i._getText(),s.valueChanged.addHandler((function(e,t){i.onValueChanged(t),i._refreshText(),i._closeOnChange()})),s.rangeEndChanged.addHandler((function(e,t){s._rngMode()&&(i.onRangeEndChanged(t),i._refreshText(),i._closeOnChange())})),s.hostElement.addEventListener("click",(function(e){if(s.selectionMode&&!s._rngMode()){var t=e.target,n=s.hitTest(t);(r.DateTime.sameDate(i.value,n)||Object(r.closest)(t,"[wj-part=btn-today]"))&&i._closeOnChange()}})),i}return s(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._cal.value},set:function(e){var t=this._cal;t.rangeEnd=t.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEnd",{get:function(){return this._cal.rangeEnd},set:function(e){this._cal.rangeEnd=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMin",{get:function(){return this._cal.rangeMin},set:function(e){this._cal.rangeMin=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMax",{get:function(){return this._cal.rangeMax},set:function(e){this._cal.rangeMax=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._fmt},set:function(e){e!=this.format&&(this._fmt=Object(r.asString)(e),this._refreshText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"separator",{get:function(){return this._sep},set:function(e){e!=this._sep&&(this._sep=Object(r.asString)(e,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnSelection",{get:function(){return this._clsOnSel},set:function(e){this._clsOnSel=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"predefinedRanges",{get:function(){return this._rngs},set:function(e){this._rngs!=e&&(Object(r.assert)(null==e||Object(r.isObject)(e),"Object expected"),this._rngs=e,this._lbx.itemsSource=this._getRanges(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alwaysShowCalendar",{get:function(){return this._showCal},set:function(e){this._showCal=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._cal.min},set:function(e){this._cal.min=Object(r.asDate)(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._cal.max},set:function(e){this._cal.max=Object(r.asDate)(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return this._cal.repeatButtons},set:function(e){this._cal.repeatButtons=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this._cal.showYearPicker},set:function(e){this._cal.showYearPicker=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthPicker",{get:function(){return this._cal.showYearPicker},set:function(e){this._cal.showYearPicker=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksBefore",{get:function(){return this._cal.weeksBefore},set:function(e){this._cal.weeksBefore=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksAfter",{get:function(){return this._cal.weeksAfter},set:function(e){this._cal.weeksAfter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._cal.selectionMode},set:function(e){e!=this.selectionMode&&(this._cal.selectionMode=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonths",{get:function(){return this._cal.displayMonths},set:function(e){this._cal.displayMonths=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calendar",{get:function(){return this._cal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._cal.itemValidator},set:function(e){e!=this.itemValidator&&(this._cal.itemValidator=Object(r.asFunction)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._cal.itemFormatter},set:function(e){this._cal.itemFormatter=Object(r.asFunction)(e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&(this._msk&&this._msk.refresh(),this._cal&&this._cal.refresh(),this._refreshText())},t.prototype.onIsDroppedDownChanging=function(t){if(!this.isDroppedDown){var n=this._lbx,i=this._cal,o=n.collectionView,s=n.hostElement.style,a=i.hostElement.style;if(i._rngMode()&&Object(r.hasItems)(o)){var l=this._updateRangeSelection();s.display="",a.display=!this._showCal&&l&&l.start&&o.items.some((function(e){return!e.end}))?"none":""}else s.display="none",a.display="";i._mthMode()||(i.monthView=!0),i.value&&(i.displayMonth=i.value)}return e.prototype.onIsDroppedDownChanging.call(this,t)},t.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t);var n=this.containsFocus();this.isDroppedDown?(n&&(this._tryFocus(this._cal)||this._tryFocus(this._lbx)||this.dropDown.focus()),this._lbx.showSelection(),this._cal.refresh()):this._commitText()},t.prototype._updateDropDown=function(){this._commitText();var t=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(t.fontSize)+"px",this._cal.refresh(),e.prototype._updateDropDown.call(this)},t.prototype._keydown=function(t){if(!(t.defaultPrevented||t.altKey||t.ctrlKey||t.metaKey))switch(t.keyCode){case r.Key.Enter:this._commitText();break;case r.Key.Escape:this.text=this._getText(),this.selectAll();break;case r.Key.Tab:if(this._cal._rngMode()){var n=this._tbx,i=this._sep,o=n.value,s=o.indexOf(i);if(s>-1){var a=o.length,l=n.selectionStart,c=n.selectionEnd,u=null;n.selectionEnd<=s&&!t.shiftKey?u=0==l&&0==c:t.shiftKey&&n.selectionStart>=s+i.length&&(u=l<a||c<a),null!=u&&(u?Object(r.setSelectionRange)(n,0,s):Object(r.setSelectionRange)(n,s+i.length,a),t.preventDefault())}}break;case r.Key.Up:case r.Key.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var h=t.keyCode==r.Key.Up?1:-1,d=this.selectionMode==f.Month?r.DateTime.addMonths(this.value,h):r.DateTime.addDays(this.value,h);this.value=this._fromDateTime(d),this.selectAll(),t.preventDefault()}}e.prototype._keydown.call(this,t)},t.prototype._expandSelection=function(){if(this._cal._rngMode()){var t=this._tbx,n=t.selectionStart,i=t.selectionEnd,o=this._sep,s=t.value.indexOf(o);s>-1&&n==i&&(i<=s?Object(r.setSelectionRange)(t,0,s):n>=s+o.length&&Object(r.setSelectionRange)(t,s+o.length,t.value.length))}else e.prototype._expandSelection.call(this)},t.prototype._refreshText=function(){var e=this._getText();e!=this.text&&(this._tbx.value=this._oldText=e,this.onTextChanged())},t.prototype._selectAll=function(){this.isDroppedDown||!this.containsFocus()||this.isTouching||this.selectAll()},t.prototype._closeOnChange=function(){var e=this;if(this._clsOnSel&&this._clicked){var t=this._cal;(!t._rngMode()||t.value&&t.rangeEnd)&&setTimeout((function(){e.isDroppedDown=!1}))}},t.prototype._tryFocus=function(e){var t=e.hostElement;return!(!t||!t.offsetHeight||(t.focus(),0))},t.prototype._clamp=function(e){return this._cal._clamp(e)},t.prototype._getText=function(){var e=r.Globalize.format,t=this._fmt,n=e(this.value,t);return this._cal._rngMode()&&n&&(n+=this._sep+e(this.rangeEnd,t)),n},t.prototype._commitText=function(){var e=this._tbx.value,t=!1,n=r.Globalize.parseDate,i=this._fmt;if(e||this.isRequired)if(this._cal._rngMode()){var o=e.split(this._sep);if(2==o.length&&o[0]&&(a=n(o[0],i,this.value))&&this._isValidDate(a)){var s=n(o[1],i,this.value);this.value=this._fromDateTime(a),this.rangeEnd=s&&this._isValidDate(s)&&s>=a?this._fromDateTime(s):a,t=!0}}else{var a;(a=n(e,i,this.value))&&this._isValidDate(a)&&(this.value=this._fromDateTime(a),t=!0)}else this.value=this.rangeEnd=null;(t||this.onInvalidInput(new r.CancelEventArgs))&&(this.text=this._getText()),this._selectAll()},t.prototype._fromDateTime=function(e){return r.DateTime.fromDateTime(e,this.value)},t.prototype._canChangeValue=function(){return!this.isReadOnly&&!this.isDisabled&&this.selectionMode!=f.None},t.prototype._isValidDate=function(e){if(e){if(this._clamp(e)!=e)return!1;if(this.itemValidator&&!this.itemValidator(e))return!1}return!0},t.prototype._getRanges=function(e){var t=[];if(Object(r.isObject)(e))for(var n in e){var i=e[n];t.push({name:n,start:i?i[0]:null,end:i?i[1]:null})}return new r.CollectionView(t,{currentItem:null})},t.prototype._updateRangeSelection=function(){var e=this._lbx,t=-1;if(Object(r.hasItems)(e.collectionView))for(var n=this._lbx.collectionView.items,i=r.DateTime.sameDate,o=0;o<n.length;o++){var s=n[o];if(s.start){if(i(s.start,this.value)&&i(s.end,this.rangeEnd)){t=o;break}}else t=o}return e.selectedIndex=t,e.selectedItem},t}(_),O=function(e){function t(t,n){var i=e.call(this,t)||this;return i.valueChanged=new r.Event,Object(r.addClass)(i.hostElement,"wj-inputcolor"),i._ePreview=Object(r.createElement)('<div class="wj-inputcolorbox"></div>',i.hostElement.firstElementChild),"INPUT"==i._orgTag&&(i._tbx.type="",i._commitText()),i.value="#ffffff",i.isRequired=!0,i.initialize(n),i.addEventListener(i._colorPicker.hostElement,"click",(function(e){var t=e.target;t&&"DIV"==t.tagName&&(Object(r.closest)(t,'[wj-part="div-pal"]')||Object(r.closest)(t,'[wj-part="div-pv"]'))&&t.style.backgroundColor&&(i.isDroppedDown=!1)})),i}return s(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){e!=this.value&&(!e&&this.isRequired||(this.text=Object(r.asString)(e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(Object(r.asString)(e),!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(e){this._colorPicker.showAlphaChannel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return this._colorPicker.showColorString},set:function(e){this._colorPicker.showColorString=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(e){this._colorPicker.palette=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&!this.isTouching&&this.selectAll()},t.prototype._createDropDown=function(){var e=this;this._colorPicker=new c(this._dropDown),Object(r.setCss)(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler((function(){e.value=e._colorPicker.value}))},t.prototype._keydown=function(t){if(!t.defaultPrevented)switch(t.keyCode){case r.Key.Enter:this._commitText(),this.selectAll();break;case r.Key.Escape:this.text=this.value,this.selectAll()}e.prototype._keydown.call(this,t)},t.prototype._commitText=function(){if(this._value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,this._ePreview.style.backgroundColor="",void this.onValueChanged();if(r.Color.fromString(this.text)){var e=this._colorPicker;e.value=this.text,this._value=e.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()}else this.onInvalidInput(new r.CancelEventArgs)&&(this.text=this._value?this._value:"")}},t}(_),T=function(e){function t(t,n){var i=e.call(this,t)||this;i._editable=!1,i._trimText=!0,i._delKey=0,i._pathHdr=new r.Binding(null),i._bsCollapse=!0,i._fmtItemHandlers=0,i.itemsSourceChanged=new r.Event,i.selectedIndexChanged=new r.Event;var o=i.hostElement;Object(r.addClass)(o,"wj-combobox"),i.dropDown.id=Object(r.getUniqueId)(o.id+"_dropdown"),i.autoExpandSelection=!1;var s=i._tbx;i.addEventListener(s,"compositionstart",(function(){i._composing=!0})),i.addEventListener(s,"compositionend",(function(){i._composing=!1,i._setText(i.text,!0)})),i.addEventListener(o,"wheel",i._wheel.bind(i)),"SELECT"==i._orgTag&&i._lbx._initFromSelect(o);var a=i._lbx;return a.loadedItems.addHandler((function(e){i.selectedIndex>-1&&(i.selectedIndex=a.selectedIndex)})),i.isRequired=!0,i.initialize(n),i}return s(t,e),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource!=e&&(this._lbx.itemsSource=e,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e;var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(e){this._pathHdr.path=Object(r.asString)(e);var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(e){this._lbx.selectedValuePath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){if(e!=this.isContentHtml){this._lbx.isContentHtml=Object(r.asBoolean)(e);var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trimText",{get:function(){return this._trimText},set:function(e){e!=this._trimText&&(this._trimText=Object(r.asBoolean)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(e){this._lbx.itemFormatter=Object(r.asFunction)(e),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatItem",{get:function(){return this.listBox.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){e!=this.selectedIndex&&Object(r.isNumber)(e)&&(this._lbx.selectedIndex=e);var t=this.getDisplayText(e=this.selectedIndex);this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(e){this._lbx.selectedItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){return this.collectionView?this._lbx.selectedValue:this.text},set:function(e){this.collectionView?this._lbx.selectedValue=e:null!=e&&(this.text=e.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(e){this._lbx.maxHeight=Object(r.asNumber)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownWidth",{get:function(){var e=this._dropDown;return e?parseInt(e.style.maxWidth):0},set:function(e){var t=this._dropDown;t.style.maxWidth=Object(r.asNumber)(e)+"px",t.style.minWidth=""},enumerable:!0,configurable:!0}),t.prototype.getDisplayText=function(e,t){void 0===e&&(e=this.selectedIndex),void 0===t&&(t=this._trimText);var n,i=this.collectionView;if(this.headerPath&&e>-1&&Object(r.hasItems)(i)){var o=i.items[e];n=null!=(n=o?this._pathHdr.getValue(o):null)?n.toString():"",this.isContentHtml&&(n=Object(r.toPlainText)(n))}else n=this._lbx.getDisplayText(e);return t?n.trim():n},t.prototype.indexOf=function(e,t){var n=this.collectionView,i=this.caseSensitiveSearch;if(Object(r.hasItems)(n)&&null!=e){e=e.toString(),i||(e=e.toLowerCase());var o=this.selectedIndex,s=this.getDisplayText(o);if(t&&(i||(s=s.toLowerCase()),e==s))return o;for(var a=0;a<n.items.length;a++)if(this.listBox.isItemEnabled(a))if(s=this.getDisplayText(a),i||(s=s.toLowerCase()),t){if(s==e)return a}else if(e&&0==s.indexOf(e))return a}return-1},Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onSelectedIndexChanged=function(e){this._updateBtn(),this.selectedIndexChanged.raise(this,e)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&Object(r.hasItems)(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},t.prototype.onLostFocus=function(t){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&Object(r.hasItems)(this.collectionView)&&(this.selectedIndex=0),e.prototype.onLostFocus.call(this,t)},t.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDown||this._hasItems()?e.prototype.onIsDroppedDownChanging.call(this,t):(t.cancel=!0,!1)},t.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&(this._fmtItemHandlers=this.formatItem.handlerCount,this._lbx.showSelection()),this._updateAria()},t.prototype._updateBtn=function(){var t=this.collectionView,n=this._tbx,i=this._hasItems();e.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&null!=t?"":"none",Object(r.enable)(this._btn,i),Object(r.setAttribute)(n,"role",i?"combobox":null),Object(r.setAttribute)(n,"aria-autocomplete",i?"both":null),this._updateAria()},t.prototype._hasItems=function(){return Object(r.hasItems)(this.collectionView)},t.prototype._updateAria=function(){var e=this._tbx,t=this.isDroppedDown,n=this.dropDown?this.dropDown.id:null,i=n&&Object(r.hasItems)(this.collectionView);Object(r.setAttribute)(e,"aria-owns",i&&t?n:null),Object(r.setAttribute)(e,"aria-expanded",i?t:null)},t.prototype._createDropDown=function(){var e=this;this._lbx||(this._lbx=new h(this._dropDown)),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler((function(){e._updateBtn();var t=e._lbx.selectedIndex,n=e._lbx.hostElement.children,i=t>-1&&t<n.length?n[t].id:null;Object(r.setAttribute)(e._tbx,"aria-activedescendant",i&&i.length?i:null),e.selectedIndex=t,e.onSelectedIndexChanged()})),this._lbx.itemsChanged.addHandler((function(){e._updateBtn()}))},t.prototype._wheel=function(e){if(!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex>-1){var t=this._findNext("",e.deltaY>0?1:-1);t>-1&&(this.selectedIndex=t),e.preventDefault()}},t.prototype._dropDownClick=function(t){t.defaultPrevented||t.target!=this._dropDown&&(this.isDroppedDown=!1),e.prototype._dropDownClick.call(this,t)},t.prototype._setText=function(t,n){if(!this._composing&&!this._settingText){if(this._settingText=!0,this.containsFocus()){var i=this.formatItem.handlerCount;this._fmtItemHandlers!=i&&(this._fmtItemHandlers=i,this._lbx.loadList())}null==t&&(t=""),t=t.toString();var o=this.selectedIndex,s=this.collectionView,a=this._getSelStart(),l=-1,c=!0;if(this.isEditable&&(this._delKey||this._getSelEnd()<t.length||!this.containsFocus())&&(n=!0,c=!1),o=this.indexOf(t,n),c&&(o<0&&n&&(o=this.indexOf(t,!1)),o<0&&a>0&&(o=this.indexOf(t.substr(0,a),!1))),o<0&&!this.isEditable&&Object(r.hasItems)(s)&&(this.isRequired||t)){var u=this._oldText||"";o=Math.max(0,this.indexOf(u,!1));for(var h=0;h<t.length&&h<u.length;h++)if(t[h]!=u[h]){a=h;break}}o>-1&&(l=a,t=this.getDisplayText(o));var d=this._tbx;t!=d.value&&(d.value=t),l>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(l),s&&s.moveCurrentToPosition(o),this._delKey=0,this._settingText=!1,e.prototype._setText.call(this,t,n)}},t.prototype._findNext=function(e,t){var n=this.selectedIndex,i=this.collectionView,r=i?i.items.length:0,o=this.listBox,s=this.caseSensitiveSearch;if(i&&r&&t){s||(e=e.toLowerCase());for(var a=n+t;a>-1&&a<r;a+=t){var l=this.getDisplayText(a);if(s||(l=l.toLowerCase()),0==l.indexOf(e)&&(!this.dropDown.children[a]||o.isItemEnabled(a)))return a}}return n},t.prototype._keydown=function(t){if(e.prototype._keydown.call(this,t),!t.defaultPrevented&&!this.isReadOnly&&!t.altKey&&Object(r.hasItems)(this.collectionView)&&this._elRef==this._tbx){this._delKey=0;var n=this._getSelStart();switch(t.keyCode){case r.Key.Back:if(this._bsCollapse&&!this.isEditable){var i=this._getSelEnd();n>0&&i==this._tbx.value.length&&Object(r.hasItems)(this.collectionView)&&this._setSelRange(n-1,i)}this._delKey=t.keyCode;break;case r.Key.Delete:this._delKey=t.keyCode;break;case r.Key.Up:case r.Key.Down:n==this.text.length&&(n=0),this.selectedIndex=this._findNext(this.text.substr(0,n),t.keyCode==r.Key.Up?-1:1),this._setSelRange(n,this.text.length),t.preventDefault();break;case r.Key.PageUp:this._lbx._selectPrevPage(),this.selectAll(),t.preventDefault();break;case r.Key.PageDown:this._lbx._selectNextPage(),this.selectAll(),t.preventDefault()}}},t.prototype._updateInputSelection=function(e){var t=this._tbx;this._elRef==t&&this._setSelRange(e,t.value.length)},t.prototype._getSelStart=function(){var e=this._tbx;return e&&e.value?e.selectionStart:0},t.prototype._getSelEnd=function(){var e=this._tbx;return e&&e.value?e.selectionEnd:0},t.prototype._setSelRange=function(e,t){var n=this._tbx;this._elRef!=n||n.readOnly||Object(r.setSelectionRange)(n,e,t)},t}(_);Object(r._addCultureInfo)("MultiSelect",{itemsSelected:"{count:n0} items selected",selectAll:"Select All"});var k=function(e){function t(t,n){var i=e.call(this,t)||this;return i._maxHdrItems=2,i._readOnly=!1,i._hdrFmt=null,i.checkedItemsChanged=new r.Event,Object(r.addClass)(i.hostElement,"wj-multiselect"),i._tbx.readOnly=!0,i.checkedMemberPath=null,i.removeEventListener(i.dropDown,"click"),i.listBox.itemsChanged.addHandler((function(){i._updateHeader()})),i.listBox.checkedItemsChanged.addHandler((function(){i._updateHeader(),i.onCheckedItemsChanged()})),i.clickAction=m.Toggle,i.initialize(n),i}return s(t,e),Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return this._msLbx.showSelectAllCheckbox},set:function(e){this._msLbx.showSelectAllCheckbox=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return this._msLbx.showFilterInput},set:function(e){this._msLbx.showFilterInput=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._msLbx.filterInputPlaceholder},set:function(e){this._msLbx.filterInputPlaceholder=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._msLbx.checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._msLbx.checkOnFilter=Object(r.asBoolean)(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._msLbx.selectAllLabel},set:function(e){this._msLbx.selectAllLabel=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._msLbx.checkedMemberPath},set:function(e){this._msLbx.checkedMemberPath=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(e){this._maxHdrItems!=e&&(this._maxHdrItems=Object(r.asNumber)(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(e){e!=this._hdrFmt&&(this._hdrFmt=Object(r.asString)(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(e){e!=this._hdrFormatter&&(this._hdrFormatter=Object(r.asFunction)(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this._msLbx.checkedItems},set:function(e){this._msLbx.checkedItems=Object(r.asArray)(e)},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype.dispose=function(){this.listBox.dispose(),e.prototype.dispose.call(this)},t.prototype.onIsDroppedDownChanged=function(t){var n=this;e.prototype.onIsDroppedDownChanged.call(this,t),setTimeout((function(){n.isDroppedDown&&n.containsFocus()&&(n.showFilterInput&&!n.isTouching?n._msLbx._filter.focus():(n.listBox.showSelection(!0),n.listBox.focus()))}))},t.prototype._createDropDown=function(){var t=Object(r.createElement)("<div></div>",this._dropDown);this._msLbx=new g(t),this._lbx=this._msLbx.listBox,e.prototype._createDropDown.call(this)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=Object(r.asBoolean)(e),Object(r.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&this._updateHeader()},t.prototype._setText=function(e,t){},t.prototype._keydown=function(t){e.prototype._keydown.call(this,t),!t.defaultPrevented&&Object(r.hasItems)(this.collectionView)&&t.keyCode>32&&(this.isDroppedDown=!0)},t.prototype._hasItems=function(){var e=this.collectionView,t=e?e.sourceCollection:null;return Object(r.hasItems)(e)||t&&t.length&&this.showFilterInput},t.prototype._updateHeader=function(){var e=this.checkedItems;if(Object(r.isFunction)(this._hdrFormatter))this.inputElement.value=this._hdrFormatter(this);else{var t="";if(e.length>0)if(e.length<=this._maxHdrItems){if(this.displayMemberPath){var n=new r.Binding(this.displayMemberPath);e=e.map((function(e){return n.getValue(e)}))}this.isContentHtml&&(e=e.map((function(e){return Object(r.toPlainText)(e)}))),t=e.join(", ")}else t=Object(r.format)(this.headerFormat||r.culture.MultiSelect.itemsSelected,{count:e.length});this.inputElement.value=t}this._updateState()},t._DEF_CHECKED_PATH="$checked",t}(T),x=function(e){function t(t,n){var i=e.call(this,t)||this;i._isButton=!1,i._openOnHover=!1,i._closeOnLeave=!0,i._hoverEnterBnd=i._hoverEnter.bind(i),i._hoverLeaveBnd=i._hoverLeave.bind(i),i._hoverOverBnd=i._hoverOver.bind(i),i.itemClicked=new r.Event;var o=i.hostElement,s=i._tbx,a=i._lbx,l=i.dropDown;Object(r.addClass)(o,"wj-menu"),s.style.display="none",i._hdr=i._elRef=Object(r.createElement)('<div wj-part="header" class="wj-form-control"/>'),s.parentElement.insertBefore(i._hdr,i._tbx);var c=i._orgOuter.match(/tabindex="?(-?\d+)"?/i);return o.tabIndex=c?parseInt(c[1]):0,i.isRequired=!1,Object(r.setAttribute)(o,"role","menubar",!0),Object(r.setAttribute)(s,"role",null),Object(r.setAttribute)(s,"aria-autocomplete",null),Object(r.setAttribute)(s,"aria-owns",null),Object(r.setAttribute)(l,"role","menu"),a.itemRole="menuitem","SELECT"==i._orgTag&&(i.header=o.getAttribute("header"),i._lbx.itemsSource&&(i.commandParameterPath="cmdParam")),i.isContentHtml=!0,i.maxDropDownHeight=500,i.addEventListener(i._hdr,"click",(function(e){e.defaultPrevented||(i._clearHover(e),i._isButton?(i.isDroppedDown=!1,i._raiseCommand()):i.isDroppedDown=!i.isDroppedDown)})),a.lostFocus.addHandler((function(){i.containsFocus()||(i.isDroppedDown=!1)})),Object(r.addClass)(l,"wj-menu-items"),a.formatItem.addHandler(i._formatMenuItem.bind(i)),i.initialize(n),i}return s(t,e),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(e){this._hdr.innerHTML=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this._cmd},set:function(e){this._cmd=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(e){this._cmdPath=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(e){this._cmdParamPath=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subItemsPath",{get:function(){return this._subPath},set:function(e){e!=this._subPath&&(this._subPath=e,this.refresh(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openOnHover",{get:function(){return this._openOnHover},set:function(e){this._openOnHover=Object(r.asBoolean)(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnLeave",{get:function(){return this._closeOnLeave},set:function(e){this._closeOnLeave=Object(r.asBoolean)(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isButton",{get:function(){return this._isButton},set:function(e){this._isButton=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){this._owner=Object(r.asType)(e,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),t.prototype.show=function(e){if(!this.isDroppedDown&&(this.selectedIndex=-1,this.onIsDroppedDownChanging(new r.CancelEventArgs))){var t=this.dropDown,n=this.owner;!n&&e instanceof MouseEvent&&(n=e.target),n instanceof HTMLElement&&(t[r.Control._OWNR_KEY]=n),e instanceof MouseEvent&&this.openOnHover&&this.closeOnLeave&&(e=new r.Point(e.pageX-pageXOffset-2,e.pageY-pageYOffset-2)),Object(r.showPopup)(t,e,!1,this.isAnimated),this.onIsDroppedDownChanged(),t.focus()}},t.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new r.CancelEventArgs)&&(Object(r.hidePopup)(this.dropDown),this.onIsDroppedDownChanged())},t.prototype.onItemClicked=function(e){this.itemClicked.raise(this,e)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&this._enableDisableItems()},t.prototype.onIsDroppedDownChanged=function(t){if(e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown)this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus();else{this.selectedItem||(this.selectedItem=this._defaultItem);var n=this._subMenu;n&&(n.isDroppedDown=!1)}},t.prototype._updateHoverEvents=function(){var e=this.hostElement,t=this.dropDown,n=this.addEventListener.bind(this),i=this.removeEventListener.bind(this),r="mouseleave";i(e,"mouseenter",this._hoverEnterBnd),i(e,r,this._hoverLeaveBnd),i(t,"mouseover",this._hoverOverBnd),i(t,r,this._hoverLeaveBnd),this._openOnHover&&(n(e,"mouseenter",this._hoverEnterBnd),n(t,"mouseover",this._hoverOverBnd),this._closeOnLeave&&(n(e,r,this._hoverLeaveBnd),n(t,r,this._hoverLeaveBnd)))},t.prototype._getSubItems=function(e){var t=this.subItemsPath,n=e&&t?e[t]:null;return Object(r.isArray)(n)&&n.length?n:null},t.prototype._formatMenuItem=function(e,t){var n=t.item;this._getSubItems(t.data)?Object(r.addClass)(n,"wj-subitems"):"-"==n.innerHTML&&(n.innerHTML="",Object(r.addClass)(n,"wj-separator"))},t.prototype._keydown=function(n){if(!n.defaultPrevented){var i=this._getKeyCode(n);if(this.isDroppedDown)switch(i){case r.Key.Enter:case r.Key.Right:if(this._showSubMenu())return void n.preventDefault();break;case r.Key.Left:var o=r.Control.getControl(this.owner);if(o instanceof t){var s=o.dropDown,a=o.selectedIndex;return(a>-1?s.children[a]:s).focus(),void n.preventDefault()}}i==r.Key.Enter&&(this.isDroppedDown?this.selectedIndex>-1&&this._raiseCommand():(this.isDroppedDown=!0,n.preventDefault()))}e.prototype._keydown.call(this,n)},t.prototype._dropDownClick=function(t){if(!t.defaultPrevented&&t.target!=this.dropDown){if(this._clearHover(t),this._showSubMenu())return void t.preventDefault();this.selectedIndex>-1&&this._raiseCommand()}e.prototype._dropDownClick.call(this,t)},t.prototype._showSubMenu=function(){var e=this,n=this._getSubItems(this.selectedItem);if(!n)return null;var i=this.dropDown.children[this.selectedIndex].getBoundingClientRect(),o=new r.Point(i.right,i.top);if(0==i.height)return null;var s=this.rightToLeft||"rtl"==this.dropDown.getAttribute("dir");s&&(o.x=i.left);var a=this._subMenu;a&&(a.isDroppedDown=!1),a=new t(document.createElement("div"),{owner:this.hostElement,itemsSource:n,itemClicked:function(t,n){e.itemClicked.raise(t,n)}}),"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave".split(",").forEach((function(t){a[t]=e[t]}));var l=a.dropDown;return Object(r.setAttribute)(l,"dir",s?"rtl":null),a.show(o),l[r.Control._OWNR_KEY]=this.dropDown,l.focus(),a},t.prototype._raiseCommand=function(e){var n=this.selectedItem,i=this._getSubItems(n),o=this._getCommand(n);if(o&&!i){var s=this._getCommandParm(n);if(!this._canExecuteCommand(o,s))return;this._executeCommand(o,s)}if(this.onItemClicked(e),this.containsFocus()){for(var a=this;a&&a.owner;){var l=r.Control.getControl(a.owner);if(!(l instanceof t))break;a=l}var c=a.owner;!c&&a.dropDown&&(c=a.dropDown[r.Control._OWNR_KEY]),a.isDroppedDown=!1,a.focus(),a.containsFocus()||c instanceof HTMLElement&&c.focus()}},t.prototype._getCommand=function(e){return(e&&this._cmdPath?e[this._cmdPath]:null)||this._cmd},t.prototype._getCommandParm=function(e){var t=this._cmdParamPath;return e&&t?e[t]:e},t.prototype._executeCommand=function(e,t){e&&!Object(r.isFunction)(e)&&(e=e.executeCommand),Object(r.isFunction)(e)&&e(t)},t.prototype._canExecuteCommand=function(e,t){if(e){var n=e.canExecuteCommand;if(Object(r.isFunction)(n))return n(t)}return!0},t.prototype._enableDisableItems=function(){if(this.collectionView&&(this._cmd||this._cmdPath))for(var e=this.collectionView.items,t=0;t<e.length;t++){var n=e[t],i=this._getCommand(n);if(i){var o=this._lbx.hostElement.children[t],s=this._getCommandParm(n);Object(r.toggleClass)(o,"wj-state-disabled",!this._canExecuteCommand(i,s))}}},t.prototype._clearHover=function(e){this._toHover&&clearTimeout(this._toHover),this._toHover=null,t._evtHover=e},t.prototype._hoverEnter=function(e){var t=this;this._clearHover(e),this._toHover=setTimeout((function(){t._toHover=null,t.isDroppedDown=!0}),r.Control._HOVER_DELAY)},t.prototype._hoverLeave=function(e){var n=this;this._clearHover(e),this.isDroppedDown&&(this._toHover=setTimeout((function(){var i=(e=t._evtHover)?document.elementFromPoint(e.clientX,e.clientY):null,o=Object(r.closest)(i,".wj-listbox.wj-menu-items"),s=n._subMenu;o||Object(r.contains)(n.hostElement,i,!0)||(n.isDroppedDown=!1,s&&(s.isDroppedDown=!1))}),r.Control._LEAVE_DELAY))},t.prototype._hoverOver=function(e){var t=this;this._clearHover(e),this._toHover=setTimeout((function(){t._toHover=null;var n=t.listBox.indexOf(e.target);n>-1&&(t.selectedIndex=n,t._subMenu=t._showSubMenu())}),r.Control._HOVER_DELAY)},t}(T),E=function(e){function t(t,n){var i=e.call(this,t)||this;if(i._format="t",i.valueChanged=new r.Event,Object(r.addClass)(i.hostElement,"wj-inputtime"),i.isEditable=!0,i._value=r.DateTime.newDate(),i._min=i._max=null,i._msk=new r._MaskProvider(i._tbx),Object(r.isIE9)()||(i._tbx.type="tel"),"INPUT"==i._orgTag){var o=i._tbx.getAttribute("value");o&&(i.value=r.Globalize.parseDate(o,"HH:mm:ss"))}return i.step=15,i.autoExpandSelection=!0,i.initialize(n),i}return s(t,e),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Object(r.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){(e=Object(r.asDate)(e,!this.isRequired))&&(e=this._clamp(e)),this._setText(e?r.Globalize.format(e,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(e=r.DateTime.fromDateTime(e,this.selectedItem.value)),e==this._value||r.DateTime.equals(e,this._value)||(this._value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min=Object(r.asDate)(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=Object(r.asDate)(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){e!=this.step&&(this._step=e,this.isDroppedDown=!1,this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=Object(r.asString)(e),this._tbx.value=r.Globalize.format(this.value,this.format),Object(r.hasItems)(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=Object(r.asString)(e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onItemsSourceChanged=function(t){e.prototype.onItemsSourceChanged.call(this,t),this._hasCustomItems=null!=this.itemsSource},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&(this._msk.refresh(),this._tbx.value=r.Globalize.format(this.value,this.format),this._updateItems())},t.prototype.onSelectedIndexChanged=function(t){if(this.selectedIndex>-1&&!this._settingText){var n=this.value?this.value:r.DateTime.newDate(),i=null!=this.selectedItem.value?this.selectedItem.value:r.Globalize.parseDate(this.text,this.format,this.value);this.value=r.DateTime.fromDateTime(n,i)}e.prototype.onSelectedIndexChanged.call(this,t)},t.prototype._clamp=function(e){return null!=this._min&&this._getTime(e)<this._getTime(this._min)&&(e=r.DateTime.fromDateTime(e,this._min)),null!=this._max&&this._getTime(e)>this._getTime(this._max)&&(e=r.DateTime.fromDateTime(e,this._max)),e},t.prototype._wheel=function(t){if(!t.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex<0&&this.value&&Object(r.isNumber)(this.step)&&this.step>0){var n=r.DateTime.addMinutes(this.value,this.step*Object(r.clamp)(t.deltaY,-1,1));this.value=this._clamp(n),this.selectAll(),t.preventDefault()}e.prototype._wheel.call(this,t)},t.prototype._updateInputSelection=function(t){if(this._delKey)e.prototype._updateInputSelection.call(this,t);else{for(var n=this._tbx.value;t<n.length&&!n[t].match(/[a-z0-9]/i);)t++;Object(r.setSelectionRange)(this._tbx,t,this._tbx.value.length)}},t.prototype._updateItems=function(){if(!this._hasCustomItems){var e=[],t=r.DateTime.newDate(0,0,0,0,0),n=r.DateTime.newDate(0,0,0,23,59,59),i=this.step;if(this.min&&t.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&n.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),Object(r.isNumber)(i)&&i>0)for(var o=t;o<=n;o=r.DateTime.addMinutes(o,i))e.push({value:o,text:r.Globalize.format(o,this.format)});var s=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=e,this._hasCustomItems=!1,this._settingText=!1,this.value=s}},t.prototype._getTime=function(e){return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds()},t.prototype._keydown=function(t){if(e.prototype._keydown.call(this,t),!t.defaultPrevented)switch(t.keyCode){case r.Key.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case r.Key.Escape:this.text=r.Globalize.format(this.value,this.format),this.selectAll()}},t.prototype._commitText=function(){if(this.text||this.isRequired){var e=this.value?r.Globalize.format(this.value,this.format):"";if(this.text!=e){var t=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:r.Globalize.parseDate(this.text,this.format,this.value);t?(r.DateTime.sameTime(t,this._clamp(t))||this.onInvalidInput(new r.CancelEventArgs))&&(this.value=r.DateTime.fromDateTime(this.value,t)):this.onInvalidInput(new r.CancelEventArgs)&&(this.text=e)}}else this.value=null},t}(T);Object(r._addCultureInfo)("InputDateTime",{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}});var j=function(e){function t(t,n){var i=e.call(this,t)||this;Object(r.addClass)(i.hostElement,"wj-inputdatetime");var o=r.culture.InputDateTime.ariaLabels;Object(r.setAriaLabel)(i._btn,o.tglDate),Object(r.setAriaLabel)(i._btnTm,o.tglTime),i.value=new Date,i.format="g",i._inputTime=new E(document.createElement("div"),{valueChanged:function(e){var t=i.rangeEnd;i.value=r.DateTime.fromDateTime(i.value,e.value),i.calendar._rngMode()&&t&&(i.rangeEnd=r.DateTime.fromDateTime(t,e.value))}});var s=i.addEventListener.bind(i);i._btnTm=i.hostElement.querySelector('[wj-part="btn-tm"]'),s(i._btnTm,"mousedown",(function(e){i._btnclick(e)})),i._ddDate=i._dropDown;var a=i._ddTime=i._inputTime.dropDown;return s(a,"keydown",i._keydown.bind(i),!0),s(a,"blur",(function(){i._updateFocusState()}),!0),s(a,"click",(function(e){e.defaultPrevented||e.target!=a&&i.hostElement.focus()}),!0),i.initialize(n),i.text=i._getText(),i}return s(t,e),Object.defineProperty(t.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(e){this._inputTime.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(e){this._inputTime.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(e){this._inputTime.format=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(e){this._inputTime.step=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),t.prototype._fromDateTime=function(e){return e},t.prototype._btnclick=function(t){var n=Object(r.closest)(t.target,"button")==this._btn?this._ddDate:this._ddTime;this._setDropdown(n),e.prototype._btnclick.call(this,t)},t.prototype.dispose=function(){this._setDropdown(this._ddDate),e.prototype.dispose.call(this),this._inputTime.dispose()},t.prototype.refresh=function(t){void 0===t&&(t=!0),this._inputTime.refresh(),e.prototype.refresh.call(this,t)},t.prototype._updateBtn=function(){e.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},t.prototype._setDropdown=function(e){if(this._dropDown==e)return!1;this.isDroppedDown&&(this.isDroppedDown=!1);var t=this.dropDownCssClass;return this.dropDownCssClass="",this._dropDown=e,this.dropDownCssClass=t,!0},t.prototype._updateDropDown=function(){var t=this._inputTime;this._dropDown==t.dropDown?(this._commitText(),e.prototype._updateDropDown.call(this),t.isRequired=this.isRequired&&null!=this.value,t.value=this.value,this.isDroppedDown&&t.listBox.showSelection()):e.prototype._updateDropDown.call(this)},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(S),A=function(e){function t(t,n){var i=e.call(this,t)||this;return i._cssMatch="wj-state-match",i._minLength=2,i._maxItems=6,i._itemCount=0,i._beginsWith=!1,i._delay=r.Control._SEARCH_DELAY,i._query="",i._inCallback=!1,i._srchProps=[],Object(r.addClass)(i.hostElement,"wj-autocomplete"),i._bsCollapse=!1,i.isEditable=!0,i.isRequired=!1,i.listBox.formatItem.addHandler(i._formatListItem,i),i._itemsSourceFnCallbackBnd=i._itemSourceFunctionCallback.bind(i),i.initialize(n),i}return s(t,e),Object.defineProperty(t.prototype,"minLength",{get:function(){return this._minLength},set:function(e){this._minLength=Object(r.asNumber)(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beginsWithSearch",{get:function(){return this._beginsWith},set:function(e){this._beginsWith=Object(r.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxItems",{get:function(){return this._maxItems},set:function(e){this._maxItems=Object(r.asNumber)(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=Object(r.asNumber)(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(e){this._srchProp=Object(r.asString)(e),this._srchProps=e?e.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(e){this._itemsSourceFn=Object(r.asFunction)(e),Object(r.isFunction)(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallbackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(e){this._cssMatch=Object(r.asString)(e)},enumerable:!0,configurable:!0}),t.prototype._keydown=function(t){if(!t.defaultPrevented&&this.isDroppedDown)switch(t.keyCode){case r.Key.Up:case r.Key.Down:this.selectAll()}e.prototype._keydown.call(this,t)},t.prototype._setText=function(e){var t=this;if(!(this._inCallback||this._composing||this._settingText)){if(this.selectedIndex>-1&&this.getDisplayText()!=e&&(this._settingText=!0,this.selectedIndex=-1,this._settingText=!1),e!=this._oldText){var n=this._tbx;n.value!=e&&(n.value=e),this._oldText=e,this.onTextChanged();var i=this.collectionView;if(!e&&i){(this._query||this.selectedIndex<0)&&(this.isDroppedDown=!1),this._query=this._rxHighlight=null,i.filter=null;var o=this.itemsSourceFunction;return void(Object(r.isFunction)(o)&&(this.isDroppedDown=!1,o(this._query,this.maxItems,this._itemsSourceFnCallbackBnd)))}}this._toSearch&&clearTimeout(this._toSearch),e!=this.getDisplayText()&&(this._toSearch=setTimeout((function(){t._toSearch=null;var e=t.text.trim();if(e.length>=t._minLength&&e!=t._query){t._query=e,e=Object(r.escapeRegExp)(e);var n=Object(r.escapeHtml)(e),i=t.caseSensitiveSearch?"":"i";t._beginsWith||(i+="g"),t._rxSrch=t._beginsWith?new RegExp("^"+e+".*",i):new RegExp("(?=.*"+e.replace(/ /g,")(?=.*")+")",i),t._rxHighlight=new RegExp("("+n.replace(/\s+/g,"|")+")",i);var o=t.itemsSourceFunction;Object(r.isFunction)(o)?o(t._query,t.maxItems,t._itemsSourceFnCallbackBnd):t._updateItems()}}),this._delay))}},t.prototype._itemSourceFunctionCallback=function(e){this._inCallback=!0;var t=Object(r.asCollectionView)(e);if(t&&t.moveCurrentToPosition(-1),this.itemsSource=t,this._inCallback=!1,this.containsFocus()){var n=this._tbx,i=n.selectionStart,o=n.selectionEnd,s=this.collectionView;this.isDroppedDown=null!=s&&s.items.length>0,Object(r.setSelectionRange)(n,i,o),this.refresh()}},t.prototype.onIsDroppedDownChanged=function(t){if(e.prototype.onIsDroppedDownChanged.call(this,t),this.containsFocus()&&!this.isTouching&&this.selectedIndex<0){var n=this.collectionView.items,i=this.text;1==n.length&&n[0]==i?this.selectedIndex=0:Object(r.setSelectionRange)(this._tbx,i.length)}this._query=""},t.prototype._updateItems=function(){var e=this.collectionView;if(e){this._inCallback=!0,e.beginUpdate(),this._itemCount=0,e.filter=this._filter.bind(this),e.moveCurrentToPosition(-1),e.endUpdate(),this._inCallback=!1;var t=e.items.length,n=this._tbx,i=n.selectionStart,o=n.selectionEnd;this.isDroppedDown=t>0&&this.containsFocus(),t||this.isEditable||(this.selectedIndex=-1),this.isDroppedDown&&Object(r.setSelectionRange)(n,i,o),this.refresh()}},t.prototype._filter=function(e){if(this._itemCount>=this._maxItems)return!1;var t=this._getItemText(e,!1);return this._srchProps&&this._srchProps.forEach((function(n){var i=e[n];null!=i&&(t+="\0"+i)})),this.isContentHtml&&(t=t.replace(/(<[^>]*>|&[^;]*;)/g,"")),!!this._rxSrch.test(t)&&(this._itemCount++,!0)},t.prototype._getItemText=function(e,t){var n=e?e.toString():"",i=t&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return i&&(n=null!=(n=i.getValue(e))?n.toString():""),n},t.prototype._formatListItem=function(e,t){var n=this;this._cssMatch&&this._rxHighlight&&(t.item.innerHTML=t.item.innerHTML.replace(this._rxHighlight,(function(e,t,i,r){return n._enclosed(r,i,"<",">")||n._enclosed(r,i,"&",";")?e:'<span class="'+n._cssMatch+'">'+e+"</span>"})))},t.prototype._enclosed=function(e,t,n,i){for(var r=t;r>=0&&e[r]!=i;r--)if(e[r]==n)for(var o=t;o<e.length&&e[o]!=n;o++)if(e[o]==i)return!0;return!1},t}(T),I=function(e){function t(t,n){var i=e.call(this,t)||this;return i._selItems=[],i._lastInputValue="",i._selPath=new r.Binding(null),i._notAddItm=!1,i.selectedItemsChanged=new r.Event,Object(r.addClass)(i.hostElement,"wj-multi-autocomplete"),i._wjTpl=i.hostElement.querySelector(".wj-template"),i._wjInput=i.hostElement.querySelector(".wj-input"),i.showDropDownButton=!1,i.initialize(n),i.addEventListener(i.hostElement,"keyup",i._keyup.bind(i),!0),i.addEventListener(window,"resize",i._adjustInputWidth.bind(i)),i.addEventListener(i._tbx,"focus",(function(){i._itemOff()})),i._addHelperInput(),i._initSeltems(),i.listBox.itemsChanged.addHandler((function(){return i.selectedIndex=-1})),i._refreshHeader(),i}return s(t,e),Object.defineProperty(t.prototype,"showDropDownButton",{set:function(e){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSelectedItems",{get:function(){return this._maxSelItems},set:function(e){this._maxSelItems!=e&&(this._maxSelItems=Object(r.asNumber)(e,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(e){(e=Object(r.asString)(e))!==this.selectedMemberPath&&(this._selPath.path=e,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._selItems},set:function(e){if(this._selItems=Object(r.asArray)(e),this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var t=0;t<this._selItems.length;t++)this._setSelItem(this._selItems[t],!1);this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()},enumerable:!0,configurable:!0}),t.prototype.onSelectedItemsChanged=function(e){this.selectedItemsChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(t){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,e.prototype.onIsDroppedDownChanged.call(this,t)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&(this._initSeltems(),this.isDroppedDown||this._refreshHeader())},t.prototype._keydown=function(t){if(!this.isReadOnly){if(!t.defaultPrevented)switch(t.keyCode){case r.Key.Back:this._lastInputValue=this._tbx.value;break;case r.Key.Enter:this._itemOff(),this._addItem(!0),r.isIE&&Object(r.setSelectionRange)(this._tbx,0,0);break;case r.Key.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,t.preventDefault()):this._updateFocus();break;case r.Key.Space:if(""!==this._tbx.value)return;this.isDroppedDown||this._tbx.disabled||(this.isDroppedDown=!0,this._clearSelIndex());break;case r.Key.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case r.Key.Left:this._itemOn(!this.rightToLeft);break;case r.Key.Right:this._itemOn(!!this.rightToLeft);break;case r.Key.Up:case r.Key.Down:var n=Object(r.getActiveElement)();if(t.altKey){if(this._tbx==n)return this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),void t.preventDefault()}else if(this._tbx!==n)return;default:if(t.keyCode===r.Key.Back||t.keyCode===r.Key.Delete)return;this._itemOff(),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems&&t.preventDefault()}this._tbx.disabled||e.prototype._keydown.call(this,t)}},t.prototype._updateState=function(){e.prototype._updateState.call(this),this._wjTpl&&(Object(r.hasClass)(this.hostElement,"wj-state-focused")||this._itemOff())},t.prototype._keyup=function(e){if(!this.isReadOnly&&!e.defaultPrevented)switch(e.keyCode){case r.Key.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case r.Key.Delete:this._delItem(!0)}},t.prototype._addHelperInput=function(){var e=document.createElement("input");e.type="text",e.tabIndex=-1,e.className="wj-token-helper",e.readOnly=!0,this._wjTpl.insertBefore(e,this._wjInput),this._helperInput=e},t.prototype._refreshHeader=function(){for(var e=this.hostElement.querySelectorAll(".wj-token"),t=0;t<e.length;t++)this._wjTpl.removeChild(e[t]);var n=this.selectedItems;if(n&&0!==n.length){for(t=0;t<n.length;t++)this._insertToken(n[t]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()}else this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()},t.prototype._insertToken=function(e){var t=this._getItemText(e,!0);this.isContentHtml||(t=Object(r.escapeHtml)(t)),this._wjTpl.insertBefore(this._createItem(t),this._wjInput)},t.prototype._updateMaxItems=function(){null!=this._maxSelItems&&this._selItems&&this._selItems.length>this._maxSelItems&&(this._selItems=this._selItems.slice(0,this._maxSelItems))},t.prototype._updateFocus=function(){var e=this,n=this._wjTpl.querySelector("."+t._clsActive);n?(Object(r.removeClass)(n,t._clsActive),setTimeout((function(){e._tbx.focus()}))):this._clearSelIndex()},t.prototype._addItem=function(e){this.selectedItems.indexOf(this.selectedItem)>-1?this._clearSelIndex():this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),e&&this._clearSelIndex(),this._disableInput(!0))},t.prototype._delItem=function(e){var n,i,r=this._wjTpl.querySelector("."+t._clsActive),o=!1;e&&!r||(r?(i=this._getItemIndex(r))>-1&&(n=this._selItems[i],o=!0):this._selItems.length>0&&(n=this._selItems[this._selItems.length-1],o=!0),o&&(this._updateSelItems(n,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},t.prototype._updateSelItems=function(e,t){if(t){if(this._selItems&&0!==this._selItems.length||(this._selItems=[]),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems)return;this._selItems.push(e)}else{var n=this._selItems.indexOf(e);this._selItems.splice(n,1)}this._hasSelectedMemeberPath()&&this._setSelItem(e,t),this.onSelectedItemsChanged()},t.prototype._createItem=function(e){var n=this,i=document.createElement("div"),o=document.createElement("span"),s=document.createElement("a");return i.appendChild(o),i.appendChild(s),i.className="wj-token",o.className="wj-token-label",o.innerHTML=e,s.className="wj-token-close",s.href="#",s.tabIndex=-1,s.text="\xd7",i.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(i,"click",(function(e){n._helperInput.focus();var o=n._wjTpl.querySelector("."+t._clsActive);o&&Object(r.removeClass)(o,t._clsActive),Object(r.addClass)(i,t._clsActive),e.stopPropagation(),e.preventDefault()})),this.addEventListener(s,"click",(function(e){if(!n.isReadOnly){var t=n._getItemIndex(i);t>-1&&n._updateSelItems(n._selItems[t],!1),n._wjTpl.removeChild(i),n._adjustInputWidth(),n._disableInput(!1),n._tbx.focus(),e.stopPropagation(),e.preventDefault()}})),i},t.prototype._itemOn=function(e){var n,i,o,s=Object(r.getActiveElement)();if((this._tbx!=s||0===this._tbx.value.length)&&0!==(n=this._wjTpl.querySelectorAll(".wj-token")).length)if(i=this._wjTpl.querySelector("."+t._clsActive),o=this._getItemIndex(i),e){if(0===o)return;-1===o?(Object(r.addClass)(n[n.length-1],t._clsActive),this._helperInput.focus()):(Object(r.removeClass)(i,t._clsActive),Object(r.addClass)(n[o-1],t._clsActive),this._helperInput.focus())}else if(!e){if(-1===o)return;o!==n.length-1?(Object(r.removeClass)(i,t._clsActive),Object(r.addClass)(n[o+1],t._clsActive),this._helperInput.focus()):(Object(r.removeClass)(i,t._clsActive),this._tbx.focus())}},t.prototype._itemOff=function(){var e=this._wjTpl.querySelector("."+t._clsActive);e&&Object(r.removeClass)(e,t._clsActive)},t.prototype._initSeltems=function(){if(this.selectedMemberPath){this._selItems.splice(0,this._selItems.length);var e=this.collectionView;if(e)for(var t=0;t<e.sourceCollection.length;t++)this._getSelItem(t)&&this._selItems.push(e.sourceCollection[t])}},t.prototype._getSelItem=function(e){var t=this.collectionView,n=t?t.sourceCollection[e]:null;return!(!Object(r.isObject)(n)||!this.selectedMemberPath)&&this._selPath.getValue(n)},t.prototype._setSelItem=function(e,t){Object(r.isObject)(e)&&this._selPath.getValue(e)!=t&&this._selPath.setValue(e,t)},t.prototype._clearSelIndex=function(){this.selectedIndex=-1},t.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath},t.prototype._disableInput=function(e){null!=this._maxSelItems&&(this._selItems.length<this._maxSelItems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},t.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var e=Object(r.getElementRect)(this.hostElement),t=Object(r.getElementRect)(this._tbx),n=getComputedStyle(this._tbx),i=parseInt(n.paddingLeft,10),o=parseInt(n.paddingRight,10);this._tbx.style.width=(this.rightToLeft?t.left+t.width-e.left-i-o-8:e.left+e.width-t.left-i-o-8)+"px"},t.prototype._getItemIndex=function(e){for(var t=this.hostElement.querySelectorAll(".wj-token"),n=0;n<t.length;n++)if(e===t[n])return n;return-1},t._clsActive="wj-token-active",t}(A);Object(r._registerModule)("wijmo.input",o)},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("ngJS"),r=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),l=n("c2HN"),c=n("XoHu"),u=function(e){if(e&&"function"==typeof e[s.a])return u=e,function(e){var t=u[s.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(a.a)(e))return Object(i.a)(e);if(Object(l.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,r.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var i=void 0;try{i=n.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,u,h=Object(c.a)(e)?"an invalid object":"'".concat(e,"'"),d="You provided ".concat(h," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(d)}},Soar:function(e,t,n){"use strict";function i(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}n.r(t),n.d(t,"DataTypeName",(function(){return o})),n.d(t,"ParsingOptions",(function(){return r})),n.d(t,"dataPipe",(function(){return x}));var r=function(){this.delimiter=",",this.skipRows=0,this.textFields=[],this.dateFields=[],this.numberFields=[],this.booleanFields=[]},o=function(e){return e.String="String",e.LargeString="LargeString",e.WholeNumber="WholeNumber",e.BigIntNumber="BigIntNumber",e.FloatNumber="FloatNumber",e.DateTime="DateTime",e.Boolean="Boolean",e}({});function s(e,t){if(t&&"function"==typeof t&&(e=t(e)),e instanceof Date)return e.getTime();switch(typeof e){case"string":var n=parseFloat(e);if(!isNaN(n))return n;break;case"boolean":return Number(e);case"number":return isNaN(e)?void 0:e}}function a(e){if("number"==typeof e)return e;if(!e||"string"!=typeof e)return null;for(var t=(e=e.trim()).length-1;t>=0;t--){var n=e.charCodeAt(t);if((n<48||n>57)&&46!==n&&44!==n&&(45!==n||0!==t))return null}var i=parseFloat(e.replace(/,/g,""));return isNaN(i)?null:i}function l(e){if(!e)return null;if(e instanceof Date&&!isNaN(e.valueOf()))return e;if("string"!=typeof e)return null;var t=String(e);if(!t.length)return null;var n=function(e){if(!e||!e.length)return NaN;var t=parseInt(e,10);return isNaN(t)?e.startsWith("jan")?0:e.startsWith("feb")?1:e.startsWith("mar")?2:e.startsWith("apr")?3:e.startsWith("may")?4:e.startsWith("jun")?5:e.startsWith("jul")?6:e.startsWith("aug")?7:e.startsWith("sep")?8:e.startsWith("oct")?9:e.startsWith("nov")?10:e.startsWith("dec")?11:NaN:t-1},i=function(e){return e<100?e<68?e+2e3:e+1900:e},r=function(e,t,n,i,r,o,s){if(t>11||n>31||i>=60||r>=60||o>=60)return null;var a=new Date(e,t,n,i,r,o,s);return isNaN(a.valueOf())?null:a},o=t.replace("T"," ").replace("."," ").toLowerCase().split(/[: /-]/),s=o.map(parseFloat),a=r(s[0],s[1]-1,s[2],s[3]||0,s[4]||0,s[5]||0,s[6]||0);return a||((a=r(i(s[2]),n(o[1]),s[0],s[3]||0,s[4]||0,s[5]||0,s[6]||0))?a:(a=r(i(s[2]),n(o[0]),i(s[1]),s[3]||0,s[4]||0,s[5]||0,s[6]||0))||null)}function c(e){if(!e)return null;if("boolean"==typeof e)return e;var t=e.toString().toLowerCase().trim();return!!["1","yes","true","on"].includes(t)||!["0","no","false","off"].includes(t)&&null}function u(e){var t=new Date(e.getTime());return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t.toISOString().replace("T00:00:00.000Z","")}function h(e,t){if(null!=e&&null!=e){if(t===o.LargeString)return o.LargeString;var n=function(e){function t(e){return e%1==0?e>2147483647?o.BigIntNumber:o.WholeNumber:o.FloatNumber}var n=null;switch(typeof e){case"boolean":return o.Boolean;case"number":return t(e);case"object":return e instanceof Date?o.DateTime:o.String;case"string":return l(e)?o.DateTime:null!==(n=a(e))?t(n):null!==c(e)?o.Boolean:e.length>4e3?o.LargeString:o.String;default:return o.LargeString}}(e);return void 0===t?n:t===n?t:n===o.String||t===o.String&&n!==o.LargeString?o.String:t===o.FloatNumber||n===o.FloatNumber&&t===o.WholeNumber?o.FloatNumber:n===o.BigIntNumber||t===o.BigIntNumber&&n===o.WholeNumber?o.BigIntNumber:n!==t&&n!==o.LargeString?o.String:o.LargeString}}function d(e,t,n){for(var i=Object.create(null),r=0;r<e.length;r++){var s=e[r],u=s.fieldName,h=t[r];n.textFields&&n.textFields.indexOf(u)>=0?h=t[r]:s.dataTypeName===o.DateTime||n.dateFields&&n.dateFields.indexOf(u)>=0?h=l(h):s.dataTypeName===o.WholeNumber||s.dataTypeName===o.FloatNumber||s.dataTypeName===o.BigIntNumber||n.numberFields&&n.numberFields.indexOf(u)>=0?h=a(h):(s.dataTypeName===o.Boolean||n.booleanFields&&n.booleanFields.indexOf(u)>=0)&&(h=c(h)),i[u]="_#EMPTY#_"===h?"":h}return i}function f(e,t){void 0===t&&(t=",");var n=[],i="";function r(e,t){return e.length>t?e[t]:null}do{var o=e.content[e.currentIndex];if("\n"===o){"\r"===e.content[e.currentIndex+1]&&e.currentIndex++;break}if(0===i.length&&'"'===o)if('"'===r(e.content,e.currentIndex+1)&&'"'!==r(e.content,e.currentIndex+2))i="_#EMPTY#_",e.currentIndex++;else for(;'"'!==e.content[++e.currentIndex];)i+=e.content[e.currentIndex],'"'===r(e.content,e.currentIndex+1)&&'"'===r(e.content,e.currentIndex+2)&&(i+='"',e.currentIndex+=2);else o===t?(n.push(i),i=""):i+=o}while(++e.currentIndex<e.content.length);return n.push(i),n}function p(e){if("function"==typeof e)return e;if("string"==typeof e)return function(t){return t[e]instanceof Date?u(t[e]):t[e]};if(Array.isArray(e))return function(t){return e.map((function(e){return t[e]})).join("|")};throw Error("Unknown input. Can't create a fieldSelector")}function g(e,t,n){var i=n.field,r=e[i],o=t[i],a=n.asc?1:-1;if(void 0!==r&&void 0===o)return a;switch(typeof r){case"number":return a*function(e,t){var n=s(t);return void 0===n?1:e-n}(r,o);case"string":return a*function(e,t){return e.localeCompare(t)}(r,o);case"object":return a*function(e,t){var n=l(e),i=l(t);return n||i?n?i?n.getTime()-i.getTime():1:-1:0}(r,o);case"undefined":return void 0===o?0:-1*a}return 0}function m(e){return e.length?function(t,n){for(var i=0,r=e.length;i<r;i++){var o=g(t,n,e[i]);if(0!==o)return o}return 0}:function(){return 0}}function b(e){return!e||!Array.isArray(e)||!e.length}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e||!Array.isArray(e))throw Error("Array is not provided");if(!(null==t?void 0:t.length))return e.sort();var i=t.map((function(e){var t=!e.endsWith(" DESC");return{asc:t,field:e.replace(t?/\sASC$/:/\sDESC$/,"")}}));return e.sort(m(i)),e}function y(e){return e?"function"==typeof e?e:function(t){return t[String(e)]}:function(e){return e}}function _(e,t){var n=y(t);return e.map((function(e){return s(e,n)})).filter((function(e){return void 0!==e}))}function w(e,t){if(b(e))return null;for(var n=y(t),i=0,r=0,o=e;r<o.length;r++){var a=s(o[r],n);a&&(i+=a)}return i}function C(e,t,n){if(b(e))return null;var i=(e.length-1)*t+1,r=Math.floor(i),o=y(n),s=o?o(e[r-1]):e[r-1],a=i-r;return a?s+a*(e[r]-s):s}function S(e,t){if(b(e))return null;var n=y(t);if(!Array.isArray(e)||e.length<2)return 0;for(var i=0,r=0,o=0,a=0;a<e.length;++a){var l=s(e[a],n);if("number"==typeof l){var c=l-i;r+=c*(l-(i+=c/++o))}}return r/(o-1)}function O(e,t,n,i,r){if(!e||!Array.isArray(e))throw Error("leftArray is not provided or not a valid");if(!t||!Array.isArray(t))throw Error("rightArray is not provided or not a valid");if("function"!=typeof n)throw Error("leftKeySelector is not provided or not a valid function");if("function"!=typeof i)throw Error("rightKeySelector is not provided or not a valid function");if("function"!=typeof r)throw Error("resultSelector is not provided or not a valid function")}function T(e,t,n,i,r,o){var s=p(i),a=p(r);O(t,n,s,a,o);for(var l=Object.create(null),c=0,u=n;c<u.length;c++){var h=u[c];l[a(h)]=h}for(var d=[],f=0,g=t;f<g.length;f++){var m=g[f],b=l[s(m)]||null;if(!e||b){var v=o(m,b);d.push(v||m)}}return d}var k=function(){function e(e){void 0===e&&(e=[]),this.average=this.avg.bind(this),this.map=this.select.bind(this),this.filter=this.where.bind(this),this.data=e||[]}return e.prototype.fromCsv=function(e,t){return this.data=function(e,t){if(!(e=e||"").length)return[];for(var n=function(e,t){var n={content:e,currentIndex:0};e=e||"";var i=t.delimiter||",",r={fieldDescriptions:[],rows:[]},s=0,a=null,l=[];do{var c=f(n,i);if(c.filter((function(e){return!e||!e.length})).length!==c.length)if(s<t.skipRows)s++;else if(a||"function"!=typeof t.skipUntil||t.skipUntil(c))if(a){if("function"==typeof t.takeWhile&&a&&!t.takeWhile(c))break;var u=[];for(b=0;b<c.length;b++){var d=r.fieldDescriptions[b],p=c[b];if(null==p||0===p.length)d.isNullable=!0;else if("_#EMPTY#_"!==p){var g=h(p,d.dataTypeName);g!==d.dataTypeName&&(d.dataTypeName=g),(d.dataTypeName==o.String||d.dataTypeName==o.LargeString)&&String(p).length>(d.maxSize||0)&&(d.maxSize=String(p).length)}d.isUnique&&(l[b].indexOf(p)>=0?d.isUnique=!1:l[b].push(p)),"_#EMPTY#_"===p?p=d.dataTypeName===o.String||d.dataTypeName===o.LargeString?"":null:p.length||(p=null),u.push(p)}r.rows.push(u),s++}else{a=[];for(var m=[],b=0;b<c.length;b++){var v=c[b].trim().length?c[b].trim():"_";a.push(a.indexOf(v)>=0?v+b:v),m.push({fieldName:a[a.length-1],isNullable:!1,isUnique:!0,index:b}),l.push([])}r.fieldDescriptions=m,r.fieldNames=a,s++}else s++;else s++}while(++n.currentIndex<n.content.length);return r.fieldDataTypes=r.fieldDescriptions.map((function(e){return e.dataTypeName})),r}(e,(t=t||{})||new r),i=[],s=0;s<n.rows.length;s++){var a="function"==typeof t.elementSelector?t.elementSelector(n.fieldDescriptions,n.rows[s]):d(n.fieldDescriptions,n.rows[s],t);a&&i.push(a)}return i}(e,t),this},e.prototype.fromTable=function(e,t,n){return this.data=function(e,t,n){var i=e,r=(null==i?void 0:i.rows)||e||[];if(!r.length)return[];t=(null==i?void 0:i.fieldNames)||t||r[0].map((function(e,t){return"Field"+t})),n=(null==i?void 0:i.fieldDataTypes)||n||[];for(var s=[],a=0,c=r;a<c.length;a++){for(var u=c[a],h={},d=0,f=t.length;d<f;d++)h[t[d]]=(n.length?n[d]:null)===o.DateTime&&u[d]?l(u[d]):u[d];s.push(h)}return s}(e,t,n),this},e.prototype.toArray=function(){return this.data},e.prototype.toCsv=function(e){return void 0===e&&(e=","),function(e,t){void 0===t&&(t=",");for(var n=[],i=0,r=e=e||[];i<r.length;i++){var o=r[i];for(var s in o)n.indexOf(s)<0&&n.push(s)}var a=e.map((function(e){for(var i=[],r=0,o=n;r<o.length;r++){var s=e[o[r]];s instanceof Date?s=u(s):"string"==typeof s&&s.indexOf(t)>=0&&(s='"'+s+'"'),s=null!=s?s:"",i.push(String(s))}return i.join(t)}));return a.unshift(n.join(t)),a.join("\n")}(this.data,e)},e.prototype.toObject=function(e){return function(e,t){for(var n={},i=0,r=e;i<r.length;i++){var o=r[i],s=p(t)(o);s instanceof Date&&(s=u(s)),n[s]=o}return n}(this.data,e)},e.prototype.toTable=function(){return function(e){var t={fieldNames:[],rows:[]};if(!(null==e?void 0:e.length))return t;var n=new Set;return e.forEach((function(e){Object.keys(e).forEach((function(e){return n.add(e)}))})),t.fieldNames=Array.from(n.values()),t.rows=e.map((function(e){return t.fieldNames.reduce((function(t,n){var i=e[n],r=i instanceof Date?u(i):i;return t.push(r),t}),[])})),t}(this.data)},e.prototype.tap=function(e){return"function"==typeof e&&e(this.data),this},e.prototype.sum=function(e){return w(this.data,e)},e.prototype.avg=function(e){return function(e,t){if(b(e))return null;var n=w(e,y(t));return n?n/e.length:null}(this.data,e)},e.prototype.count=function(e){return function(e,t){return e&&Array.isArray(e)?t&&"function"==typeof t?e.filter(t).length:e.length:null}(this.data,e)},e.prototype.min=function(e){return function(e,t){var n=y(t),i=_(e,n);if(b(i))return null;var r=Math.min.apply(Math,i);return(n?n(e[0]):e[0])instanceof Date?new Date(r):r}(this.data,e)},e.prototype.max=function(e){return function(e,t){var n=y(t),i=_(e,n);if(b(i))return null;var r=Math.max.apply(Math,i);return(n?n(e[0]):e[0])instanceof Date?new Date(r):r}(this.data,e)},e.prototype.first=function(e){return function(e,t){if(b(e))return null;if(!t)return e[0];for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}(this.data,e)},e.prototype.last=function(e){return function(e,t){if(b(e))return null;var n=e.length-1;if(!t)return e[n];for(;n>=0;n--)if(t(e[n]))return e[n];return null}(this.data,e)},e.prototype.mean=function(e){return function(e,t){if(b(e))return null;for(var n=0,i=0,r=0,o=e.length;i<o;++i){var a=s(e[i],y(t));"number"==typeof a&&(n+=(a-n)/++r)}return n}(this.data,e)},e.prototype.quantile=function(e,t){return C(this.data,e,t)},e.prototype.variance=function(e){return S(this.data,e)},e.prototype.stdev=function(e){return function(e,t){if(b(e))return null;var n=S(e,t);return null===n?null:Math.sqrt(n)}(this.data,e)},e.prototype.median=function(e){return function(e,t){return b(e)?null:(e.sort(function(e){return function(t,n){var i=s(t,y(e)),r=s(n,y(e));return void 0===r?1:void 0===i?-1:i-r>=0?1:-1}}(t)),C(_(e,t),.5))}(this.data,e)},e.prototype.groupBy=function(e){return this.data=function(e,t){if(!Array.isArray(e))throw Error("An array is not provided");if(!e.length)return e;for(var n={},i=p(t),r=0;r<e.length;r++){var o=e[r],s=i(o);n[s]=n[s]||[],n[s].push(o)}return Object.values(n)}(this.data,e),this},e.prototype.innerJoin=function(e,t,n,i){return this.data=function(e,t,n,i,r){return T(!0,e,t,n,i,r)}(this.data,e,t,n,i),this},e.prototype.leftJoin=function(e,t,n,i){return this.data=function(e,t,n,i,r){return T(!1,e,t,n,i,r)}(this.data,e,t,n,i),this},e.prototype.fullJoin=function(e,t,n,i){return this.data=function(e,t,n,i,r){var o=p(n),s=p(i);O(e,t,o,s,r);for(var a=Object.create(null),l=0,c=t;l<c.length;l++)a[o(f=c[l])]=f;for(var u=Object.create(null),h=0,d=t;h<d.length;h++){var f;u[s(f=d[h])]=f}for(var g=[],m=0,b=e;m<b.length;m++){var v=b[m],y=o(v),_=r(v,C=u[y]||null);g.push(_||v),C&&delete u[y]}for(var w in u){var C;_=r(null,C=u[w]),g.push(_||C)}return g}(this.data,e,t,n,i),this},e.prototype.select=function(e){return this.data=this.data.map(e),this},e.prototype.merge=function(e,t,n){return this.data=function(e,t,n,i){var r=p(n),o=p(i);O(e,t,r,o,(function(){return!1}));for(var s=Object.create(null),a=0,l=t;a<l.length;a++)s[r(d=l[a])]=d;for(var c=Object.create(null),u=0,h=t;u<h.length;u++){var d;c[o(d=h[u])]=d}for(var f=0,g=Object.keys(c);f<g.length;f++){var m=g[f],b=c[m];s[m]?Object.assign(s[m],b):e.push(b)}return e}(this.data,e,t,n),this},e.prototype.pivot=function(e,t,n,i,r){return this.data=function(e,t,n,i,r,o){if(!Array.isArray(e))throw Error("An array is not provided");if(!e.length)return e;var s=Object.create(null);o=o||[],r=r||function(e){return w(e)};var a=p(t);t=Array.isArray(t)?t:[t];for(var l=0;l<e.length;l++){var c=a(g=e[l]);s[c]=s[c]||[],s[c].push(g),o.indexOf(S=g[n])<0&&o.push(S)}for(var u=[],h=0,d=Object.keys(s);h<d.length;h++){for(var f=d[h],g=Object.create(null),m=0,b=t;m<b.length;m++){var v=b[m];g[v]=s[f][0][v]}for(var y=function(e){var t=s[f].filter((function(t){return t[n]===e})).map((function(e){return e[i]}));g[e]=r(t)},_=0,C=o;_<C.length;_++){var S;y(S=C[_])}u.push(g)}return u}(this.data,e,t,n,i,r),this},e.prototype.transpose=function(){return this.data=function(e){if(!Array.isArray(e))throw Error("An array is not provided");return e.length?Object.keys(e[0]).map((function(t){var n={};return e.forEach((function(e,i){0===i&&(n.fieldName=t),n["row"+i]=e[t]})),n})):e}(this.data)||[],this},e.prototype.where=function(e){return this.data=this.data.filter(e),this},e.prototype.unique=function(e){return e&&this.select(e),this.data=Array.from(new Set(this.data)),this},e.prototype.sort=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return v.apply(void 0,i([this.data],e)),this},e.prototype.getFieldDescriptions=function(){return function(e){for(var t=Object.create(null),n=0,i=e;n<i.length;n++)for(var r=0,s=Object.entries(i[n]);r<s.length;r++){var a=s[r],l=a[0],c=a[1],u=t[l];if(void 0===u&&(t[l]=u={fieldName:l,isNullable:!1}),null==c)u.isNullable=!0;else{var d=h(c,u.dataTypeName);d!==u.dataTypeName&&(u.dataTypeName=d),(u.dataTypeName==o.String||u.dataTypeName==o.LargeString)&&String(c).length>(u.maxSize||0)&&(u.maxSize=String(c).length)}}return Object.values(t)}(this.data)},e}();function x(e){return new k(e=e||[])}},SpAZ:function(e,t,n){"use strict";function i(e){return e}n.d(t,"a",(function(){return i}))},SuQF:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("ofXK"),r=n("3Pt+"),o=n("K3ix"),s=n("dR4o"),a=n("H4hQ"),l=n("4nBg"),c=n("tyNb"),u=n("fXoL"),h=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[a.a,s.a,l.a]}},e.\u0275mod=u.Lb({type:e}),e.\u0275inj=u.Kb({factory:function(t){return new(t||e)},imports:[[c.i,i.c,r.d,o.c.forRoot()]]}),e}()},SxV6:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("sVev"),r=n("pLZG"),o=n("IzEk"),s=n("xbPD"),a=n("XDbj"),l=n("SpAZ");function c(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?Object(r.a)((function(t,n){return e(t,n,c)})):l.a,Object(o.a)(1),n?Object(s.a)(t):Object(a.a)((function(){return new i.a})))}}},T5bk:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("DSFK"),r=n("25BE"),o=n("BsWD"),s=n("PYwp");function a(e){return Object(i.a)(e)||Object(r.a)(e)||Object(o.a)(e)||Object(s.a)()}},ThTX:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),r=n("fXoL"),o=(n("K3ix"),n("bU/s")),s=n("jyck"),a=n("uh6x"),l=n("iFvM"),c=n("ofXK"),u=["editor"];function h(e,t){if(1&e&&r.Ob(0,"app-content-explorer",11),2&e){var n=r.dc();r.jc("isTextAvailable",!0)("data",n.config)("isReadonly",n.options.isReadOnly)}}function d(e,t){1&e&&r.Ob(0,"div",12,13)}function f(e,t){if(1&e){var n=r.Ub();r.Tb(0,"button",14),r.bc("click",(function(){return r.vc(n),r.dc().onSave()})),r.Ec(1,"Save"),r.Sb()}}var p=function(){function e(){this.save=new r.p,this.contentType=a.b.TEXT,this.ContentTypes=a.b,this.options={isReadOnly:!1}}return e.prototype.ngOnInit=function(){Object.assign(this.options,this.config.options)},e.prototype.ngAfterViewInit=function(){var e=this,t=this.config.value,n=typeof t;if("string"===n?this.getType(t).then((function(t){e.contentType=t})):"number"!==n&&"boolean"!==n||(this.contentType=a.b.TEXT),this.contentType!==a.b.JSON){var i="string"==typeof t?t:JSON.stringify(t);this.initEditor(i)}},e.prototype.onSave=function(){var e=this.contentType===a.b.JSON?this.explorer.contentEditor.getValue():this.editor.getValue();this.save.emit(e),this.modalRef.hide()},e.prototype.initEditor=function(e){this.editor=Object(o.edit)(this.editorEl.nativeElement,{mode:this.contentType===a.b.XML?"ace/mode/xml":"ace/mode/python",value:e,readOnly:this.options.isReadOnly})},e.prototype.getType=function(e){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.e)(this,(function(t){try{return JSON.parse(e),[2,Promise.resolve(a.b.JSON)]}catch(n){return[2,Object(l.w)(e).then((function(){return a.b.XML})).catch((function(e){return a.b.TEXT}))]}return[2]}))}))},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["app-data-explorer-dialog"]],viewQuery:function(e,t){var n;1&e&&(r.Jc(s.a,!0),r.Jc(u,!0)),2&e&&(r.rc(n=r.cc())&&(t.explorer=n.first),r.rc(n=r.cc())&&(t.editorEl=n.first))},inputs:{config:"config",modalRef:"modalRef"},outputs:{save:"save"},decls:15,vars:3,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4","d-flex","flex-column","h-100","overflow-hidden"],["class","h-100",3,"isTextAvailable","data","isReadonly",4,"ngIf","ngIfElse"],["editorTmpl",""],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","button",1,"btn","btn-light",3,"click"],["type","button","class","btn btn-primary ml-auto",3,"click",4,"ngIf"],[1,"h-100",3,"isTextAvailable","data","isReadonly"],[1,"h-100"],["editor",""],["type","button",1,"btn","btn-primary","ml-auto",3,"click"]],template:function(e,t){if(1&e&&(r.Tb(0,"div",0),r.Tb(1,"h4",1),r.Ec(2,"Data Explorer"),r.Sb(),r.Tb(3,"button",2),r.bc("click",(function(){return t.modalRef.hide()})),r.Tb(4,"span",3),r.Ec(5,"\xd7"),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",4),r.Cc(7,h,1,3,"app-content-explorer",5),r.Cc(8,d,2,0,"ng-template",null,6,r.Dc),r.Sb(),r.Tb(10,"div",7),r.Tb(11,"div",8),r.Tb(12,"button",9),r.bc("click",(function(){return t.modalRef.hide()})),r.Ec(13,"Cancel"),r.Sb(),r.Cc(14,f,2,0,"button",10),r.Sb(),r.Sb()),2&e){var n=r.sc(9);r.Bb(7),r.jc("ngIf",t.contentType===t.ContentTypes.JSON)("ngIfElse",n),r.Bb(7),r.jc("ngIf",!t.options.isReadOnly)}},directives:[c.m,s.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"]}),e}()},TwVa:function(e,t,n){"use strict";var i=n("r9BC");n.d(t,"DbObjectType",(function(){return i.a})),n.d(t,"JoinType",(function(){return i.b})),n.d(t,"Operation",(function(){return i.c}));var r=n("rnaD");n.d(t,"ActionName",(function(){return r.a})),n.d(t,"FileType",(function(){return r.b})),n.d(t,"NotificationType",(function(){return r.c})),n.d(t,"SidebarState",(function(){return r.d}));var o=n("Hcy3");n.d(t,"AppAccessLevels",(function(){return o.a})),n.d(t,"ConnectionLevels",(function(){return o.b})),n.d(t,"ConnectionType",(function(){return o.c})),n.d(t,"DataTypeNameToDataType",(function(){return o.d})),n.d(t,"DataTypeToSqlTypesMap",(function(){return o.e})),n.d(t,"PublicAccessLevels",(function(){return o.f})),n.d(t,"SQLDataTypes",(function(){return o.g})),n.d(t,"SqlTypesSizes",(function(){return o.h})),n.d(t,"SqlTypesToWijmoMap",(function(){return o.i}));var s=n("KKE/");n.d(t,"Preprocessors",(function(){return s.a})),n.d(t,"ProgressMessage",(function(){return s.b})),n("CMQV"),n("57Jz")},UShy:function(e,t,n){"use strict";n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return V})),n.d(t,"a",(function(){return $}));var i=n("mrSG"),r=n("fXoL"),o=n("tk/3"),s=n("JIr8"),a=n("LRne"),l=n("bU/s"),c=function(){return(c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function u(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(t){o(t)}}function a(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function h(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}var f=[" ","\n","\t","\r","\0"],p=function(){function e(){}return e.splitCodeLines=function(e){var t=[],n=1,i=1;return this.splitAll(e,["\n"],(function(e){i=i+e.split("\n").length-1,e.trim().length&&"#"!==e.trim()[0]&&t.push({line:e,start:n,end:i}),i++,n=i})),t},e.splitAll=function(e,t,n){void 0===t&&(t=[" "]),void 0===n&&(n=null);var i=[],r=0,o="";function s(){return e[r++]}function a(e){o+=e}function l(){for(var t=r;t<e.length&&f.indexOf(e[t++])>=0;);return"."===e[t-1]&&(r=t-1,!0)}function c(){n&&"function"==typeof n&&n(o),o.length&&(i.push(o),o="")}function u(t){var n=function(){return'"'===e[r]&&'"'===((n=r+1)<(t=e).length?t[n]:"");var t,n},i=n();i&&(a(t),a(t=s()),t=s());do{if(a(t),'"'===(t=s())){if(!i)break;if(n()){s(),s(),a('""');break}}}while(r<e.length);a(t)}function h(t,n,i){var o=1;do{if(a(t),'"'===(t=s())&&(u(t),t=s()),t===i&&o--,t===n&&o++,0===o)break}while(r<e.length);if(o>0)throw Error("Closing symbol '"+i+"' is missing.");a(t)}for(;r<e.length;){var d=s();'"'!==d?"("!==d?"{"!==d?"["!==d?t.indexOf(d)<0?a(d):l()||c():h(d,"[","]"):h(d,"{","}"):h(d,"(",")"):u(d)}return o.length&&c(),i},e.getPackagesList=function(e){return void 0===e&&(e=[]),e.map((function(e){var t="string"==typeof e?e:e.line;return t.startsWith("import")?function(e){var t=e.match(/^import\s+([\w-]+)(\s+as\s+(\w+)){0,1}/);if(t&&4===t.length)return{name:t[1],as:t[3]};throw Error("Bad import for line: "+e)}(t):function(e){var t=e.match(/^from\s+([\w-]+)\s+import\s+([\w+,\s+]{1,})/);if(t&&3===t.length)return{name:t[1],properties:t[2].split(",").map((function(e){var t=e.split("as");return{name:t[0].trim(),as:t.length>1?t[1].trim():void 0}}))};throw Error("Bad import for line: "+e)}(t)}))},e}(),g={"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"**":function(e,t){return Math.pow(e,t)},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"<>":function(e,t){return e!==t},">":function(e,t){return e>t},"<":function(e,t){return e<t},">=":function(e,t){return e>=t},"<=":function(e,t){return e<=t}};function m(e){var t;return(null===(t=e)||void 0===t?void 0:t.length)?e[e.length-1]:null}function b(e){for(var t=0;" "===e[t];)t++;return t}function v(e,t){var n=b(e[t].line),i=e.findIndex((function(e,i){return i>t&&b(e.line)<n}));return e.slice(t,i>0?i:void 0)}function y(e){return")"===e[e.length-1]}function _(e){var t=e.toLowerCase();return'"'===e[0]&&'"'===e[e.length-1]||"true"===t||"false"===t||"null"===t||"none"===t||!isNaN(parseFloat(e))||"["===e[0]&&"]"===e[e.length-1]||"{"===e[0]&&"}"===e[e.length-1]}function w(e,t){return u(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return 0!==t.length?[3,2]:[4,e()];case 1:return[2,n.sent()];case 2:return 1!==t.length?[3,4]:[4,e(t[0])];case 3:return[2,n.sent()];case 4:return 2!==t.length?[3,6]:[4,e(t[0],t[1])];case 5:return[2,n.sent()];case 6:return 3!==t.length?[3,8]:[4,e(t[0],t[1],t[2])];case 7:return[2,n.sent()];case 8:return 4!==t.length?[3,10]:[4,e(t[0],t[1],t[2],t[3])];case 9:return[2,n.sent()];case 10:return 5!==t.length?[3,12]:[4,e(t[0],t[1],t[2],t[3],t[4])];case 11:return[2,n.sent()];case 12:return 6!==t.length?[3,14]:[4,e(t[0],t[1],t[2],t[3],t[4],t[5])];case 13:return[2,n.sent()];case 14:return 7!==t.length?[3,16]:[4,e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])];case 15:return[2,n.sent()];case 16:return 8!==t.length?[3,18]:[4,e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7])];case 17:return[2,n.sent()];case 18:return 9!==t.length?[3,20]:[4,e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])];case 19:return[2,n.sent()];case 20:return 10!==t.length?[3,22]:[4,e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9])];case 21:return[2,n.sent()];case 22:if(t.length>10)throw Error("Function has too many parameters. Current limitation is 10");return[2]}}))}))}var C=function(){function e(){this.codeBlockEvaluator=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i]}}return e.prototype.jsonParse=function(e,t){var n=this,i="{"===t[0]?{}:[];function r(e){return e.substring(1,e.length-1)}var o=function(t){var i=n.splitParameterToken(t);return n.evalExpression(e,i)};return function e(t,n){for(var i=0,s=p.splitAll(t,[","]).map((function(e){return e.trim()}));i<s.length;i++){var a=s[i];if(!a||!a.length)throw Error("JSON Parsing error: Empty operation after comma");if(Array.isArray(n))if("{"===a[0]){var l={};e(r(a),l),n.push(l)}else"["===a[0]?(l=[],e(r(a),l),n.push(l)):n.push(o(a));else{var c=a.indexOf(":");if(c<=0)throw Error("Error in parsing JSON.");var u=a.substring(0,c).trim();'"'===u[0]&&'"'===u[u.length-1]&&(u=r(u));var h=a.substring(c+1).trim();if("{"===h[0]){if("}"!==h[h.length-1])throw Error("Parsing JSON Error: No closing bracket for '"+u+"'");n[u]={},e(r(h),n[u])}else if("["===h[0]){if("]"!==h[h.length-1])throw Error("Parsing JSON Error: No closing bracket for '"+u+"'");n[u]=[],e(r(h),n[u])}else n[u]=o(h)}}}(r(t),i),i},e.prototype.jsonParseAsync=function(e,t){return u(this,void 0,void 0,(function(){function n(e){return e.substring(1,e.length-1)}function i(e,t){return u(this,void 0,void 0,(function(){var r,s,a,l,c,u,d,f,g,m,b,v;return h(this,(function(h){switch(h.label){case 0:r=p.splitAll(e,[","]).map((function(e){return e.trim()})),s=0,a=r,h.label=1;case 1:if(!(s<a.length))return[3,15];if(!(l=a[s])||!l.length)throw Error("JSON Parsing error: Empty operation after comma");return Array.isArray(t)?"{"!==l[0]?[3,3]:(c={},[4,i(n(l),c)]):[3,8];case 2:return h.sent(),t.push(c),[3,7];case 3:return"["!==l[0]?[3,5]:(c=[],[4,i(n(l),c)]);case 4:return h.sent(),t.push(c),[3,7];case 5:return d=(u=t).push,[4,o(l)];case 6:d.apply(u,[h.sent()]),h.label=7;case 7:return[3,14];case 8:if((f=l.indexOf(":"))<=0)throw Error("Error in parsing JSON.");if('"'===(g=l.substring(0,f).trim())[0]&&'"'===g[g.length-1]&&(g=n(g)),"{"!==(m=l.substring(f+1).trim())[0])return[3,10];if("}"!==m[m.length-1])throw Error("Parsing JSON Error: No closing bracket for '"+g+"'");return t[g]={},[4,i(n(m),t[g])];case 9:return h.sent(),[3,14];case 10:if("["!==m[0])return[3,12];if("]"!==m[m.length-1])throw Error("Parsing JSON Error: No closing bracket for '"+g+"'");return t[g]=[],[4,i(n(m),t[g])];case 11:return h.sent(),[3,14];case 12:return b=t,v=g,[4,o(m)];case 13:b[v]=h.sent(),h.label=14;case 14:return s++,[3,1];case 15:return[2]}}))}))}var r,o,s=this;return h(this,(function(a){switch(a.label){case 0:return r="{"===t[0]?{}:[],o=function(t){return u(s,void 0,void 0,(function(){var n;return h(this,(function(i){switch(i.label){case 0:return n=this.splitParameterToken(t),[4,this.evalExpressionAsync(e,n)];case 1:return[2,i.sent()]}}))}))},[4,i(n(t),r)];case 1:return a.sent(),[2,r]}}))}))},e.prototype.resolveValue=function(e,t){var n=t.toLowerCase();if(t.startsWith('"""')&&t.endsWith('"""'))return t.substring(3,t.length-3);if('"'===t[0]&&'"'===t[t.length-1])return t.substring(1,t.length-1);if("["===t[0]&&"]"===t[t.length-1]||"{"===t[0]&&"}"===t[t.length-1])return this.jsonParse(e,t);if("true"===n||"false"===n)return"true"===n;if("null"===n||"none"===n)return null;var i=Number(t);if(isNaN(i))throw Error("Can't resolve a number value token '"+t+"' ");return i},e.prototype.resolveValueAsync=function(e,t){return u(this,void 0,void 0,(function(){var n,i;return h(this,(function(r){switch(r.label){case 0:return n=t.toLowerCase(),t.startsWith('"""')&&t.endsWith('"""')?[2,t.substring(3,t.length-3)]:[3,1];case 1:return'"'!==t[0]||'"'!==t[t.length-1]?[3,2]:[2,t.substring(1,t.length-1)];case 2:return"["===t[0]&&"]"===t[t.length-1]||"{"===t[0]&&"}"===t[t.length-1]?[4,this.jsonParseAsync(e,t)]:[3,4];case 3:return[2,r.sent()];case 4:if("true"===n||"false"===n)return[2,"true"===n];if("null"===n||"none"===n)return[2,null];if(i=Number(t),isNaN(i))throw Error("Can't resolve a number value token '"+t+"' ");return[2,i];case 5:return[2]}}))}))},e.prototype.resolveVariable=function(e,t,n){var i=this;void 0===n&&(n=null);var r,o=function(t,n){if("]"!==n[n.length-1])return t[n];var r=n.indexOf("[");if(r<=0)throw Error("Missing '[' for "+n);t=t[n.substring(0,r)];var o=n.substring(r+1,n.indexOf("]",r)),s=parseInt(o,10);if(isNaN(s)){var a=i.splitParameterToken(o),l=t[i.evalExpression(e,a)];return void 0!==l?l:null}return t[s]};if(null!=n)return void 0!==(r=o(n,t))?r:null;if(void 0===(r=o(e.blockScope,t)))throw Error("Unknown symbol '"+t+"'");return r},e.prototype.resolveToken=function(e,t,n){void 0===n&&(n=null);var i=parseFloat(t);if(!isNaN(i))return i;var r=p.splitAll(t,["."]),o=null;if(1===r.length)"?"===m(t)&&(t=t.substring(0,t.length-1)),o=_(t)?this.resolveValue(e,t):y(t)?this.evalFunction(e,t,n):this.resolveVariable(e,t,n);else{o=this.resolveToken(e,r[0].trim());for(var s=1;s<r.length;s++){var a=r[s];if(null===o){if("?"===m(r[s-1]))continue;throw Error("Token '"+r[s-1]+"' is null. Can't resolve '"+a+"'. Please use '?.' conditional operators")}o=this.resolveToken(e,a.trim(),o)}}return o},e.prototype.resolveTokenAsync=function(e,t,n){return void 0===n&&(n=null),u(this,void 0,void 0,(function(){var i,r,o,s,a,l;return h(this,(function(c){switch(c.label){case 0:return i=parseFloat(t),isNaN(i)?(r=p.splitAll(t,["."]),o=null,1!==r.length?[3,6]:("?"===t[t.length-1]&&(t=t.substring(0,t.length-1)),_(t)?[4,this.resolveValueAsync(e,t)]:[3,2])):[2,i];case 1:return o=c.sent(),[3,5];case 2:return y(t)?[4,this.evalFunctionAsync(e,t,n)]:[3,4];case 3:return o=c.sent(),[3,5];case 4:o=this.resolveVariable(e,t,n),c.label=5;case 5:return[3,11];case 6:return[4,this.resolveTokenAsync(e,r[0].trim())];case 7:o=c.sent(),s=1,c.label=8;case 8:if(!(s<r.length))return[3,11];if(a=r[s],l=r[s-1],null===o){if("?"===m(l))return[3,10];throw Error("Token '"+r[s-1]+"' is null. Can't resolve '"+a+"'. Please use '?.' conditional operators")}return[4,this.resolveTokenAsync(e,a.trim(),o)];case 9:o=c.sent(),c.label=10;case 10:return s++,[3,8];case 11:return[2,o]}}))}))},e.prototype._evalFuncInput=function(e,t,n){var i=this,r=(t=t.trim()).indexOf("("),o=t.lastIndexOf(")");if(r<0||o<0)throw Error("Token '"+t+"' is not a valid function. (4)");var s=t.substring(0,r),a=t.substring(r+1,o).trim(),l=function(t,r){if(void 0===r&&(r=null),t.indexOf(".")<0){if(null==r){var o=e.blockScope[t];if("function"!=typeof o)throw Error("Can't call '"+t+"' of null (1)");return o}var s=r[t];if("function"!=typeof s)throw Error("Can't call '"+t+"' of null (2)");return s.bind(r)}var a=t.lastIndexOf("."),l=i.resolveVariable(e,t.substring(0,a),n),c=l[t.substring(a+1)];if("function"!=typeof c)throw Error("Token '"+t+"' is not a valid function (3)");return c.bind(l)}(s,n);if(!l||"function"!=typeof l)throw Error("Unknown function "+s);return{func:l,funcParamTokens:a?p.splitAll(a,[","]).map((function(e){return e.trim()})):[]}},e.prototype.splitParameterToken=function(e){if(e.indexOf("\n")<0)return p.splitAll(e);var t=e.split("\n");return t[0].trim().endsWith("=>")?[t[0].replace("=>","").trim(),"=>",t.slice(1).join("\n")]:p.splitAll(e)},e.prototype.evalFunctionAsync=function(e,t,n){return void 0===n&&(n=null),u(this,void 0,void 0,(function(){var i,r,o,s,a,l,c;return h(this,(function(u){switch(u.label){case 0:i=this._evalFuncInput(e,t,n),r=[],o=0,s=i.funcParamTokens,u.label=1;case 1:return o<s.length?(a=this.splitParameterToken(s[o]),c=(l=r).push,[4,this.evalExpressionAsync(e,a)]):[3,4];case 2:c.apply(l,[u.sent()]),u.label=3;case 3:return o++,[3,1];case 4:return[4,w(i.func,r)];case 5:return[2,u.sent()]}}))}))},e.prototype.evalFunction=function(e,t,n){void 0===n&&(n=null);for(var i=this._evalFuncInput(e,t,n),r=[],o=0,s=i.funcParamTokens;o<s.length;o++){var a=this.splitParameterToken(s[o]);r.push(this.evalExpression(e,a))}return function(e,t){if(0===t.length)return e();if(1===t.length)return e(t[0]);if(2===t.length)return e(t[0],t[1]);if(3===t.length)return e(t[0],t[1],t[2]);if(4===t.length)return e(t[0],t[1],t[2],t[3]);if(5===t.length)return e(t[0],t[1],t[2],t[3],t[4]);if(6===t.length)return e(t[0],t[1],t[2],t[3],t[4],t[5]);if(7===t.length)return e(t[0],t[1],t[2],t[3],t[4],t[5],t[6]);if(8===t.length)return e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]);if(9===t.length)return e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]);if(10===t.length)return e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9]);if(t.length>10)throw Error("Function has too many parameters. Current limitation is 10")}(i.func,r)},e.prototype._evalExpressionResult=function(e,t,n,i){if(0===e)n=t;else{var r=g[i];if(!r||"function"!=typeof r)throw Error("Unknown operation '"+i+"'");n=r(n,t)}return n},e.prototype.workoutCodeLines=function(e){var t=e.length>1?e.join(" "):e[0];return t.indexOf("\n")>0?p.splitCodeLines(t).filter((function(e){return e.line.trim().length})):[{line:t}]},e.prototype.evalArrowFunction=function(e,t){var n=this,i={};return i.name="__func_"+e.namelessFuncsCount++,i.params=t[0].replace("(","").replace(")","").split(",").map((function(e){return e.trim()})),i.instructions=this.workoutCodeLines(t.slice(2)),function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.codeBlockEvaluator.apply(n,d([i,e],t))}},e.prototype.evalTokensAsync=function(e,t){return u(this,void 0,void 0,(function(){var n,i,r;return h(this,(function(o){switch(o.label){case 0:n=null,i=0,o.label=1;case 1:return i<t.length?[4,this.resolveTokenAsync(e,t[i].trim())]:[3,3];case 2:return r=o.sent(),n=this._evalExpressionResult(i,r,n,t[i-1]),i+=2,[3,1];case 3:return[2,n]}}))}))},e.prototype.evalTokens=function(e,t){for(var n,i=0;i<t.length;){var r=this.resolveToken(e,t[i].trim());n=this._evalExpressionResult(i,r,n,t[i-1]),i+=2}return n},e.prototype.sliceToLogicalGroups=function(e){for(var t=[],n={tokens:[]},i=0,r=e;i<r.length;i++){var o=r[i];"and"===o||"or"===o?(t.push(n),n={group:o,tokens:[]}):n.tokens.push(o)}return t.push(n),t},e.prototype.setBlockRunnerFn=function(e){this.codeBlockEvaluator=e},e.prototype.evalExpression=function(e,t){if(t.length>1&&"=>"===t[1])return this.evalArrowFunction(e,t);var n=this.sliceToLogicalGroups(t);if(1===n.length)return this.evalTokens(e,t);for(var i=0,r=!0;i<n.length;){var o=n[i++];if("and"===o.group&&!r)return!1;if("or"===o.group&&r)return r;if(r=this.evalTokens(e,o.tokens),"and"===o.group&&!r)return!1;if("or"===o.group&&r)return r}return r},e.prototype.evalExpressionAsync=function(e,t){return u(this,void 0,void 0,(function(){var n,i,r,o;return h(this,(function(s){switch(s.label){case 0:return t.length>1&&"=>"===t[1]?[2,this.evalArrowFunction(e,t)]:1!==(n=this.sliceToLogicalGroups(t)).length?[3,2]:[4,this.evalTokensAsync(e,t)];case 1:return[2,s.sent()];case 2:i=0,r=!0,s.label=3;case 3:return i<n.length?"and"!==(o=n[i++]).group||r?"or"===o.group&&r?[2,r]:[4,this.evalTokensAsync(e,o.tokens)]:[2,!1]:[3,5];case 4:return r=s.sent(),"and"!==o.group||r?"or"===o.group&&r?[2,r]:[3,3]:[2,!1];case 5:return[2,r]}}))}))},e}(),S=function(){function e(e){this.evalExpressions=e}return e.prototype.setVarValue=function(e,t,n){for(var i=p.splitAll(e,["."]),r=n.blockScope,o=0;o<i.length-1;o++){var s=i[o],a=s.indexOf("[");if(a<0)Object.keys(r).indexOf(s)<0&&(r[s]={}),r=r[i[o]];else{var l=s.substring(a+1,s.length-1),c=s.substring(0,a),u=parseInt(l);if(isNaN(u)){Object.keys(r).indexOf(s)<0&&(r[s]={});var h=this.evalInstruction(l,n);r=r[c][h]}else Object.keys(r).indexOf(s)<0&&(r[s]=[]),r=r[c][u]}}var d=m(i),f=d.indexOf("[");f<0?r[d]=t:(l=d.substring(f+1,d.length-1),c=d.substring(0,f),u=parseInt(l),isNaN(u)?(h=this.evalInstruction(l,n),r[c][h]=t):r[c][u]=t)},e.prototype.setVarValueAsync=function(e,t,n){return u(this,void 0,void 0,(function(){var i,r,o,s,a,l,c,u,d,f,g;return h(this,(function(h){switch(h.label){case 0:i=p.splitAll(e,["."]),r=n.blockScope,o=0,h.label=1;case 1:return o<i.length-1?(a=(s=i[o]).indexOf("["))<0?(Object.keys(r).indexOf(s)<0&&(r[s]={}),r=r[i[o]],[3,5]):[3,2]:[3,6];case 2:return u=s.substring(a+1,s.length-1),d=s.substring(0,a),f=parseInt(u),isNaN(f)?[3,3]:(Object.keys(r).indexOf(s)<0&&(r[s]=[]),r=r[d][f],[3,5]);case 3:return Object.keys(r).indexOf(s)<0&&(r[s]={}),[4,this.evalInstructionAsync(u,n)];case 4:g=h.sent(),r=r[d][g],h.label=5;case 5:return o++,[3,1];case 6:return l=m(i),(c=l.indexOf("["))<0?(r[l]=t,[3,10]):[3,7];case 7:return u=l.substring(c+1,l.length-1),d=l.substring(0,c),f=parseInt(u),isNaN(f)?[3,8]:(r[d][f]=t,[3,10]);case 8:return[4,this.evalInstructionAsync(u,n)];case 9:g=h.sent(),r[d][g]=t,h.label=10;case 10:return[2]}}))}))},e.prototype.splitTokens=function(e){return e=p.splitAll(e.trim(),["#"])[0],p.splitAll(e)},e.prototype.evalInstruction=function(e,t){var n=this.splitTokens(e);if(!n||!n.length)return null;if(2===n.length)throw Error("Incorrect expression "+n.join(" "));if(!(n.length>2&&"="===n[1]))return this.evalExpressions.evalExpression(t,n);var i=this.evalExpressions.evalExpression(t,n.slice(2));this.setVarValue(n[0],i,t)},e.prototype.evalInstructionAsync=function(e,t){return u(this,void 0,void 0,(function(){var n,i;return h(this,(function(r){switch(r.label){case 0:if(!(n=this.splitTokens(e))||!n.length)return[2,null];if(2===n.length)throw Error("Incorrect expression "+n.join(" "));return n.length>2&&"="===n[1]?[4,this.evalExpressions.evalExpressionAsync(t,n.slice(2))]:[3,3];case 1:return i=r.sent(),[4,this.setVarValueAsync(n[0],i,t)];case 2:return r.sent(),[3,5];case 3:return[4,this.evalExpressions.evalExpressionAsync(t,n)];case 4:return[2,r.sent()];case 5:return[2]}}))}))},e}();function O(e){return e.trim().startsWith("if ")&&":"===e[e.length-1]}var T=function(){function e(e){this.instructions=e}return e.prototype.invokePScriptFunctionAsync=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return u(this,void 0,void 0,(function(){var i,r;return h(this,(function(o){switch(o.label){case 0:if(!e.instructions.length)return[2,null];for(i={namelessFuncsCount:0,blockScope:c({},t.blockScope)},r=0;r<e.params.length;r++)r<(n||[]).length&&(i.blockScope[e.params[r]]=n[r]);return[4,this.evalCodeBlockAsync(e.instructions,i)];case 1:return[2,o.sent()]}}))}))},e.prototype.invokePScriptFunction=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!e.instructions.length)return null;for(var r={namelessFuncsCount:0,blockScope:c({},t.blockScope)},o=0;o<e.params.length;o++)o<(n||[]).length&&(r.blockScope[e.params[o]]=n[o]);var s=this.evalCodeBlock(e.instructions,r);return s},e.prototype.handleCodeBlockError=function(e,t,n){var i=e[t],r=String(i.start);throw i.start!==i.end&&(r+=":"+i.end),Error("Line ("+r+"): "+n)},e.prototype.createFuncInfo=function(e,t,n){var i={instructions:[],name:t.substring(t.indexOf("def ")+4,t.indexOf("(")).trim()};return i.params=p.splitAll(t.substring(t.indexOf("(")+1,t.lastIndexOf(")")),[","," "]),i},e.prototype.evalCodeBlock=function(e,t){var n=this,i=null;if(!e.length)return i;var r=0,o=function(){if(t.returnCalled)return{value:t.returnObject};if(t.breakCalled||t.continueCalled)return{value:null};try{var o=e[r].line.trim();if(O(o)){var a=s.instructions.evalInstruction(o.replace("if ","").replace(":",""),t),l=v(e,r+1);if(a&&(i=s.evalCodeBlock(l,t)),(r+=l.length)+1<e.length&&"else:"===e[r+1].line.trim()){r++;var c=v(e,r+1);a||(i=s.evalCodeBlock(c,t)),r+=c.length}}else if(o.trim().startsWith("while ")&&o.indexOf(":")>0){for(var u=o.replace("while ","").replace(":",""),h=v(e,r+1);!t.breakCalled&&s.instructions.evalInstruction(u,t);)i=s.evalCodeBlock(h,t),t.continueCalled&&(t.continueCalled=!1);t.breakCalled=t.continueCalled=!1,r+=h.length}else if(o.trim().startsWith("for ")&&o.indexOf(":")>0){var f=o.replace("for ","").replace(":","").trim().split(" in ");if(2!==f.length)throw Error("Incorrect for in: expression.");for(var p=f[0].trim(),g=s.instructions.evalInstruction(f[1].trim(),t),m=v(e,r+1),b=0,y=g;b<y.length;b++){var _=y[b];if(t.breakCalled)break;t.continueCalled&&(t.continueCalled=!1),t.blockScope[p]=_,s.evalCodeBlock(m,t)}t.breakCalled=t.continueCalled=!1,r+=m.length}else if(o.trim().startsWith("def ")&&o.indexOf(":")>0){var w=s.createFuncInfo(t,o,e);w.instructions=v(e,r+1),r+=w.instructions.length,t.blockScope[w.name]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=n.invokePScriptFunction.apply(n,d([w,t],e));return r}}else{if(o.trim().startsWith("async def ")&&o.indexOf(":")>0)throw Error("async def is not allowed here. No promises allowed in this part of code.");if("break"===o.trim())return t.breakCalled=!0,"break";if("continue"===o.trim())return t.continueCalled=!0,"break";if(o.trim().startsWith("return ")){t.returnCalled=!0;var C=o.replace("return ","").trim();C.length&&(i=t.returnObject=s.instructions.evalInstruction(C,t))}else i=s.instructions.evalInstruction(o,t)}}catch(S){s.handleCodeBlockError(e,r,S)}},s=this;do{var a=o();if("object"==typeof a)return a.value;if("break"===a)break}while(++r<e.length);return i},e.prototype.evalCodeBlockAsync=function(e,t){return u(this,void 0,void 0,(function(){var n,i,r,o,s,a=this;return h(this,(function(l){switch(l.label){case 0:if(n=null,!e.length)return[2,n];i=0,r=function(){var r,s,l,c,f,p,g,m,b,y,_,w,C,S,T,k,x,E,j;return h(this,(function(A){switch(A.label){case 0:if(t.returnCalled)return[2,{value:t.returnObject}];if(t.breakCalled||t.continueCalled)return[2,{value:null}];A.label=1;case 1:return A.trys.push([1,30,,31]),O(r=e[i].line)?[4,o.instructions.evalInstructionAsync(r.replace("if ","").replace(":",""),t)]:[3,8];case 2:return s=A.sent(),l=v(e,i+1),s?[4,o.evalCodeBlockAsync(l,t)]:[3,4];case 3:n=A.sent(),A.label=4;case 4:return(i+=l.length)+1<e.length&&"else:"===e[i+1].line.trim()?(i++,c=v(e,i+1),s?[3,6]:[4,o.evalCodeBlockAsync(c,t)]):[3,7];case 5:n=A.sent(),A.label=6;case 6:i+=c.length,A.label=7;case 7:return[3,29];case 8:if(!(r.trim().startsWith("while ")&&r.indexOf(":")>0))return[3,14];f=r.replace("while ","").replace(":",""),p=v(e,i+1),A.label=9;case 9:return(g=!t.breakCalled)?[4,o.instructions.evalInstructionAsync(f,t)]:[3,11];case 10:g=!!A.sent(),A.label=11;case 11:return g?[4,o.evalCodeBlockAsync(p,t)]:[3,13];case 12:return n=A.sent(),t.continueCalled&&(t.continueCalled=!1),[3,9];case 13:return t.breakCalled=t.continueCalled=!1,i+=p.length,[3,29];case 14:if(!(r.trim().startsWith("for ")&&r.indexOf(":")>0))return[3,20];if(2!==(m=r.replace("for ","").replace(":","").trim().split(" in ")).length)throw Error("Incorrect for in: expression.");return b=m[0].trim(),[4,o.instructions.evalInstructionAsync(m[1].trim(),t)];case 15:y=A.sent(),_=v(e,i+1),w=0,C=y,A.label=16;case 16:return w<C.length?(S=C[w],t.breakCalled?[3,19]:(t.continueCalled&&(t.continueCalled=!1),t.blockScope[b]=S,[4,o.evalCodeBlockAsync(_,t)])):[3,19];case 17:A.sent(),A.label=18;case 18:return w++,[3,16];case 19:return t.breakCalled=t.continueCalled=!1,i+=_.length,[3,29];case 20:return r.trim().startsWith("def ")&&r.indexOf(":")>0?((T=o.createFuncInfo(t,r,e)).instructions=v(e,i+1),i+=T.instructions.length,t.blockScope[T.name]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=a.invokePScriptFunction.apply(a,d([T,t],e));return i},[3,29]):[3,21];case 21:return r.trim().startsWith("async def ")&&r.indexOf(":")>0?((k=o.createFuncInfo(t,r,e)).instructions=v(e,i+1),i+=k.instructions.length,t.blockScope[k.name]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return u(a,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return[4,this.invokePScriptFunctionAsync.apply(this,d([k,t],e))];case 1:return[2,n.sent()]}}))}))},[3,29]):[3,22];case 22:return"break"!==r.trim()?[3,23]:(t.breakCalled=!0,[2,"break"]);case 23:return"continue"!==r.trim()?[3,24]:(t.continueCalled=!0,[2,"break"]);case 24:return r.trim().startsWith("return ")?(t.returnCalled=!0,(x=r.replace("return ","").trim()).length?(E=t,[4,o.instructions.evalInstructionAsync(x,t)]):[3,26]):[3,27];case 25:n=E.returnObject=A.sent(),A.label=26;case 26:return[3,29];case 27:return[4,o.instructions.evalInstructionAsync(r,t)];case 28:n=A.sent(),A.label=29;case 29:return[3,31];case 30:return j=A.sent(),o.handleCodeBlockError(e,i,j),[3,31];case 31:return[2]}}))},o=this,l.label=1;case 1:return[5,r()];case 2:if("object"==typeof(s=l.sent()))return[2,s.value];if("break"===s)return[3,4];l.label=3;case 3:if(++i<e.length)return[3,1];l.label=4;case 4:return[2,n]}}))}))},e}(),k={jsPython:function(){return["JSPython v0.1.8","(c) FalconSoft Ltd"].join("\n")},dateTime:function(e){return void 0===e&&(e=null),e&&e.length&&function(e){if(!e)return null;if(e instanceof Date&&!isNaN(e.valueOf()))return e;if("string"!=typeof e)return null;var t=String(e);if(!t.length)return null;var n=function(e){if(!e||!e.length)return NaN;var t=parseInt(e,10);return isNaN(t)?e.startsWith("jan")?0:e.startsWith("feb")?1:e.startsWith("mar")?2:e.startsWith("apr")?3:e.startsWith("may")?4:e.startsWith("jun")?5:e.startsWith("jul")?6:e.startsWith("aug")?7:e.startsWith("sep")?8:e.startsWith("oct")?9:e.startsWith("nov")?10:e.startsWith("dec")?11:NaN:t-1},i=function(e){return e<100?e<68?e+2e3:e+1900:e},r=function(e,t,n,i,r,o){if(t>11||n>31||i>=60||r>=60||o>=60)return null;var s=new Date(e,t,n,i,r,o,0);return isNaN(s.valueOf())?null:s},o=t.replace("T"," ").toLowerCase().split(/[: /-]/),s=o.map(parseFloat),a=r(s[0],s[1]-1,s[2],s[3]||0,s[4]||0,s[5]||0);return a||((a=r(i(s[2]),n(o[1]),s[0],s[3]||0,s[4]||0,s[5]||0))?a:(a=r(i(s[2]),n(o[0]),i(s[1]),s[3]||0,s[4]||0,s[5]||0))||null)}(e)||new Date},range:function(e,t,n){void 0===t&&(t=NaN),void 0===n&&(n=1);var i=[],r=isNaN(t);t=r?e:t;for(var o=e=r?0:e;o<t;)i.push(o),o+=n;return i},print:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.log.apply(console,e),e.length>0?e[0]:null},isNull:function(e,t){return void 0===t&&(t=null),null===t?null===e:e||t},deleteProperty:function(e,t){return delete e[t]},Math:Math,Object:Object,Array:Array,JSON:JSON,printExecutionContext:function(){},getExecutionContext:function(){}},x=function(){function e(){this.initialScope=c({},k),this.globalScope={}}return e.create=function(){return new e},e.prototype.registerPackagesLoader=function(e){if("function"!=typeof e)throw Error("PackagesLoader");this.packageLoader=e},e.prototype.addFunction=function(e,t){return this.initialScope[e]=t,this},e.prototype.assignGlobalContext=function(e){return Object.assign(this.initialScope,e),this},e.prototype.hasFunction=function(e,t){return void 0===e&&(e=""),e.indexOf("def "+t)>-1},e.prototype.evaluate=function(e,t,n){var i;return void 0===t&&(t={}),void 0===n&&(n=""),u(this,void 0,void 0,(function(){var r,o,s,a,l,u,f;return h(this,(function(h){switch(h.label){case 0:if(!e||!e.length)return[2,null];if(t=t&&"object"==typeof t?t:{},e=e.replace(new RegExp("\t","g"),"  "),r=p.splitCodeLines(e),o=[],s=[],r.forEach((function(e){/^(import|from)\s+/.test(e.line)?s.push(e):o.push(e)})),s.length&&this.packageLoader&&(a=this.packageResolver(p.getPackagesList(s)),t=c(c({},t),a)),this.globalScope=c(c({},this.initialScope),t),(l={returnCalled:!1,namelessFuncsCount:0,blockScope:c({},this.globalScope),currentLevel:""}).blockScope.printExecutionContext=function(){return console.log(l.blockScope)},l.blockScope.getExecutionContext=function(){return l.blockScope},!(null===(i=o)||void 0===i?void 0:i.length))return[2,null];(u=new T(new S(new C))).instructions.evalExpressions.setBlockRunnerFn((function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return u.invokePScriptFunction.apply(u,d([e,t],n))})),h.label=1;case 1:return h.trys.push([1,6,,7]),[4,u.evalCodeBlockAsync(o,l)];case 2:return f=h.sent(),n&&n.length?[3,3]:[2,f];case 3:return[4,l.blockScope[n]()];case 4:return[2,h.sent()];case 5:return[3,7];case 6:throw h.sent();case 7:return[2]}}))}))},e.prototype.getAutocompletionList=function(e){var t=c(c({},this.initialScope),this.globalScope);function n(e,t){if("object"!=typeof e)return null;var n=typeof e[t];return{name:t,score:1,value:"function"===n?t+"()":t,caption:t,meta:n}}if(e){var i=t[e];return void 0!==i?Object.getOwnPropertyNames(i).map((function(e){return n(i,e)})).filter((function(e){return e})):[]}return Object.keys(t).map((function(e){return n(t,e)})).filter((function(e){return e}))},e.prototype.packageResolver=function(e){var t=this;if(!this.packageLoader)throw Error("Package loader not provided.");var n={};return e.forEach((function(e){var i,r=e.name,o=e.as,s=e.properties,a=t.packageLoader&&t.packageLoader(r);(null===(i=s)||void 0===i?void 0:i.length)?s.forEach((function(e){n[e.as||e.name]=a[e.name]})):o?n[o]=a:n[r]=a,o&&(n[o]=a)})),n},e}(),E=n("Soar"),j=n("FQei"),A=n("ztEp"),I=n("0Qfz"),M=n("eY+I"),P=n("Czp8"),D=n("lM/l"),R=r.t.create({providers:[{provide:o.a,deps:[o.c]},{provide:o.c,useValue:new o.g({build:function(){return new XMLHttpRequest}})}]}).get(o.a),N={"datapipe-js":E,"datapipe-js-utils":A,"datapipe-js-array":I,"datapipe-js-string":j},L={},F={},B=new Map([["typeof",function(e){return typeof e}],["httpGet",function(e,t){return R.get(e,G(t)).pipe(Object(s.a)((function(e){return Object(a.a)(e)}))).toPromise()}],["httpPost",function(e,t,n){return R.post(e,t,G(n)).pipe(Object(s.a)((function(e){return Object(a.a)(e)}))).toPromise()}],["httpPut",function(e,t,n){return R.put(e,t,G(n)).pipe(Object(s.a)((function(e){return Object(a.a)(e)}))).toPromise()}],["httpDelete",function(e,t){return R.delete(e,G(t)).pipe(Object(s.a)((function(e){return Object(a.a)(e)}))).toPromise()}],["parseInt",parseInt],["parseFloat",parseFloat],["fetch",fetch],["dateTime",function(e){return e&&e.length&&A.parseDatetimeOrNull(e)||new Date}],["format",function(e,t){return void 0===t&&(t=null),Object(D.a)(e,t)}],["getUrlQueryParams",function(){try{var e=location.search.slice(1);return JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}catch(t){return{}}}],["params",function(e){try{var t=location.search.slice(1),n=JSON.parse('{"'+decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')[e];return void 0===n?null:n}catch(i){return null}}],["getComponentById",function(e,t){return Object(M.n)(e,t)}]]);function H(e,t){if(!e||"function"!=typeof t)throw Error("registerFunction: incorrect parameters: "+e+", "+t);B.set(e,t)}function V(e,t,n){F[e]||(F[e]={}),t&&n&&(F[e][t]=n)}function $(){var e=x.create();return e.assignGlobalContext(Object(i.a)({app:P.a.variables,session:P.a.contextVariables,wsUtils:L},F)),function(e){return e.registerPackagesLoader(U),B.forEach((function(t,n){e.addFunction(n,t)})),function(e){z||(l.require("ace/ext/language_tools").addCompleter({getCompletions:function(t,n,i,r,o){if("ace/mode/python"===n.$modeId){var s=t.session.getLine(i.row).match(new RegExp("([\\w.]+)."+r));o(null,e.getAutocompletionList(s?s[1]:null))}}}),z=!0)}(e),e}(e)}var z=!1;function G(e){if(e&&"object"==typeof e)return{headers:W(e)}}function W(e){if(e&&"object"==typeof e){var t=new o.d;return Object.entries(e).forEach((function(e){t=t.set(e[0],e[1])})),t}}function U(e){if(!N.hasOwnProperty(e))throw Error("Package "+e+" not available. Please import any of the packages: "+Object.keys(N));return N[e]}},Ub3T:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("mrSG"),r=n("HDdC"),o=n("Cfvw"),s=n("Iab2"),a=n("xOOu"),l=n("ztEp"),c=n("iFvM"),u=n("TwVa"),h=n("fXoL"),d=function(){function e(){this.defaultExportConfig={fileType:u.FileType.JSON,fileName:"rest-client"},this.reader=new FileReader,this.input=document.createElement("input"),this.input.type="file",this.anchor=document.createElement("a")}return e.prototype.importFromFile$=function(e){var t=this;void 0===e&&(e=u.FileType.JSON);var n=document.createElement("input");return n.type="file",new r.a((function(r){n.onchange=function(n){n.stopPropagation(),n.preventDefault();var o=n.target.files;if(o.length){var s=o[0];t.reader.onloadend=function(n){return Object(i.b)(t,void 0,void 0,(function(){var t;return Object(i.e)(this,(function(i){if(n.target.readyState===FileReader.DONE)try{t=this.parseData(e,n.target.result),r.next({result:t,file:s}),r.complete()}catch(n){r.error(n)}return[2]}))}))},t.reader.readAsBinaryString(s)}},n.click()}))},e.prototype.importCSVFile$=function(){var e=document.createElement("input");return e.type="file",new r.a((function(t){e.onchange=function(e){e.stopPropagation(),e.preventDefault();var n=e.target.files;if(n.length){var i=n[0];t.next({file:i});var r=new FileReader;r.onload=function(e){var n=Object(l.parseCsvToTable)(e.target.result);t.next({file:i,scallarTable:n}),t.complete()},r.readAsText(i)}},e.click()}))},e.prototype.importFilesContent$=function(){var e=this,t=document.createElement("input");return t.type="file",t.multiple=!0,new r.a((function(n){t.onchange=function(t){t.stopPropagation(),t.preventDefault();var i=Array.from(t.target.files);Promise.all(i.map((function(t){return e.readFile(t)}))).then((function(e){n.next(e),n.complete()}))},t.click()}))},e.prototype.exportToFile=function(e,t){t=Object(i.a)(Object(i.a)({},this.defaultExportConfig),t);var n=this.formatData(e,t.fileType),r=t.fileName,o=t.fileType,a=o.split("/")[1],l=new Blob([n],{type:o});Object(s.saveAs)(l,r+"."+a)},e.prototype.readFile=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t,n=this;return Object(i.e)(this,(function(r){return e.name.endsWith(".zip")?[2,this.readZip(e).toPromise()]:(t=new FileReader,[2,new Promise((function(r,o){t.onloadend=function(t){return Object(i.b)(n,void 0,void 0,(function(){return Object(i.e)(this,(function(n){return t.target.readyState===FileReader.DONE&&r({fileName:e.name,content:t.target.result}),[2]}))}))},t.onerror=function(){o()},t.readAsBinaryString(e)}))])}))}))},e.prototype.parseData=function(e,t){switch(e){case u.FileType.JSON:return JSON.parse(t);case u.FileType.CSV:return Object(l.parseCsv)(t);default:return null}},e.prototype.formatData=function(e,t){switch(t){case u.FileType.JSON:return Object(c.e)(e);case u.FileType.CSV:if(Array.isArray(e))return Object(l.toCsv)(Object(c.f)(e))}},e.prototype.readZip=function(e){return Object(o.a)(a.loadAsync(e).then((function(e){var t=[];return e.forEach((function(e,n){t.push(n)})),Promise.all(t.map((function(e){return e.async("text")})))})).then((function(t){return{content:t[0],fileName:e.name||"uploaded"}})))},e.\u0275prov=h.Jb({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}()},UfhM:function(e,t,n){"use strict";var i=n("H4hQ");n.d(t,"a",(function(){return i.a}));var r=n("4nBg");n.d(t,"b",(function(){return r.a}));var o=n("hAiv");n.d(t,"c",(function(){return o.a}))},Uwcb:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return u}));var i=n("TwVa"),r=n("JGTj"),o=function(e){return e.app="app.xml",e.appScript="app.jspy",e.appShell="app.shell.xml",e}({}),s=function(e){return e.onAppInit="onAppInit",e.onAppExit="onAppExit",e.onLogin="onLogin",e.onLogout="onLogout",e.onAppError="onAppError",e}({}),a={appId:void 0,appName:"NewApp",ownerName:null,title:"New Application",logo:"worksheets_logo",description:"custom application.",publicAccess:i.PublicAccessLevels.NoAccess,shellUri:o.appShell,settings:{},connections:{},connectionNames:{},connectionConfigs:[]},l={contentType:r.a.SHELL,name:"app",content:'<app-shell code="" sidebar="closed" homePageUri="home.page.xml">\n  <app-shell.resources>\n    <menu-items></menu-items>\n    <sidebar-items></sidebar-items>\n  </app-shell.resources>\n</app-shell>',folder:null},c={contentType:r.a.SCRIPT,name:"app",content:Object.values(s).map((function(e){return"def "+e+'():\n  print("'+e+'")\n  '})).join("\n"),folder:null},u=[{contentType:r.a.SCRIPT,name:"home",content:'def onPageInit():\n  print("Page Init")\n  ',folder:null},l,c,{contentType:r.a.PAGE,name:"home",content:'<page title="Home page" code="home.jspy">\n  <body>\n    <div class="row h-100 w-100 align-items-center justify-content-center" onInit="onPageInit()">\n      <h3 class="col-auto">\n        <i class="fa fa-globe fa-lg" />\n        <span class="ml-2">Hello world!</span>\n      </h3>\n    </div>\n  </body>\n</page>',folder:null}]},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("HDdC"),r=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(){for(var e=Number.POSITIVE_INFINITY,t=null,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];var c=a[a.length-1];return Object(r.a)(c)?(t=a.pop(),a.length>1&&"number"==typeof a[a.length-1]&&(e=a.pop())):"number"==typeof c&&(e=a.pop()),null===t&&1===a.length&&a[0]instanceof i.a?a[0]:Object(o.a)(e)(Object(s.a)(a,t))}},WyaX:function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));var i=n("1OyB"),r=n("vuIU"),o=n("rePB"),s=n("fXoL"),a=n("ofXK"),l=n("XNiG"),c=n("VRyK"),u=n("xgIS"),h=n("LRne"),d=n("eNwd");function f(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function p(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function g(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=f(e),n=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(String(t.overflow)+String(i)+String(n))?e:g(p(e))}var m="undefined"!=typeof window&&"undefined"!=typeof document,b=m&&!(!window.MSInputMethodContext||!document.documentMode),v=m&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function y(e){return 11===e?b:10===e?v:b||v}function _(e){if(!e)return document.documentElement;for(var t,n=y(10)?document.body:null,i=e.offsetParent||null;i===n&&e.nextElementSibling&&t!==e.nextElementSibling;)i=(t=e.nextElementSibling).offsetParent;var r=i&&i.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===f(i,"position")?_(i):i:t?t.ownerDocument.documentElement:document.documentElement}function w(e){return null!==e.parentNode?w(e.parentNode):e}function C(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,l=o.commonAncestorContainer;if(e!==l&&t!==l||i.contains(r))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&_(s.firstElementChild)!==s?_(l):l;var c=w(e);return c.host?C(c.host,t):C(e,w(t).host)}function S(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border".concat(n,"Width")])+parseFloat(e["border".concat(i,"Width")])}function O(e,t,n,i){return Math.max(t["offset".concat(e)],t["scroll".concat(e)],n["client".concat(e)],n["offset".concat(e)],n["scroll".concat(e)],y(10)?parseInt(n["offset".concat(e)],10)+parseInt(i["margin".concat("Height"===e?"Top":"Left")],10)+parseInt(i["margin".concat("Height"===e?"Bottom":"Right")],10):0)}function T(e){var t=e.body,n=e.documentElement,i=y(10)&&getComputedStyle(n);return{height:O("Height",t,n,i),width:O("Width",t,n,i)}}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var r=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||r;return o[n]}return e[n]}function x(e){return Object.assign(Object.assign({},e),{right:e.left+e.width,bottom:e.top+e.height})}function E(e){var t={};try{if(y(10)){t=e.getBoundingClientRect();var n=k(e,"top"),i=k(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(c){return}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?T(e.ownerDocument):{},s=e.offsetWidth-(o.width||e.clientWidth||r.right-r.left),a=e.offsetHeight-(o.height||e.clientHeight||r.bottom-r.top);if(s||a){var l=f(e);s-=S(l,"x"),a-=S(l,"y"),r.width-=s,r.height-=a}return x(r)}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=k(t,"top"),r=k(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=r*o,e.right+=r*o,e}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=y(10),r="HTML"===t.nodeName,o=E(e),s=E(t),a=g(e),l=f(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=x({top:o.top-s.top-c,left:o.left-s.left-u,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!i&&r){var d=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);h.top-=c-d,h.bottom-=c-d,h.left-=u-p,h.right-=u-p,h.marginTop=d,h.marginLeft=p}return(i&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(h=j(h,t)),h}function I(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=A(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:k(n),a=t?0:k(n,"left"),l={top:s-Number(i.top)+Number(i.marginTop),left:a-Number(i.left)+Number(i.marginLeft),width:r,height:o};return x(l)}function M(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===f(e,"position")||M(p(e)))}function P(e){if(!e||!e.parentElement||y())return document.documentElement;for(var t=e.parentElement;t&&"none"===f(t,"transform");)t=t.parentElement;return t||document.documentElement}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?P(e):C(e,t);if("viewport"===i)o=I(s,r);else{var a;"scrollParent"===i?"BODY"===(a=g(p(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===i?e.ownerDocument.documentElement:i;var l=A(a,s,r);if("HTML"!==a.nodeName||M(s))o=l;else{var c=T(e.ownerDocument),u=c.height,h=c.width;o.top+=l.top-l.marginTop,o.bottom=Number(u)+Number(l.top),o.left+=l.left-l.marginLeft,o.right=Number(h)+Number(l.left)}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function R(e){return e.width*e.height}function N(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["top","bottom","right","left"],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"viewport",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(-1===e.indexOf("auto"))return e;var a=D(n,i,s,o),l={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},c=Object.keys(l).map((function(e){return Object.assign(Object.assign({key:e},l[e]),{area:R(l[e])})})).sort((function(e,t){return t.area-e.area})),u=c.filter((function(e){return e.width>=n.clientWidth&&e.height>=n.clientHeight})),h=(u=u.filter((function(e){return r.some((function(t){return t===e.key}))}))).length>0?u[0].key:c[0].key,d=e.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,"bs-tooltip-".concat(h)),h+(d?"-".concat(d):"")}function L(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:Number(e.offsetWidth)+i,height:Number(e.offsetHeight)+n}}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=n?P(e):C(e,t);return A(t,i,n)}function B(e,t,n){var i=n.split(" ")[0],r=L(e),o={width:r.width,height:r.height},s=-1!==["right","left"].indexOf(i),a=s?"top":"left",l=s?"left":"top",c=s?"height":"width",u=s?"width":"height";return o[a]=t[a]+t[c]/2-r[c]/2,o[l]=i===l?t[l]-r[u]:t[function(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}(l)],o}function H(e,t){return e&&e.modifiers&&e.modifiers[t]&&e.modifiers[t].enabled}function V(e,t,n){Object.keys(t).forEach((function(i){var r,o="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&""!==(r=t[i])&&!isNaN(parseFloat(r))&&isFinite(r)&&(o="px"),n?n.setStyle(e,i,"".concat(String(t[i])).concat(o)):e.style[i]=String(t[i])+o}))}function $(e){var t,n=e.offsets.target,i=e.instance.target.querySelector(".arrow");if(!i)return e;var r=-1!==["left","right"].indexOf(e.placement.split(" ")[0]),s=r?"height":"width",a=r?"Top":"Left",l=a.toLowerCase(),c=r?"left":"top",u=r?"bottom":"right",h=L(i)[s],d=e.placement.split(" ")[1];e.offsets.host[u]-h<n[l]&&(n[l]-=n[l]-(e.offsets.host[u]-h)),Number(e.offsets.host[l])+Number(h)>n[u]&&(n[l]+=Number(e.offsets.host[l])+Number(h)-Number(n[u])),n=x(n);var p,g=f(e.instance.target),m=parseFloat(g["margin".concat(a)]),b=parseFloat(g["border".concat(a,"Width")]);if(d){var v=parseFloat(g.borderRadius),y=Number(m+b+v);p=l===d?Number(e.offsets.host[l])+y:Number(e.offsets.host[l])+Number(e.offsets.host[s]-y)}else p=Number(e.offsets.host[l])+Number(e.offsets.host[s]/2-h/2);var _=p-n[l]-m-b;return _=Math.max(Math.min(n[s]-h,_),0),e.offsets.arrow=(t={},Object(o.a)(t,l,Math.round(_)),Object(o.a)(t,c,""),t),e.instance.arrow=i,e}function z(e){if(e.offsets.target=x(e.offsets.target),!H(e.options,"flip"))return e.offsets.target=Object.assign(Object.assign({},e.offsets.target),B(e.instance.target,e.offsets.host,e.placement)),e;var t=D(e.instance.target,e.instance.host,0,"viewport",!1),n=e.placement.split(" ")[0],i=e.placement.split(" ")[1]||"",r=N("auto",e.offsets.host,e.instance.target,e.instance.host,e.options.allowedPositions),o=[n,r];return o.forEach((function(r,s){if(n!==r||o.length===s+1)return e;var a="left"===(n=e.placement.split(" ")[0])&&Math.floor(e.offsets.target.right)>Math.floor(e.offsets.host.left)||"right"===n&&Math.floor(e.offsets.target.left)<Math.floor(e.offsets.host.right)||"top"===n&&Math.floor(e.offsets.target.bottom)>Math.floor(e.offsets.host.top)||"bottom"===n&&Math.floor(e.offsets.target.top)<Math.floor(e.offsets.host.bottom),l=Math.floor(e.offsets.target.left)<Math.floor(t.left),c=Math.floor(e.offsets.target.right)>Math.floor(t.right),u=Math.floor(e.offsets.target.top)<Math.floor(t.top),h=Math.floor(e.offsets.target.bottom)>Math.floor(t.bottom),d="left"===n&&l||"right"===n&&c||"top"===n&&u||"bottom"===n&&h,f=-1!==["top","bottom"].indexOf(n),p=f&&"left"===i&&l||f&&"right"===i&&c||!f&&"left"===i&&u||!f&&"right"===i&&h;(a||d||p)&&((a||d)&&(n=o[s+1]),p&&(i=function(e){return"right"===e?"left":"left"===e?"right":e}(i)),e.placement=n+(i?" ".concat(i):""),e.offsets.target=Object.assign(Object.assign({},e.offsets.target),B(e.instance.target,e.offsets.host,e.placement)))})),e}function G(e){if(!H(e.options,"preventOverflow"))return e;var t=e.instance.target.style,n=t.top,i=t.left,r=t.transform;t.top="",t.left="",t.transform="";var s=D(e.instance.target,e.instance.host,0,"scrollParent",!1);t.top=n,t.left=i,t.transform=r;var a,l={primary:function(t){var n=e.offsets.target[t];return e.offsets.target[t]<s[t]&&(n=Math.max(e.offsets.target[t],s[t])),Object(o.a)({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=e.offsets.target[n];return e.offsets.target[t]>s[t]&&(i=Math.min(e.offsets.target[n],s[t]-("right"===t?e.offsets.target.width:e.offsets.target.height))),Object(o.a)({},n,i)}};return["left","right","top","bottom"].forEach((function(t){a=-1!==["left","top"].indexOf(t)?"primary":"secondary",e.offsets.target=Object.assign(Object.assign({},e.offsets.target),l[a](t))})),e}function W(e){var t=e.placement,n=t.split(" ")[0],i=t.split(" ")[1];if(i){var r=e.offsets,s=r.host,a=r.target,l=-1!==["bottom","top"].indexOf(n),c=l?"left":"top",u=l?"width":"height",h={start:Object(o.a)({},c,s[c]),end:Object(o.a)({},c,s[c]+s[u]-a[u])};e.offsets.target=Object.assign(Object.assign({},a),Object(o.a)({},c,c===i?h.start[c]:h.end[c]))}return e}var U=new(function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,[{key:"position",value:function(e,t){return this.offset(e,t,!1)}},{key:"offset",value:function(e,t){return F(t,e)}},{key:"positionElements",value:function(e,t,n,i,r){return[z,W,G,$].reduce((function(e,t){return t(e)}),function(e,t,n,i){var r=F(e,t);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\s*(start|end)*$/)||(n="auto");var o=!!n.match(/auto/g),s=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n,a=s.match(/^(left|right|top|bottom)* ?(?!\1)(left|right|top|bottom)?/);return a&&(s=a[1]+(a[2]?" ".concat(a[2]):"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(s)&&(s="auto"),{options:i,instance:{target:e,host:t,arrow:null},offsets:{target:B(e,r,s),host:r,arrow:null},positionFixed:!1,placement:s=N(s,r,e,t,i?i.allowedPositions:void 0),placementAuto:o}}(t,e,n,r))}}]),e}()),K=function(){var e=function(){function e(t,n,r){var o=this;Object(i.a)(this,e),this.update$$=new l.a,this.positionElements=new Map,this.isDisabled=!1,Object(a.v)(r)&&t.runOutsideAngular((function(){o.triggerEvent$=Object(c.a)(Object(u.a)(window,"scroll",{passive:!0}),Object(u.a)(window,"resize",{passive:!0}),Object(h.a)(0,d.a),o.update$$),o.triggerEvent$.subscribe((function(){o.isDisabled||o.positionElements.forEach((function(e){var t,i,r,s,a,l,c,u;t=q(e.target),i=q(e.element),r=e.attachment,s=e.appendToBody,a=o.options,l=n.createRenderer(null,null),u=function(e){return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(e.offsets.target.left),top:Math.round(e.offsets.target.top),bottom:Math.round(e.offsets.target.bottom),right:Math.floor(e.offsets.target.right)}}(c=U.positionElements(t,i,r,s,a)),V(i,{"will-change":"transform",top:"0px",left:"0px",transform:"translate3d(".concat(u.left,"px, ").concat(u.top,"px, 0px)")},l),c.instance.arrow&&V(c.instance.arrow,c.offsets.arrow,l),function(e,t){var n=e.instance.target,i=n.className;e.placementAuto&&(-1!==(i=(i=(i=i.replace(/bs-popover-auto/g,"bs-popover-".concat(e.placement))).replace(/bs-tooltip-auto/g,"bs-tooltip-".concat(e.placement))).replace(/\sauto/g," ".concat(e.placement))).indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom/g,"".concat(e.placement.split(" ")[0])),t?t.setAttribute(n,"class",i):n.className=i}(c,l)}))}))}))}return Object(r.a)(e,[{key:"position",value:function(e){this.addPositionElement(e)}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"addPositionElement",value:function(e){this.positionElements.set(q(e.element),e)}},{key:"calcPosition",value:function(){this.update$$.next()}},{key:"deletePositionElement",value:function(e){this.positionElements.delete(q(e))}},{key:"setOptions",value:function(e){this.options=e}},{key:"event$",get:function(){return this.triggerEvent$}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Xb(s.C),s.Xb(s.H),s.Xb(s.E))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac}),e}();function q(e){return"string"==typeof e?document.querySelector(e):e instanceof s.n?e.nativeElement:e}},XDbj:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("Ji7U"),r=n("LK+K"),o=n("1OyB"),s=n("vuIU"),a=n("sVev"),l=n("7o/Q");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return function(t){return t.lift(new u(e))}}var u=function(){function e(t){Object(o.a)(this,e),this.errorFactory=t}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.errorFactory))}}]),e}(),h=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e,i){var r;return Object(o.a)(this,n),(r=t.call(this,e)).errorFactory=i,r.hasValue=!1,r}return Object(s.a)(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(l.a);function d(){return new a.a}},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return m}));var i=n("vuIU"),r=n("ReuC"),o=n("foSv"),s=n("1OyB"),a=n("Ji7U"),l=n("LK+K"),c=n("HDdC"),u=n("7o/Q"),h=n("quSY"),d=n("9ppp"),f=n("Ylt2"),p=n("2QA8"),g=function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).destination=e,i}return n}(u.a),m=function(){var e=function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Object(i.a)(n,[{key:p.a,value:function(){return new g(this)}},{key:"lift",value:function(e){var t=new b(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new d.a;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)}},{key:"error",value:function(e){if(this.closed)throw new d.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new d.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new d.a;return Object(r.a)(Object(o.a)(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new d.a;return this.hasError?(e.error(this.thrownError),h.a.EMPTY):this.isStopped?(e.complete(),h.a.EMPTY):(this.observers.push(e),new f.a(this,e))}},{key:"asObservable",value:function(){var e=new c.a;return e.source=this,e}}]),n}(c.a);return e.create=function(e,t){return new b(e,t)},e}(),b=function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(e,i){var r;return Object(s.a)(this,n),(r=t.call(this)).destination=e,r.source=i,r}return Object(i.a)(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):h.a.EMPTY}}]),n}(m)},XRfL:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("fXoL"),r=n("hAiv"),o=n("itXk"),s=n("H0VJ"),a=n("tyNb"),l=n("3Pt+"),c=n("ofXK"),u=n("K3ix");function h(e,t){if(1&e&&(i.Tb(0,"option",62),i.Ec(1),i.Sb()),2&e){var n=t.$implicit;i.jc("value",n.pricingCode),i.Bb(1),i.Fc(n.name)}}function d(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"Account Plan is required."),i.Sb())}function f(e,t){if(1&e&&(i.Tb(0,"div",63),i.Cc(1,d,2,0,"div",64),i.Sb()),2&e){i.dc();var n=i.sc(17);i.Bb(1),i.jc("ngIf",n.errors.required)}}function p(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"User name is required"),i.Sb())}function g(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"User name should contain only alphanumeric symbols and '_', '-'"),i.Sb())}function m(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"User name must be at least 3 characters"),i.Sb())}function b(e,t){if(1&e&&(i.Tb(0,"div",63),i.Cc(1,p,2,0,"div",64),i.Cc(2,g,2,0,"div",64),i.Cc(3,m,2,0,"div",64),i.Sb()),2&e){i.dc();var n=i.sc(30);i.Bb(1),i.jc("ngIf",n.errors.required),i.Bb(1),i.jc("ngIf",n.errors.pattern),i.Bb(1),i.jc("ngIf",n.errors.minlength)}}function v(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"Email is required."),i.Sb())}function y(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"Email is not valid."),i.Sb())}function _(e,t){if(1&e&&(i.Tb(0,"div",63),i.Cc(1,v,2,0,"div",64),i.Cc(2,y,2,0,"div",64),i.Sb()),2&e){i.dc();var n=i.sc(42);i.Bb(1),i.jc("ngIf",n.errors.required),i.Bb(1),i.jc("ngIf",n.errors.email)}}function w(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"Password is required."),i.Sb())}function C(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"Password should be not less than 6 characters."),i.Sb())}function S(e,t){if(1&e&&(i.Tb(0,"div",63),i.Cc(1,w,2,0,"div",64),i.Cc(2,C,2,0,"div",64),i.Sb()),2&e){i.dc();var n=i.sc(49);i.Bb(1),i.jc("ngIf",n.errors.required),i.Bb(1),i.jc("ngIf",n.errors.minlength)}}function O(e,t){1&e&&(i.Tb(0,"div",63),i.Tb(1,"div"),i.Ec(2,"Repeat password doesn't match."),i.Sb(),i.Sb())}var T=function(){return["/login"]},k=function(){function e(e,t,n){this.registrationService=e,this.route=t,this.dialogService=n,this.login=new i.p,this.register=new i.p,this.form={userName:null,firstName:null,lastName:null,email:null,password:null,repeatPassword:null,accountPricingCode:null,additionalInfo:{buildApp:!1,companyName:null,phone:null,website:null},acceptConditions:!1},this.totalPrice="-"}return e.prototype.ngOnInit=function(){var e=this;Object(o.a)([this.route.queryParams,this.registrationService.getActivePricingPackages()]).subscribe((function(t){var n=t[0],i=t[1];e.pricingPackages=i;var r=i.find((function(e){return e.pricingCode===n.accountCode}))||i.find((function(e){return 0===e.price}));r&&(e.form.accountPricingCode=r.pricingCode,e.totalPrice=r.priceCcy+r.price)})),this.registrationService.getActivePricingDbPackages().subscribe((function(t){e.dbPackages=t}))},e.prototype.onSubmit=function(){var e=this;this.registrationService.register(this.form).subscribe((function(t){e.register.emit(e.form)}))},e.prototype.onChangePricingCode=function(){var e=this,t=this.pricingPackages.find((function(t){return t.pricingCode===e.form.accountPricingCode}));this.totalPrice=t?t.priceCcy+t.price:"-"},e.\u0275fac=function(t){return new(t||e)(i.Nb(r.a),i.Nb(a.a),i.Nb(s.a))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-register-form"]],outputs:{login:"login",register:"register"},decls:113,vars:22,consts:[[1,"card","mb-0"],["regForm","ngForm"],[1,"card-body","mx-md-4","mt-md-4","mb-0"],[1,"text-muted","d-inline-block","mr-2"],[1,"text-muted","d-inline-block"],["tabindex","1",3,"routerLink","click"],[1,"row","mb-3"],[1,"col-6","pr-0"],[1,"col-form-label","px-0"],["name","accountPricingCode","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["plan","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger py-1 px-2 m-0 w-100",4,"ngIf"],[1,"col-6"],[1,"col-form-label","px-0","text-nowrap"],[1,"form-control-plaintext"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-user"],["type","text","name","userName","placeholder","Username","pattern","^[\\w|_-]+$","minlength","3","maxlength","20","required","",1,"form-control",3,"ngModel","ngModelChange"],["userName","ngModel"],[1,"row","my-1","mx-0","mb-3"],[1,"pr-md-2","pl-0","flex-fill"],["type","text","placeholder","First name","name","firstName",1,"form-control",3,"ngModel","ngModelChange"],[1,"px-0","flex-fill","mt-3","mt-md-0"],["type","text","placeholder","Last name","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["type","email","email","","name","email","placeholder","Email","autocomplete","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"fa","fa-lock"],["type","password","minlength","6","name","password","placeholder","Password","autocomplete","new-password","required","",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["type","password","name","repeatPassword","placeholder","Repeat password","autocomplete","new-password","required","",1,"form-control",3,"ngModel","ngModelChange"],["repeatPassword","ngModel"],[1,"fa","fa-building-o"],["type","text","name","companyName","placeholder","Company Name",1,"form-control",3,"ngModel","ngModelChange"],["type","url","url","","placeholder","Website","name","website",1,"form-control",3,"ngModel","ngModelChange"],[1,"px-0","mt-3","mt-md-0","flex-fill"],["type","tel","tel","","placeholder","Phone Number","name","phone",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group"],[1,"form-check"],["name","buildApp","type","checkbox","id","buildApp",1,"form-check-input",3,"ngModel","ngModelChange"],["for","buildApp",1,"form-check-label"],[1,"card-footer","p-4"],[1,"form-group","text-center"],["name","termsAccept","type","checkbox","id","termsAccept",1,"form-check-input",3,"ngModel","ngModelChange"],["for","termsAccept",1,"form-check-label"],["href","javascript:void(0)",3,"click"],[1,"row","m-0","px-4"],["type","button",1,"btn","btn-block","btn-success","btn-lg",3,"disabled","click"],["bsModal","","tabindex","-1","role","dialog",1,"modal","fade"],["termsModal","bs-modal"],[1,"modal-dialog","modal-xl","full-height"],[1,"modal-content"],[1,"modal-header","py-2"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["src","https://worksheet.systems/terms-of-service","title","Terms of Service",1,"h-100","border-0"],[1,"modal-footer","p-1"],[1,"btn","btn-link",3,"click"],["privacyModal","bs-modal"],["src","https://worksheet.systems/privacy-policy","title","Privacy Policy",1,"h-100","border-0"],[3,"value"],[1,"alert","alert-danger","py-1","px-2","m-0","w-100"],[4,"ngIf"]],template:function(e,t){if(1&e){var n=i.Ub();i.Tb(0,"form",0,1),i.Tb(2,"div",2),i.Tb(3,"h1"),i.Ec(4,"Register"),i.Sb(),i.Tb(5,"p",3),i.Ec(6,"Create your account."),i.Sb(),i.Tb(7,"p",4),i.Ec(8,"If already have account "),i.Tb(9,"a",5),i.bc("click",(function(){return t.login.emit()})),i.Ec(10,"Login"),i.Sb(),i.Ec(11,"."),i.Sb(),i.Tb(12,"div",6),i.Tb(13,"div",7),i.Tb(14,"label",8),i.Ec(15,"Account Plan"),i.Sb(),i.Tb(16,"select",9,10),i.bc("ngModelChange",(function(e){return t.form.accountPricingCode=e}))("change",(function(){return t.onChangePricingCode()})),i.Cc(18,h,2,2,"option",11),i.Sb(),i.Cc(19,f,2,1,"div",12),i.Sb(),i.Tb(20,"div",13),i.Tb(21,"label",14),i.Ec(22,"Price (without Database)"),i.Sb(),i.Tb(23,"span",15),i.Ec(24),i.Sb(),i.Sb(),i.Sb(),i.Tb(25,"div",16),i.Tb(26,"div",17),i.Tb(27,"span",18),i.Ob(28,"i",19),i.Sb(),i.Sb(),i.Tb(29,"input",20,21),i.bc("ngModelChange",(function(e){return t.form.userName=e})),i.Sb(),i.Cc(31,b,4,3,"div",12),i.Sb(),i.Tb(32,"div",22),i.Tb(33,"div",23),i.Tb(34,"input",24),i.bc("ngModelChange",(function(e){return t.form.firstName=e})),i.Sb(),i.Sb(),i.Tb(35,"div",25),i.Tb(36,"input",26),i.bc("ngModelChange",(function(e){return t.form.lastName=e})),i.Sb(),i.Sb(),i.Sb(),i.Tb(37,"div",16),i.Tb(38,"div",17),i.Tb(39,"span",18),i.Ec(40,"@"),i.Sb(),i.Sb(),i.Tb(41,"input",27,28),i.bc("ngModelChange",(function(e){return t.form.email=e})),i.Sb(),i.Cc(43,_,3,2,"div",12),i.Sb(),i.Tb(44,"div",16),i.Tb(45,"div",17),i.Tb(46,"span",18),i.Ob(47,"i",29),i.Sb(),i.Sb(),i.Tb(48,"input",30,31),i.bc("ngModelChange",(function(e){return t.form.password=e})),i.Sb(),i.Cc(50,S,3,2,"div",12),i.Sb(),i.Tb(51,"div",16),i.Tb(52,"div",17),i.Tb(53,"span",18),i.Ob(54,"i",29),i.Sb(),i.Sb(),i.Tb(55,"input",32,33),i.bc("ngModelChange",(function(e){return t.form.repeatPassword=e})),i.Sb(),i.Cc(57,O,3,0,"div",12),i.Sb(),i.Tb(58,"h3"),i.Ec(59,"A bit more about yourself"),i.Sb(),i.Tb(60,"div",16),i.Tb(61,"div",17),i.Tb(62,"span",18),i.Ob(63,"i",34),i.Sb(),i.Sb(),i.Tb(64,"input",35),i.bc("ngModelChange",(function(e){return t.form.additionalInfo.companyName=e})),i.Sb(),i.Sb(),i.Tb(65,"div",22),i.Tb(66,"div",23),i.Tb(67,"input",36),i.bc("ngModelChange",(function(e){return t.form.additionalInfo.website=e})),i.Sb(),i.Sb(),i.Tb(68,"div",37),i.Tb(69,"input",38),i.bc("ngModelChange",(function(e){return t.form.additionalInfo.phone=e})),i.Sb(),i.Sb(),i.Sb(),i.Tb(70,"div",39),i.Tb(71,"div",40),i.Tb(72,"input",41),i.bc("ngModelChange",(function(e){return t.form.additionalInfo.buildApp=e})),i.Sb(),i.Tb(73,"label",42),i.Ec(74," Do you want us to build you an App for free? "),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(75,"div",43),i.Tb(76,"div",44),i.Tb(77,"div",40),i.Tb(78,"input",45),i.bc("ngModelChange",(function(e){return t.form.acceptConditions=e})),i.Sb(),i.Tb(79,"label",46),i.Ec(80," I accept the "),i.Tb(81,"a",47),i.bc("click",(function(){return i.vc(n),i.sc(90).show()})),i.Ec(82,"Terms of Service"),i.Sb(),i.Ec(83," and have read the "),i.Tb(84,"a",47),i.bc("click",(function(){return i.vc(n),i.sc(102).show()})),i.Ec(85,"Services Privacy Policy"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(86,"div",48),i.Tb(87,"button",49),i.bc("click",(function(){return t.onSubmit()})),i.Ec(88,"Create Account"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(89,"div",50,51),i.Tb(91,"div",52),i.Tb(92,"div",53),i.Tb(93,"div",54),i.Tb(94,"button",55),i.bc("click",(function(){return i.vc(n),i.sc(90).hide()})),i.Tb(95,"span",56),i.Ec(96,"\xd7"),i.Sb(),i.Sb(),i.Sb(),i.Ob(97,"iframe",57),i.Tb(98,"div",58),i.Tb(99,"button",59),i.bc("click",(function(){return i.vc(n),i.sc(90).hide()})),i.Ec(100,"Close"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(101,"div",50,60),i.Tb(103,"div",52),i.Tb(104,"div",53),i.Tb(105,"div",54),i.Tb(106,"button",55),i.bc("click",(function(){return i.vc(n),i.sc(102).hide()})),i.Tb(107,"span",56),i.Ec(108,"\xd7"),i.Sb(),i.Sb(),i.Sb(),i.Ob(109,"iframe",61),i.Tb(110,"div",58),i.Tb(111,"button",59),i.bc("click",(function(){return i.vc(n),i.sc(102).hide()})),i.Ec(112,"Close"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&e){var r=i.sc(1),o=i.sc(17),s=i.sc(30),a=i.sc(42),l=i.sc(49),c=i.sc(56);i.Bb(9),i.jc("routerLink",i.mc(21,T)),i.Bb(7),i.jc("ngModel",t.form.accountPricingCode),i.Bb(2),i.jc("ngForOf",t.pricingPackages),i.Bb(1),i.jc("ngIf",o.invalid&&(o.dirty||o.touched)),i.Bb(5),i.Fc(t.totalPrice),i.Bb(5),i.jc("ngModel",t.form.userName),i.Bb(2),i.jc("ngIf",s.invalid&&(s.dirty||s.touched)),i.Bb(3),i.jc("ngModel",t.form.firstName),i.Bb(2),i.jc("ngModel",t.form.lastName),i.Bb(5),i.jc("ngModel",t.form.email),i.Bb(2),i.jc("ngIf",a.invalid&&a.touched),i.Bb(5),i.jc("ngModel",t.form.password),i.Bb(2),i.jc("ngIf",l.invalid&&l.touched),i.Bb(5),i.jc("ngModel",t.form.repeatPassword),i.Bb(2),i.jc("ngIf",c.touched&&c.value!==l.value),i.Bb(7),i.jc("ngModel",t.form.additionalInfo.companyName),i.Bb(3),i.jc("ngModel",t.form.additionalInfo.website),i.Bb(2),i.jc("ngModel",t.form.additionalInfo.phone),i.Bb(3),i.jc("ngModel",t.form.additionalInfo.buildApp),i.Bb(6),i.jc("ngModel",t.form.acceptConditions),i.Bb(9),i.jc("disabled",!r.valid||c.value!==l.value||!t.form.acceptConditions)}},directives:[l.t,l.j,l.k,a.h,l.r,l.q,l.i,l.l,c.l,c.m,l.b,l.o,l.f,l.e,l.c,l.a,u.b,l.m,l.s],styles:["i.fa[_ngcontent-%COMP%] {\n    width: 12px;\n  }"]}),e}()},"Xn/w":function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var i=n("AytR"),r=n("TwVa"),o=n("rXEo"),s=n("fXoL"),a=n("9YtQ"),l=(n("umNf"),n("JLyS"),n("iFvM")),c=n("ofXK"),u=n("tyNb");function h(e,t){if(1&e){var n=s.Ub();s.Tb(0,"button",6),s.bc("click",(function(){return s.vc(n),s.dc().onToggleClick()})),s.Ob(1,"span",7),s.Sb()}}var d=["*"],f=function(){function e(){this.toggleSidebar=new s.p,this.sidebar=!0,this.getIconSrc=l.p}return e.prototype.onToggleClick=function(){this.sidebar=!this.sidebar,this.toggleSidebar.emit(this.sidebar)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-header"]],inputs:{icon:"icon",smIcon:"smIcon",toggle:"toggle"},outputs:{toggleSidebar:"toggleSidebar"},ngContentSelectors:d,decls:7,vars:3,consts:[["class","c-header-toggler c-class-toggler px-2 col-auto","type","button",3,"click",4,"ngIf"],[1,"col","px-0"],[1,"row","align-items-center","mx-0"],["routerLink","/",1,"c-header-brand","px-0","col-auto"],["width","53",1,"d-none","d-md-block",3,"src"],["width","30","height","30",1,"d-md-none","c-header-brand-sm-up-center",3,"src"],["type","button",1,"c-header-toggler","c-class-toggler","px-2","col-auto",3,"click"],[1,"cil-menu"]],template:function(e,t){1&e&&(s.ic(),s.Cc(0,h,2,0,"button",0),s.Tb(1,"div",1),s.Tb(2,"div",2),s.Tb(3,"a",3),s.Ob(4,"img",4),s.Ob(5,"img",5),s.Sb(),s.hc(6),s.Sb(),s.Sb()),2&e&&(s.jc("ngIf",!1!==t.toggle),s.Bb(4),s.jc("src",t.getIconSrc(t.icon),s.xc),s.Bb(1),s.jc("src",t.getIconSrc(t.smIcon),s.xc))},directives:[c.m,u.h],styles:[".btn-link[_ngcontent-%COMP%]{color:var(--color)}.btn-link[_ngcontent-%COMP%]:hover{text-decoration:none}@media (max-width:991.98px){.c-header-brand[_ngcontent-%COMP%]{min-height:auto}}"]}),e}(),p=n("1G5W"),g=n("XNiG"),m=n("H4hQ"),b=n("4nBg"),v=n("ZF+8"),y=n("dZIy");function _(e,t){if(1&e&&s.Ob(0,"img",12),2&e){var n=s.dc(2);s.jc("src",n.authService.user.avatar,s.xc)}}function w(e,t){if(1&e&&s.Ec(0),2&e){var n=s.dc(2);s.Hc("",n.authService.user.firstName," ",n.authService.user.lastName,"")}}function C(e,t){1&e&&(s.Tb(0,"a",23),s.Ob(1,"i",24),s.Ec(2," Home"),s.Sb())}function S(e,t){if(1&e&&(s.Tb(0,"a",21),s.bc("click",(function(){return t.$implicit.command()})),s.Ob(1,"i"),s.Ec(2),s.Sb()),2&e){var n=t.$implicit;s.Bb(1),s.Db(n.icon),s.Bb(1),s.Fc(n.label)}}var O=function(){return[]},T=function(){return["/profile"]};function k(e,t){if(1&e){var n=s.Ub();s.Tb(0,"div",13),s.Cc(1,C,3,0,"a",14),s.Cc(2,S,3,4,"a",15),s.Tb(3,"a",16),s.Ob(4,"i",17),s.Ec(5," Profile"),s.Sb(),s.Tb(6,"a",18),s.Ob(7,"i",19),s.Ec(8," Setting"),s.Sb(),s.Ob(9,"div",20),s.Tb(10,"a",21),s.bc("click",(function(){return s.vc(n),s.dc(2).onLogout()})),s.Ob(11,"i",22),s.Ec(12," Logout"),s.Sb(),s.Sb()}if(2&e){var i=s.dc(2);s.Bb(1),s.jc("ngIf",!i.excludeHomePage),s.Bb(1),s.jc("ngForOf",i.menuItems||s.mc(3,O)),s.Bb(1),s.jc("routerLink",s.mc(4,T))}}function x(e,t){if(1&e&&(s.Tb(0,"li",6),s.Tb(1,"a",7),s.bc("click",(function(){return!1})),s.Cc(2,_,1,1,"img",8),s.Cc(3,w,1,2,"ng-template",null,9,s.Dc),s.Ob(5,"i",10),s.Sb(),s.Cc(6,k,13,5,"div",11),s.Sb()),2&e){var n=s.sc(4),i=s.dc();s.Bb(2),s.jc("ngIf",i.authService.user.avatar)("ngIfElse",n)}}function E(e,t){if(1&e){var n=s.Ub();s.Tb(0,"li"),s.Tb(1,"a",25),s.bc("click",(function(){return s.vc(n),s.dc().onLogin()})),s.Ec(2,"Login"),s.Sb(),s.Sb()}}function j(e,t){1&e&&(s.Rb(0),s.Ob(1,"i",26),s.Qb())}function A(e,t){1&e&&s.Ob(0,"i",27)}var I=["*",[["","settings",""]]],M=["*","[settings]"],P=function(){function e(e,t,n,r){this.authService=e,this.localSettings=t,this.router=n,this.loginService=r,this.destroy=new g.a,this.excludeHomePage=i.a.excludeHomePage}return e.prototype.ngOnInit=function(){var e=this;this.authService.isAuthenticated$.pipe(Object(p.a)(this.destroy)).subscribe((function(t){e.isAuthenticated=t}))},e.prototype.ngOnDestroy=function(){this.destroy.next(),this.destroy.complete()},e.prototype.onLogin=function(){this.loginService.openDialog()},e.prototype.onLogout=function(){this.authService.logout(),!1!==this.logoutRedirect&&this.router.navigate([this.logoutRedirect?this.logoutRedirect:"/"])},e.\u0275fac=function(t){return new(t||e)(s.Nb(m.a),s.Nb(v.d),s.Nb(u.f),s.Nb(b.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-nav"]],inputs:{logoutRedirect:"logoutRedirect",menuItems:"menuItems"},ngContentSelectors:M,decls:9,vars:4,consts:[[1,"c-header-nav","mr-2"],["class","c-header-nav-item dropdown","dropdown","","placement","bottom right",4,"ngIf"],[4,"ngIf"],["title","Switch to the Dark or Light Mode",1,"btn","btn-light","btn-sm","mr-2","align-self-center",3,"click"],[4,"ngIf","ngIfElse"],["dark",""],["dropdown","","placement","bottom right",1,"c-header-nav-item","dropdown"],["data-toggle","dropdown","href","#","role","button","aria-haspopup","true","aria-expanded","false","dropdownToggle","",1,"c-header-nav-link",3,"click"],["class","img-avatar",3,"src",4,"ngIf","ngIfElse"],["userEmail",""],[1,"fa","fa-caret-down","ml-1"],["class","dropdown-menu dropdown-menu-right","aria-labelledby","simple-dropdown",4,"dropdownMenu"],[1,"img-avatar",3,"src"],["aria-labelledby","simple-dropdown",1,"dropdown-menu","dropdown-menu-right"],["class","dropdown-item","routerLink","/",4,"ngIf"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"routerLink"],[1,"fa","fa-user"],["href","#",1,"dropdown-item","disabled"],[1,"fa","fa-wrench"],[1,"divider"],[1,"dropdown-item",3,"click"],[1,"fa","fa-lock"],["routerLink","/",1,"dropdown-item"],[1,"fa","fa-home"],[1,"cursor-pointer",3,"click"],[1,"cil-moon","position-relative"],[1,"cil-sun","position-relative"]],template:function(e,t){if(1&e&&(s.ic(I),s.hc(0),s.Tb(1,"ul",0),s.Cc(2,x,7,2,"li",1),s.Cc(3,E,3,0,"li",2),s.Sb(),s.hc(4,1),s.Tb(5,"button",3),s.bc("click",(function(){return t.localSettings.toggleMode()})),s.Cc(6,j,2,0,"ng-container",4),s.Cc(7,A,1,0,"ng-template",null,5,s.Dc),s.Sb()),2&e){var n=s.sc(8);s.Bb(2),s.jc("ngIf",t.isAuthenticated),s.Bb(1),s.jc("ngIf",!t.isAuthenticated),s.Bb(3),s.jc("ngIf","dark"!==t.localSettings.theme)("ngIfElse",n)}},directives:[c.m,y.a,y.d,y.b,c.l,u.h],styles:[".dropdown-item[_ngcontent-%COMP%] {\n      cursor: pointer;\n    }"]}),e}(),D=n("cdP3"),R=[[["","title",""]],[["","header",""]],[["","settings",""]],[["","sidebar",""]],[["","content",""]]],N=function(e){return{collapsed:e}},L=function(e){return{"ml-2":e}},F=["[title]","[header]","[settings]","[sidebar]","[content]"],B=function(){function e(e,t){this.deviceService=e,this.localSettings=t,this.version=i.a.version,this.collapsed=!1,this.unit="pixel",this.contentSize="*",this.useTransition=!1,this.SidebarState=r.SidebarState,this.size=350}return Object.defineProperty(e.prototype,"sidebarSize",{get:function(){return this.collapsed?0:this.size},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.config.hasOwnProperty("sidebar")&&(this.collapsed=this.config.sidebar!==r.SidebarState.Opened);var e=this.localSettings.getSidebar(this.config.appName);"boolean"==typeof e&&this.config.sidebar!==r.SidebarState.Hidden&&(this.collapsed=!e),this.initMobile()},e.prototype.ngAfterViewInit=function(){var e=this;window.requestAnimationFrame((function(){e.useTransition=!0}))},e.prototype.onToggleSidebar=function(){this.collapsed=!this.collapsed,this.handleToggleMobile(),this.localSettings.setSidebar(this.config.appName,!this.collapsed)},e.prototype.initMobile=function(){this.deviceService.isMobile()&&(this.collapsed=!0,this.size=100,this.contentSize=100,this.unit="percent")},e.prototype.handleToggleMobile=function(){this.deviceService.isMobile()&&(this.contentSize=this.collapsed?100:0)},e.\u0275fac=function(t){return new(t||e)(s.Nb(a.b),s.Nb(o.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-layout"]],inputs:{config:"config"},ngContentSelectors:F,decls:25,vars:19,consts:[[1,"c-header","app-header","align-items-center","flex-row",3,"icon","smIcon","toggle","toggleSidebar"],[1,"d-flex","flex-fill","h-100","col-12","col-md-auto","pl-0",3,"logoutRedirect","menuItems"],[1,"c-body","flex-row",3,"unit","direction","useTransition","ngClass","gutterSize"],["split","asSplit"],[1,"d-flex","h-auto","ml-0",3,"size","maxSize","ngClass"],["area1","asSplitArea"],[1,"d-flex","h-auto","content",3,"size"],["area2","asSplitArea"],[1,"main","c-main","w-100","pt-0"],[1,"container-fluid","h-100","py-2","pr-2","pl-0","position-relative"],[1,"d-flex","px-2","position-relative","flex-column"],[1,"mx-auto"],[1,"terms-privacy","mx-auto","px-2"],["href","https://worksheet.systems/terms-of-service/","target","blank",1,"ml-auto"],["href","https://worksheet.systems/privacy-policy/","target","blank",1,"mx-2"]],template:function(e,t){1&e&&(s.ic(R),s.Tb(0,"app-header",0),s.bc("toggleSidebar",(function(){return t.onToggleSidebar()})),s.hc(1),s.Tb(2,"app-nav",1),s.hc(3,1),s.hc(4,2,["settings",""]),s.Sb(),s.Sb(),s.Tb(5,"as-split",2,3),s.Tb(7,"as-split-area",4,5),s.hc(9,3,["class","h-100 w-100 py-2"]),s.Sb(),s.Tb(10,"as-split-area",6,7),s.Tb(12,"main",8),s.Tb(13,"div",9),s.hc(14,4),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(15,"footer",10),s.Tb(16,"div",11),s.Ec(17,"Copyright \xa9 FalconSoft Ltd"),s.Sb(),s.Tb(18,"div",12),s.Tb(19,"a",13),s.Ec(20,"Terms & Conditions"),s.Sb(),s.Tb(21,"a",14),s.Ec(22,"Privacy"),s.Sb(),s.Tb(23,"span"),s.Ec(24),s.Sb(),s.Sb(),s.Sb()),2&e&&(s.jc("icon",t.config.icon)("smIcon",t.config.smIcon)("toggle",t.config.sidebar!==t.SidebarState.Hidden),s.Bb(2),s.jc("logoutRedirect",t.config.logoutRedirect)("menuItems",t.config.menuItems),s.Bb(3),s.jc("unit",t.unit)("direction","horizontal")("useTransition",t.useTransition)("ngClass",s.nc(15,N,t.collapsed||t.config.sidebar===t.SidebarState.Hidden))("gutterSize",t.collapsed?0:11),s.Bb(2),s.jc("size",t.config.sidebar===t.SidebarState.Hidden?0:t.sidebarSize)("maxSize",600)("ngClass",s.nc(17,L,t.collapsed||!t.config.noMargin)),s.Bb(3),s.jc("size",t.contentSize),s.Bb(14),s.Gc("v",t.version,""))},directives:[f,P,D.c,c.k,D.b],styles:['[_ngcontent-%COMP%]:root{--bg:#fff;--body-bg:#e4e5e6;--header-bg:#ebedef;--color:#4f5d73;--border-color:#c4c9d0;--wj-alt:#f7f7f7;--form-input-bg:#fff;--form-input-color:#768192;--nav-link-color:#8a93a2;--secondary-color:#c4c9d0;--opacity:0.05;--hover:"#f0f3f5"}[_nghost-%COMP%]{display:flex;flex-direction:column;max-height:100%;min-height:100vh}app-sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}app-environment[_ngcontent-%COMP%]{flex:0;width:100%}.app-header[_ngcontent-%COMP%]{border-color:var(--border-color)}app-header[_ngcontent-%COMP%]     .top-sub-header{color:var(--color);font-family:Calibri;font-size:19px;font-weight:600;text-decoration:none}app-header[_ngcontent-%COMP%]     .h2 span, app-header[_ngcontent-%COMP%]     h2 span{color:#386b99;font-weight:900}.c-body.as-horizontal.as-init[_ngcontent-%COMP%] >   .as-split-gutter{height:auto}footer[_ngcontent-%COMP%]{background:var(--bg);border-top:1px solid var(--border-color);color:var(--color);flex:0 0 25px}.terms-privacy[_ngcontent-%COMP%]{position:absolute;right:0}@media (max-width:991.98px){app-header[_ngcontent-%COMP%]     .top-sub-header{font-size:15px;width:auto}.c-header[_ngcontent-%COMP%]{min-height:auto}.app-header[_ngcontent-%COMP%]{background-color:var(--bg)}app-nav[_ngcontent-%COMP%]{width:25%}.terms-privacy[_ngcontent-%COMP%]{position:static}.app-body.collapsed[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{flex:0 0 100%!important}}']}),e}()},XoHu:function(e,t,n){"use strict";function i(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return i}))},YS7c:function(e,t,n){"use strict";var i=n("8/JR"),r=n("PzH3"),o=n("n6yW"),s=document,a=s.documentElement;function l(e,t,n,i){global.navigator.pointerEnabled?r[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[n],i):global.navigator.msPointerEnabled?r[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[n],i):(r[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[n],i),r[t](e,n,i))}function c(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function u(e){var t=e.getBoundingClientRect();return{left:t.left+h("scrollLeft","pageXOffset"),top:t.top+h("scrollTop","pageYOffset")}}function h(e,t){return void 0!==global[t]?global[t]:a.clientHeight?a[e]:s.body[e]}function d(e,t,n){var i,r=e||{},o=r.className;return r.className+=" gu-hide",i=s.elementFromPoint(t,n),r.className=o,i}function f(){return!1}function p(){return!0}function g(e){return e.width||e.right-e.left}function m(e){return e.height||e.bottom-e.top}function b(e){return e.parentNode===s?null:e.parentNode}function v(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(t){return!!t&&"false"!==t.contentEditable&&("true"===t.contentEditable||e(b(t)))}(e)}function y(e){return e.nextElementSibling||function(){var t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t}()}function _(e,t){var n=function(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}(t),i={pageX:"clientX",pageY:"clientY"};return e in i&&!(e in n)&&i[e]in n&&(e=i[e]),n[e]}e.exports=function(e,t){var n,h,w,C,S,O,T,k,x,E,j,A=arguments.length;1===A&&!1===Array.isArray(e)&&(t=e,e=[]);var I,M=null,P=t||{};void 0===P.moves&&(P.moves=p),void 0===P.accepts&&(P.accepts=p),void 0===P.invalid&&(P.invalid=K),void 0===P.containers&&(P.containers=e||[]),void 0===P.isContainer&&(P.isContainer=f),void 0===P.copy&&(P.copy=!1),void 0===P.copySortSource&&(P.copySortSource=!1),void 0===P.revertOnSpill&&(P.revertOnSpill=!1),void 0===P.removeOnSpill&&(P.removeOnSpill=!1),void 0===P.direction&&(P.direction="vertical"),void 0===P.ignoreInputTextSelection&&(P.ignoreInputTextSelection=!0),void 0===P.mirrorContainer&&(P.mirrorContainer=s.body);var D=i({containers:P.containers,start:W,end:q,cancel:Z,remove:Q,destroy:B,canMove:G,dragging:!1});return!0===P.removeOnSpill&&D.on("over",re).on("out",oe),N(),D;function R(e){return-1!==D.containers.indexOf(e)||P.isContainer(e)}function N(e){var t=e?"remove":"add";l(a,t,"mousedown",V),l(a,t,"mouseup",Y)}function L(e){l(a,e?"remove":"add","mousemove",$)}function F(e){var t=e?"remove":"add";r[t](a,"selectstart",H),r[t](a,"click",H)}function B(){N(!0),Y({})}function H(e){I&&e.preventDefault()}function V(e){if(O=e.clientX,T=e.clientY,1===c(e)&&!e.metaKey&&!e.ctrlKey){var t=e.target,n=z(t);n&&(I=n,L(),"mousedown"===e.type&&(v(t)?t.focus():e.preventDefault()))}}function $(e){if(I)if(0!==c(e)){if(void 0===e.clientX||e.clientX!==O||void 0===e.clientY||e.clientY!==T){if(P.ignoreInputTextSelection){var t=_("clientX",e),n=_("clientY",e);if(v(s.elementFromPoint(t,n)))return}var i=I;L(!0),F(),q(),U(i);var r=u(w);C=_("pageX",e)-r.left,S=_("pageY",e)-r.top,o.add(E||w,"gu-transit"),se(),ie(e)}}else Y({})}function z(e){if(!(D.dragging&&n||R(e))){for(var t=e;b(e)&&!1===R(b(e));){if(P.invalid(e,t))return;if(!(e=b(e)))return}var i=b(e);if(i&&!P.invalid(e,t)&&P.moves(e,i,t,y(e)))return{item:e,source:i}}}function G(e){return!!z(e)}function W(e){var t=z(e);t&&U(t)}function U(e){ue(e.item,e.source)&&(E=e.item.cloneNode(!0),D.emit("cloned",E,e.item,"copy")),h=e.source,w=e.item,k=x=y(e.item),D.dragging=!0,D.emit("drag",w,h)}function K(){return!1}function q(){if(D.dragging){var e=E||w;J(e,b(e))}}function X(){I=!1,L(!0),F(!0)}function Y(e){if(X(),D.dragging){var t=E||w,i=_("clientX",e),r=_("clientY",e),o=ne(d(n,i,r),i,r);o&&(E&&P.copySortSource||!E||o!==h)?J(t,o):P.removeOnSpill?Q():Z()}}function J(e,t){var n=b(e);E&&P.copySortSource&&t===h&&n.removeChild(w),te(t)?D.emit("cancel",e,h,h):D.emit("drop",e,t,h,x),ee()}function Q(){if(D.dragging){var e=E||w,t=b(e);t&&t.removeChild(e),D.emit(E?"cancel":"remove",e,t,h),ee()}}function Z(e){if(D.dragging){var t=arguments.length>0?e:P.revertOnSpill,n=E||w,i=b(n),r=te(i);!1===r&&t&&(E?i&&i.removeChild(E):h.insertBefore(n,k)),r||t?D.emit("cancel",n,h,h):D.emit("drop",n,i,h,x),ee()}}function ee(){var e=E||w;X(),ae(),e&&o.rm(e,"gu-transit"),j&&clearTimeout(j),D.dragging=!1,M&&D.emit("out",e,M,h),D.emit("dragend",e),h=w=E=k=x=j=M=null}function te(e,t){var i;return i=void 0!==t?t:n?x:y(E||w),e===h&&i===k}function ne(e,t,n){for(var i=e;i&&!r();)i=b(i);return i;function r(){if(!1===R(i))return!1;var r=le(i,e),o=ce(i,r,t,n);return!!te(i,o)||P.accepts(w,i,h,o)}}function ie(e){if(n){e.preventDefault();var t=_("clientX",e),i=_("clientY",e),r=i-S;n.style.left=t-C+"px",n.style.top=r+"px";var o=E||w,s=d(n,t,i),a=ne(s,t,i),l=null!==a&&a!==M;(l||null===a)&&(M&&p("out"),M=a,l&&p("over"));var c=b(o);if(a!==h||!E||P.copySortSource){var u,f=le(a,s);if(null!==f)u=ce(a,f,t,i);else{if(!0!==P.revertOnSpill||E)return void(E&&c&&c.removeChild(o));u=k,a=h}(null===u&&l||u!==o&&u!==y(o))&&(x=u,a.insertBefore(o,u),D.emit("shadow",o,a,h))}else c&&c.removeChild(o)}function p(e){D.emit(e,o,M,h)}}function re(e){o.rm(e,"gu-hide")}function oe(e){D.dragging&&o.add(e,"gu-hide")}function se(){if(!n){var e=w.getBoundingClientRect();(n=w.cloneNode(!0)).style.width=g(e)+"px",n.style.height=m(e)+"px",o.rm(n,"gu-transit"),o.add(n,"gu-mirror"),P.mirrorContainer.appendChild(n),l(a,"add","mousemove",ie),o.add(P.mirrorContainer,"gu-unselectable"),D.emit("cloned",n,w,"mirror")}}function ae(){n&&(o.rm(P.mirrorContainer,"gu-unselectable"),l(a,"remove","mousemove",ie),b(n).removeChild(n),n=null)}function le(e,t){for(var n=t;n!==e&&b(n)!==e;)n=b(n);return n===a?null:n}function ce(e,t,n,i){var r,o="horizontal"===P.direction;return t!==e?(r=t.getBoundingClientRect(),(o?n>r.left+g(r)/2:i>r.top+m(r)/2)?y(t):t):function(){var t,r,s,a=e.children.length;for(t=0;t<a;t++){if(s=(r=e.children[t]).getBoundingClientRect(),o&&s.left+s.width/2>n)return r;if(!o&&s.top+s.height/2>i)return r}return null}()}function ue(e,t){return"boolean"==typeof P.copy?P.copy:P.copy(e,t)}}},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("1OyB"),r=n("vuIU"),o=n("Ji7U"),s=n("LK+K"),a=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var o;return Object(i.a)(this,n),(o=t.call(this)).subject=e,o.subscriber=r,o.closed=!1,o}return Object(r.a)(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},Ys8N:function(e,t,n){"use strict";var i=[],r="",o=/^on/;for(r in global)o.test(r)&&i.push(r.slice(2));e.exports=i},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"ZF+8":function(e,t,n){"use strict";n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return r.a})),n.d(t,"d",(function(){return o.a})),n.d(t,"e",(function(){return s.a})),n.d(t,"f",(function(){return C})),n.d(t,"a",(function(){return k}));var i=n("H0VJ"),r=n("Ub3T"),o=n("rXEo"),s=n("9nlD"),a=n("mrSG"),l=n("UfhM"),c=n("TwVa"),u=n("JIr8"),h=n("eIep"),d=n("lJxs"),f=n("z6cu"),p=n("LRne"),g=n("XNiG"),m=n("AytR"),b=n("iFvM"),v=n("ztEp"),y=n("fXoL"),_=n("tk/3"),w=m.a.apiBaseUrl+"/sql-data-api",C=function(){function e(e,t){this.http=e,this.authService=t}return e.prototype.getMetaDataObject=function(e,t,n,i){void 0===i&&(i=c.DbObjectType.Table);var r=w+"/"+e+"/metadata/"+t+"."+n,o=["Fields","PrimaryKeys"];return i===c.DbObjectType.View?o.push("SqlText"):i===c.DbObjectType.Procedure&&(o=Object(a.g)(o,["SqlText","Params"])),r+="?loadingOptions="+o.join(","),this.http.get(r,this.authService.getHttpHeaders()).pipe(Object(u.a)((function(e){return Object(f.a)(e)})))},e.prototype.generateObject=function(e,t,n){var i=this,r=t.schemaName,o=t.objectName,s=w+"/"+e+"/metadata/"+(n=n||r+"."+o);return 0!==t.objectId?this.http.post(s,t,this.authService.getHttpHeaders()).pipe(Object(h.a)((function(n){return t.objectType===c.DbObjectType.View?i.getMetaDataObject(e,r,o,t.objectType):(t.objectId=n,Object(p.a)(t))}))):this.getObjects(e).pipe(Object(h.a)((function(e){return e.map((function(e){return""+e.schemaName+e.objectName})).includes(""+r.toLowerCase()+o)?Object(f.a)("Table name already exist."):i.http.post(s,t,i.authService.getHttpHeaders()).pipe(Object(d.a)((function(e){return t.objectId=e,t})))})))},e.prototype.deleteObject=function(e,t){return this.http.delete(w+"/"+e+"/metadata/"+t.schemaName+"."+t.objectName,this.authService.getHttpHeaders())},e.prototype.getObjects=function(e){return this.http.get(w+"/"+e+"/metadata-db-objects",this.authService.getHttpHeaders()).pipe(Object(u.a)((function(e){return Object(f.a)(e)})))},e.prototype.querySqlTableOrView$=function(e,t,n){if(!(null==e?void 0:e.length))throw new Error("connection name is empty");if(!(null==t?void 0:t.length))throw new Error("table view name is empty");var i=w+"/"+e+"/query/"+t,r=function(e){return e instanceof Date?Object(v.dateToString)(e):e},o=Object.assign({},n);if(o.filterParameters)for(var s=0,a=Object.keys(o.filterParameters);s<a.length;s++){var l=a[s],c=o.filterParameters[l];o.filterParameters[l]=Array.isArray(c)?c.map((function(e){return r(e)})):r(c)}return this.http.post(i,o,this.authService.getHttpHeaders()).pipe(Object(d.a)((function(e){return e.table})),Object(u.a)((function(e){return Object(f.a)(Object(b.l)(e,"Not found"))})))},e.prototype.selectSqlObjectData$=function(e,t,n,i){var r,o,s,a={select:null===(r=i.fields)||void 0===r?void 0:r.join(", "),orderBy:null===(s=null===(o=i.orderBy)||void 0===o?void 0:o.map((function(e){return e.fieldName+" "+e.direction})))||void 0===s?void 0:s.join(","),skip:i.skipRowsCount,top:i.limitRowsCount,mainTableAlias:i.mainTableAlias,tablesJoin:i.tablesJoin},l=i.filterString||"",c=i.filterParams||Object.create(null);if("object"==typeof i.filters)for(var u=0,h=0,d=i.filters||[];h<d.length;h++){var f=d[h],p="@p"+ ++u,g=i.filters.length>u?f.AndOr:"";0===u&&l&&(l+=" AND"),l+=" "+f.fieldName+" "+this.operationToString(f.operation)+" "+p+" "+g,c["p"+u]=this.scalarToPrimitive(f.value)}else"string"==typeof i.filters&&(a.filterString=i.filters);return l.length&&(a.filterString=l.trim(),a.filterParameters=c),this.querySqlTableOrView$(e,t+"."+n,a)},e.prototype.mergeInData$=function(e,t,n){var i=w+"/"+e+"/save/"+t,r=new g.a;return this.saveSqlObjectBatchData(i,n,r).subscribe((function(){return r.complete()}),(function(e){return r.error(e)})),r},e.prototype.executeQuery=function(e,t){return this.http.post(w+"/"+e+"/execute",t,this.authService.getHttpHeaders())},e.prototype.scalarToPrimitive=function(e){var t=this;return Array.isArray(e)?e.map((function(e){return t.scalarToPrimitive(e)})):e instanceof Date?Object(v.dateToString)(e):e},e.prototype.operationToString=function(e){switch(e){case c.Operation.In:return"in";case c.Operation.NotIn:return"not in";case c.Operation.Equal:return"=";case c.Operation.NotEqual:return"!=";case c.Operation.GreaterThan:return">";case c.Operation.GreaterOrEqual:return">=";case c.Operation.LessThan:return"<";case c.Operation.LessOrEqual:return"<=";case c.Operation.Like:return"like";case c.Operation.NotLike:return"not like";default:throw new Error("Unknown operation "+e)}},e.prototype.saveSqlObjectBatchData=function(e,t,n,i,r){var o,s=this;void 0===i&&(i=0),void 0===r&&(r={inserted:0,updated:0,deleted:0,itemsToSaveCount:0,savedItemsCount:0});for(var l=[],c=(null===(o=t.tableData)||void 0===o?void 0:o.rows)||[],u=i,d=0,f=1e4+i;u<f&&d<15e5&&u<c.length;)l.push(c[u]),d+=JSON.stringify(c[u]).length,u++;var g,m=t.itemsToDelete;return m&&m.length>f&&(m=t.itemsToDelete.slice(u,f)),l.length&&(g=Object(a.a)(Object(a.a)({},t.tableData),{rows:l})),this.http.post(e,{tableData:g,itemsToDelete:m},this.authService.getHttpHeaders()).pipe(Object(h.a)((function(i){return r.inserted+=i.inserted,r.updated+=i.updated,r.deleted+=i.deleted,r.savedItemsCount=u,r.itemsToSaveCount=c.length,n&&n.next(r),u<c.length?s.saveSqlObjectBatchData(e,t,n,u,r):Object(p.a)(r)})))},e.\u0275fac=function(t){return new(t||e)(y.Xb(_.a),y.Xb(l.a))},e.\u0275prov=y.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),S=(n("L5rO"),n("vkgz")),O=n("2Vo4"),T=m.a.apiBaseUrl+"/api/sql",k=function(){function e(e,t){var n=this;this.http=e,this.authService=t,this._myConnections=new g.a,this.myConnections$=this._myConnections.asObservable(),this._serverHosts=new O.a([]),this.serverHosts$=this._serverHosts.asObservable(),this.authService.isAuthenticated$.pipe(Object(u.a)((function(e){return Object(p.a)(!1)}))).subscribe((function(e){return Object(a.b)(n,void 0,void 0,(function(){return Object(a.e)(this,(function(t){return e||(this._myConnections.next([]),this._serverHosts.next([])),[2]}))}))}))}return e.prototype.loadMyDbConnections=function(){var e=this;return this.http.get(T+"/my-db-connections",this.authService.getHttpHeaders()).pipe(Object(S.a)((function(t){return e._myConnections.next(t)})))},e.prototype.loadServerHosts=function(){var e=this;return this.http.get(T+"/schema-hosts",this.authService.getHttpHeaders()).pipe(Object(S.a)((function(t){return e._serverHosts.next(t)})))},e.prototype.saveDbConnection=function(e){var t=this;return this.http.post(T+"/db-connection",e,this.authService.getHttpHeaders()).pipe(Object(S.a)((function(){return t.loadMyDbConnections().toPromise()})))},e.prototype.getDbConnection=function(e){return this.http.get(T+"/db-connection/"+e,this.authService.getHttpHeaders())},e.prototype.deleteDbConnection=function(e){var t=this;return this.http.delete(T+"/db-connection/"+e,this.authService.getHttpHeaders()).pipe(Object(S.a)((function(){return t.loadMyDbConnections().toPromise()})))},e.prototype.getPermissions=function(e){return this.http.get(T+"/db-connection/permissions/"+e,this.authService.getHttpHeaders())},e.prototype.grantPermission=function(e){return this.http.post(T+"/db-connection/grant-permission",e,this.authService.getHttpHeaders())},e.prototype.removePermission=function(e,t){return this.http.delete(T+"/db-connection/remove-permission/"+e+"/"+t,this.authService.getHttpHeaders())},e.\u0275fac=function(t){return new(t||e)(y.Xb(_.a),y.Xb(l.a))},e.\u0275prov=y.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},ZOsW:function(e,t,n){"use strict";n.d(t,"a",(function(){return qe})),n.d(t,"b",(function(){return Je})),n.d(t,"c",(function(){return Te})),n.d(t,"d",(function(){return xe}));var i=n("rePB"),r=n("ODXe"),o=n("uFwe"),s=n("KQm4"),a=n("1OyB"),l=n("vuIU"),c=n("fXoL"),u=n("3Pt+"),h=n("1G5W"),d=n("3UWI"),f=n("JX91"),p=n("vkgz"),g=n("Kj3r"),m=n("pLZG"),b=n("lJxs"),v=n("eNwd"),y=n("ReuC"),_=n("foSv"),w=n("Ji7U"),C=n("LK+K"),S=1,O=function(){return Promise.resolve()}(),T={};function k(e){return e in T&&(delete T[e],!0)}var x=function(e){var t=S++;return T[t]=!0,O.then((function(){return k(t)&&e()})),t},E=function(e){k(e)},j=function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(e,i){var r;return Object(a.a)(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return Object(l.a)(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?Object(y.a)(Object(_.a)(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=x(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return Object(y.a)(Object(_.a)(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(E(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),A=new(function(e){Object(w.a)(n,e);var t=Object(C.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(j),I=n("XNiG"),M=n("xgIS"),P=n("VRyK"),D=n("ofXK"),R=["content"],N=["scroll"],L=["padding"],F=function(e){return{searchTerm:e}};function B(e,t){if(1&e&&(c.Tb(0,"div",6),c.Pb(1,7),c.Sb()),2&e){var n=c.dc();c.Bb(1),c.jc("ngTemplateOutlet",n.headerTemplate)("ngTemplateOutletContext",c.nc(2,F,n.filterValue))}}function H(e,t){if(1&e&&(c.Tb(0,"div",8),c.Pb(1,7),c.Sb()),2&e){var n=c.dc();c.Bb(1),c.jc("ngTemplateOutlet",n.footerTemplate)("ngTemplateOutletContext",c.nc(2,F,n.filterValue))}}var V=["*"],$=["searchInput"];function z(e,t){if(1&e){var n=c.Ub();c.Tb(0,"span",15),c.bc("click",(function(){c.vc(n);var e=c.dc().$implicit;return c.dc(2).unselect(e)})),c.Ec(1,"\xd7"),c.Sb(),c.Ob(2,"span",16)}if(2&e){var i=c.dc().$implicit,r=c.dc(2);c.Bb(2),c.jc("ngItemLabel",i.label)("escape",r.escapeHTML)}}function G(e,t){}var W=function(e,t,n){return{item:e,clear:t,label:n}};function U(e,t){if(1&e&&(c.Tb(0,"div",12),c.Cc(1,z,3,2,"ng-template",null,13,c.Dc),c.Cc(3,G,0,0,"ng-template",14),c.Sb()),2&e){var n=t.$implicit,i=c.sc(2),r=c.dc(2);c.Fb("ng-value-disabled",n.disabled),c.Bb(3),c.jc("ngTemplateOutlet",r.labelTemplate||i)("ngTemplateOutletContext",c.pc(4,W,n.value,r.clearItem,n.label))}}function K(e,t){if(1&e&&(c.Rb(0),c.Cc(1,U,4,8,"div",11),c.Qb()),2&e){var n=c.dc();c.Bb(1),c.jc("ngForOf",n.selectedItems)("ngForTrackBy",n.trackByOption)}}function q(e,t){}var X=function(e,t){return{items:e,clear:t}};function Y(e,t){if(1&e&&c.Cc(0,q,0,0,"ng-template",14),2&e){var n=c.dc();c.jc("ngTemplateOutlet",n.multiLabelTemplate)("ngTemplateOutletContext",c.oc(2,X,n.selectedValues,n.clearItem))}}function J(e,t){1&e&&c.Ob(0,"div",19)}function Q(e,t){}function Z(e,t){if(1&e&&(c.Rb(0),c.Cc(1,J,1,0,"ng-template",null,17,c.Dc),c.Cc(3,Q,0,0,"ng-template",18),c.Qb()),2&e){var n=c.sc(2),i=c.dc();c.Bb(3),c.jc("ngTemplateOutlet",i.loadingSpinnerTemplate||n)}}function ee(e,t){if(1&e&&(c.Tb(0,"span",20),c.Tb(1,"span",21),c.Ec(2,"\xd7"),c.Sb(),c.Sb()),2&e){var n=c.dc();c.kc("title",n.clearAllText)}}function te(e,t){if(1&e&&c.Ob(0,"span",27),2&e){var n=c.dc().$implicit,i=c.dc(2);c.jc("ngItemLabel",n.label)("escape",i.escapeHTML)}}function ne(e,t){}var ie=function(e,t,n,i){return{item:e,item$:t,index:n,searchTerm:i}};function re(e,t){if(1&e){var n=c.Ub();c.Tb(0,"div",25),c.bc("click",(function(){c.vc(n);var e=t.$implicit;return c.dc(2).toggleItem(e)}))("mouseover",(function(){c.vc(n);var e=t.$implicit;return c.dc(2).onItemHover(e)})),c.Cc(1,te,1,2,"ng-template",null,26,c.Dc),c.Cc(3,ne,0,0,"ng-template",14),c.Sb()}if(2&e){var i=t.$implicit,r=c.sc(2),o=c.dc(2);c.Fb("ng-option-disabled",i.disabled)("ng-option-selected",i.selected)("ng-optgroup",i.children)("ng-option",!i.children)("ng-option-child",!!i.parent)("ng-option-marked",i===o.itemsList.markedItem),c.Cb("role",i.children?"group":"option")("aria-selected",i.selected)("id",null==i?null:i.htmlId),c.Bb(3),c.jc("ngTemplateOutlet",i.children?o.optgroupTemplate||r:o.optionTemplate||r)("ngTemplateOutletContext",c.qc(17,ie,i.value,i,i.index,o.searchTerm))}}function oe(e,t){if(1&e&&(c.Tb(0,"span"),c.Tb(1,"span",30),c.Ec(2),c.Sb(),c.Ec(3),c.Sb()),2&e){var n=c.dc(3);c.Bb(2),c.Fc(n.addTagText),c.Bb(1),c.Gc('"',n.searchTerm,'"')}}function se(e,t){}function ae(e,t){if(1&e){var n=c.Ub();c.Tb(0,"div",28),c.bc("mouseover",(function(){return c.vc(n),c.dc(2).itemsList.unmarkItem()}))("click",(function(){return c.vc(n),c.dc(2).selectTag()})),c.Cc(1,oe,4,2,"ng-template",null,29,c.Dc),c.Cc(3,se,0,0,"ng-template",14),c.Sb()}if(2&e){var i=c.sc(2),r=c.dc(2);c.Fb("ng-option-marked",!r.itemsList.markedItem),c.Bb(3),c.jc("ngTemplateOutlet",r.tagTemplate||i)("ngTemplateOutletContext",c.nc(4,F,r.searchTerm))}}function le(e,t){if(1&e&&(c.Tb(0,"div",32),c.Ec(1),c.Sb()),2&e){var n=c.dc(3);c.Bb(1),c.Fc(n.notFoundText)}}function ce(e,t){}function ue(e,t){if(1&e&&(c.Rb(0),c.Cc(1,le,2,1,"ng-template",null,31,c.Dc),c.Cc(3,ce,0,0,"ng-template",14),c.Qb()),2&e){var n=c.sc(2),i=c.dc(2);c.Bb(3),c.jc("ngTemplateOutlet",i.notFoundTemplate||n)("ngTemplateOutletContext",c.nc(2,F,i.searchTerm))}}function he(e,t){if(1&e&&(c.Tb(0,"div",32),c.Ec(1),c.Sb()),2&e){var n=c.dc(3);c.Bb(1),c.Fc(n.typeToSearchText)}}function de(e,t){}function fe(e,t){if(1&e&&(c.Rb(0),c.Cc(1,he,2,1,"ng-template",null,33,c.Dc),c.Cc(3,de,0,0,"ng-template",18),c.Qb()),2&e){var n=c.sc(2),i=c.dc(2);c.Bb(3),c.jc("ngTemplateOutlet",i.typeToSearchTemplate||n)}}function pe(e,t){if(1&e&&(c.Tb(0,"div",32),c.Ec(1),c.Sb()),2&e){var n=c.dc(3);c.Bb(1),c.Fc(n.loadingText)}}function ge(e,t){}function me(e,t){if(1&e&&(c.Rb(0),c.Cc(1,pe,2,1,"ng-template",null,34,c.Dc),c.Cc(3,ge,0,0,"ng-template",14),c.Qb()),2&e){var n=c.sc(2),i=c.dc(2);c.Bb(3),c.jc("ngTemplateOutlet",i.loadingTextTemplate||n)("ngTemplateOutletContext",c.nc(2,F,i.searchTerm))}}function be(e,t){if(1&e){var n=c.Ub();c.Tb(0,"ng-dropdown-panel",22),c.bc("update",(function(e){return c.vc(n),c.dc().viewPortItems=e}))("scroll",(function(e){return c.vc(n),c.dc().scroll.emit(e)}))("scrollToEnd",(function(e){return c.vc(n),c.dc().scrollToEnd.emit(e)}))("outsideClick",(function(){return c.vc(n),c.dc().close()})),c.Rb(1),c.Cc(2,re,4,22,"div",23),c.Cc(3,ae,4,6,"div",24),c.Qb(),c.Cc(4,ue,4,4,"ng-container",3),c.Cc(5,fe,4,1,"ng-container",3),c.Cc(6,me,4,4,"ng-container",3),c.Sb()}if(2&e){var i=c.dc();c.Fb("ng-select-multiple",i.multiple),c.jc("virtualScroll",i.virtualScroll)("bufferAmount",i.bufferAmount)("appendTo",i.appendTo)("position",i.dropdownPosition)("headerTemplate",i.headerTemplate)("footerTemplate",i.footerTemplate)("filterValue",i.searchTerm)("items",i.itemsList.filteredItems)("markedItem",i.itemsList.markedItem)("ngClass",i.appendTo?i.classes:null)("id",i.dropdownId),c.Bb(2),c.jc("ngForOf",i.viewPortItems)("ngForTrackBy",i.trackByOption),c.Bb(1),c.jc("ngIf",i.showAddTag),c.Bb(1),c.jc("ngIf",i.showNoItemsFound()),c.Bb(1),c.jc("ngIf",i.showTypeToSearch()),c.Bb(1),c.jc("ngIf",i.loading&&0===i.itemsList.filteredItems.length)}}var ve=/[&<>"']/g,ye=RegExp(ve.source),_e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function we(e){return null!=e}function Ce(e){return"object"==typeof e&&we(e)}function Se(e){return e instanceof Function}var Oe=function(){var e=function(){function e(t){Object(a.a)(this,e),this.element=t,this.escape=!0}return Object(l.a)(e,[{key:"ngOnChanges",value:function(e){var t;this.element.nativeElement.innerHTML=this.escape?(t=this.ngItemLabel)&&ye.test(t)?t.replace(ve,(function(e){return _e[e]})):t:this.ngItemLabel}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.n))},e.\u0275dir=c.Ib({type:e,selectors:[["","ngItemLabel",""]],inputs:{escape:"escape",ngItemLabel:"ngItemLabel"},features:[c.zb]}),e}(),Te=function(){var e=function e(t){Object(a.a)(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.N))},e.\u0275dir=c.Ib({type:e,selectors:[["","ng-option-tmp",""]]}),e}(),ke=function(){var e=function e(t){Object(a.a)(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.N))},e.\u0275dir=c.Ib({type:e,selectors:[["","ng-optgroup-tmp",""]]}),e}(),xe=function(){var e=function e(t){Object(a.a)(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.N))},e.\u0275dir=c.Ib({type:e,selectors:[["","ng-label-tmp",""]]}),e}(),Ee=function(){var e=function e(t){Object(a.a)(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.N))},e.\u0275dir=c.Ib({type:e,selectors:[["","ng-multi-label-tmp",""]]}),e}(),je=function(){var e=function e(t){Object(a.a)(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.N))},e.\u0275dir=c.Ib({type:e,selectors:[["","ng-header-tmp",""]]}),e}(),Ae=function(){var e=function e(t){Object(a.a)(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.N))},e.\u0275dir=c.Ib({type:e,selectors:[["","ng-footer-tmp",""]]}),e}(),Ie=function(){var e=function e(t){Object(a.a)(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.N))},e.\u0275dir=c.Ib({type:e,selectors:[["","ng-notfound-tmp",""]]}),e}(),Me=function(){var e=function e(t){Object(a.a)(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.N))},e.\u0275dir=c.Ib({type:e,selectors:[["","ng-typetosearch-tmp",""]]}),e}(),Pe=function(){var e=function e(t){Object(a.a)(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.N))},e.\u0275dir=c.Ib({type:e,selectors:[["","ng-loadingtext-tmp",""]]}),e}(),De=function(){var e=function e(t){Object(a.a)(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.N))},e.\u0275dir=c.Ib({type:e,selectors:[["","ng-tag-tmp",""]]}),e}(),Re=function(){var e=function e(t){Object(a.a)(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.N))},e.\u0275dir=c.Ib({type:e,selectors:[["","ng-loadingspinner-tmp",""]]}),e}(),Ne=function(){var e=function(){function e(){Object(a.a)(this,e)}return Object(l.a)(e,[{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(c.Jb)({factory:function(){return new e},token:e,providedIn:"root"}),e}();function Le(){return"axxxxxxxxxxx".replace(/[x]/g,(function(e){return(16*Math.random()|0).toString(16)}))}var Fe={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};function Be(e){return e.replace(/[^\u0000-\u007E]/g,(function(e){return Fe[e]||e}))}var He=function(){function e(t,n){Object(a.a)(this,e),this._ngSelect=t,this._selectionModel=n,this._items=[],this._filteredItems=[],this._markedIndex=-1}return Object(l.a)(e,[{key:"setItems",value:function(e){var t=this;this._items=e.map((function(e,n){return t.mapItem(e,n)})),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=Object(s.a)(this._items)}},{key:"select",value:function(e){if(!e.selected&&!this.maxItemsSelected){var t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(e,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(e)}}},{key:"unselect",value:function(e){e.selected&&(this._selectionModel.unselect(e,this._ngSelect.multiple),this._ngSelect.hideSelected&&we(e.index)&&this._ngSelect.multiple&&this._showSelected(e))}},{key:"findItem",value:function(e){var t,n=this;return t=this._ngSelect.compareWith?function(t){return n._ngSelect.compareWith(t.value,e)}:this._ngSelect.bindValue?function(t){return!t.children&&n.resolveNested(t.value,n._ngSelect.bindValue)===e}:function(t){return t.value===e||!t.children&&t.label&&t.label===n.resolveNested(e,n._ngSelect.bindLabel)},this._items.find((function(e){return t(e)}))}},{key:"addItem",value:function(e){var t=this.mapItem(e,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}},{key:"clearSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._selectionModel.clear(e),this._items.forEach((function(t){t.selected=e&&t.selected&&t.disabled,t.marked=!1})),this._ngSelect.hideSelected&&this.resetFilteredItems()}},{key:"findByLabel",value:function(e){return e=Be(e).toLocaleLowerCase(),this.filteredItems.find((function(t){return Be(t.label).toLocaleLowerCase().substr(0,e.length)===e}))}},{key:"filter",value:function(e){var t=this;if(e){this._filteredItems=[],e=this._ngSelect.searchFn?e:Be(e).toLocaleLowerCase();for(var n=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected,s=0,a=Array.from(this._groups.keys());s<a.length;s++){var l,c=a[s],u=[],h=Object(o.a)(this._groups.get(c));try{for(h.s();!(l=h.n()).done;){var d=l.value;i&&(d.parent&&d.parent.selected||d.selected)||n(e,this._ngSelect.searchFn?d.value:d)&&u.push(d)}}catch(f){h.e(f)}finally{h.f()}u.length>0&&function(){var e,n=u.slice(-1),i=Object(r.a)(n,1)[0];if(i.parent){var o=t._items.find((function(e){return e===i.parent}));t._filteredItems.push(o)}(e=t._filteredItems).push.apply(e,u)}()}}else this.resetFilteredItems()}},{key:"resetFilteredItems",value:function(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter((function(e){return!e.selected})):this._items)}},{key:"unmarkItem",value:function(){this._markedIndex=-1}},{key:"markNextItem",value:function(){this._stepToItem(1)}},{key:"markPreviousItem",value:function(){this._stepToItem(-1)}},{key:"markItem",value:function(e){this._markedIndex=this._filteredItems.indexOf(e)}},{key:"markSelectedOrDefault",value:function(e){if(0!==this._filteredItems.length){var t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:e?this.filteredItems.findIndex((function(e){return!e.disabled})):-1}}},{key:"resolveNested",value:function(e,t){if(!Ce(e))return e;if(-1===t.indexOf("."))return e[t];for(var n=t.split("."),i=e,r=0,o=n.length;r<o;++r){if(null==i)return null;i=i[n[r]]}return i}},{key:"mapItem",value:function(e,t){var n=we(e.$ngOptionLabel)?e.$ngOptionLabel:this.resolveNested(e,this._ngSelect.bindLabel),i=we(e.$ngOptionValue)?e.$ngOptionValue:e;return{index:t,label:we(n)?n.toString():"",value:i,disabled:e.disabled,htmlId:"".concat(this._ngSelect.dropdownId,"-").concat(t)}}},{key:"mapSelectedItems",value:function(){var e,t=this,n=this._ngSelect.multiple,i=Object(o.a)(this.selectedItems);try{for(i.s();!(e=i.n()).done;){var r=e.value,s=this._ngSelect.bindValue?this.resolveNested(r.value,this._ngSelect.bindValue):r.value,a=we(s)?this.findItem(s):null;this._selectionModel.unselect(r,n),this._selectionModel.select(a||r,n,this._ngSelect.selectableGroupAsModel)}}catch(l){i.e(l)}finally{i.f()}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter((function(e){return-1===t.selectedItems.indexOf(e)})))}},{key:"_showSelected",value:function(e){if(this._filteredItems.push(e),e.parent){var t=e.parent;this._filteredItems.find((function(e){return e===t}))||this._filteredItems.push(t)}else if(e.children){var n,i=Object(o.a)(e.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.selected=!1,this._filteredItems.push(r)}}catch(a){i.e(a)}finally{i.f()}}this._filteredItems=Object(s.a)(this._filteredItems.sort((function(e,t){return e.index-t.index})))}},{key:"_hideSelected",value:function(e){this._filteredItems=this._filteredItems.filter((function(t){return t!==e})),e.parent?e.parent.children.every((function(e){return e.selected}))&&(this._filteredItems=this._filteredItems.filter((function(t){return t!==e.parent}))):e.children&&(this._filteredItems=this.filteredItems.filter((function(t){return t.parent!==e})))}},{key:"_defaultSearchFn",value:function(e,t){return Be(t.label).toLocaleLowerCase().indexOf(e)>-1}},{key:"_getNextItemIndex",value:function(e){return e>0?this._markedIndex===this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}},{key:"_stepToItem",value:function(e){0===this._filteredItems.length||this._filteredItems.every((function(e){return e.disabled}))||(this._markedIndex=this._getNextItemIndex(e),this.markedItem.disabled&&this._stepToItem(e))}},{key:"_getLastMarkedIndex",value:function(){if(this._ngSelect.hideSelected)return-1;if(this._markedIndex>-1&&void 0===this.markedItem)return-1;var e=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&e<0?-1:Math.max(this.markedIndex,e)}},{key:"_groupBy",value:function(e,t){var n=this,i=new Map;if(0===e.length)return i;if(Array.isArray(e[0].value[t])){var r,s=Object(o.a)(e);try{for(s.s();!(r=s.n()).done;){var a=r.value,l=(a.value[t]||[]).map((function(e,t){return n.mapItem(e,t)}));i.set(a,l)}}catch(m){s.e(m)}finally{s.f()}return i}var c,u=Se(this._ngSelect.groupBy),h=function(e){var n=u?t(e.value):e.value[t];return we(n)?n:void 0},d=Object(o.a)(e);try{for(d.s();!(c=d.n()).done;){var f=c.value,p=h(f),g=i.get(p);g?g.push(f):i.set(p,[f])}}catch(m){d.e(m)}finally{d.f()}return i}},{key:"_flatten",value:function(e){for(var t=this,n=Se(this._ngSelect.groupBy),r=[],o=function(){var o=l[a],c=r.length;if(void 0===o){var u=e.get(void 0)||[];return r.push.apply(r,Object(s.a)(u.map((function(e){return Object.assign(Object.assign({},e),{index:c++})})))),"continue"}var h=Ce(o),d={label:h?"":String(o),children:void 0,parent:null,index:c++,disabled:!t._ngSelect.selectableGroup,htmlId:Le()},f=n?t._ngSelect.bindLabel:t._ngSelect.groupBy,p=t._ngSelect.groupValue||function(){return h?o.value:Object(i.a)({},f,o)},g=e.get(o).map((function(e){return e.parent=d,e.children=void 0,e.index=c++,e}));d.children=g,d.value=p(o,g.map((function(e){return e.value}))),r.push(d),r.push.apply(r,Object(s.a)(g))},a=0,l=Array.from(e.keys());a<l.length;a++)o();return r}},{key:"items",get:function(){return this._items}},{key:"filteredItems",get:function(){return this._filteredItems}},{key:"markedIndex",get:function(){return this._markedIndex}},{key:"selectedItems",get:function(){return this._selectionModel.value}},{key:"markedItem",get:function(){return this._filteredItems[this._markedIndex]}},{key:"noItemsToSelect",get:function(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}},{key:"maxItemsSelected",get:function(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}},{key:"lastSelectedItem",get:function(){for(var e=this.selectedItems.length-1;e>=0;e--){var t=this.selectedItems[e];if(!t.disabled)return t}return null}}]),e}(),Ve=function(){var e={Tab:9,Enter:13,Esc:27,Space:32,ArrowUp:38,ArrowDown:40,Backspace:8};return e[e.Tab]="Tab",e[e.Enter]="Enter",e[e.Esc]="Esc",e[e.Space]="Space",e[e.ArrowUp]="ArrowUp",e[e.ArrowDown]="ArrowDown",e[e.Backspace]="Backspace",e}(),$e=function(){var e=function(){function e(){Object(a.a)(this,e),this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}return Object(l.a)(e,[{key:"calculateItems",value:function(e,t,n){var i=this._dimensions,r=i.itemHeight*t,o=Math.max(0,e)/r*t,s=Math.min(t,Math.ceil(o)+(i.itemsPerViewport+1)),a=Math.max(0,s-i.itemsPerViewport),l=Math.min(a,Math.floor(o)),c=i.itemHeight*Math.ceil(l)-i.itemHeight*Math.min(l,n);return c=isNaN(c)?0:c,l=isNaN(l)?-1:l,s=isNaN(s)?-1:s,l-=n,s+=n,{topPadding:c,scrollHeight:r,start:l=Math.max(0,l),end:s=Math.min(t,s)}}},{key:"setDimensions",value:function(e,t){var n=Math.max(1,Math.floor(t/e));this._dimensions={itemHeight:e,panelHeight:t,itemsPerViewport:n}}},{key:"getScrollTo",value:function(e,t,n){var i=this.dimensions.panelHeight,r=e+t,o=n+i;return i>=r&&n===e?null:r>o?n+r-o:e<=n?e:null}},{key:"dimensions",get:function(){return this._dimensions}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac}),e}(),ze="undefined"!=typeof requestAnimationFrame?v.a:A,Ge=function(){var e=function(){function e(t,n,i,r,o){Object(a.a)(this,e),this._renderer=t,this._zone=n,this._panelService=i,this._document=o,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new c.p,this.scroll=new c.p,this.scrollToEnd=new c.p,this.outsideClick=new c.p,this._destroy$=new I.a,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=r.nativeElement}return Object(l.a)(e,[{key:"handleMousedown",value:function(e){"INPUT"!==e.target.tagName&&e.preventDefault()}},{key:"ngOnInit",value:function(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown()}},{key:"ngOnChanges",value:function(e){if(e.items){var t=e.items;this._onItemsChange(t.currentValue,t.firstChange)}}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=this.items.indexOf(e);if(!(n<0||n>=this.itemsLength)){var i;if(this.virtualScroll){var r=this._panelService.dimensions.itemHeight;i=this._panelService.getScrollTo(n*r,r,this._lastScrollPosition)}else{var o=this._dropdown.querySelector("#".concat(e.htmlId)),s=t?o.offsetTop:this._lastScrollPosition;i=this._panelService.getScrollTo(o.offsetTop,o.clientHeight,s)}we(i)&&(this._scrollablePanel.scrollTop=i)}}}},{key:"scrollToTag",value:function(){var e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}},{key:"adjustPosition",value:function(){var e=this._parent.getBoundingClientRect(),t=this._select.getBoundingClientRect();this._setOffset(e,t)}},{key:"_handleDropdownPosition",value:function(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),"top"===this._currentPosition?(this._renderer.addClass(this._dropdown,"ng-select-top"),this._renderer.removeClass(this._dropdown,"ng-select-bottom"),this._renderer.addClass(this._select,"ng-select-top"),this._renderer.removeClass(this._select,"ng-select-bottom")):(this._renderer.addClass(this._dropdown,"ng-select-bottom"),this._renderer.removeClass(this._dropdown,"ng-select-top"),this._renderer.addClass(this._select,"ng-select-bottom"),this._renderer.removeClass(this._select,"ng-select-top")),this.appendTo&&this._updatePosition(),this._dropdown.style.opacity="1"}},{key:"_handleScroll",value:function(){var e=this;this._zone.runOutsideAngular((function(){Object(M.a)(e.scrollElementRef.nativeElement,"scroll").pipe(Object(h.a)(e._destroy$),Object(d.a)(0,ze)).subscribe((function(t){return e._onContentScrolled(t.target.scrollTop)}))}))}},{key:"_handleOutsideClick",value:function(){var e=this;this._document&&this._zone.runOutsideAngular((function(){Object(P.a)(Object(M.a)(e._document,"touchstart",{capture:!0}),Object(M.a)(e._document,"mousedown",{capture:!0})).pipe(Object(h.a)(e._destroy$)).subscribe((function(t){return e._checkToClose(t)}))}))}},{key:"_checkToClose",value:function(e){var t=this;if(!this._select.contains(e.target)&&!this._dropdown.contains(e.target)){var n=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&n&&n[0]&&this._select.contains(n[0])||this._zone.run((function(){return t.outsideClick.emit()}))}}},{key:"_onItemsChange",value:function(e,t){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(t):this._updateItems(t)}},{key:"_updateItems",value:function(e){var t=this;this.update.emit(this.items),!1!==e&&this._zone.runOutsideAngular((function(){Promise.resolve().then((function(){t._panelService.setDimensions(0,t._scrollablePanel.clientHeight),t._handleDropdownPosition(),t.scrollTo(t.markedItem,e)}))}))}},{key:"_updateItemsRange",value:function(e){var t=this;this._zone.runOutsideAngular((function(){t._measureDimensions().then((function(){e?(t._renderItemsRange(t._startOffset),t._handleDropdownPosition()):t._renderItemsRange()}))}))}},{key:"_onContentScrolled",value:function(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}},{key:"_updateVirtualHeight",value:function(e){this._updateScrollHeight&&(this._virtualPadding.style.height="".concat(e,"px"),this._updateScrollHeight=!1)}},{key:"_onItemsLengthChanged",value:function(){this._updateScrollHeight=!0}},{key:"_renderItemsRange",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!t||this._lastScrollPosition!==t){var n=this._panelService.calculateItems(t=t||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(n.scrollHeight),this._contentPanel.style.transform="translateY(".concat(n.topPadding,"px)"),this._zone.run((function(){e.update.emit(e.items.slice(n.start,n.end)),e.scroll.emit({start:n.start,end:n.end})})),we(t)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=t,this._lastScrollPosition=t)}}},{key:"_measureDimensions",value:function(){var e=this;if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);var t=Object(r.a)(this.items,1)[0];return this.update.emit([t]),Promise.resolve().then((function(){var n=e._dropdown.querySelector("#".concat(t.htmlId)).clientHeight;return e._virtualPadding.style.height="".concat(n*e.itemsLength,"px"),e._panelService.setDimensions(n,e._scrollablePanel.clientHeight),e._panelService.dimensions}))}},{key:"_fireScrollToEnd",value:function(e){var t=this;this._scrollToEndFired||0===e||e+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight&&(this._zone.run((function(){return t.scrollToEnd.emit()})),this._scrollToEndFired=!0)}},{key:"_calculateCurrentPosition",value:function(e){if("auto"!==this.position)return this.position;var t=this._select.getBoundingClientRect(),n=document.documentElement.scrollTop||document.body.scrollTop;return t.top+window.pageYOffset+t.height+e.getBoundingClientRect().height>n+document.documentElement.clientHeight?"top":"bottom"}},{key:"_appendDropdown",value:function(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error("appendTo selector ".concat(this.appendTo," did not found any parent element"));this._parent.appendChild(this._dropdown)}}},{key:"_updatePosition",value:function(){var e=this._select.getBoundingClientRect(),t=this._parent.getBoundingClientRect(),n=e.left-t.left;this._setOffset(t,e),this._dropdown.style.left=n+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}},{key:"_setOffset",value:function(e,t){var n=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=e.bottom-t.bottom+n+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-e.top+n+"px",this._dropdown.style.bottom="auto")}},{key:"currentPosition",get:function(){return this._currentPosition}},{key:"itemsLength",get:function(){return this._itemsLength},set:function(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}},{key:"_startOffset",get:function(){if(this.markedItem){var e=this._panelService.dimensions,t=this.markedItem.index*e.itemHeight;return e.panelHeight>t?0:t}return 0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.G),c.Nb(c.C),c.Nb($e),c.Nb(c.n),c.Nb(D.d,8))},e.\u0275cmp=c.Hb({type:e,selectors:[["ng-dropdown-panel"]],viewQuery:function(e,t){var n;1&e&&(c.Ac(R,!0,c.n),c.Ac(N,!0,c.n),c.Ac(L,!0,c.n)),2&e&&(c.rc(n=c.cc())&&(t.contentElementRef=n.first),c.rc(n=c.cc())&&(t.scrollElementRef=n.first),c.rc(n=c.cc())&&(t.paddingElementRef=n.first))},hostBindings:function(e,t){1&e&&c.bc("mousedown",(function(e){return t.handleMousedown(e)}))},inputs:{items:"items",position:"position",virtualScroll:"virtualScroll",filterValue:"filterValue",markedItem:"markedItem",appendTo:"appendTo",bufferAmount:"bufferAmount",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[c.zb],ngContentSelectors:V,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(e,t){1&e&&(c.ic(),c.Cc(0,B,2,4,"div",0),c.Tb(1,"div",1,2),c.Ob(3,"div",null,3),c.Tb(5,"div",null,4),c.hc(7),c.Sb(),c.Sb(),c.Cc(8,H,2,4,"div",5)),2&e&&(c.jc("ngIf",t.headerTemplate),c.Bb(3),c.Fb("total-padding",t.virtualScroll),c.Bb(2),c.Fb("scrollable-content",t.virtualScroll&&t.items.length),c.Bb(3),c.jc("ngIf",t.footerTemplate))},directives:[D.m,D.r],encapsulation:2,changeDetection:0}),e}(),We=function(){var e=function(){function e(t){Object(a.a)(this,e),this.elementRef=t,this.stateChange$=new I.a,this._disabled=!1}return Object(l.a)(e,[{key:"ngOnChanges",value:function(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}},{key:"ngAfterViewChecked",value:function(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}},{key:"ngOnDestroy",value:function(){this.stateChange$.complete()}},{key:"_isDisabled",value:function(e){return null!=e&&"false"!=="".concat(e)}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=this._isDisabled(e)}},{key:"label",get:function(){return(this.elementRef.nativeElement.textContent||"").trim()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.n))},e.\u0275cmp=c.Hb({type:e,selectors:[["ng-option"]],inputs:{disabled:"disabled",value:"value"},features:[c.zb],ngContentSelectors:V,decls:1,vars:0,template:function(e,t){1&e&&(c.ic(),c.hc(0))},encapsulation:2,changeDetection:0}),e}(),Ue=function(){var e=function e(){Object(a.a)(this,e),this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(c.Jb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Ke=new c.s("ng-select-selection-model"),qe=function(){var e=function(){function e(t,n,i,r,o,s,l){var u=this;Object(a.a)(this,e),this.classes=t,this.autoFocus=n,this._cd=s,this._console=l,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=function(e){return!0},this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new c.p,this.focusEvent=new c.p,this.changeEvent=new c.p,this.openEvent=new c.p,this.closeEvent=new c.p,this.searchEvent=new c.p,this.clearEvent=new c.p,this.addEvent=new c.p,this.removeEvent=new c.p,this.scroll=new c.p,this.scrollToEnd=new c.p,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=Le(),this.escapeHTML=!0,this.useDefaultClass=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new I.a,this._keyPress$=new I.a,this._onChange=function(e){},this._onTouched=function(){},this.clearItem=function(e){var t=u.selectedItems.find((function(t){return t.value===e}));u.unselect(t)},this.trackByOption=function(e,t){return u.trackByFn?u.trackByFn(t.value):t},this._mergeGlobalConfig(i),this.itemsList=new He(this,r()),this.element=o.nativeElement}return Object(l.a)(e,[{key:"ngOnInit",value:function(){this._handleKeyPresses(),this._setInputAttributes()}},{key:"ngOnChanges",value:function(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=we(e.isOpen.currentValue))}},{key:"ngAfterViewInit",value:function(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),we(this.autoFocus)&&this.focus()}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete()}},{key:"handleKeyDown",value:function(e){if(Ve[e.which]){if(!1===this.keyDownFn(e))return;this.handleKeyCode(e)}else e.key&&1===e.key.length&&this._keyPress$.next(e.key.toLocaleLowerCase())}},{key:"handleKeyCode",value:function(e){switch(e.which){case Ve.ArrowDown:this._handleArrowDown(e);break;case Ve.ArrowUp:this._handleArrowUp(e);break;case Ve.Space:this._handleSpace(e);break;case Ve.Enter:this._handleEnter(e);break;case Ve.Tab:this._handleTab(e);break;case Ve.Esc:this.close(),e.preventDefault();break;case Ve.Backspace:this._handleBackspace()}}},{key:"handleMousedown",value:function(e){var t=e.target;"INPUT"!==t.tagName&&e.preventDefault(),t.classList.contains("ng-clear-wrapper")?this.handleClearClick():t.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():t.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}},{key:"handleArrowClick",value:function(){this.isOpen?this.close():this.open()}},{key:"handleClearClick",value:function(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}},{key:"clearModel",value:function(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}},{key:"writeValue",value:function(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this._disabled=e,this._cd.markForCheck()}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"open",value:function(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||(this._isTypeahead||this.addTag||!this.itemsList.noItemsToSelect)&&(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}},{key:"close",value:function(){this.isOpen&&!this._manualOpen&&(this.isOpen=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}},{key:"toggleItem",value:function(e){!e||e.disabled||this.disabled||(this.multiple&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}},{key:"select",value:function(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}},{key:"focus",value:function(){this.searchInput.nativeElement.focus()}},{key:"blur",value:function(){this.searchInput.nativeElement.blur()}},{key:"unselect",value:function(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e))}},{key:"selectTag",value:function(){var e,t=this;e=Se(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:Object(i.a)({},this.bindLabel,this.searchTerm);var n=function(e){return t._isTypeahead||!t.isOpen?t.itemsList.mapItem(e,null):t.itemsList.addItem(e)};e instanceof Promise?e.then((function(e){return t.select(n(e))})).catch((function(){})):e&&this.select(n(e))}},{key:"showClear",value:function(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}},{key:"showNoItemsFound",value:function(){var e=0===this.itemsList.filteredItems.length;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}},{key:"showTypeToSearch",value:function(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}},{key:"onCompositionStart",value:function(){this._isComposing=!0}},{key:"onCompositionEnd",value:function(e){this._isComposing=!1,this.searchWhileComposing||this.filter(e)}},{key:"filter",value:function(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map((function(e){return e.value}))}),this.open())}},{key:"onInputFocus",value:function(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}},{key:"onInputBlur",value:function(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),this.isOpen||this.disabled||this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}},{key:"onItemHover",value:function(e){e.disabled||this.itemsList.markItem(e)}},{key:"detectChanges",value:function(){this._cd.destroyed||this._cd.detectChanges()}},{key:"_setSearchTermFromItems",value:function(){var e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}},{key:"_setItems",value:function(e){var t=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=we(t)?!Ce(t):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&we(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}},{key:"_setItemsFromNgOptions",value:function(){var e=this;this.ngOptions.changes.pipe(Object(f.a)(this.ngOptions),Object(h.a)(this._destroy$)).subscribe((function(t){var n;e.bindLabel=e._defaultLabel,function(t){e.items=t.map((function(e){return{$ngOptionValue:e.value,$ngOptionLabel:e.elementRef.nativeElement.innerHTML,disabled:e.disabled}})),e.itemsList.setItems(e.items),e.hasValue&&e.itemsList.mapSelectedItems(),e.detectChanges()}(t),n=Object(P.a)(e.ngOptions.changes,e._destroy$),P.a.apply(void 0,Object(s.a)(e.ngOptions.map((function(e){return e.stateChange$})))).pipe(Object(h.a)(n)).subscribe((function(t){var n=e.itemsList.findItem(t.value);n.disabled=t.disabled,n.label=t.label||n.label,e._cd.detectChanges()}))}))}},{key:"_isValidWriteValue",value:function(e){var t=this;if(!we(e)||this.multiple&&""===e||Array.isArray(e)&&0===e.length)return!1;var n=function(e){return!(!we(t.compareWith)&&Ce(e)&&t.bindValue&&(t._console.warn("Setting object(".concat(JSON.stringify(e),") as your model with bindValue is not allowed unless [compareWith] is used.")),1))};return this.multiple?Array.isArray(e)?e.every((function(e){return n(e)})):(this._console.warn("Multiple select ngModel should be array."),!1):n(e)}},{key:"_handleWriteValue",value:function(e){var t=this;if(this._isValidWriteValue(e)){var n=function(e){var n=t.itemsList.findItem(e);if(n)t.itemsList.select(n);else{var r=Ce(e);if(r||!r&&!t.bindValue)t.itemsList.select(t.itemsList.mapItem(e,null));else if(t.bindValue){var o;o={},Object(i.a)(o,t.bindLabel,null),Object(i.a)(o,t.bindValue,e),t.itemsList.select(t.itemsList.mapItem(n=o,null))}}};this.multiple?e.forEach((function(e){return n(e)})):n(e)}}},{key:"_handleKeyPresses",value:function(){var e=this;this.searchable||this._keyPress$.pipe(Object(h.a)(this._destroy$),Object(p.a)((function(t){return e._pressedKeys.push(t)})),Object(g.a)(200),Object(m.a)((function(){return e._pressedKeys.length>0})),Object(b.a)((function(){return e._pressedKeys.join("")}))).subscribe((function(t){var n=e.itemsList.findByLabel(t);n&&(e.isOpen?(e.itemsList.markItem(n),e._cd.markForCheck()):e.select(n)),e._pressedKeys=[]}))}},{key:"_setInputAttributes",value:function(){for(var e=this.searchInput.nativeElement,t=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs),n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];e.setAttribute(r,t[r])}}},{key:"_updateNgModel",value:function(){var e,t=[],n=Object(o.a)(this.selectedItems);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(this.bindValue){var r;r=i.children?i.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(i.value,this.bindValue),t.push(r)}else t.push(i.value)}}catch(a){n.e(a)}finally{n.f()}var s=this.selectedItems.map((function(e){return e.value}));this.multiple?(this._onChange(t),this.changeEvent.emit(s)):(this._onChange(we(t[0])?t[0]:null),this.changeEvent.emit(s[0])),this._cd.markForCheck()}},{key:"_clearSearch",value:function(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}},{key:"_changeSearch",value:function(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}},{key:"_scrollToMarked",value:function(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollTo(this.itemsList.markedItem)}},{key:"_scrollToTag",value:function(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollToTag()}},{key:"_onSelectionChanged",value:function(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}},{key:"_handleTab",value:function(e){(!1!==this.isOpen||this.addTag)&&(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close())}},{key:"_handleEnter",value:function(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}e.preventDefault()}},{key:"_handleSpace",value:function(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}},{key:"_handleArrowDown",value:function(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}},{key:"_handleArrowUp",value:function(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}},{key:"_nextItemIsTag",value:function(e){var t=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(t<0||t===this.itemsList.filteredItems.length)}},{key:"_handleBackspace",value:function(){!this.searchTerm&&this.clearable&&this.clearOnBackspace&&this.hasValue&&(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}},{key:"_mergeGlobalConfig",value:function(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=we(this.virtualScroll)?this.virtualScroll:!!we(e.disableVirtualScroll)&&!e.disableVirtualScroll,this.openOnEnter=we(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.appearance=this.appearance||e.appearance}},{key:"items",get:function(){return this._items},set:function(e){this._itemsAreUsed=!0,this._items=e}},{key:"compareWith",get:function(){return this._compareWith},set:function(e){if(!Se(e))throw Error("`compareWith` must be a function.");this._compareWith=e}},{key:"clearSearchOnAdd",get:function(){return we(this._clearSearchOnAdd)?this._clearSearchOnAdd:this.closeOnSelect},set:function(e){this._clearSearchOnAdd=e}},{key:"disabled",get:function(){return this.readonly||this._disabled}},{key:"filtered",get:function(){return!!this.searchTerm&&this.searchable||this._isComposing}},{key:"_editableSearchTerm",get:function(){return this.editableSearchTerm&&!this.multiple}},{key:"selectedItems",get:function(){return this.itemsList.selectedItems}},{key:"selectedValues",get:function(){return this.selectedItems.map((function(e){return e.value}))}},{key:"hasValue",get:function(){return this.selectedItems.length>0}},{key:"currentPanelPosition",get:function(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}},{key:"showAddTag",get:function(){if(!this._validTerm)return!1;var e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some((function(t){return t.label.toLowerCase()===e}))&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some((function(t){return t.label.toLowerCase()===e})))&&!this.loading}},{key:"_isTypeahead",get:function(){return this.typeahead&&this.typeahead.observers.length>0}},{key:"_validTerm",get:function(){var e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Yb("class"),c.Yb("autofocus"),c.Nb(Ue),c.Nb(Ke),c.Nb(c.n),c.Nb(c.h),c.Nb(Ne))},e.\u0275cmp=c.Hb({type:e,selectors:[["ng-select"]],contentQueries:function(e,t,n){var i;1&e&&(c.Gb(n,Te,!0,c.N),c.Gb(n,ke,!0,c.N),c.Gb(n,xe,!0,c.N),c.Gb(n,Ee,!0,c.N),c.Gb(n,je,!0,c.N),c.Gb(n,Ae,!0,c.N),c.Gb(n,Ie,!0,c.N),c.Gb(n,Me,!0,c.N),c.Gb(n,Pe,!0,c.N),c.Gb(n,De,!0,c.N),c.Gb(n,Re,!0,c.N),c.Gb(n,We,!0)),2&e&&(c.rc(i=c.cc())&&(t.optionTemplate=i.first),c.rc(i=c.cc())&&(t.optgroupTemplate=i.first),c.rc(i=c.cc())&&(t.labelTemplate=i.first),c.rc(i=c.cc())&&(t.multiLabelTemplate=i.first),c.rc(i=c.cc())&&(t.headerTemplate=i.first),c.rc(i=c.cc())&&(t.footerTemplate=i.first),c.rc(i=c.cc())&&(t.notFoundTemplate=i.first),c.rc(i=c.cc())&&(t.typeToSearchTemplate=i.first),c.rc(i=c.cc())&&(t.loadingTextTemplate=i.first),c.rc(i=c.cc())&&(t.tagTemplate=i.first),c.rc(i=c.cc())&&(t.loadingSpinnerTemplate=i.first),c.rc(i=c.cc())&&(t.ngOptions=i))},viewQuery:function(e,t){var n;1&e&&(c.Jc(Ge,!0),c.Ac($,!0)),2&e&&(c.rc(n=c.cc())&&(t.dropdownPanel=n.first),c.rc(n=c.cc())&&(t.searchInput=n.first))},hostAttrs:["role","listbox"],hostVars:20,hostBindings:function(e,t){1&e&&c.bc("keydown",(function(e){return t.handleKeyDown(e)})),2&e&&c.Fb("ng-select",t.useDefaultClass)("ng-select-single",!t.multiple)("ng-select-multiple",t.multiple)("ng-select-taggable",t.addTag)("ng-select-searchable",t.searchable)("ng-select-clearable",t.clearable)("ng-select-opened",t.isOpen)("ng-select-disabled",t.disabled)("ng-select-filtered",t.filtered)("ng-select-typeahead",t.typeahead)},inputs:{markFirst:"markFirst",dropdownPosition:"dropdownPosition",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",bufferAmount:"bufferAmount",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",bindLabel:"bindLabel",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",virtualScroll:"virtualScroll",openOnEnter:"openOnEnter",appendTo:"appendTo",bindValue:"bindValue",appearance:"appearance",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",tabIndex:"tabIndex",typeahead:"typeahead"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[c.Ab([{provide:u.h,useExisting:Object(c.V)((function(){return e})),multi:!0},$e]),c.zb],decls:14,vars:18,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],[1,"ng-input"],["role","combobox",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],[1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(e,t){if(1&e){var n=c.Ub();c.Tb(0,"div",0),c.bc("mousedown",(function(e){return t.handleMousedown(e)})),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Ec(3),c.Sb(),c.Cc(4,K,2,2,"ng-container",3),c.Cc(5,Y,1,5,void 0,3),c.Tb(6,"div",4),c.Tb(7,"input",5,6),c.bc("input",(function(){c.vc(n);var e=c.sc(8);return t.filter(e.value)}))("compositionstart",(function(){return t.onCompositionStart()}))("compositionend",(function(){c.vc(n);var e=c.sc(8);return t.onCompositionEnd(e.value)}))("focus",(function(e){return t.onInputFocus(e)}))("blur",(function(e){return t.onInputBlur(e)}))("change",(function(e){return e.stopPropagation()})),c.Sb(),c.Sb(),c.Sb(),c.Cc(9,Z,4,1,"ng-container",3),c.Cc(10,ee,3,1,"span",7),c.Tb(11,"span",8),c.Ob(12,"span",9),c.Sb(),c.Sb(),c.Cc(13,be,7,19,"ng-dropdown-panel",10)}2&e&&(c.Fb("ng-appearance-outline","outline"===t.appearance)("ng-has-value",t.hasValue),c.Bb(3),c.Fc(t.placeholder),c.Bb(1),c.jc("ngIf",!t.multiLabelTemplate&&t.selectedItems.length>0),c.Bb(1),c.jc("ngIf",t.multiLabelTemplate&&t.selectedValues.length>0),c.Bb(2),c.jc("readOnly",!t.searchable||t.itemsList.maxItemsSelected)("disabled",t.disabled)("value",t.searchTerm?t.searchTerm:""),c.Cb("id",t.labelForId)("tabindex",t.tabIndex)("aria-expanded",t.isOpen)("aria-owns",t.isOpen?t.dropdownId:null)("aria-activedescendant",t.isOpen?null==t.itemsList||null==t.itemsList.markedItem?null:t.itemsList.markedItem.htmlId:null),c.Bb(2),c.jc("ngIf",t.loading),c.Bb(1),c.jc("ngIf",t.showClear()),c.Bb(3),c.jc("ngIf",t.isOpen))},directives:[D.m,D.l,D.r,Oe,Ge,D.k],styles:[".ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:0;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none;border:0;box-shadow:none;outline:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute;z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);-webkit-animation:.8s linear infinite load8;animation:.8s linear infinite load8}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes load8{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}"],encapsulation:2,changeDetection:0}),e}(),Xe=function(){function e(){Object(a.a)(this,e),this._selected=[]}return Object(l.a)(e,[{key:"select",value:function(e,t,n){if(e.selected=!0,(!e.children||!t&&n)&&this._selected.push(e),t)if(e.parent){var i=e.parent.children.length,r=e.parent.children.filter((function(e){return e.selected})).length;e.parent.selected=i===r}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),this._selected=n&&this._activeChildren(e)?[].concat(Object(s.a)(this._selected.filter((function(t){return t.parent!==e}))),[e]):[].concat(Object(s.a)(this._selected),Object(s.a)(e.children.filter((function(e){return!e.disabled})))))}},{key:"unselect",value:function(e,t){if(this._selected=this._selected.filter((function(t){return t!==e})),e.selected=!1,t)if(e.parent&&e.parent.selected){var n,i=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),(n=this._selected).push.apply(n,Object(s.a)(i.filter((function(t){return t!==e&&!t.disabled})))),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}},{key:"clear",value:function(e){this._selected=e?this._selected.filter((function(e){return e.disabled})):[]}},{key:"_setChildrenSelectedState",value:function(e,t){var n,i=Object(o.a)(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.disabled||(r.selected=t)}}catch(s){i.e(s)}finally{i.f()}}},{key:"_removeChildren",value:function(e){this._selected=[].concat(Object(s.a)(this._selected.filter((function(t){return t.parent!==e}))),Object(s.a)(e.children.filter((function(t){return t.parent===e&&t.disabled&&t.selected}))))}},{key:"_removeParent",value:function(e){this._selected=this._selected.filter((function(t){return t!==e}))}},{key:"_activeChildren",value:function(e){return e.children.every((function(e){return!e.disabled||e.selected}))}},{key:"value",get:function(){return this._selected}}]),e}(),Ye=function(){return new Xe},Je=function(){var e=function e(){Object(a.a)(this,e)};return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)},providers:[{provide:Ke,useValue:Ye}],imports:[[D.c]]}),e}()},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("1OyB"),r=n("vuIU"),o=n("Ji7U"),s=n("LK+K"),a=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r,o){var s;return Object(i.a)(this,n),(s=t.call(this)).parent=e,s.outerValue=r,s.outerIndex=o,s.index=0,s}return Object(r.a)(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a),l=n("SeVD"),c=n("HDdC");function u(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new a(e,n,i);if(!r.closed)return t instanceof c.a?t.subscribe(r):Object(l.a)(t)(r)}},a3WO:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,"a",(function(){return i}))},bBst:function(e,t){var n=global.CustomEvent;e.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(t){}return!1}()?n:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("5+tZ"),r=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(i.a)(r.a,e)}},bOdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("5+tZ");function r(e,t){return Object(i.a)(e,t,1)}},"bU/s":function(e,t,n){(function(e){!function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function e(t,n,i){"string"==typeof t?(2==arguments.length&&(i=n),e.modules[t]||(e.payloads[t]=i,e.modules[t]=null)):e.original?e.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n,i=function(e,t,n){if("string"==typeof t){var i=o(e,t);if(null!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(t)){for(var s=[],a=0,l=t.length;a<l;++a){var c=o(e,t[a]);if(null==c&&r.original)return;s.push(c)}return n&&n.apply(null,s)||!0}},r=function e(t,n){var r=i("",t,n);return null==r&&e.original?e.original.apply(this,arguments):r},o=function(e,n){n=function e(t,n){if(-1!==n.indexOf("!")){var i=n.split("!");return e(t,i[0])+"!"+e(t,i[1])}if("."==n.charAt(0))for(n=t.split("/").slice(0,-1).join("/")+"/"+n;-1!==n.indexOf(".")&&r!=n;){var r=n;n=n.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return n}(e,n);var r=t.modules[n];if(!r){if("function"==typeof(r=t.payloads[n])){var o={},s={id:n,uri:"",exports:o,packaged:!0},a=r((function(e,t){return i(n,e,t)}),o,s);t.modules[n]=o=a||s.exports,delete t.payloads[n]}r=t.modules[n]=o||r}return r};n=e,e.ace||(e.ace={}),(n=e.ace).define&&n.define.packaged||(t.original=n.define,n.define=t,n.define.packaged=!0),n.require&&n.require.packaged||(r.original=n.require,n.require=r,n.require.packaged=!0)}(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],(function(e,t,n){"use strict";"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var i="object"==typeof navigator?navigator:{},r=(/mac|win|linux/i.exec(i.platform)||["other"])[0].toLowerCase(),o=i.userAgent||"",s=i.appName||"";t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==s||s.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isAndroid=o.indexOf("Android")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("./useragent");if(t.buildDom=function e(t,n,i){if("string"==typeof t&&t){var r=document.createTextNode(t);return n&&n.appendChild(r),r}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],s=0;s<t.length;s++){var a=e(t[s],n,i);a&&o.push(a)}return o}var l=document.createElement(t[0]),c=t[1],u=1;for(c&&"object"==typeof c&&!Array.isArray(c)&&(u=2),s=u;s<t.length;s++)e(t[s],l,i);return 2==u&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?i&&(i[t]=l):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(n=(t=t||document).querySelectorAll("style"))for(;i<n.length;)if(n[i++].id===e)return!0},t.importCssString=function(e,n,i){var r=i;i&&i.getRootNode&&(r=i.getRootNode())&&r!=i||(r=document);var o=r.ownerDocument||r;if(n&&t.hasCssString(n,r))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var s=t.createElement("style");s.appendChild(o.createTextNode(e)),n&&(s.id=n),r==o&&(r=t.getDocumentHead(o)),r.insertBefore(s,r.firstChild)},t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=e.documentElement;o.appendChild(i);var s=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=i.clientWidth),o.removeChild(i),s-a},"undefined"==typeof document&&(t.importCssString=function(){}),t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!i.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,"undefined"!=typeof document){var r=document.createElement("div");t.HI_DPI&&void 0!==r.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),i.isEdge||void 0===r.style.animationName||(t.HAS_CSS_ANIMATION=!0),r=null}t.translate=t.HAS_CSS_TRANSFORMS?function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./oop"),r=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r),t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i,r=e("./keys"),o=e("./useragent"),s=null,a=0;function l(){return null==i&&function(){i=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){i={passive:!1}}})}catch(e){}}(),i}function c(e,t,n){this.elem=e,this.type=t,this.callback=n}c.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var u=t.addListener=function(e,t,n,i){e.addEventListener(t,n,l()),i&&i.$toDestroy.push(new c(e,t,n))},h=t.removeListener=function(e,t,n){e.removeEventListener(t,n,l())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){var i=e&&e.ownerDocument||document;function r(e){t&&t(e),n&&n(e),h(i,"mousemove",t),h(i,"mouseup",r),h(i,"dragstart",r)}return u(i,"mousemove",t),u(i,"mouseup",r),u(i,"dragstart",r),r},t.addMouseWheelListener=function(e,t,n){"onmousewheel"in e?u(e,"mousewheel",(function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),t(e)}),n):"onwheel"in e?u(e,"wheel",(function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}t(e)}),n):u(e,"DOMMouseScroll",(function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),t(e)}),n)},t.addMultiMouseDownListener=function(e,n,i,r,s){var a,l,c,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};function f(e){if(0!==t.getButton(e)?h=0:e.detail>1?++h>4&&(h=1):h=1,o.isIE){var s=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;c&&!s||(h=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[h-1]||600),1==h&&(a=e.clientX,l=e.clientY)}if(e._clicks=h,i[r]("mousedown",e),h>4)h=0;else if(h>1)return i[r](d[h],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){u(e,"mousedown",f,s)}))};var d=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function f(e,t,n){var i=d(t);if(!o.isMac&&s){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(i|=8),s.altGr){if(3==(3&i))return;s.altGr=0}if(18===n||17===n){var l="location"in t?t.location:t.keyLocation;17===n&&1===l?1==s[n]&&(a=t.timeStamp):18===n&&3===i&&2===l&&t.timeStamp-a<50&&(s.altGr=!0)}}if(n in r.MODIFIER_KEYS&&(n=-1),i||13!==n||3!==(l="location"in t?t.location:t.keyLocation)||(e(t,i,-n),!t.defaultPrevented)){if(o.isChromeOS&&8&i){if(e(t,i,n),t.defaultPrevented)return;i&=-9}return!!(i||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS)&&e(t,i,n)}}function p(){s=Object.create(null)}if(t.getModifierString=function(e){return r.KEY_MODS[d(e)]},t.addCommandKeyListener=function(e,n,i){if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var r=null;u(e,"keydown",(function(e){r=e.keyCode}),i),u(e,"keypress",(function(e){return f(n,e,r)}),i)}else{var a=null;u(e,"keydown",(function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=f(n,e,e.keyCode);return a=e.defaultPrevented,t}),i),u(e,"keypress",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),i),u(e,"keyup",(function(e){s[e.keyCode]=null}),i),s||(p(),u(window,"focus",p))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var g=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+g++;u(n,"message",(function r(o){o.data==i&&(t.stopPropagation(o),h(n,"message",r),e())})),n.postMessage(i,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(i.row,i.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(i.row,i.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)&&!this.isStart(e,t)},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else this.end.row<e&&(n={row:e,column:0});if(this.start.row>t)var r={row:t+1,column:0};else this.start.row<e&&(r={row:e,column:0});return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var o={row:e,column:t};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return new i(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t[n]=e[n]&&"object"==typeof e[n]?this.copyObject(e[n]):e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var i in n={},t)n[i]=e(t[i]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function e(i){return e.cancel(),t=setTimeout(n,i||0),e};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var i;n.exports={lineMode:!1,pasteCancelled:function(){return!!(i&&i>Date.now()-50)||(i=!1)},cancel:function(){i=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),o=e("../lib/dom"),s=e("../lib/lang"),a=e("../clipboard"),l=r.isChrome<18,c=r.isIE,u=r.isChrome>63,h=e("../lib/keys"),d=h.KEY_MODS,f=r.isIOS,p=f?/\s/:/\n/,g=r.isMobile;t.TextInput=function(e,t){var n=o.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var m=!1,b=!1,v=!1,y=!1,_="";g||(n.style.fontSize="1px");var w=!1,C=!1,S="",O=0,T=0,k=0;try{var x=document.activeElement===n}catch(W){}i.addListener(n,"blur",(function(e){C||(t.onBlur(e),x=!1)}),t),i.addListener(n,"focus",(function(e){if(!C){if(x=!0,r.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),r.isEdge?setTimeout(E):E()}}),t),this.$focusScroll=!1,this.focus=function(){if(_||u||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var t=0!=n.getBoundingClientRect().top}catch(W){return}var i=[];if(t)for(var r=n.parentElement;r&&1==r.nodeType;)i.push(r),r.setAttribute("ace_nocontext",!0),r=!r.parentElement&&r.getRootNode?r.getRootNode().host:r.parentElement;n.focus({preventScroll:!0}),t&&i.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return x},t.on("beforeEndOperation",(function(){var e=t.curOp,i=e&&e.command&&e.command.name;"insertstring"!=i&&(v&&i&&(e.docChanged||e.selectionChanged)&&(S=n.value="",B()),E())}));var E=f?function(e){if(x&&(!m||e)&&!y){e||(e="");var i="\n ab"+e+"cde fg\n";i!=n.value&&(n.value=S=i);var r=4+(e.length||(t.selection.isEmpty()?0:1));4==O&&T==r||n.setSelectionRange(4,r),O=4,T=r}}:function(){if(!v&&!y&&(x||A)){v=!0;var e=0,i=0,r="";if(t.session){var o=t.selection,s=o.getRange(),a=o.cursor.row;if(e=s.start.column,i=s.end.column,r=t.session.getLine(a),s.start.row!=a){var l=t.session.getLine(a-1);e=s.start.row<a-1?0:e,i+=l.length+1,r=l+"\n"+r}else if(s.end.row!=a){var c=t.session.getLine(a+1);i=s.end.row>a+1?c.length:i,i+=r.length+1,r=r+"\n"+c}else g&&a>0&&(r="\n"+r,i+=1,e+=1);r.length>400&&(e<400&&i<400?r=r.slice(0,400):(r="\n",e==i?e=i=0:(e=0,i=1)))}var u=r+"\n\n";if(u!=S&&(n.value=S=u,O=T=u.length),A&&(O=n.selectionStart,T=n.selectionEnd),T!=i||O!=e||n.selectionEnd!=T)try{n.setSelectionRange(e,i),O=e,T=i}catch(W){}v=!1}};this.resetSelection=E,x&&t.onFocus();var j=null;this.setInputHandler=function(e){j=e},this.getInputHandler=function(){return j};var A=!1,I=function(e,i){if(A&&(A=!1),b)return E(),e&&t.onPaste(e),b=!1,"";for(var o=n.selectionStart,s=n.selectionEnd,a=O,l=S.length-T,c=e,u=e.length-o,h=e.length-s,d=0;a>0&&S[d]==e[d];)d++,a--;for(c=c.slice(d),d=1;l>0&&S.length-d>O-1&&S[S.length-d]==e[e.length-d];)d++,l--;u-=d-1,h-=d-1;var f=c.length-d+1;if(f<0&&(a=-f,f=0),c=c.slice(0,f),!(i||c||u||a||l||h))return"";y=!0;var p=!1;return r.isAndroid&&". "==c&&(c="  ",p=!0),c&&!a&&!l&&!u&&!h||w?t.onTextInput(c):t.onTextInput(c,{extendLeft:a,extendRight:l,restoreStart:u,restoreEnd:h}),y=!1,S=e,O=o,T=s,k=h,p?"\n":c},M=function(e){if(v)return F();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var i=n.value,r=I(i,!0);(i.length>500||p.test(r)||g&&O<1&&O==T)&&E()},P=function e(t,n,i){var r=t.clipboardData||window.clipboardData;if(r&&!l){var o=c||i?"Text":"text/plain";try{return n?!1!==r.setData(o,n):r.getData(o)}catch(t){if(!i)return e(t,n,!0)}}},D=function(e,r){var o=t.getCopyText();if(!o)return i.preventDefault(e);P(e,o)?(f&&(E(o),m=o,setTimeout((function(){m=!1}),10)),r?t.onCut():t.onCopy(),i.preventDefault(e)):(m=!0,n.value=o,n.select(),setTimeout((function(){m=!1,E(),r?t.onCut():t.onCopy()})))},R=function(e){D(e,!0)},N=function(e){D(e,!1)},L=function(e){var o=P(e);a.pasteCancelled()||("string"==typeof o?(o&&t.onPaste(o,e),r.isIE&&setTimeout(E),i.preventDefault(e)):(n.value="",b=!0))};i.addCommandKeyListener(n,t.onCommandKey.bind(t),t),i.addListener(n,"select",(function(e){v||(m?m=!1:function(e){return 0===e.selectionStart&&e.selectionEnd>=S.length&&e.value===S&&S&&e.selectionEnd!==T}(n)?(t.selectAll(),E()):g&&n.selectionStart!=O&&E())}),t),i.addListener(n,"input",M,t),i.addListener(n,"cut",R,t),i.addListener(n,"copy",N,t),i.addListener(n,"paste",L,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||i.addListener(e,"keydown",(function(e){if((!r.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:N(e);break;case 86:L(e);break;case 88:R(e)}}),t);var F=function(){if(v&&t.onCompositionUpdate&&!t.$readOnly){if(w)return H();v.useTextareaForIME?t.onCompositionUpdate(n.value):(I(n.value),v.markerRange&&(v.context&&(v.markerRange.start.column=v.selectionStart=v.context.compositionStartOffset),v.markerRange.end.column=v.markerRange.start.column+T-v.selectionStart+k))}},B=function(e){t.onCompositionEnd&&!t.$readOnly&&(v=!1,t.onCompositionEnd(),t.off("mousedown",H),e&&M())};function H(){C=!0,n.blur(),n.focus(),C=!1}var V,$=s.delayedCall(F,50).schedule.bind(null,null);function z(){clearTimeout(V),V=setTimeout((function(){_&&(n.style.cssText=_,_=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}i.addListener(n,"compositionstart",(function(e){if(!v&&t.onCompositionStart&&!t.$readOnly&&(v={},!w)){e.data&&(v.useTextareaForIME=!1),setTimeout(F,0),t._signal("compositionStart"),t.on("mousedown",H);var i=t.getSelectionRange();i.end.row=i.start.row,i.end.column=i.start.column,v.markerRange=i,v.selectionStart=O,t.onCompositionStart(v),v.useTextareaForIME?(S=n.value="",O=0,T=0):(n.msGetInputContext&&(v.context=n.msGetInputContext()),n.getInputContext&&(v.context=n.getInputContext()))}}),t),i.addListener(n,"compositionupdate",F,t),i.addListener(n,"keyup",(function(e){27==e.keyCode&&n.value.length<n.selectionStart&&(v||(S=n.value),O=T=-1,E()),$()}),t),i.addListener(n,"keydown",$,t),i.addListener(n,"compositionend",B,t),this.getElement=function(){return n},this.setCommandMode=function(e){w=e,n.readOnly=!1},this.setReadOnly=function(e){w||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){A=!0,E(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,s){_||(_=n.style.cssText),n.style.cssText=(s?"z-index:100000;":"")+(r.isIE?"opacity:0.1;":"")+"text-indent: -"+(O+T)*t.renderer.characterWidth*.5+"px;";var a=t.container.getBoundingClientRect(),l=o.computedStyle(t.container),c=a.top+(parseInt(l.borderTopWidth)||0),u=a.left+(parseInt(a.borderLeftWidth)||0),h=a.bottom-c-n.clientHeight-2,d=function(e){o.translate(n,e.clientX-u-2,Math.min(e.clientY-c-2,h))};d(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(V),r.isWin&&i.capture(t.container,d,z))},this.onContextMenuClose=z;var G=function(e){t.textInput.onContextMenu(e),z()};i.addListener(n,"mouseup",G,t),i.addListener(n,"mousedown",(function(e){e.preventDefault(),z()}),t),i.addListener(t.renderer.scroller,"contextmenu",G,t),i.addListener(n,"contextmenu",G,t),f&&function(e,t,n){var i=null,r=!1;n.addEventListener("keydown",(function(e){i&&clearTimeout(i),r=!0}),!0),n.addEventListener("keyup",(function(e){i=setTimeout((function(){r=!1}),100)}),!0);var o=function(e){if(document.activeElement===n&&!(r||v||t.$mouseHandler.isMousePressed||m)){var i=n.selectionStart,o=n.selectionEnd,s=null,a=0;if(0==i?s=h.up:1==i?s=h.home:o>T&&"\n"==S[o]?s=h.end:i<O&&" "==S[i-1]?(s=h.left,a=d.option):i<O||i==O&&T!=O&&i==o?s=h.left:o>T&&S.slice(0,o).split("\n").length>2?s=h.down:o>T&&" "==S[o-1]?(s=h.right,a=d.option):(o>T||o==T&&T!=O&&i==o)&&(s=h.right),i!==o&&(a|=d.shift),s){if(!t.onCommandKey({},a,s)&&t.commands){s=h.keyCodeToString(s);var l=t.commands.findKeyCommand(a,s);l&&t.execCommand(l)}O=i,T=o,E("")}}};document.addEventListener("selectionchange",o),t.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,t,n)},t.$setUserAgentForTests=function(e,t){g=e,f=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/useragent");function r(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else n=e.start.row!=e.end.row-1||e.start.column||e.end.column?2*t.row-e.start.row-e.end.row:t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,o=e.getButton();return 0!==o?((r.getSelectionRange().isEmpty()||1==o)&&r.selection.moveToPosition(n),void(2==o&&(r.textInput.onContextMenu(e.domEvent),i.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var r=o(this.$clickSelection,n);n=r.cursor,e=r.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[e](i.row,i.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(-1==s&&a<=0)t=this.$clickSelection.end,r.end.row==i.row&&r.end.column==i.column||(i=r.start);else if(1==a&&s>=0)t=this.$clickSelection.start,r.start.row==i.row&&r.start.column==i.column||(i=r.end);else if(-1==s&&1==a)i=r.end,t=r.start;else{var l=o(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,n=(e=this.mousedownEvent.y,t=this.y,Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(t-e,2))),i=Date.now();(n>0||i-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=e.domEvent.timeStamp,r=i-n.t,o=r?e.wheelX/r:n.vx,s=r?e.wheelY/r:n.vy;r<550&&(o=(o+n.vx)/2,s=(s+n.vy)/2);var a=Math.abs(o/s),l=!1;return a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l?n.allowed=i:i-n.allowed<550&&(Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(s)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=i):n.allowed=0),n.t=i,n.vx=o,n.vy=s,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(r.prototype),t.DefaultHandlers=r})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){"use strict";e("./lib/oop");var i=e("./lib/dom");function r(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(r.prototype),t.Tooltip=r})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),o=e("../lib/event"),s=e("../tooltip").Tooltip;function a(e){s.call(this,e)}r.inherits(a,s),(function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();(e+=15)+r>n&&(e-=e+r-n),(t+=15)+o>i&&(t-=20+o),s.prototype.setPosition.call(this,e,t)}}).call(a.prototype),t.GutterHandler=function(e){var t,n,r,s=e.editor,l=s.renderer.$gutterLayer,c=new a(s.container);function u(){t&&(t=clearTimeout(t)),r&&(c.hide(),r=null,s._signal("hideGutterTooltip",c),s.off("mousewheel",u))}function h(e){c.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(s.isFocused()&&0==t.getButton()&&"foldWidgets"!=l.getRegion(t)){var n=t.getDocumentPosition().row,i=s.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(o){if(i.hasCssClass(o.domEvent.target||o.domEvent.srcElement,"ace_fold-widget"))return u();r&&e.$tooltipFollowsMouse&&h(o),n=o,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row,i=l.$annotations[t];if(!i)return u();if(t==s.session.getLength()){var o=s.renderer.pixelToScreenCoordinates(0,n.y).row,a=n.$pos;if(o>s.session.documentToScreenRow(a.row,a.column))return u()}if(r!=i)if(r=i.text.join("<br/>"),c.setHtml(r),c.show(),s._signal("showGutterTooltip",c),s.on("mousewheel",u),e.$tooltipFollowsMouse)h(n);else{var d=n.domEvent.target.getBoundingClientRect(),f=c.getElement().style;f.left=d.right+"px",f.top=d.bottom+"px"}}():u()}),50))})),o.addListener(s.renderer.$gutter,"mouseout",(function(e){n=null,r&&!t&&(t=setTimeout((function(){t=null,u()}),50))}),s),s.on("changeSession",u)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/event"),o=e("../lib/useragent");function s(e){var t=e.editor,n=i.createElement("img");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o.isOpera&&(n.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var s,l,c,u,h,d,f,p,g,m,b,v=t.container,y=0;function _(){var e=d;(function(e,n){var i=Date.now();m&&n&&e.row==n.row&&n&&e.column==n.column?a(b.x,b.y,l,c)>5?m=null:i-m>=200&&(t.renderer.scrollCursorIntoView(),m=null):(t.moveCursorToPosition(e),m=i,b={x:l,y:c})})(d=t.renderer.screenToTextCoordinates(l,c),e),function(e,n){var i=Date.now(),r=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,s=t.renderer.scroller.getBoundingClientRect(),a={x:{left:l-s.left,right:s.right-l},y:{top:c-s.top,bottom:s.bottom-c}},u=Math.min(a.x.left,a.x.right),h=Math.min(a.y.top,a.y.bottom),d={row:e.row,column:e.column};u/o<=2&&(d.column+=a.x.left<a.x.right?-3:2),h/r<=1&&(d.row+=a.y.top<a.y.bottom?-1:1),e.row!=d.row||e.column!=d.column&&n&&e.row==n.row?g?i-g>=200&&t.renderer.scrollCursorIntoView(d):g=i:g=null}(d,e)}function w(){h=t.selection.toOrientedRange(),s=t.session.addMarker(h,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(u),_(),u=setInterval(_,20),y=0,r.addListener(document,"mousemove",O)}function C(){clearInterval(u),t.session.removeMarker(s),s=null,t.selection.fromOrientedRange(h),t.isFocused()&&!p&&t.$resetCursorStyle(),h=null,d=null,y=0,g=null,m=null,r.removeListener(document,"mousemove",O)}this.onDragStart=function(e){if(this.cancelDrag||!v.draggable){var i=this;return setTimeout((function(){i.startSelect(),i.captureMouse(e)}),0),e.preventDefault()}h=t.getSelectionRange();var r=e.dataTransfer;r.effectAllowed=t.getReadOnly()?"copy":"copyMove",o.isOpera&&(t.container.appendChild(n),n.scrollTop=0),r.setDragImage&&r.setDragImage(n,0,0),o.isOpera&&t.container.removeChild(n),r.clearData(),r.setData("Text",t.session.getTextRange()),p=!0,this.setState("drag")},this.onDragEnd=function(e){v.draggable=!1,p=!1,this.setState(null),t.getReadOnly()||(f||"move"!=e.dataTransfer.dropEffect||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&T(e.dataTransfer))return l=e.clientX,c=e.clientY,s||w(),y++,e.dataTransfer.dropEffect=f=k(e),r.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&T(e.dataTransfer))return l=e.clientX,c=e.clientY,s||(w(),y++),null!==S&&(S=null),e.dataTransfer.dropEffect=f=k(e),r.preventDefault(e)},this.onDragLeave=function(e){if(--y<=0&&s)return C(),f=null,r.preventDefault(e)},this.onDrop=function(e){if(d){var n=e.dataTransfer;if(p)switch(f){case"move":h=h.contains(d.row,d.column)?{start:d,end:d}:t.moveText(h,d);break;case"copy":h=t.moveText(h,d,!0)}else{var i=n.getData("Text");h={start:d,end:t.session.insert(d,i)},t.focus(),f=null}return C(),r.preventDefault(e)}},r.addListener(v,"dragstart",this.onDragStart.bind(e),t),r.addListener(v,"dragend",this.onDragEnd.bind(e),t),r.addListener(v,"dragenter",this.onDragEnter.bind(e),t),r.addListener(v,"dragover",this.onDragOver.bind(e),t),r.addListener(v,"dragleave",this.onDragLeave.bind(e),t),r.addListener(v,"drop",this.onDrop.bind(e),t);var S=null;function O(){null==S&&(S=setTimeout((function(){null!=S&&s&&C()}),20))}function T(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function k(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return n&&t.indexOf(i)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?r="move":t.indexOf(i)>=0&&(r="copy"),r}}function a(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging"),e.renderer.setCursorStyle(o.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop(),"dragWait"===this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;"unselectable"in r&&(r.unselectable="on"),t.getDragDelay()?(o.isWebKit&&(this.cancelDrag=!0,t.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(s.prototype),t.DragdropHandler=s})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./mouse_event").MouseEvent,r=e("../lib/event"),o=e("../lib/dom");t.addTouchListeners=function(e,t){var n,s,a,l,c,u,h,d,f,p="scroll",g=0,m=0,b=0,v=0;function y(){var e,n,i;f||(e=window.navigator&&window.navigator.clipboard,n=!1,i=function(i){var r,s,a=i.target.getAttribute("action");if("more"==a||!n)return n=!n,r=t.getCopyText(),s=t.session.getUndoManager().hasUndo(),void f.replaceChild(o.buildDom(n?["span",!r&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),f.firstChild);"paste"==a?e.readText().then((function(e){t.execCommand(a,e)})):a&&("cut"!=a&&"copy"!=a||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(a)),f.firstChild.style.display="none",n=!1,"openCommandPallete"!=a&&t.focus()},f=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){p="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),i(e)},onclick:i},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container));var r=t.selection.cursor,s=t.renderer.textToScreenCoordinates(r.row,r.column),a=t.renderer.textToScreenCoordinates(0,0).pageX,l=t.renderer.scrollLeft,c=t.container.getBoundingClientRect();f.style.top=s.pageY-c.top-3+"px",s.pageX-c.left<c.width-70?(f.style.left="",f.style.right="10px"):(f.style.right="",f.style.left=a+l-c.left+"px"),f.style.display="",f.firstChild.style.display="none",t.on("input",_)}function _(e){f&&(f.style.display="none"),t.off("input",_)}function w(){c=null,clearTimeout(c);var e=t.selection.getRange(),n=e.contains(h.row,h.column);!e.isEmpty()&&n||(t.selection.moveToPosition(h),t.selection.selectWord()),p="wait",y()}r.addListener(e,"contextmenu",(function(e){d&&t.textInput.getElement().focus()}),t),r.addListener(e,"touchstart",(function(e){var r=e.touches;if(c||r.length>1)return clearTimeout(c),c=null,a=-1,void(p="zoom");d=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,u=t.renderer.layerConfig.lineHeight,f=e.timeStamp;l=f;var y=r[0],_=y.clientX,C=y.clientY;Math.abs(n-_)+Math.abs(s-C)>o&&(a=-1),n=e.clientX=_,s=e.clientY=C,b=v=0;var S=new i(e,t);if(h=S.getDocumentPosition(),f-a<500&&1==r.length&&!g)m++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),t.selection.moveToPosition(h);var e=m>=2?t.selection.getLineRange(h.row):t.session.getBracketRange(h);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),p="wait"}();else{m=0;var O=t.selection.cursor,T=t.selection.isEmpty()?O:t.selection.anchor,k=t.renderer.$cursorLayer.getPixelPosition(O,!0),x=t.renderer.$cursorLayer.getPixelPosition(T,!0),E=t.renderer.scroller.getBoundingClientRect(),j=t.renderer.layerConfig.offset,A=t.renderer.scrollLeft,I=function(e,t){return(e/=u)*e+(t=t/o-.75)*t};if(e.clientX<E.left)return void(p="zoom");var M=I(e.clientX-E.left-k.left+A,e.clientY-E.top-k.top+j),P=I(e.clientX-E.left-x.left+A,e.clientY-E.top-x.top+j);M<3.5&&P<3.5&&(p=M>P?"cursor":"anchor"),p=P<3.5?"anchor":M<3.5?"cursor":"scroll",c=setTimeout(w,450)}a=f}),t),r.addListener(e,"touchend",(function(e){d=t.$mouseHandler.isMousePressed=!1,u&&clearInterval(u),"zoom"==p?(p="",g=0):c?(t.selection.moveToPosition(h),g=0,y()):"scroll"==p?(g+=60,u=setInterval((function(){g--<=0&&(clearInterval(u),u=null),Math.abs(b)<.01&&(b=0),Math.abs(v)<.01&&(v=0),g<20&&(b*=.9),g<20&&(v*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*b,10*v),e==t.session.getScrollTop()&&(g=0)}),10),_()):y(),clearTimeout(c),c=null}),t),r.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var r=e.touches;if(!(r.length>1||"zoom"==p)){var o=r[0],a=n-o.clientX,u=s-o.clientY;if("wait"==p){if(!(a*a+u*u>4))return e.preventDefault();p="cursor"}n=o.clientX,s=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var h=e.timeStamp,d=h-l;if(l=h,"scroll"==p){var f=new i(e,t);f.speed=1,f.wheelX=a,f.wheelY=u,10*Math.abs(a)<Math.abs(u)&&(a=0),10*Math.abs(u)<Math.abs(a)&&(u=0),0!=d&&(b=a/d,v=u/d),t._emit("mousewheel",f),f.propagationStopped||(b=v=0)}else{var g=new i(e,t).getDocumentPosition();"cursor"==p?t.selection.moveCursorToPosition(g):"anchor"==p&&t.selection.setSelectionAnchor(g.row,g.column),t.renderer.scrollCursorIntoView(g),e.preventDefault()}}}),t)}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),r=document.createElement("script");r.src=e,n.appendChild(r),r.onload=r.onreadystatechange=function(e,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var i={},r=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],i=this._defaultHandlers[e];if(n.length||i){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return i&&!t.defaultPrevented?i(t,this):void 0}},i._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},i.once=function(e,t){var n=this;if(this.on(e,(function i(){n.off(e,i),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},i.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var o=r.indexOf(t);-1!=o&&r.splice(o,1)}n[e]=t},i.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t)i&&this.setDefaultHandler(e,i.pop());else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},i.off=i.removeListener=i.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=i})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var i=e("./oop"),r=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return s('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:s('misspelled option "'+e+'"')}};function s(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var l=function(){this.$defaultOptions={}};(function(){i.implement(this,r),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)})),i.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=s,this.reportError=a}).call(l.prototype),t.AppConfig=l})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(e,t,i){var r=e("./lib/lang"),o=(e("./lib/oop"),e("./lib/net")),s=e("./lib/app_config").AppConfig;i.exports=t=new s;var a=function(){return this||"undefined"!=typeof window&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};t.get=function(e){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return l[e]},t.set=function(e,t){if(l.hasOwnProperty(e))l[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e)},t.all=function(){return r.copyObject(l)},t.$modes={},t.moduleUrl=function(e,t){if(l.$moduleUrls[e])return l.$moduleUrls[e];var n=e.split("/"),i="snippets"==(t=t||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(o,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var s=l[t+"Path"];return null==s?s=l.basePath:"/"==i&&(t=i=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return l.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,i){var r,s;Array.isArray(n)&&(s=n[0],n=n[1]);try{r=e(n)}catch(l){}if(r&&!t.$loading[n])return i&&i(r);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var a=function(){e([n],(function(e){t._emit("load.module",{name:n,module:e});var i=t.$loading[n];t.$loading[n]=null,i.forEach((function(t){t&&t(e)}))}))};if(!t.get("packaged"))return a();o.loadScript(t.moduleUrl(n,s),a),c()}};var c=function(){l.basePath||l.workerPath||l.modePath||l.themePath||Object.keys(l.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};function u(r){if(a&&a.document){l.packaged=r||e.packaged||i.packaged||a.define&&n("B9Yq").packaged;for(var o,s={},c="",u=document.currentScript||document._currentScript,h=(u&&u.ownerDocument||document).getElementsByTagName("script"),d=0;d<h.length;d++){var f=h[d],p=f.src||f.getAttribute("src");if(p){for(var g=f.attributes,m=0,b=g.length;m<b;m++){var v=g[m];0===v.name.indexOf("data-ace-")&&(s[(o=v.name.replace(/^data-ace-/,""),o.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=v.value)}var y=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);y&&(c=y[1])}}for(var _ in c&&(s.base=s.base||c,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base,s)void 0!==s[_]&&t.set(_,s[_])}}u(!0),t.init=u,t.version="1.4.12"})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,u=e("../config"),h=function(e){var t=this;this.editor=e,new o(this),new s(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),i.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var u=e.renderer.$gutter;i.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),i.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick"),e),i.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),i.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),i.addListener(a,"mousedown",n,e),i.addListener(u,"mousedown",n,e),r.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),i.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),o=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var s=this,l=function(e){if(e){if(r.isWebKit&&!e.which&&s.releaseMouse)return s.releaseMouse();s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new a(e,s.editor),s.$mouseMoved=!0}},c=function(e){n.off("beforeEndOperation",h),clearInterval(d),u(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",s.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e),n.endOperation()},u=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var h=function(e){s.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(s[s.state+"End"]&&s[s.state+"End"](),s.state="",s.releaseMouse())};n.on("beforeEndOperation",h),n.startOperation({command:{name:"mouse"}}),s.$onCaptureMouseMove=l,s.releaseMouse=i.capture(this.editor.container,l,c);var d=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=(function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}).bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(h.prototype),u.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=h})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),r=e.session,o=r.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?r.removeFold(o):r.expandFold(o),t.stop());var s=t.domEvent&&t.domEvent.target;s&&i.hasCssClass(s,"ace_inline_button")&&i.hasCssClass(s,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session,r=i.getParentFoldRangeData(n,!0),o=r.range||r.firstRange;if(o){var s=i.getFoldAt(n=o.start.row,i.getLine(n).length,1);s?i.removeFold(s):(i.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,i){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i))&&o.command&&((s="null"==o.command||a.exec(o.command,this.$editor,o.args,i))&&i&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&r.stopEvent(i),s)););return s||-1!=e||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(e,t,n){var r=i.keyCodeToString(n);return this.$callKeyboardHandlers(t,r,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";var i=0,r=0,o=!1,s=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4],h=[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function d(e,t,n){if(!(r<e))if(1!=e||1!=i||s)for(var o,a,l,c,u=n.length,h=0;h<u;){if(t[h]>=e){for(o=h+1;o<u&&t[o]>=e;)o++;for(a=h,l=o-1;a<l;a++,l--)c=n[a],n[a]=n[l],n[l]=c;h=o}h++}else n.reverse()}function f(e,t,n,r){var l,c,u,h,d=t[r];switch(d){case 0:case 1:o=!1;case 4:case 3:return d;case 2:return o?3:2;case 7:return o=!0,1;case 8:return 4;case 9:return r<1||r+1>=t.length||2!=(l=n[r-1])&&3!=l||2!=(c=t[r+1])&&3!=c?4:(o&&(c=3),c==l?c:4);case 10:return 2==(l=r>0?n[r-1]:5)&&r+1<t.length&&2==t[r+1]?2:4;case 11:if(r>0&&2==n[r-1])return 2;if(o)return 4;for(h=r+1,u=t.length;h<u&&11==t[h];)h++;return h<u&&2==t[h]?2:4;case 12:for(u=t.length,h=r+1;h<u&&12==t[h];)h++;if(h<u){var f=e[r];if(l=t[h],(f>=1425&&f<=2303||64286==f)&&(1==l||7==l))return 1}return r<1||5==(l=t[r-1])?4:n[r-1];case 5:return o=!1,s=!0,i;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:o=!1;case 18:return 4}}function p(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?0:u[t]:5==n?/[\u0591-\u05f4]/.test(e)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?11:/[\u06f0-\u06f9]/.test(e)?2:7:32==n&&t<=8287?h[255&t]:254==n&&t>=65136?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="\xb7",t.doBidiReorder=function(e,n,u){if(e.length<2)return{};var h=e.split(""),g=new Array(h.length),m=new Array(h.length),b=[];i=u?1:0,function(e,t,n,u){var h=i?c:l,d=null,g=null,m=null,b=0,v=null,y=-1,_=null,w=null,C=[];if(!u)for(_=0,u=[];_<n;_++)u[_]=p(e[_]);for(r=i,o=!1,s=!1,a=!1,w=0;w<n;w++){if(d=b,C[w]=g=f(e,u,C,w),v=240&(b=h[d][g]),t[w]=m=h[b&=15][5],v>0)if(16==v){for(_=y;_<w;_++)t[_]=1;y=-1}else y=-1;if(h[b][6])-1==y&&(y=w);else if(y>-1){for(_=y;_<w;_++)t[_]=m;y=-1}5==u[w]&&(t[w]=0),r|=m}if(a)for(_=0;_<n;_++)if(6==u[_]){t[_]=i;for(var S=_-1;S>=0&&8==u[S];S--)t[S]=i}}(h,b,h.length,n);for(var v=0;v<g.length;g[v]=v,v++);for(d(2,b,g),d(1,b,g),v=0;v<g.length-1;v++)3===n[v]?b[v]=t.AN:1===b[v]&&(n[v]>7&&n[v]<13||4===n[v]||18===n[v])?b[v]=t.ON_R:v>0&&"\u0644"===h[v-1]&&/\u0622|\u0623|\u0625|\u0627/.test(h[v])&&(b[v-1]=b[v]=t.R_H,v++);for(h[h.length-1]===t.DOT&&(b[h.length-1]=t.B),"\u202b"===h[0]&&(b[0]=t.RLE),v=0;v<g.length;v++)m[v]=b[g[v]];return{logicalFromVisual:g,bidiLevels:m}},t.hasBidiCharacters=function(e,t){for(var n=!1,i=0;i<e.length;i++)t[i]=p(e.charAt(i)),n||1!=t[i]&&7!=t[i]&&3!=t[i]||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("./lib/bidiutil"),r=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,i=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===i;)i=n,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t])),t==o.length&&(this.line+=this.showInvisibles?n:i.DOT)}else this.line+=this.showInvisibles?n:i.DOT;var s,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(s="\t"===e?a.getScreenTabSize(t+l):2,l+=s-1,r.stringRepeat(i.DOT,s)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];this.bidiMap=i.hasBidiCharacters(this.line,e)||this.isRtlDir?i.doBidiReorder(this.line,e,this.isRtlDir):{}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("\u05d4");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=t,this.charWidths[i.R]=this.charWidths[i.AN]=n,this.charWidths[i.R_H]=.45*n,this.charWidths[i.B]=this.charWidths[i.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),i=e.selection.getSelectionAnchor().row;i<=n.row;i++)t||e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:i},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(i,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,r=i.getVisualFromLogicalIdx(n,this.bidiMap),o=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=t&&o[r]%2!=0&&r++;for(var a=0;a<r;a++)s+=this.charWidths[o[a]];return!this.session.getOverwrite()&&e>t&&o[r]%2==0&&(s+=this.charWidths[o[r]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},this.getSelections=function(e,t){var n,i=this.bidiMap,r=i.bidiLevels,o=[],s=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,u=!1,h=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,f=0;f<r.length;f++)n=r[f],(c=(d=i.logicalFromVisual[f])>=a&&d<l)&&!u?h=s:!c&&u&&o.push({left:h,width:s-h}),s+=this.charWidths[n],u=c;if(c&&f===r.length&&o.push({left:h,width:s-h}),this.isRtlDir)for(var p=0;p<o.length;p++)o[p].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),i=0,r=this.bidiMap.bidiLevels,o=this.charWidths[r[i]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,i===r.length-1){o=0;break}o=this.charWidths[r[++i]]}return i>0&&r[i-1]%2!=0&&r[i]%2==0?(e<n&&i--,t=this.bidiMap.logicalFromVisual[i]):i>0&&r[i-1]%2==0&&r[i]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===r.length-1&&0===o&&r[i-1]%2==0||!this.isRtlDir&&0===i&&r[i]%2!=0?t=1+this.bidiMap.logicalFromVisual[i]:(i>0&&r[i-1]%2!=0&&0!==o&&i--,t=this.bidiMap.logicalFromVisual[i]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(s.prototype),t.BidiHandler=s})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))};(function(){i.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,i=t?e.start:e.end;this.$setSelection(n.row,n.column,i.row,i.column)},this.$setSelection=function(e,t,n,i){if(!this.$silent){var r=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,i),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===t?new s(i,0,n,this.session.getLine(n).length):new s(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var i=e.column,r=e.column+t;return n<0&&(i=e.column-t,r=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(i,r).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t=this.lead,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);r[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var o=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(r.lastIndex=0;(t=e[n])&&!r.test(t);)if(r.lastIndex=0,n++,i.test(t)){if(n>2){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var s=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var o=r.stringReverse(i),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];e<0?e-=r.rowsAbove||0:e>0&&(e+=r.rowCount-(r.rowsAbove||0))}var o=this.session.screenToDocumentPosition(i.row+e,i.column,n);this.moveCursorTo(o.row,o.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(r.charAt(t))&&r.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return s.fromPoints(t,n)}catch(i){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){"use strict";var i=e("./config"),r=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],i=[],r=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==h?c.token=c.token[0]:h-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=h>1?this.$applyToken:c.token),h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+r+1)})):(h=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[r]=l,r+=h,i.push(u),c.onMatch||(c.onMatch=null)}}i.length||(o[0]=0,i.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)}),this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){r=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],r=0,o=n.length;r<o;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;r<o;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,s,a,l){return i?i="]"!=a:a?i=!0:s?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=l)),e})),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var i=t||"start",o=this.states[i];o||(o=this.states[i="start"]);var s=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,c=[],u=0,h=0,d={type:null,value:""};l=a.exec(e);){var f=s.defaultToken,p=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var b=e.substring(u,m-g.length);d.type==f?d.value+=b:(d.type&&c.push(d),d={type:f,value:b})}for(var v=0;v<l.length-2;v++)if(void 0!==l[v+1]){f=(p=o[s[v]]).onMatch?p.onMatch(g,i,n,e):p.token,p.next&&(i="string"==typeof p.next?p.next:p.next(i,n),(o=this.states[i])||(this.reportError("state doesn't exist",i),o=this.states[i="start"]),s=this.matchMappings[i],u=m,(a=this.regExps[i]).lastIndex=m),p.consumeLineEnd&&(u=m);break}if(g)if("string"==typeof f)p&&!1===p.merge||d.type!==f?(d.type&&c.push(d),d={type:f,value:g}):d.value+=g;else if(f)for(d.type&&c.push(d),d={type:null,value:""},v=0;v<f.length;v++)c.push(f[v]);if(u==e.length)break;if(u=m,h++>r){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)d.type&&c.push(d),d={value:e.substring(u,u+=500),type:"overflow"};i="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}},this.reportError=i.reportError}).call(o.prototype),t.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var o=i[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,r,o){var s="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;a<r.length;a++)r[a]=t+r[a];else for(var l in r=[],s)r.push(t+l);if(this.addRules(s,t),n){var c=Array.prototype[o?"push":"unshift"];for(a=0;a<r.length;a++)c.apply(this.$rules[r[a]],i.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,i=this.$rules;Object.keys(i).forEach((function r(o){var s=i[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var h=l.stateName;h||("string"!=typeof(h=l.token)&&(h=h[0]||""),i[h]&&(h+=n++)),i[h]=u,l.next=h,r(h)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)i[d]?i[d].push&&i[d].push.apply(i[d],l.rules[d]):i[d]=l.rules[d];var f="string"==typeof l?l:l.include;if(f&&(c=Array.isArray(f)?f.map((function(e){return i[e]})):i[f]),c){var p=[a,1].concat(c);l.noEscape&&(p=p.filter((function(e){return!e.next}))),s.splice.apply(s,p),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(i||"|"),s=o.length;s--;){var a=o[s];this.$keywordList.push(a),n&&(a=a.toLowerCase()),r[a]=t}}),this),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),t.TextHighlightRules=r})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(i.prototype),t.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range,r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new i(this.$row,t,this.$row,t+e.value.length)}}).call(r.prototype),t.TokenIterator=r})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i,r=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u={},h={'"':'"',"'":"'"},d=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return i=u[t];i=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}},p=function e(t){this.add("braces","insertion",(function(n,r,o,s,l){var c=o.getCursorPosition(),u=s.doc.getLine(c.row);if("{"==l){d(o);var h=o.getSelectionRange(),p=s.doc.getTextRange(h);if(""!==p&&"{"!==p&&o.getWrapBehavioursEnabled())return f(h,p,"{","}");if(e.isSaneInsertion(o,s))return/[\]\}\)]/.test(u[c.column])||o.inMultiSelectMode||t&&t.braces?(e.recordAutoInsert(o,s,"}"),{text:"{}",selection:[1,1]}):(e.recordMaybeInsert(o,s,"{"),{text:"{",selection:[1,1]})}else if("}"==l){if(d(o),"}"==u.substring(c.column,c.column+1)&&null!==s.$findOpeningBracket("}",{column:c.column+1,row:c.row})&&e.isAutoInsertedClosing(c,u,l))return e.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==l||"\r\n"==l){d(o);var g="";if(e.isMaybeInsertedClosing(c,u)&&(g=a.stringRepeat("}",i.maybeInsertedBrackets),e.clearMaybeInsertedClosing()),"}"===u.substring(c.column,c.column+1)){var m=s.findMatchingBracket({row:c.row,column:c.column+1},"}");if(!m)return null;var b=this.$getIndent(s.getLine(m.row))}else{if(!g)return void e.clearMaybeInsertedClosing();b=this.$getIndent(u)}var v=b+s.getTabString();return{text:"\n"+v+"\n"+b+g,selection:[1,v.length,1,v.length]}}e.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){if(d(n),"}"==r.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(t,n,i,r,o){if("("==o){d(i);var s=i.getSelectionRange(),a=r.doc.getTextRange(s);if(""!==a&&i.getWrapBehavioursEnabled())return f(s,a,"(",")");if(e.isSaneInsertion(i,r))return e.recordAutoInsert(i,r,")"),{text:"()",selection:[1,1]}}else if(")"==o){d(i);var l=i.getCursorPosition(),c=r.doc.getLine(l.row);if(")"==c.substring(l.column,l.column+1)&&null!==r.$findOpeningBracket(")",{column:l.column+1,row:l.row})&&e.isAutoInsertedClosing(l,c,o))return e.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o&&(d(n),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(t,n,i,r,o){if("["==o){d(i);var s=i.getSelectionRange(),a=r.doc.getTextRange(s);if(""!==a&&i.getWrapBehavioursEnabled())return f(s,a,"[","]");if(e.isSaneInsertion(i,r))return e.recordAutoInsert(i,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==o){d(i);var l=i.getCursorPosition(),c=r.doc.getLine(l.row);if("]"==c.substring(l.column,l.column+1)&&null!==r.$findOpeningBracket("]",{column:l.column+1,row:l.row})&&e.isAutoInsertedClosing(l,c,o))return e.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o&&(d(n),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(e,t,n,i,r){var o=i.$mode.$quotes||h;if(1==r.length&&o[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;d(n);var s=r,a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(!(""===l||1==l.length&&o[l])&&n.getWrapBehavioursEnabled())return f(a,l,s,s);if(!l){var c=n.getCursorPosition(),u=i.doc.getLine(c.row),p=u.substring(c.column-1,c.column),g=u.substring(c.column,c.column+1),m=i.getTokenAt(c.row,c.column),b=i.getTokenAt(c.row,c.column+1);if("\\"==p&&m&&/escape/.test(m.type))return null;var v,y=m&&/string|escape/.test(m.type),_=!b||/string|escape/.test(b.type);if(g==s)(v=y!==_)&&/string\.end/.test(b.type)&&(v=!1);else{if(y&&!_)return null;if(y&&_)return null;var w=i.$mode.tokenRe;w.lastIndex=0;var C=w.test(p);w.lastIndex=0;var S=w.test(p);if(C||S)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var O=u[c.column-2];if(p==s&&(O==s||w.test(O)))return null;v=!0}return{text:v?s+s:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var o=i.$mode.$quotes||h,s=i.doc.getTextRange(r);if(!r.isMultiLine()&&o.hasOwnProperty(s)&&(d(n),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s))return r.end.column++,r}))};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new s(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var r=new s(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",c)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=n+o.substr(r.column),i.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=o.substr(0,r.column)+n,i.maybeInsertedLineEnd=o.substr(r.column),i.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,n){return i.autoInsertedBrackets>0&&e.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&t.substr(e.column)===i.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return i.maybeInsertedBrackets>0&&e.row===i.maybeInsertedRow&&t.substr(e.column)===i.maybeInsertedLineEnd&&t.substr(0,e.column)==i.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},r.inherits(p,o),t.CstyleBehaviour=p})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";for(var i=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,o=[],s=0;s<i.length;s+=2)o.push(r+=i[s]),i[s+1]&&o.push(45,r+=i[s+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../config"),r=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,u=e("../range").Range,h=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){var r=t.doc,o=!0,s=!0,a=1/0,c=t.getTabSize(),u=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(g=this.lineCommentStart.map(l.escapeRegExp).join("|"),f=this.lineCommentStart[0]):(g=l.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart),g=new RegExp("^(\\s*)(?:"+g+") ?"),u=t.getUseSoftTabs(),v=function(e,t){var n=e.match(g);if(n){var i=n[1].length,o=n[0].length;d(e,i,o)||" "!=n[0][o-1]||o--,r.removeInLine(t,i,o)}};var h=f+" ",d=(b=function(e,t){o&&!/\S/.test(e)||(d(e,a,a)?r.insertInLine({row:t,column:a},h):r.insertInLine({row:t,column:a},f))},y=function(e,t){return g.test(e)},function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%c!=0)return!1;for(i=0;" "==e.charAt(n++);)i++;return c>2?i%c!=c-1:i%c==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,p=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+l.escapeRegExp(f)+")"),m=new RegExp("(?:"+l.escapeRegExp(p)+")\\s*$"),b=function(e,t){y(e,t)||o&&!/\S/.test(e)||(r.insertInLine({row:t,column:e.length},p),r.insertInLine({row:t,column:a},f))},v=function(e,t){var n;(n=e.match(m))&&r.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(g))&&r.removeInLine(t,n[1].length,n[0].length)},y=function(e,n){if(g.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}function _(e){for(var t=n;t<=i;t++)e(r.getLine(t),t)}var w=1/0;_((function(e,t){var n=e.search(/\S/);-1!==n?(n<a&&(a=n),s&&!y(e,t)&&(s=!1)):w>e.length&&(w=e.length)})),a==1/0&&(a=w,o=!1,s=!1),u&&a%c!=0&&(a=Math.floor(a/c)*c),_(s?v:b)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,a=(g=new c(t,i.row,i.column)).getCurrentToken(),l=t.selection.toOrientedRange();if(a&&/comment/.test(a.type)){for(var h,d;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(r.start))){var f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;h=new u(f,p,f,p+r.start.length);break}a=g.stepBackward()}var g;for(a=(g=new c(t,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(r.end))){f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m,d=new u(f,p,f,p+r.end.length);break}a=g.stepForward()}d&&t.remove(d),h&&(t.remove(h),o=h.start.row,s=-r.start.length)}else s=r.start.length,o=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);l.start.row==o&&(l.start.column+=s),l.end.row==o&&(l.end.column+=s),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],r=n.prototype.$id,o=i.$modes[r];o||(i.$modes[r]=o=new n),i.$modes[t]||(i.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<s.length;t++)!function(e){var n=s[t],i=e[n];e[s[t]]=function(){return this.$delegator(n,arguments,i)}}(this)},this.$delegator=function(e,t,n){var i=t[0]||"start";if("string"!=typeof i){if(Array.isArray(i[2])&&(o=this.$modes[i[2][i[2].length-1]]))return o[e].apply(o,[i[1]].concat([].slice.call(t,1)));i=i[0]||"start"}for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var o,s=i.split(this.$embeds[r]);if(!s[0]&&s[1])return t[0]=s[1],(o=this.$modes[this.$embeds[r]])[e].apply(o,t)}var a=n.apply(this,t);return n?a:void 0},this.transformAction=function(e,t,n,i,r){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][t]){var a=o[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],o=0,s=r.length;o<s;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"==typeof r[o].token)for(var a=0,l=r[o].token.length;a<l;a++)/keyword|support|storage/.test(r[o].token[a])&&(i=r[o].regex.match(/\(.+?\)/g)[a],n.push(i.substr(1,i.length-2)));this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(h.prototype),t.Mode=h})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var i=t.start.row,r=t.start.column,o=e[i]||"";switch(t.action){case"insert":if(1===t.lines.length)e[i]=o.substring(0,r)+t.lines[0]+o.substring(r);else{var s=[i,1].concat(t.lines);e.splice.apply(e,s),e[i]=o.substring(0,r)+e[i],e[i+t.lines.length-1]+=o.substring(r)}break;case"remove":var a=t.end.column,l=t.end.row;i===l?e[i]=o.substring(0,r)+o.substring(a):e.splice(i,l-i+1,o.substring(0,r)+e[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){return e.row<t.row||e.row==t.row&&(n?e.column<=t.column:e.column<t.column)}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var n=function(t,n,i){var r="insert"==t.action,o=(r?1:-1)*(t.end.row-t.start.row),s=(r?1:-1)*(t.end.column-t.start.column),a=t.start,l=r?a:t.end;return e(n,a,i)?{row:n.row,column:n.column}:e(l,n,!i)?{row:n.row+o,column:n.column+(n.row==l.row?s:0)}:{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){i.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},this.$split=0==="aaa".split(/a/).length?function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var i=this.getLine(e);return null==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),r=this.clippedPos(e,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,i=t<this.getLength()-1,r=n?e-1:e,o=n?this.getLine(r).length:0,a=i?t+1:t,l=i?0:this.getLine(a).length,c=new s(r,o,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(r(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length-t+1,r=e.start.row,o=e.start.column,s=0,a=0;s<i;s=a){var l=n.slice(s,a+=t-1);l.push(""),this.applyDelta({start:this.pos(r+s,o),end:this.pos(r+a,o=0),action:e.action,lines:l},!0)}e.lines=n.slice(s),e.start.row=r+s,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,o=n.length;r<o;r++)if((e-=n[r].length+i)<0)return{row:r,column:e+n[r].length+i};return{row:o-1,column:e+n[o-1].length+i}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(e.row,n.length),s=t||0;s<o;++s)r+=n[s].length+i;return r+e.column}}).call(l.prototype),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,r=n.doc,o=t;n.lines[t];)t++;var s=r.getLength(),a=0;for(n.running=!1;t<s;){n.$tokenizeRow(t),i=t;do{t++}while(n.lines[t]);if(++a%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==i&&(i=t),o<=i&&n.fireUpdateEvent(o,i)}}};(function(){i.implement(this,r),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){this._signal("update",{data:{first:e,last:t}})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.tokenizer.getLineTokens(t,this.states[e-1],e);return this.states[e]+""!=n.state+""?(this.states[e]=n.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=n.tokens}}).call(o.prototype),t.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var s=o.lastRow,a=o.firstRow;a<=s;a++){var l=this.cache[a];null==l&&((l=i.getMatchOffsets(n.getLine(a),this.regExp)).length>this.MAX_RANGES&&(l=l.slice(0,this.MAX_RANGES)),l=l.map((function(e){return new r(a,e.offset,a,e.offset+e.length)})),this.cache[a]=l.length?l:"");for(var c=l.length;c--;)t.drawSingleLineMarker(e,l[c].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range;function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,r,o=0,s=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<s.length;l++){if(-1==(r=(i=s[l]).range.compareStart(t,n)))return void e(null,t,n,o,a);if(!e(null,i.start.row,i.start.column,o,a)&&e(i.placeholder,i.start.row,i.start.column,o)||0===r)return;a=!i.sameRow,o=i.end.column}e(null,t,n,o,a)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,o=this.getNextFoldTo(e,t);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var s=(r=this.folds).indexOf(i);for(0===s&&(this.start.column+=n);s<r.length;s++){if((i=r[s]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var i=this.folds,o=this.foldData,s=i.indexOf(n.fold),a=i[s-1];this.end.row=a.end.row,this.end.column=a.end.column;var l=new r(o,i=i.splice(s,i.length-s));return o.splice(o.indexOf(this)+1,0,l),l},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range.comparePoints,r=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,o=n||0;o<r.length;o++){var s=r[o],a=i(e,s.end);if(!(a>0)){var l=i(e,s.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,r=(n=n.sort((function(e,t){return i(e.start,t.start)})))[0],o=1;o<n.length;o++){var s=i((e=r).end,(r=n[o]).start);s<0||(0!=s||e.isEmpty()||r.isEmpty())&&(i(e.end,r.end)<0&&(e.end.row=r.end.row,e.end.column=r.end.column),n.splice(o,1),t.push(r),r=e,o--)}return this.ranges=n,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var o=[],s=i;s<r;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,i=t.row,r=n.row,o=this.ranges,s=0,a=o.length;s<a&&!((u=o[s]).end.row>=i);s++);if("insert"==e.action){for(var l=r-i,c=-t.column+n.column;s<a&&!((u=o[s]).start.row>i);s++)if(u.start.row==i&&u.start.column>=t.column&&(u.start.column==t.column&&this.$bias<=0||(u.start.column+=c,u.start.row+=l)),u.end.row==i&&u.end.column>=t.column){if(u.end.column==t.column&&this.$bias<0)continue;u.end.column==t.column&&c>0&&s<a-1&&u.end.column>u.start.column&&u.end.column==o[s+1].start.column&&(u.end.column-=c),u.end.column+=c,u.end.row+=l}}else for(l=i-r,c=t.column-n.column;s<a&&!((u=o[s]).start.row>r);s++)u.end.row<r&&(i<u.end.row||i==u.end.row&&t.column<u.end.column)?(u.end.row=i,u.end.column=t.column):u.end.row==r?u.end.column<=n.column?(l||u.end.column>t.column)&&(u.end.column=t.column,u.end.row=t.row):(u.end.column+=c,u.end.row+=l):u.end.row>r&&(u.end.row+=l),u.start.row<r&&(i<u.start.row||i==u.start.row&&t.column<u.start.column)?(u.start.row=i,u.start.column=t.column):u.start.row==r?u.start.column<=n.column?(l||u.start.column>t.column)&&(u.start.column=t.column,u.start.row=t.row):(u.start.column+=c,u.start.row+=l):u.start.row>r&&(u.start.row+=l);if(0!=l&&s<a)for(;s<a;s++){var u;(u=o[s]).start.row+=l,u.end.row+=l}}}).call(r.prototype),t.RangeList=r})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("../range_list").RangeList,r=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function s(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}r.inherits(o,i),(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){var t,n;s((t=e).start,n=this.start),s(t.end,n);for(var i=e.start.row,r=e.start.column,o=0,a=-1;o<this.subFolds.length&&1==(a=this.subFolds[o].range.compare(i,r));o++);var l=this.subFolds[o],c=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);c=1}i=e.range.end.row,r=e.range.end.column;var u=o;for(a=-1;u<this.subFolds.length&&1==(a=this.subFolds[u].range.compare(i,r));u++);0==a&&u++;for(var h=this.subFolds.splice(o,u-o,e),d=0==a?h.length-1:h.length,f=c;f<d;f++)e.addSubFold(h[f]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}).call(o.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("./fold_line").FoldLine,o=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,o=0;o<r.length;o++){var s=r[o].range;if(s.contains(e,t)){if(1==n&&s.isEnd(e,t)&&!s.isEmpty())continue;if(-1==n&&s.isStart(e,t)&&!s.isEmpty())continue;return r[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var s=i[o].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=i[o].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(s=c.range.compareRange(e)))break;if(2!=s){if(42==s)break;r.push(c)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var r,o,s={end:{column:0}},a=0;a<i.folds.length;a++){var l=(o=i.folds[a]).range.compareEnd(e,t);if(-1==l){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),-1==n?r.substring(0,t-s.end.column):1==n?r.substring(t-s.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var o=n[r],s=o.end.row,a=o.start.row;if(s>=t){a<t&&(a>=e?i-=t-a:i=0);break}s>=e&&(i-=a>=e?s-a:s-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,i=this.$foldData,s=!1;e instanceof o?n=e:(n=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column,h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(c,u)&&this.removeFold(d);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),n.collapseChildren||f.forEach((function(e){n.addSubFold(e)})));for(var p=0;p<i.length;p++){var g=i[p];if(c==g.start.row){g.addFold(n),s=!0;break}if(a==g.end.row){if(g.addFold(n),s=!0,!n.sameRow){var m=i[p+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return s||(g=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,o=t.folds;if(1==o.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);(o=s.folds).shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new i(0,0,this.getLength(),0),null==t&&(t=!0)):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),0!=t?this.removeFolds(r):this.expandFolds(r),r.length)return r},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk((function(e,t,n,a){if(!(t<i)){if(t==i){if(n<r)return;a=Math.max(r,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}}),t,n),s},this.getDisplayLine=function(e,t,n,i){var r,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,i):(r=this.doc.getLine(e)).substring(i||0,t||r.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new r(e,n)}))},this.toggleFold=function(e){var t,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(t=this.getFoldAt(r.row,r.column))return void this.expandFold(t);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var o=this.getFoldsInRange(i);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var s="...";if(!i.isMultiLine()){if((s=this.getTextRange(i)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,i)}},this.getCommentFoldRange=function(e,t,n){var r=new s(this,e,t),o=r.getCurrentToken(),a=o&&o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new i;if(1!=n){do{o=r.stepBackward()}while(o&&l.test(o.type));r.stepForward()}if(c.start.row=r.getCurrentTokenRow(),c.start.column=r.getCurrentTokenColumn()+2,r=new s(this,e,t),-1!=n){var u=-1;do{if(o=r.stepForward(),-1==u){var h=this.getState(r.$row);l.test(h)||(u=r.$row)}else if(r.$row>u)break}while(o&&l.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return c.end.row=r.getCurrentTokenRow(),c.end.column=r.getCurrentTokenColumn()+o.value.length-2,c}},this.foldAll=function(e,t,n,i){null==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==r[o]&&(r[o]=this.getFoldWidget(o)),"start"==r[o]&&(!i||i(o))){var s=this.getFoldWidgetRange(o);s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e&&(o=s.end.row,s.collapseChildren=n,this.addFold("...",s))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),i=0;i<n.length;i++){var r=n[i];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(i||(i=s),s&&s.end.row>=e)break}r--}return{range:-1!==r&&s,firstRange:i}},this.onFoldWidgetClick=function(e,t){if(!this.$toggleFoldWidget(e,{children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey})){var n=t.target||t.srcElement;n&&/ace_fold-widget/.test(n.className)&&(n.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,o=this.getFoldAt(e,-1===r?0:i.length,r);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){var r=this.getFoldAt(t=n.start.row,this.getLine(t).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,o=n.charAt(e.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],e)))return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],e)))return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),n=t.charAt(e.column-1),i=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(i||(n=t.charAt(e.column),e={row:e.row,column:e.column+1},i=n&&n.match(/([\(\[\{])|([\)\]\}])/)),!i)return null;var o=new r(e.row,e.column-1,e.row,e.column),s=i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e);return s?[o,new r(s.row,s.column,s.row,s.column+1)]:[o]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do{a=s.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var h=c.charAt(l);if(h==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==e&&(o+=1);l+=1}do{a=s.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),o=e("./bidihandler").BidiHandler,s=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,u=e("./range").Range,h=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,f=e("./search_highlight").SearchHighlight,p=function e(t,n){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++e.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new h(t)),this.setDocument(t),this.selection=new l(this),this.$bidiHandler=new o(this),s.resetOptions(this),this.setMode(n),s._signal("session",this)};p.$uid=0,(function(){i.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,o=e[r];if(t>o)n=r+1;else{if(!(t<o))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){this.$resetRowCache(e.data.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t){var o=i.length-1;r=this.getLine(e).length}else for(o=0;o<i.length&&!((r+=i[o].value.length)>=t);o++);return(n=i[o])?(n.index=o,n.start=r-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var r=new u(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else r=/^\s+$/.test(n.slice(t-1,t+1))?/\s/:this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(r));o++}for(var s=t;s<n.length&&n.charAt(s).match(r);)s++;return new u(e,o,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){this.bgTokenizer.start(e.data.first),this._signal("tokenizerUpdate",e)},this.$modes=s.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=e.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,s.loadModule(["mode",i],(function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.on){var r=this.onReloadTokenizer.bind(this);i.on("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(i);else{this.bgTokenizer=new d(i);var o=this;this.bgTokenizer.on("update",(function(e){o._signal("tokenizerUpdate",e)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>s){if((l=o.end.row+1)>=a)break;s=(o=this.$foldData[r++])?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var i=e[n];"insert"==i.action||"remove"==i.action?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var i=e[n];"insert"!=i.action&&"remove"!=i.action||this.doc.$safeApplyDelta(i)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var i,r,o=0;o<e.length;o++){var s=e[o];s.start&&(i?n(s)?(-1==i.compare((r=s.start).row,r.column)&&i.setStart(r),1==i.compare((r=s.end).row,r.column)&&i.setEnd(r)):-1==i.compare((r=s.start).row,r.column)&&(i=u.fromPoints(s.start,s.start)):i=n(s)?u.fromPoints(s.start,s.end):u.fromPoints(s.start,s.start))}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),o=u.fromPoints(t,t);if(n||(this.remove(e),(c=(l=e.start.row-e.end.row)?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=c),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=c)),l&&o.start.row>=e.end.row&&(o.start.row+=l,o.end.row+=l)),o.end=this.insert(o.start,i),r.length){var s=e.start,a=o.start,l=a.row-s.row,c=a.column-s.column;this.addFolds(r.map((function(e){return(e=e.clone()).start.row==s.row&&(e.start.column+=c),e.end.row==s.row&&(e.end.column+=c),e.start.row+=l,e.end.row+=l,e})))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var s=0;s<i&&" "==o.charAt(s);++s);s<i&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((r=this.getRowFoldStart(e+n))<0)return 0;var i=r-e}else if(n>0){var r;if((r=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;i=r-t}else e=this.$clipRowToDocument(e),i=(t=this.$clipRowToDocument(t))-e+1;var o=new u(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=i,e.end.row+=i,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),s.length&&this.addFolds(s),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,i=e.start,r=e.end,o=i.row,s=r.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=0;if(g=this.getFoldLine(r.row)){g.addRemoveChars(r.row,r.column,i.column-r.column),g.shiftRow(-a);var h=this.getFoldLine(o);h&&h!==g&&(h.merge(g),g=h),u=c.indexOf(g)+1}for(;u<c.length;u++)(g=c[u]).start.row>=r.row&&g.shiftRow(-a);s=o}else{var d=Array(a);d.unshift(o,0);var f=t?this.$wrapData:this.$rowLengthCache;if(f.splice.apply(f,d),c=this.$foldData,u=0,g=this.getFoldLine(o)){var p=g.range.compareInside(i.row,i.column);0==p?(g=g.split(i.row,i.column))&&(g.shiftRow(a),g.addRemoveChars(s,0,r.column-i.column)):-1==p&&(g.addRemoveChars(o,0,r.column-i.column),g.shiftRow(a)),u=c.indexOf(g)+1}for(;u<c.length;u++){var g;(g=c[u]).start.row>=o&&g.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(g=this.getFoldLine(o))&&g.addRemoveChars(o,i.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(n,i){var r,o,s=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,u=n;for(i=Math.min(i,s.length-1);u<=i;)(o=this.getFoldLine(u,o))?(r=[],o.walk((function(n,i,o,a){var l;if(null!=n){(l=this.$getDisplayTokens(n,r.length))[0]=e;for(var c=1;c<l.length;c++)l[c]=t}else l=this.$getDisplayTokens(s[i].substring(a,o),r.length);r=r.concat(l)}).bind(this),o.end.row,s[o.end.row].length+1),l[o.start.row]=this.$computeWrapSplits(r,c,a),u=o.end.row+1):(r=this.$getDisplayTokens(s[u]),l[u]=this.$computeWrapSplits(r,c,a),u++)};var e=3,t=4;function n(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(n,i,r){if(0==n.length)return[];var o=[],s=n.length,a=0,l=0,c=this.$wrapAsCode,u=this.$indentedSoftWrap,h=i<=Math.max(2*r,8)||!1===u?0:Math.floor(i/2);function d(e){for(var t=e-a,i=a;i<e;i++){var s=n[i];12!==s&&2!==s||(t-=1)}o.length||(f=function(){var e=0;if(0===h)return e;if(u)for(var t=0;t<n.length;t++){var i=n[t];if(10==i)e+=1;else{if(11!=i){if(12==i)continue;break}e+=r}}return c&&!1!==u&&(e+=r),Math.min(e,h)}(),o.indent=f),o.push(l+=t),a=e}for(var f=0;s-a>i-f;){var p=a+i-f;if(n[p-1]>=10&&n[p]>=10)d(p);else if(n[p]!=e&&n[p]!=t){for(var g=Math.max(p-(i-(i>>2)),a-1);p>g&&n[p]<e;)p--;if(c){for(;p>g&&n[p]<e;)p--;for(;p>g&&9==n[p];)p--}else for(;p>g&&n[p]<10;)p--;p>g?d(++p):(2==n[p=a+i]&&p--,d(p-f))}else{for(;p!=a-1&&n[p]!=e;p--);if(p>a){d(p);continue}for(p=a+i;p<n.length&&n[p]==t;p++);if(p==n.length)break;d(p)}}return o},this.$getDisplayTokens=function(e,t){var i,r=[];t=t||0;for(var o=0;o<e.length;o++){var s=e.charCodeAt(o);if(9==s){i=this.getScreenTabSize(r.length+t),r.push(11);for(var a=1;a<i;a++)r.push(12)}else 32==s?r.push(10):s>39&&s<48||s>57&&s<64?r.push(9):s>=4352&&n(s)?r.push(1,2):r.push(1)}return r},this.$getStringScreenWidth=function(e,t,i){if(0==t)return[0,0];var r,o;for(null==t&&(t=1/0),i=i||0,o=0;o<e.length&&(9==(r=e.charCodeAt(o))?i+=this.getScreenTabSize(i):r>=4352&&n(r)?i+=2:i+=1,!(i>t));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var i,r,o=0,s=0,a=0,l=0,c=this.$screenRowCache,u=this.$getRowCacheIndex(c,e),h=c.length;if(h&&u>=0){a=c[u],o=this.$docRowCache[u];var d=e>c[h-1]}else d=!h;for(var f=this.getLength()-1,p=this.getNextFoldLine(o),g=p?p.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(o))>e||o>=f);)a+=l,++o>g&&(g=(p=this.getNextFoldLine(o=p.end.row+1,p))?p.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(p&&p.start.row<=o)i=this.getFoldDisplayLine(p),o=p.start.row;else{if(a+l<=e||o>f)return{row:f,column:this.getLine(f).length};i=this.getLine(o),p=null}var m=0,b=Math.floor(e-a);if(this.$useWrapMode){var v=this.$wrapData[o];v&&(r=v[b],b>0&&v.length&&(m=v.indent,i=i.substring(s=v[b-1]||v[v.length-1])))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+b,o,b)&&(t=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(i,t-m)[1],this.$useWrapMode&&s>=r&&(s=r-1),p?p.idxToPosition(s):{row:o,column:s}},this.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);var i,r=0,o=null;(i=this.getFoldAt(e=n.row,t=n.column,1))&&(e=i.start.row,t=i.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0){a=l[c],r=this.$screenRowCache[c];var h=e>l[u-1]}else h=!u;for(var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;a<e;){if(a>=f){if((s=d.end.row+1)>e)break;f=(d=this.getNextFoldLine(s,d))?d.start.row:1/0}else s=a+1;r+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var p="";d&&a>=f?(p=this.getFoldDisplayLine(d,e,t),o=d.start.row):(p=this.getLine(e).substring(0,t),o=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){for(var b=0;p.length>=m[b];)r++,b++;p=p.substring(m[b-1]||0,p.length),g=b>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(r+=this.lineWidgets[a].rowsAbove),{row:r,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);i<n;){var o=this.$wrapData[i];e+=o?o.length+1:1,++i>r&&(i=t.end.row+1,r=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)e-=(t=s[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];var r,o;for(n||(n=1/0),i=i||0,o=0;o<t.length&&!((i+="\t"===(r=t.charAt(o))?this.getScreenTabSize(i):e.getCharacterWidth(r))>n);o++);return[i,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=n}).call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),s.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=p})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=e("./lib/oop"),o=e("./range").Range,s=function(){this.$options={}};(function(){this.set=function(e){return r.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach((function(e,n,r,s){return i=new o(e,n,r,s),!(n==s&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start)&&(i=null,1))})),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=r.length-c;e:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<c;d++)if(-1==r[h+d].search(a[d]))continue e;var f=r[h],p=r[h+c-1],g=f.length-f.match(a[0])[0].length,m=p.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>g||(s.push(l=new o(h,g,h+c-1,m)),c>2&&(h=h+c-2))}}else for(var b=0;b<r.length;b++){var v=i.getMatchOffsets(r[b],a);for(d=0;d<v.length;d++){var y=v[d];s.push(new o(b,y.offset,b,y.offset+y.length))}}if(n){var _=n.start.column,w=n.start.column;for(b=0,d=s.length-1;b<d&&s[b].start.column<_&&s[b].start.row==n.start.row;)b++;for(;b<d&&s[d].end.column>w&&s[d].end.row==n.end.row;)d--;for(s=s.slice(b,d+1),b=0,d=s.length;b<d;b++)s[b].start.row+=n.start.row,s[b].end.row+=n.start.row}return s},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];t[o]=s&&s.toLowerCase()!=s?t[o].toUpperCase():t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var r=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,r);try{var o=new RegExp(n,r)}catch(s){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(o){return!1}return i},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i=1==t.backwards,r=0!=t.skipCurrent,o=t.range,s=t.start;s||(s=o?o[i?"end":"start"]:e.selection.getRange()),s.start&&(s=s[r!=i?"end":"start"]);var a=o?o.start.row:0,l=o?o.end.row:e.getLength()-1;if(i)var c=function(e){var n=s.row;if(!h(n,s.column,e)){for(n--;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=l,a=s.row;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return}};else c=function(e){var n=s.row;if(!h(n,s.column,e)){for(n+=1;n<=l;n++)if(h(n,0,e))return;if(0!=t.wrap)for(n=a,l=s.row;n<=l;n++)if(h(n,0,e))return}};if(t.$isMultiLine)var u=n.length,h=function(t,r,o){var s=i?t-u+1:t;if(!(s<0)){var a=e.getLine(s),l=a.search(n[0]);if(!(!i&&l<r||-1===l)){for(var c=1;c<u;c++)if(-1==(a=e.getLine(s+c)).search(n[c]))return;var h=a.match(n[u-1])[0].length;if(!(i&&h>r))return!!o(s,l,s+u-1,h)||void 0}}};else h=i?function(t,i,r){var o,s=e.getLine(t),a=[],l=0;for(n.lastIndex=0;o=n.exec(s);){if(l=o.index,!(u=o[0].length)){if(l>=s.length)break;n.lastIndex=l+=1}if(o.index+u>i)break;a.push(o.index,u)}for(var c=a.length-1;c>=0;c-=2){var u,h=a[c-1];if(r(t,h,t,h+(u=a[c])))return!0}}:function(t,i,r){var o,s,a=e.getLine(t);for(n.lastIndex=i;s=n.exec(a);){var l=s[0].length;if(r(t,o=s.index,t,o+l))return!0;if(!l&&(n.lastIndex=o+=1,o>=a.length))return!1}};return{forEach:c}}}).call(s.prototype),t.Search=s})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/useragent"),o=i.KEY_MODS;function s(e,t){this.platform=t||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){s.call(this,e,t),this.$singleCommand=!1}a.prototype=s.prototype,(function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var o=i[r];if(o==e)delete i[r];else if(Array.isArray(o)){var s=o.indexOf(e);-1!=s&&(o.splice(s,1),1==o.length&&(i[r]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach((function(e){var t=this.parseKeys(e);this._addCommandToBinding(i+=(i?" ":"")+(o[t.hashId]+t.key),"chainKeys")}),this),i+=" "}var s=this.parseKeys(e);this._addCommandToBinding(i+(o[s.hashId]+s.key),t,n)}),this)},this._addCommandToBinding=function(t,n,i){var r,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?-1!=(r=o[t].indexOf(n))&&o[t].splice(r,1):o[t]=[o[t]],"number"!=typeof i&&(i=e(n));var s=o[t];for(r=0;r<s.length&&!(e(s[r])>i);r++);s.splice(r,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=i.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){return this.commandKeyBinding[o[e]+t]},this.handleKeyboard=function(e,t,n,i){if(!(i<0)){var r=o[t]+n,s=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:s}):(e.$keyChain=e.$keyChain||r,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}).call(s.prototype),t.HashHandler=s,t.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,s=function(e,t){r.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.command.exec(e.editor,e.args||{})}))};i.inherits(s,r),(function(){i.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(e){this.macro.push([e.command,e.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}).call(s.prototype),t.CommandManager=s})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";var i=e("../lib/lang"),r=e("../config"),o=e("../range").Range;function s(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",bindKey:s("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:s("Alt-E","F4"),exec:function(e){r.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(e){r.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:s("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:s("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=r.row+1;c++){var u=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(c)));0!==u.length&&(u=" "+u),l+=u}r.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,r.row+2,0),l),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row===t&&i[s].end.column===n||r.push(new o(i[s].end.row,i[s].end.column,t,n))),0===s?0===i[s].start.row&&0===i[s].start.column||r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));for(e.exitMultiSelectMode(),e.clearSelection(),s=0;s<r.length;s++)e.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:s("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,d=e("./search").Search,f=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,b=e("./config"),v=e("./token_iterator").TokenIterator,y=e("./clipboard"),_=function e(t,n,i){this.$toDestroy=[];var r=t.getContainerElement();this.container=r,this.renderer=t,this.id="editor"+ ++e.$uid,this.commands=new g(s.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new a(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new u(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall((function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(n||i&&i.session||new h("")),b.resetOptions(this),i&&this.setOptions(i),b._signal("editor",this)};_.$uid=0,(function(){i.implement(this,p),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;b.loadModule(["keybinding",e],(function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=t.getMatchingBracketRanges(e.getCursorPosition());if(!n&&t.$mode.getMatching&&(n=t.$mode.getMatching(e.session)),n){var i="ace_bracket";Array.isArray(n)?1==n.length&&(i="ace_error_bracket"):n=[n],2==n.length&&(0==f.comparePoints(n[0].end,n[1].start)?n=[f.fromPoints(n[0].start,n[1].end)]:0==f.comparePoints(n[0].start,n[1].end)&&(n=[f.fromPoints(n[1].start,n[0].end)])),t.$bracketHighlight={ranges:n,markerIds:n.map((function(e){return t.addMarker(e,i,"text")}))}}}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),i=new v(e.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1===r.type.indexOf("tag-open")||(r=i.stepForward())){var o=r.value,s=r.value,a=0,l=i.stepBackward();if("<"===l.value)do{l=r,(r=i.stepForward())&&(-1!==r.type.indexOf("tag-name")?o===(s=r.value)&&("<"===l.value?a++:"</"===l.value&&a--):o===s&&"/>"===r.value&&a--)}while(r&&a>=0);else{do{if(r=l,l=i.stepBackward(),r)if(-1!==r.type.indexOf("tag-name"))o===r.value&&("<"===l.value?a++:"</"===l.value&&a--);else if("/>"===r.value){for(var c=0,u=l;u;){if(-1!==u.type.indexOf("tag-name")&&u.value===o){a--;break}if("<"===u.value)break;u=i.stepBackward(),c++}for(var h=0;h<c;h++)i.stepForward()}}while(l&&a<=0);i.stepForward()}if(!r)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var d=i.getCurrentTokenRow(),p=i.getCurrentTokenColumn(),g=new f(d,p,d,p+r.value.length),m=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&null!=m&&0!==g.compareRange(m.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(g,"ace_bracket","text"))}}}),50)}},this.focus=function(){var e=this;setTimeout((function(){e.isFocused()||e.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){this.renderer.updateLines(e.start.row,e.start.row==e.end.row?e.end.row:1/0,this.session.$useWrapMode),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new f(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,i=t.end.column,r=e.getLine(t.start.row),o=r.substring(n,i);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=r.substring(n-1,i+1);if(s.test(a))return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var i=this.selection.getAllRanges(),r=0;r<i.length;r++){var o=i[r];r&&i[r-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var s={text:e};return this._signal("copy",s),y.lineMode=n?s.text:"",s.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){this.commands.exec("paste",this,{text:e,event:t})},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t==y.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?i.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){i.insert({row:e.start.row,column:0},t)}));else{var r=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges;if(r.length!=o.length||!(2!=r.length||r[0]&&r[1]))return this.commands.exec("insertstring",this,t);for(var s=o.length;s--;){var a=o[s];a.isEmpty()||i.remove(a),i.insert(a.start,r[s])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=i.transformAction(n.getState(r.row),"insertion",this,n,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==e.indexOf("\n")&&((s=new f.fromPoints(r,r)).end.column+=e.length,this.session.remove(s));else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,u=n.getState(r.row),h=(a=n.getLine(r.row),i.checkOutdent(u,a,e));if(n.insert(r,e),o&&o.selection&&this.selection.setSelectionRange(2==o.selection.length?new f(r.row,c+o.selection[0],r.row,c+o.selection[1]):new f(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3])),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var d=i.getNextLineIndent(u,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}h&&i.autoOutdent(u,n,r.row)}},this.autoIndent=function(){var e,t,n=this.session,i=n.getMode();if(this.selection.isEmpty())e=0,t=n.doc.getLength()-1;else{var r=this.getSelectionRange();e=r.start.row,t=r.end.row}for(var o,s,a,l="",c="",u="",h=n.getTabString(),d=e;d<=t;d++)d>0&&(l=n.getState(d-1),c=n.getLine(d-1),u=i.getNextLineIndent(l,c,h)),o=n.getLine(d),u!==(s=i.$getIndent(o))&&(s.length>0&&(a=new f(d,0,d,s.length),n.remove(a)),u.length>0&&n.insert({row:d,column:0},u)),i.autoOutdent(l,n,d)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove()),!e&&this.selection.isEmpty()||this.insert(e,!0),(t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);t<r.length?(n=r.charAt(t)+r.charAt(t-1),i=new f(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new f(e.row,t-2,e.row,t)),this.session.replace(i,n),this.session.selection.moveToPosition(i.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n))return u=this.$getSelectedRows(),void e.indentRows(u.first,u.last,"\t")}var i=e.getLine(t.start.row),r=t.start,s=e.getTabSize(),a=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=o.stringRepeat(" ",c=s-a%s);else{for(var c=a%s;" "==i[t.start.column-1]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),l="\t"}return this.insert(l)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var r=new f(0,0,0,0);for(i=e.first;i<=e.last;i++){var o=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=o.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new f(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),l+=e*=s!==o.end&&n<s?Math.pow(10,o.end-n-1):Math.pow(10,o.end-n);var c=(l/=Math.pow(10,a)).toFixed(a),u=new f(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),i=this.selection.getWordRange().start.column,r=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=t-i-1;s<0&&(s=0);var a=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&r.forEach((function(t,r){l=a+t.length,s>=a&&s<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,a+i),c.selection.selectTo(e,l+i)),a=l}));for(var u,h=this.$toggleWordPairs,d=0;d<h.length;d++)for(var f=h[d],p=0;p<=1;p++){var g=+!p,m=n.match(new RegExp("^\\s?_?("+o.escapeRegExp(f[p])+")\\s?$","i"));m&&n.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(m[1])+")($|\\s)","g"))&&(u=n.replace(new RegExp(o.escapeRegExp(f[p]),"i"),(function(e){var t=f[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+f[g].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(u),u="")}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var o=i?n.start:n.end,s=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=s,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),o.moveBy(i,0),r.fromOrientedRange(o)}else{var s=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,u=0;u<c;u++){var h=u;s[u].moveBy(a,0);for(var d=(n=this.$getSelectedRows(s[u])).first,f=n.last;++u<c;){l&&s[u].moveBy(l,0);var p=this.$getSelectedRows(s[u]);if(t&&p.first!=f)break;if(!t&&p.first>f+1)break;f=p.last}for(u--,a=this.session.$moveLines(d,f,t?0:e),t&&-1==e&&(h=u+1);h<=u;)s[h].moveBy(a,0),h++;t||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new v(this.session,n.row,n.column),r=i.getCurrentToken(),o=r||i.stepForward();if(o){var s,a,l=!1,c={},u=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!l;u++)if(h[o.value[u]])switch(a=h[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(s="bracket",l=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===r.value?c[o.value]++:"</"===r.value&&c[o.value]--,-1===c[o.value]&&(s="tag",l=!0));l||(r=o,o=i.stepForward(),u=0)}while(o&&!l);if(s){var d,p;if("bracket"===s)(d=this.session.getBracketRange(n))||(p=(d=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1)).start,(t||p.row===n.row&&Math.abs(p.column-n.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var g=o.value;if(0===(d=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){l=!1;do{o=r,(r=i.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),o.value===g&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?c[g]++:"</"===r.value&&c[g]--,0===c[g]&&(l=!0)))}while(r&&!l)}o&&o.type.indexOf("tag-name")&&(p=d.start).row==n.row&&Math.abs(p.column-n.column)<2&&(p=d.end)}(p=d&&d.cursor||p)&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&i++;return this.selection.setSelectionRange(r),i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&i.mixin(t,e);var r=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",(function(){i=!0})),s=this.renderer.on("beforeRender",(function(){i&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;null!=(i=o.top>=0&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(i)),i=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,r.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var i=this;b.loadModule("./ext/prompt",(function(r){r.prompt(i,e,t,n)}))}}).call(_.prototype),b.defineOptions(_.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?w.attach(this):w.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?w.attach(this):w.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),r.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),r.addCssClass(this.container,"ace_hasPlaceholder");var t=r.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var w={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"\xb7":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=_})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){this.$fromUndo||e!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=n.length;i--;){var r=n[i][0];if(r.id<=e)break;r.id<t&&(r.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,i=n.length;i--;){var r=n[i];if(r.rev<e)return t&&(r=n[i+1]),r}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=null,r=0,o=n.length;o--;){var s=n[o][0];if(s.id<t&&!i&&(i=o+1),s.id<=e){r=o+1;break}}return n.slice(r,i)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var i=e[n];if(i&&!i[0].ignore){for(;n<t-1;){var r=u(e[n],e[n+1]);e[n]=r[0],e[n+1]=r[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var i=n.pop(),r=null;return i&&(r=e.undoChanges(i,t),this.$redoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;r++)g(e,i[r])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var i=this.$redoStack.pop(),r=null;return i&&(r=e.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}).call(i.prototype);var r=e("./range").Range,o=r.comparePoints;function s(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function c(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(n&&!i)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}else if(!n&&i)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(!n&&!i)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}return[t,e]}function u(e,t){for(var n=e.length;n--;)for(var i=0;i<t.length;i++)if(!c(e[n],t[i])){for(;n<e.length;){for(;i--;)c(t[i],e[n]);i=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function h(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)o(e.start,t.start)<0?d(t,e,1):d(e,t,1);else if(n&&!i)o(e.start,t.end)>=0?d(e,t,-1):(o(e.start,t.start)<=0||d(e,r.fromPoints(t.start,e.start),-1),d(t,e,1));else if(!n&&i)o(t.start,e.end)>=0?d(t,e,-1):(o(t.start,e.start)<=0||d(t,r.fromPoints(e.start,t.start),-1),d(e,t,1));else if(!n&&!i)if(o(t.start,e.end)>=0)d(t,e,-1);else{var s,a;if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(s=e,e=p(e,t.start)),o(e.end,t.end)>0&&(a=p(e,t.end)),f(t.end,e.start,e.end,-1),a&&!s&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,s,a].filter(Boolean);d(e,t,-1)}return[t,e]}function d(e,t,n){f(e.start,t.start,t.end,n),f(e.end,t.start,t.end,n)}function f(e,t,n,i){e.row==(1==i?t:n).row&&(e.column+=i*(n.column-t.column)),e.row+=i*(n.row-t.row)}function p(e,t){var n=e.lines,i=e.end;e.end=s(t);var r=e.end.row-e.start.row,o=n.splice(r,n.length),a=r?t.column:t.column-e.start.column;return n.push(o[0].substring(0,a)),o[0]=o[0].substr(a),{start:s(t),end:i,lines:o,action:e.action}}function g(e,t){t=function(e){return{start:s(e.start),end:s(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var i=e[n],r=0;r<i.length;r++){var o=h(i[r],t);t=o[0],2!=o.length&&(o[2]?(i.splice(r+1,1,o[1],o[2]),r++):o[1]||(i.splice(r,1),r--))}i.length||e.splice(n,1)}return e}t.UndoManager=i})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){i.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var i=Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-i*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,r){var o=this.cellCache.pop();if(!o){var s=i.createElement("div");r&&r(s),this.element.appendChild(s),o={element:s,text:"",row:e}}return o.row=e,o}}).call(r.prototype),t.Lines=r})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),o=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,l=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function c(e){var t=document.createTextNode("");e.appendChild(t);var n=i.createElement("span");return e.appendChild(n),e}(function(){r.implement(this,s),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var s=n.text;s=s?o.escapeHTML(s):n.html||"",-1===r.text.indexOf(s)&&r.text.push(s);var a=n.type;"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=a||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var r=t.getNextFoldLine(n),o=r?r.start.row:1/0,s=null,a=-1,l=n;;){if(l>o&&(o=(r=t.getNextFoldLine(l=r.end.row+1,r))?r.start.row:1/0),l>i){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(s=this.$lines.get(++a))?s.row=l:(s=this.$lines.createCell(l,e,this.session,c),this.$lines.push(s)),this.$renderCell(s,e,r,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(r=t.getLength()+i-1);var o=n?n.getWidth(t,r,e):r.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();(o+=s.left+s.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&r&&r.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(i>n)for(r=this.session.getFoldedRowCount(n+1,i);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>i&&this.$lines.push(this.$renderLines(e,i+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var i=[],r=t,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;r>s&&(s=(o=this.session.getNextFoldLine(r=o.end.row+1,o))?o.start.row:1/0),!(r>n);){var a=this.$lines.createCell(r,e,this.session,c);this.$renderCell(a,e,o,r),i.push(a),r++}return i},this.$renderCell=function(e,t,n,r){var o=e.element,s=this.session,a=o.childNodes[0],l=o.childNodes[1],c=s.$firstLineNumber,u=s.$breakpoints,h=s.$decorations,d=s.gutterRenderer||this.$renderer,f=this.$showFoldWidgets&&s.foldWidgets,p=n?n.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(r==this.$cursorRow||n&&r<this.$cursorRow&&r>=p&&this.$cursorRow<=n.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),u[r]&&(g+=u[r]),h[r]&&(g+=h[r]),this.$annotations[r]&&(g+=this.$annotations[r].className),o.className!=g&&(o.className=g),f){var m=f[r];null==m&&(m=f[r]=s.getFoldWidget(r))}m?(g="ace_fold-widget ace_"+m,l.className!=(g+="start"==m&&r==p&&r<n.end.row?" ace_closed":" ace_open")&&(l.className=g),i.setStyle(l.style,"height",t.lineHeight+"px"),i.setStyle(l.style,"display","inline-block")):l&&i.setStyle(l.style,"display","none");var b=(d?d.getText(s,r):r+c).toString();return b!==a.data&&(a.data=b),i.setStyle(e.element.style,"height",this.$lines.computeLineHeight(r,t,s)+"px"),i.setStyle(e.element.style,"top",this.$lines.computeLineTop(r,t,s)+"px"),e.text=b,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(l.prototype),t.Gutter=l})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("../lib/dom"),o=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,e);i.renderer(t,r,this.$padding+r.start.column*e.characterWidth,o,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,r,o){for(var s=this.session,a=t.start.row,l=t.end.row,c=a,u=0,h=0,d=s.getScreenLastRowColumn(c),f=new i(c,t.start.column,c,h);c<=l;c++)f.start.row=f.end.row=c,f.start.column=c==a?t.start.column:s.getRowWrapIndent(c),f.end.column=d,u=h,h=d,d=c+1<l?s.getScreenLastRowColumn(c+1):c==l?0:t.end.column,this.drawSingleLineMarker(e,f,n+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&t.start.column?1:0)|(u<h?2:0)|(h>d?4:0)|(c==l?8:0)),r,c==l?0:1,o)},this.drawMultiLineMarker=function(e,t,n,i,r){var o,s=this.$padding,a=i.lineHeight,l=this.$getTop(t.start.row,i),c=s+t.start.column*i.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(t.start.row)?((o=t.clone()).end.row=o.start.row,o.end.column=this.session.getLine(o.start.row).length,this.drawBidiSingleLineMarker(e,o,n+" ace_br1 ace_start",i,null,r)):this.elt(n+" ace_br1 ace_start","height:"+a+"px;right:0;top:"+l+"px;left:"+c+"px;"+(r||"")),this.session.$bidiHandler.isBidiRow(t.end.row)?((o=t.clone()).start.row=o.end.row,o.start.column=0,this.drawBidiSingleLineMarker(e,o,n+" ace_br12",i,null,r)):(l=this.$getTop(t.end.row,i),this.elt(n+" ace_br12","height:"+a+"px;width:"+t.end.column*i.characterWidth+"px;top:"+l+"px;left:"+s+"px;"+(r||""))),!((a=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){l=this.$getTop(t.start.row+1,i);var u=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(u?" ace_br"+u:""),"height:"+a+"px;right:0;top:"+l+"px;left:"+s+"px;"+(r||""))}},this.drawSingleLineMarker=function(e,t,n,i,r,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,i,r,o);var s=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i);this.elt(n,"height:"+s+"px;width:"+a+"px;top:"+l+"px;left:"+(this.$padding+t.start.column*i.characterWidth)+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,n,i,r,o){var s=i.lineHeight,a=this.$getTop(t.start.row,i),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+s+"px;width:"+e.width+(r||0)+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,i)-o),this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i);this.elt(n,"height:"+i.lineHeight+"px;top:"+o+"px;left:0;right:0;"+(r||""))}}).call(o.prototype),t.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,l=function(e){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)};(function(){i.implement(this,a),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",(function(e){this._signal("changeCharacterSize",e)}).bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showTabs?((i=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",i.textContent=o.stringRepeat(this.TAB_CHAR,n),t.push(i)):t.push(this.dom.createTextNode(o.stringRepeat(" ",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i,r=this.showSpaces?" ace_invisible ace_invisible_space":"",s=o.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),a=this.showTabs?" ace_invisible ace_invisible_tab":"",l=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):s;(i=this.dom.createElement("span")).className="ace_indent-guide"+r,i.textContent=s,this.$tabStrings[" "]=i,(i=this.dom.createElement("span")).className="ace_indent-guide"+a,i.textContent=l,this.$tabStrings["\t"]=i}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}s++}for(var l,c=!1,u=(l=this.session.getNextFoldLine(a=i))?l.start.row:1/0;a>u&&(u=(l=this.session.getNextFoldLine(a=l.end.row+1,l))?l.start.row:1/0),!(a>r);){var h=o[s++];if(h){this.dom.removeChildren(h),this.$renderLine(h,a,a==u&&l),c&&(h.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var d=e.lineHeight*this.session.getRowLength(a)+"px";h.style.height!=d&&(c=!0,h.style.height=d)}a++}if(c)for(;s<this.$lines.cells.length;){var f=this.$lines.cells[s++];f.element.style.top=this.$lines.computeLineTop(f.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow;if(!t||(t?t.lastRow:-1)<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)this.$lines.shift();if(t.lastRow>e.lastRow)for(i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,n){for(var i=[],o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;o>a&&(a=(s=this.session.getNextFoldLine(o=s.end.row+1,s))?s.start.row:1/0),!(o>n);){var l=this.$lines.createCell(o,e,this.session),c=l.element;this.dom.removeChildren(c),r.setStyle(c.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),r.setStyle(c.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(c,o,o==a&&s),c.className=this.$useLineGroups()?"ace_line_group":"ace_line",i.push(l),o++}return i},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){for(var r,s=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,a=this.dom.createFragment(this.element),l=0;r=s.exec(i);){var c=r[1],u=r[2],h=r[3],d=r[4],f=r[5];if(this.showSpaces||!u){var p=l!=r.index?i.slice(l,r.index):"";if(l=r.index+r[0].length,p&&a.appendChild(this.dom.createTextNode(p,this.element)),c){var g=this.session.getScreenTabSize(t+r.index);a.appendChild(this.$tabStrings[g].cloneNode(!0)),t+=g-1}else u?this.showSpaces?((b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",b.textContent=o.stringRepeat(this.SPACE_CHAR,u.length),a.appendChild(b)):a.appendChild(this.com.createTextNode(u,this.element)):h?((b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",b.textContent=o.stringRepeat(this.SPACE_CHAR,h.length),a.appendChild(b)):d?(t+=1,(b=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",b.className=this.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",b.textContent=this.showSpaces?this.SPACE_CHAR:d,a.appendChild(b)):f&&(t+=1,(b=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",b.className="ace_cjk",b.textContent=f,a.appendChild(b))}}if(a.appendChild(this.dom.createTextNode(l?i.slice(l):i,this.element)),this.$textToken[n.type])e.appendChild(a);else{var m="ace_"+n.type.replace(/\./g," ace_"),b=this.dom.createElement("span");"fold"==n.type&&(b.style.width=n.value.length*this.config.characterWidth+"px"),b.className=m,b.appendChild(a),e.appendChild(b)}return t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);if(i<=0||i>=n)return t;if(" "==t[0]){for(var r=(i-=i%this.tabSize)/this.tabSize,o=0;o<r;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(i)}if("\t"==t[0]){for(o=0;o<i;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(i)}return t},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var i=0,r=0,s=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var u=t[c],h=u.value;if(0==c&&this.displayIndentGuides){if(i=h.length,!(h=this.renderIndentGuide(l,h,s)))continue;i-=h.length}if(i+h.length<s)a=this.$renderToken(l,a,u,h),i+=h.length;else{for(;i+h.length>=s;)a=this.$renderToken(l,a,u,h.substring(0,s-i)),h=h.substring(s-i),i=s,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(o.stringRepeat("\xa0",n.indent),this.element)),a=0,s=n[++r]||Number.MAX_VALUE;0!=h.length&&(i+=h.length,a=this.$renderToken(l,a,u,h))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(e,t){var n=0,i=t[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(n=this.$renderToken(e,n,i,r));for(var o=1;o<t.length;o++){if(n+(r=(i=t[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,i,r);n=this.$renderToken(e,n,i,r)}},this.$renderOverflowMessage=function(e,t,n,i,r){n&&this.$renderToken(e,t,n,i.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=r?"<hide>":"<click to see more...>",e.appendChild(o)},this.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var i=this.$getFoldLineTokens(t,n);else i=this.session.getTokens(t);var r=e;if(i.length){var o=this.session.getRowSplitData(t);o&&o.length?(this.$renderWrappedLine(e,i,o),r=e.lastChild):(r=e,this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r)),this.$renderSimpleLine(r,i))}else this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r));if(this.showEOL&&r){n&&(t=n.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(s)}},this.$getFoldLineTokens=function(e,t){var n=this.session,i=[],r=n.getTokens(e);return t.walk((function(e,t,o,s,a){null!=e?i.push({type:"fold",value:e}):(a&&(r=n.getTokens(t)),r.length&&function(e,t,n){for(var r=0,o=0;o+e[r].value.length<t;)if(o+=e[r].value.length,++r==e.length)return;for(o!=t&&((s=e[r].value.substring(t-o)).length>n-t&&(s=s.substring(0,n-t)),i.push({type:e[r].type,value:s}),o=t+s.length,r+=1);o<n&&r<e.length;){var s;i.push((s=e[r].value).length+o>n?{type:e[r].type,value:s.substring(0,n-o)}:e[r]),o+=s.length,r+=1}}(r,s,o))}),t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)i.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";setTimeout((function(){i.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},this.$stopCssAnimation=function(){i.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout((function(){i.addCssClass(this.element,"ace_smooth-blinking")}).bind(this)),i.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=(function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]),n=0;for(var o=t.length;n<o;n++){var s=this.getPixelPosition(t[n].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&n>1)){var a=this.cursors[r++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,s,e,t[n],this.session):this.isCursorInView(s,e)?(i.setStyle(l,"display","block"),i.translate(a,s.left,s.top),i.setStyle(l,"width",Math.round(e.characterWidth)+"px"),i.setStyle(l,"height",e.lineHeight+"px")):i.setStyle(l,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(r.prototype),t.Cursor=r})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter,a=function(e){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){i.implement(this,s),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};i.inherits(l,a),(function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>32768?(this.coeff=32768/e,e=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}).call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(c,a),(function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}).call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var i=e("./lib/event"),r=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(i.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(r.prototype),t.RenderLoop=r})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var i=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c="function"==typeof ResizeObserver,u=200,h=t.FontMetrics=function(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",256),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()};(function(){i.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=s.onIdle((function t(){e.checkForSizeChanges(),s.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/256};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,256),this.$main.getBoundingClientRect().width/256},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=r.buildDom([e(0,0),e(u,0),e(0,u),e(u,u)],this.el)},this.transformCoordinates=function(e,t){function n(e,t,n){var i=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/i,(+e[1]*n[0]-e[0]*n[1])/i]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function r(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=o(1/this.$getZoom(this.el),e)),this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),l=s(this.els[1]),c=s(this.els[2]),h=s(this.els[3]),d=n(i(h,l),i(h,c),i(r(l,c),r(h,a))),f=o(1+d[0],i(l,a)),p=o(1+d[1],i(c,a));if(t){var g=t,m=d[0]*g[0]/u+d[1]*g[1]/u+1,b=r(o(g[0],f),o(g[1],p));return r(o(1/m/u,b),a)}var v=i(e,a),y=n(i(f,o(d[0],v)),i(p,o(d[1],v)),v);return o(u,y)}}).call(h.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./config"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,d=e("./renderloop").RenderLoop,f=e("./layer/font_metrics").FontMetrics,p=e("./lib/event_emitter").EventEmitter,g='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',m=e("./lib/useragent"),b=m.isIE;r.importCssString(g,"ace_editor.css");var v=function(e,t){var n=this;this.container=e||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var i=this.$textLayer=new l(this.content);this.canvas=i.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!m.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,p),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,i){var o=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if((i-=this.$extraHeight||0)&&(e||s.height!=i)&&(s.height=i,o|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||s.width!=n)){o|=this.CHANGE_SIZE,s.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,r.setStyle(this.scrollBarH.element.style,"left",t+"px"),r.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),s.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",l),r.setStyle(this.scroller.style,"right",l),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return s.$dirty=!n||!i,o&&this._signal("resize",a),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,o=n.top,s=n.left,a=t&&t.useTextareaForIME?this.lineHeight:b?0:1;if((o-=i.offset)<0||o>i.height-a)r.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-a;t?t.useTextareaForIME?l=this.characterWidth*this.session.$getStringScreenWidth(this.textarea.value)[0]:o+=this.lineHeight+2:o+=this.lineHeight,(s-=this.scrollLeft)>this.$size.scrollerWidth-l&&(s=this.$size.scrollerWidth-l),s+=this.gutterWidth+this.margin.left,r.setStyle(e,"height",a+"px"),r.setStyle(e,"width",l+"px"),r.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-l),Math.min(o,c))}}}else r.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.setMargin=function(e,t,n,i){var r=this.margin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(e-=(t-this.lineHeight)*this.$scrollPastEnd)-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-n.offset);var o=n.minHeight+"px";r.setStyle(this.content.style,"width",n.width+2*this.$padding+"px"),r.setStyle(this.content.style,"height",o)}if(e&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(n):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=c;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,i-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+u.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+c<0||this.scrollTop>u.top),d=a!==h;d&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var f,p,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,b=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),v=b+m,y=this.lineHeight;b=e.screenToDocumentRow(b,0);var _=e.getFoldLine(b);_&&(b=_.start.row),f=e.documentToScreenRow(b,0),p=e.getRowLength(b)*y,v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(v)*y+p,g=this.scrollTop-f*y;var w=0;return(this.layerConfig.width!=r||s)&&(w=this.CHANGE_H_SCROLL),(s||d)&&(w|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:b,firstRowScreen:f,lastRow:v,lineHeight:y,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:g,gutterOffset:y?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/y)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),w},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,o=i.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(t&&l+s>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft;c>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e).top-(this.$size.scrollerHeight-this.lineHeight)*(t||0);return this.session.setScrollTop(n),n},this.STEPS=8,this.$calcSteps=function(e,t){var n,i=0,r=this.STEPS,o=[];for(i=0;i<r;++i)o.push((n=e,(t-e)*(Math.pow(i/this.STEPS-1,3)+1)+n));return o},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(r-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(o,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==n)return}var o=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval((function(){if(!i.session)return clearInterval(i.$timer);o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:s,column:a,side:o-a>0?1:-1,offsetX:r}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),r)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth));return{pageX:n.left+r-this.scrollLeft,pageY:n.top+i.row*this.lineHeight-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(e,t,n,i){var r=this.session;r.bgTokenizer.lines[n]=null;var o={type:t,value:e},s=r.getTokens(n);if(null==i)s.push(o);else for(var a=0,l=0;l<s.length;l++){var c=s[l];if(i<=(a+=c.value.length)){var u=c.value.length-(a-i),h=c.value.slice(0,u),d=c.value.slice(u);s.splice(l,1,{type:c.type,value:h},o,{type:c.type,value:d});break}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var n=this;function i(i){if(n.$themeId!=e)return t&&t();if(!i||!i.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.$id&&(n.$themeId=i.$id),r.importCssString(i.cssText,i.cssClass,n.container),n.theme&&r.removeCssClass(n.container,n.theme.cssClass);var o="padding"in i?i.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=i.cssClass,n.theme=i,r.addCssClass(n.container,i.cssClass),r.setCssClass(n.container,"ace_dark",i.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:i}),t&&t()}this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e?i(e):o.loadModule(["theme",e||this.$options.theme.initialValue],i)},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){r.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){r.removeCssClass(this.container,e)},this.setCursorStyle=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){r.importCssString(g,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(v.prototype),o.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){this.$scrollPastEnd!=(e=+e||0)&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!m.isMobile&&!m.isIE}}),t.VirtualRenderer=v})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,s=e("../config");function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+r.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(i){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,o),this.$createWorkerFromOldConfig=function(t,n,i,r,o){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)r=r||s.moduleUrl(n,"worker");else{var l=this.$normalizePath;r=r||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach((function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=a(r),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:i}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return r.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(e.start,"insert"==e.action?e.lines:e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype),t.UIWorkerClient=function(e,t,n){var i=null,r=!1,a=Object.create(o),c=[],u=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),i&&(r?setTimeout(h):h())}});u.setEmitSync=function(e){r=e};var h=function(){var e=c.shift();e.command?i[e.command].apply(i,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){u.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],(function(e){for(i=new e[n](a);c.length;)h()})),u},t.WorkerClient=l,t.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),s=function(e,t,n,i,r,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,r),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--)this.doc.insertMergedLines(l={row:(a=this.others[s]).row,column:a.column+o},e.lines);else if("remove"===e.action)for(s=this.others.length-1;s>=0;s--){var a,l;this.doc.remove(new i((l={row:(a=this.others[s]).row,column:a.column+o}).row,l.column,l.row,l.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,r){t.removeMarker(n.markerId),n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),t.PlaceHolder=s})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var i=e("../lib/event"),r=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,s=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&r.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var u,h=e.editor,d=h.selection,f=h.inMultiSelectMode,p=e.getDocumentPosition(),g=d.getCursor(),m=e.inSelection()||d.isEmpty()&&o(p,g),b=e.x,v=e.y,y=h.session,_=h.renderer.pixelToScreenCoordinates(b,v),w=_;if(h.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u=s?"block":"add":n&&h.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!f&&s)return}else n&&h.$blockSelectEnabled&&(u="block");if(u&&r.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!f&&m)return;if(!f){var C=d.toOrientedRange();h.addSelectionMarker(C)}var S=d.rangeList.rangeAtPoint(p);h.inVirtualSelectionMode=!0,s&&(S=null,h.removeSelectionMarker(C=d.ranges[0]||C)),h.once("mouseup",(function(){var e=d.toOrientedRange();S&&e.isEmpty()&&o(S.cursor,e.cursor)?d.substractPoint(e.cursor):(s?d.substractPoint(C.cursor):C&&(h.removeSelectionMarker(C),d.addRange(C)),d.addRange(e)),h.inVirtualSelectionMode=!1}))}else if("block"==u){var O;e.stop(),h.inVirtualSelectionMode=!0;var T=[],k=function(){var e=h.renderer.pixelToScreenCoordinates(b,v),t=y.screenToDocumentPosition(e.row,e.column,e.offsetX);o(w,e)&&o(t,d.lead)||(w=e,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(T),T=d.rectangularRangeBlock(w,_),h.$mouseHandler.$clickSelection&&1==T.length&&T[0].isEmpty()&&(T[0]=h.$mouseHandler.$clickSelection.clone()),T.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};f&&!l?d.toSingleRange():!f&&l&&(O=d.toOrientedRange(),h.addSelectionMarker(O)),s?_=y.documentToScreenPosition(d.lead):d.moveToPosition(p),w={row:-1,column:-1};var x=k;i.capture(h.container,(function(e){b=e.clientX,v=e.clientY}),(function(e){k(),clearInterval(E),h.removeSelectionMarkers(T),T.length||(T=[d.toOrientedRange()]),O&&(h.removeSelectionMarker(O),d.toSingleRange(O));for(var t=0;t<T.length;t++)d.addRange(T[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null}));var E=setInterval((function(){x()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var i=e("./range_list").RangeList,r=e("./range").Range,o=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var u=new(0,e("./search").Search),h=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var i=e[n],o=i.start.row,s=i.end.row;if(o===s)t.push(i.clone());else{for(t.push(new r(o,i.start.column,o,this.session.getLine(o).length));++o<s;)t.push(this.getLineRange(o,!0));t.push(new r(s,0,s,i.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}for(this.toSingleRange(),n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(i,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var i=[],o=e.column<t.column;if(o)var s=e.column,a=t.column,l=e.offsetX,c=t.offsetX;else s=t.column,a=e.column,l=t.offsetX,c=e.offsetX;var u,h,d,f=e.row<t.row;if(f)var p=e.row,g=t.row;else p=t.row,g=e.row;s<0&&(s=0),p<0&&(p=0),p==g&&(n=!0);for(var m=p;m<=g;m++){var b=r.fromPoints(this.session.screenToDocumentPosition(m,s,l),this.session.screenToDocumentPosition(m,a,c));if(b.isEmpty()){if(u&&(h=b.end).row==(d=u).row&&h.column==d.column)break;u=b.end}b.cursor=o?b.start:b.end,i.push(b)}if(f&&i.reverse(),!n){for(var v=i.length-1;i[v].isEmpty()&&v>0;)v--;if(v>0)for(var y=0;i[y].isEmpty();)y++;for(var _=v;_>=y;_--)i[_].isEmpty()&&i.splice(_,1)}return i}}).call(o.prototype);var d=e("./editor").Editor;function f(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",s),e.commands.addCommands(c.defaultCommands),function(e){if(e.textInput){var t=e.textInput.getElement(),n=!1;a.addListener(t,"keydown",(function(t){e.$blockSelectEnabled&&18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey)?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&i()}),e),a.addListener(t,"keyup",i,e),a.addListener(t,"blur",i,e)}function i(t){n&&(e.renderer.setMouseCursor(""),n=!1)}}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=1==n||n&&n.$byLines,s=this.session,a=this.selection,l=(n&&n.keepOrder?a:a.rangeList).ranges;if(!l.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var c=a._eventRegistry;a._eventRegistry={};var u=new o(s);this.inVirtualSelectionMode=!0;for(var h=l.length;h--;){if(r)for(;h>0&&l[h].start.row==l[h-1].end.row;)h--;u.fromOrientedRange(l[h]),u.index=h,this.selection=s.selection=u;var d=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===d||(i=d),u.toOrientedRange(l[h])}u.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=c,a.mergeOverlappingRanges(),a.ranges[0]&&a.fromOrientedRange(a.ranges[0]);var f=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),f&&f.from==f.to&&this.renderer.animateScrolling(f.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();(e=n.join(r)).length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())c=a;else var l=this.session.documentToScreenPosition(i?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);if(i?(s=r.fromPoints(a,c)).cursor=s.start:(s=r.fromPoints(c,a)).cursor=s.end,s.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(s),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;)if((a=i[r]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}n.mergeOverlappingRanges();var s=[];for(r=i.length;r--;)s.unshift(t.getTextRange(a=i[r]));for(e<0?s.unshift(s.pop()):s.push(s.shift()),r=i.length;r--;){var a;o=(a=i[r]).clone(),t.replace(a,s[r]),a.start.row=o.start.row,a.start.column=o.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var i=this.session,r=i.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=i.getWordRange(r.start.row,r.start.column)).cursor=-1==e?r.start:r.end,this.multiSelect.addRange(r),!n)){var o=i.getTextRange(r),s=function(e,t,n){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=-1==n,u.find(e)}(i,o,e);s&&(s.cursor=-1==e?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,o=n.filter((function(e){if(e.cursor.row==i)return!0;i=e.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var s=0,a=1/0,c=n.map((function(t){var n=t.cursor,i=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>s&&(s=n.column),i<a&&(a=i),i}));n.forEach((function(t,n){var i=t.cursor,o=s-i.column,u=c[n]-a;o>u?e.insert(i,l.stringRepeat(" ",o-u)):e.remove(new r(i.row,i.column,i.row,i.column-o+u)),t.start.column=t.end.column=s,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),h=u.start.row,d=u.end.row,f=h==d;if(f){var p,g=this.session.getLength();do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&++d<g);do{p=this.session.getLine(h)}while(/[=:]/.test(p)&&--h>0);h<0&&(h=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(h,d);m=this.$reAlignText(m,f),this.session.insert({row:h,column:0},m.join("\n")+"\n"),f||(u.start.column=0,u.end.column=m[m.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){var n,i,r,o=!0,s=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,i=t[2].length,r=t[3].length,t):(n+i+r!=t[1].length+t[2].length+t[3].length&&(s=!1),n!=t[1].length&&(o=!1),n>t[1].length&&(n=t[1].length),i<t[2].length&&(i=t[2].length),r>t[3].length&&(r=t[3].length),t):[e]})).map(t?c:o?s?function(e){return e[2]?a(n+i-e[2].length)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?a(n)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?a(n)+e[2]+a(i-e[2].length+r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=f,e("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(e){f(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",s)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",s))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var r=/\S/,o=e.getLine(t),s=o.search(r);if(-1!=s){for(var a=n||o.length,l=e.getLength(),c=t,u=t;++t<l;){var h=e.getLine(t).search(r);if(-1!=h){if(h<=s){var d=e.getTokenAt(t,0);if(!d||"string"!==d.type)break}u=t}}if(u>c){var f=e.getLine(u).length;return new i(c,a,u,f)}}},this.openingBracketBlock=function(e,t,n,r,o){var s={row:n,column:r+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),i.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,n,r,o){var s={row:n,column:r},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,i.fromPoints(a,s)}}).call(r.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./lib/dom");function r(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,r=i.start.row,o=i.end.row,s="add"==e.action,a=r+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[r]?n[o].hidden=s:n[r]=n[o]:(n[r]==n[o]&&(n[r]=void 0),n[o].hidden=s))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0===i);else if("remove"==e.action){var r=t.splice(n+1,i);!t[n]&&r[r.length-1]&&(t[n]=r.pop()),r.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(i);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var r=this.session.lineWidgets;e.row!=n.end.row||r[n.start.row]?e.hidden=!0:r[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(n){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/i.characterWidth));var a=s.h/i.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=r;s<=o;s++){var a=i[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.el.style.right=a.fixedWidth?t.scrollBar.getWidth()+"px":""}}}}}).call(r.prototype),t.LineWidgets=r})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";var i=e("../line_widgets").LineWidgets,r=e("../lib/dom"),o=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new i(n),n.widgetManager.attach(e));var s=e.getCursorPosition(),a=s.row,l=n.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():a-=t;var c,u=function(e,t,n){var i=e.getAnnotations().sort(o.comparePoints);if(i.length){var r=function(e,t,n){for(var i=0,r=e.length-1;i<=r;){var o=i+r>>1,s=n(t,e[o]);if(s>0)i=o+1;else{if(!(s<0))return o;r=o-1}}return-(i+1)}(i,{row:t,column:-1},o.comparePoints);r<0&&(r=-r-1),r>=i.length?r=n>0?0:i.length-1:0===r&&n<0&&(r=i.length-1);var s=i[r];if(s&&n){if(s.row===t){do{s=i[r+=n]}while(s&&s.row===t);if(!s)return i.slice()}var a=[];t=s.row;do{a[n<0?"unshift":"push"](s),s=i[r+=n]}while(s&&s.row==t);return a.length&&a}}}(n,a,t);if(u){var h=u[0];s.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,s.row=h.row,c=e.renderer.$gutterLayer.$annotations[s.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var d={row:s.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},f=d.el.appendChild(r.createElement("div")),p=d.el.appendChild(r.createElement("div"));p.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(s).left;p.style.left=g+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+c.className,f.innerHTML=c.text.join("<br>"),f.appendChild(r.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/dom"),o=e("./lib/event"),s=e("./range").Range,a=e("./editor").Editor,l=e("./edit_session").EditSession,c=e("./undomanager").UndoManager,u=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.define=n("B9Yq"),t.edit=function(e,n){if("string"==typeof e){var i=e;if(!(e=document.getElementById(i)))throw new Error("ace.edit can't find div #"+i)}if(e&&e.env&&e.env.editor instanceof a)return e.env.editor;var s="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;s=l.value,e=r.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(s=e.textContent,e.innerHTML="");var c=t.createEditSession(s),h=new a(new u(e),c,n),d={document:c,editor:h,onResize:h.resize.bind(h,null)};return l&&(d.textarea=l),o.addListener(window,"resize",d.onResize),h.on("destroy",(function(){o.removeListener(window,"resize",d.onResize),d.editor.container.env=null})),h.container.env=h.env=d,h},t.createEditSession=function(e,t){var n=new l(e,t);return n.setUndoManager(new c),n},t.Range=s,t.Editor=a,t.EditSession=l,t.UndoManager=c,t.VirtualRenderer=u,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))}).call(this,n("YuTi")(e))},bqqp:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n("ODXe");var i=n("1OyB"),r=n("vuIU"),o=n("ReuC"),s=n("foSv"),a=n("Ji7U"),l=n("LK+K"),c=n("ofXK"),u=n("3Pt+"),h=n("eY+I"),d=n("ZOsW"),f=n("lUod"),p=n("44PX"),g=n("mrSG"),m=n("fXoL");function b(e,t){if(1&e){var n=m.Ub();m.Tb(0,"tab",2),m.Tb(1,"dc-ui-selector",3),m.bc("changedDataModel",(function(){m.vc(n);var e=m.dc();return e.changedDataModel.emit(e.dataModel)}))("eventHandlers",(function(e){return m.vc(n),m.dc().eventHandlers.emit(e)})),m.Sb(),m.Sb()}if(2&e){var i=t.$implicit,r=t.index,o=m.dc();m.jc("heading",i.itemProperties.header||"Tab "+(r+1)),m.Bb(1),m.jc("uiModel",i)("dataModel",o.dataModel)}}var v={uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Select Option</label>\n        <ng-select width="300px" binding="$.selectedOption">\n          <option value="o1">Option 1</option>\n          <option value="o2">Option 2</option>\n        </ng-select>\n      </div>\n    </div>\n  ',dataModel:{},title:"Static dropdown declaration"},y=[v,v,{uiModel:'\n    <div class="flex-column">\n      <div class="form-group">\n        <label class="col-form-label" width="60px">Select</label>\n        <ng-select width="300px" itemsSource="$.list" binding="$.selected"></ng-select>\n      </div>\n    </div>\n  ',dataModel:{list:[{label:"Data 1",value:"d1"},{label:"Data 2",value:"d2"}]},title:"Dropdown options binded to dataModel"}],_=function(){var e=function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"onSelect",value:function(){this.changedDataModel.emit(this.dataModel),this.emitEvent(this.properties.onSelect),this.emitEvent(this.properties.change)}},{key:"emitEvent",value:function(e,t){Object(o.a)(Object(s.a)(n.prototype),"emitEvent",this).call(this,e,t)}},{key:"selectStyles",get:function(){return this.properties.selectHeight?{height:this.properties.selectHeight}:null}},{key:"options",get:function(){var e=this.properties.itemsSource;return Array.isArray(e)?e:"string"==typeof e&&e.startsWith("$.")?Object(h.s)(this.dataModel,e):void 0}}]),n}(h.a);return e.\u0275fac=function(t){return C(t||e)},e.\u0275cmp=m.Hb({type:e,selectors:[["dc-select"]],features:[m.yb],decls:1,vars:6,consts:[[3,"items","ngStyle","ngModel","bindLabel","bindValue","placeholder","ngModelChange","add","blur","change","close","clear","focus","search","open","remove","scroll","scrollToEnd"]],template:function(e,t){1&e&&(m.Tb(0,"ng-select",0),m.bc("ngModelChange",(function(e){return t.componentDataModel=e}))("add",(function(e){return t.emitEvent(t.properties.add,e)}))("blur",(function(e){return t.emitEvent(t.properties.blur,e)}))("change",(function(){return t.onSelect()}))("close",(function(e){return t.emitEvent(t.properties.close,e)}))("clear",(function(e){return t.emitEvent(t.properties.clear,e)}))("focus",(function(e){return t.emitEvent(t.properties.focus,e)}))("search",(function(e){return t.emitEvent(t.properties.search,e)}))("open",(function(e){return t.emitEvent(t.properties.open,e)}))("remove",(function(e){return t.emitEvent(t.properties.remove,e)}))("scroll",(function(e){return t.emitEvent(t.properties.scroll,e)}))("scrollToEnd",(function(e){return t.emitEvent(t.properties.scrollToEnd,e)})),m.Sb()),2&e&&m.jc("items",t.options)("ngStyle",t.selectStyles)("ngModel",t.componentDataModel)("bindLabel",t.properties.bindLabel)("bindValue",t.properties.bindValue||"value")("placeholder",t.properties.placeholder)},directives:[d.a,c.n,u.i,u.l],styles:["[_nghost-%COMP%]     .ng-select.ng-select-single .ng-select-container {\n      height: inherit;\n      min-height: 30px;\n    }"]}),e}(),w=function(){var e=function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return n}(h.b);return Object(g.c)([Object(h.r)({description:"Select options or binding to dataModel.",example:'[{label: "One", value: 1}]'}),Object(g.f)("design:type",Object)],e.prototype,"itemsSource",void 0),Object(g.c)([Object(h.r)({description:"Select height.",example:"30px"}),Object(g.f)("design:type",String)],e.prototype,"selectHeight",void 0),Object(g.c)([Object(h.r)({description:"Placeholder",example:"Select name"}),Object(g.f)("design:type",String)],e.prototype,"placeholder",void 0),Object(g.c)([Object(h.r)({description:"Label property.",example:"name"}),Object(g.f)("design:type",String)],e.prototype,"bindLabel",void 0),Object(g.c)([Object(h.r)({description:"Value property.",example:"id"}),Object(g.f)("design:type",String)],e.prototype,"bindValue",void 0),Object(g.c)([Object(h.r)({description:"Allows to select multiple items.",example:"true"}),Object(g.f)("design:type",Boolean)],e.prototype,"multiple",void 0),Object(g.c)([Object(h.r)({description:"Output add event handler.",example:"onAdd()",type:h.i.EVENT}),Object(g.f)("design:type",String)],e.prototype,"add",void 0),Object(g.c)([Object(h.r)({description:"Output blur event handler.",example:"onBlur()",type:h.i.EVENT}),Object(g.f)("design:type",String)],e.prototype,"blur",void 0),Object(g.c)([Object(h.r)({description:"Output change event handler.",example:"onChange()",type:h.i.EVENT}),Object(g.f)("design:type",String)],e.prototype,"change",void 0),Object(g.c)([Object(h.r)({description:"Output close event handler.",example:"onClose()",type:h.i.EVENT}),Object(g.f)("design:type",String)],e.prototype,"close",void 0),Object(g.c)([Object(h.r)({description:"Output clear event handler.",example:"onClear()",type:h.i.EVENT}),Object(g.f)("design:type",String)],e.prototype,"clear",void 0),Object(g.c)([Object(h.r)({description:"Output focus event handler.",example:"onFocus()",type:h.i.EVENT}),Object(g.f)("design:type",String)],e.prototype,"focus",void 0),Object(g.c)([Object(h.r)({description:"Output search event handler.",example:"onSearch()",type:h.i.EVENT}),Object(g.f)("design:type",String)],e.prototype,"search",void 0),Object(g.c)([Object(h.r)({description:"Output open event handler.",example:"onOpen()",type:h.i.EVENT}),Object(g.f)("design:type",String)],e.prototype,"open",void 0),Object(g.c)([Object(h.r)({description:"Output remove event handler.",example:"onRemove()",type:h.i.EVENT}),Object(g.f)("design:type",String)],e.prototype,"remove",void 0),Object(g.c)([Object(h.r)({description:"Output scroll event handler.",example:"onScroll()",type:h.i.EVENT}),Object(g.f)("design:type",String)],e.prototype,"scroll",void 0),Object(g.c)([Object(h.r)({description:"Output scrollToEnd event handler.",example:"onScrollToEnd()",type:h.i.EVENT}),Object(g.f)("design:type",String)],e.prototype,"scrollToEnd",void 0),e}(),C=m.Vb(_),S={name:"ng-select",label:"UI Select Input",packageName:"bootstrap",category:"Basic",description:"NG Select component",itemProperties:w,component:_,example:y,parseUIModel:function(e){var t={};return!e.attrs.itemsSource&&e.childNodes&&(t.itemsSource=e.childNodes.map((function(e){return{label:e._,value:e.$&&e.$.hasOwnProperty("value")?e.$.value:e._}})),e.childNodes=null),t.multiple="true"===e.attrs.multiple,{type:"ng-select",itemProperties:t}},defaultModel:'<ng-select width="100px" itemsSource="$.list" binding="$.value"></ng-select>',propertiesDescriptor:[["selectHeight",{name:"selectHeight",label:"Select Height",category:h.j.Layout}]],children:[{tag:"option",properties:[{name:"value",label:"Option value"}]}]},O=function(){var e=function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return n}(h.a);return e.\u0275fac=function(t){return T(t||e)},e.\u0275cmp=m.Hb({type:e,selectors:[["dc-tabs-ui"]],features:[m.yb],decls:2,vars:1,consts:[[1,"tabset-fx","w-100","overflow-auto","nav-tabs-boxed"],[3,"heading",4,"ngFor","ngForOf"],[3,"heading"],[3,"uiModel","dataModel","changedDataModel","eventHandlers"]],template:function(e,t){1&e&&(m.Tb(0,"tabset",0),m.Cc(1,b,2,3,"tab",1),m.Sb()),2&e&&(m.Bb(1),m.jc("ngForOf",t.uiModel.children))},directives:[p.d,c.l,p.a,h.l],encapsulation:2}),e}(),T=m.Vb(O),k=[{name:"tab-container",label:"Tabs container (Bootstrap)",packageName:"bootstrap",category:"Containers",description:"Tabs component",itemProperties:function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return n}(h.k),component:O,example:{title:"Tabs group example",uiModel:'\n  <tab-container width="100%" height="100%" margin="8px">\n\t\t<tab header="Test tab" padding="0.5rem">\n\t\t\t<text text-style="h1">Tab 1 static text content</text>\n\t\t</tab>\n    <tab header="Btn tab" class="align-items-start p-2 flex-column">\n      <text text-style="h1">Button content</text>\n      <button class="btn btn-primary mr-2" onClick="button1_Click">Click</button>\n      <div>\n        <h4>ClickCount:</h4>\n        <text text-style="h4">$.clickCount</text>\n      </div>\n\t\t</tab>\n\t</tab-container>\n  ',scripts:'\n  def button1_Click():\n    print("button1_Click")\n    if dataModel.clickCount == null:\n      dataModel.clickCount = 0\n    dataModel.clickCount = dataModel.clickCount + 1\n  ',dataModel:{}},parseUIModel:function(e){return{type:"tab-container",children:e.childNodes.map((function(e){var t=e.$;return t.height="100%",t.width="100%",{type:"section",children:e.$$.map((function(e){return h.d.getUIModel(Object(h.u)(e))})),itemProperties:t}}))}},children:[{tag:"tab",hasChildren:!0,properties:[{name:"header",label:"Tab title"}]}],defaultModel:'<tab-container width="100%" height="100%" margin="8px">\n  <tab header="Tab 1" padding="0.5rem">\n    <text text-style="h1">Tab 1 static text content</text>\n  </tab>\n  <tab header="Tab 2" padding="0.5rem">\n    <text text-style="h1">Tab 2 static text content</text>\n  </tab>\n</tab-container>'},S],x=p.c.forRoot(),E=function(){var e=function e(){Object(i.a)(this,e),Object(f.i)("bs4"),k.forEach((function(e){return h.d.registerComponent(e)}))};return e.\u0275mod=m.Lb({type:e}),e.\u0275inj=m.Kb({factory:function(t){return new(t||e)},imports:[[h.g,c.c,u.d,d.b,x]]}),e}()},c2HN:function(e,t,n){"use strict";function i(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return i}))},c9YK:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var i=n("mrSG"),r=n("fXoL"),o=(n("K3ix"),n("LRne")),s=n("JIr8"),a=n("vkgz"),l=n("TwVa"),c=n("ZF+8"),u=n("iFvM"),h=n("H4hQ"),d=n("3Pt+"),f=n("ofXK"),p=n("S8xs"),g=n("qGRI");function m(e,t){if(1&e){var n=r.Ub();r.Tb(0,"button",52),r.bc("click",(function(){return r.vc(n),r.dc().modalRef.hide()})),r.Tb(1,"span",53),r.Ec(2,"\xd7"),r.Sb(),r.Sb()}}function b(e,t){1&e&&(r.Tb(0,"div"),r.Ec(1,"Connection name is required."),r.Sb())}function v(e,t){1&e&&(r.Tb(0,"div"),r.Ec(1,'Name should contain only characters, numbers and "_", "-".'),r.Sb())}function y(e,t){if(1&e&&(r.Tb(0,"div",54),r.Cc(1,b,2,0,"div",55),r.Cc(2,v,2,0,"div",55),r.Sb()),2&e){r.dc();var n=r.sc(14);r.Bb(1),r.jc("ngIf",n.errors.required),r.Bb(1),r.jc("ngIf",n.errors.pattern)}}function _(e,t){if(1&e){var n=r.Ub();r.Tb(0,"div",56),r.Tb(1,"input",57),r.bc("ngModelChange",(function(e){return r.vc(n),r.dc().dbConnection.connectionType=e}))("change",(function(){return r.vc(n),r.dc().onConectionTypeChange()})),r.Sb(),r.Tb(2,"label",58),r.Ec(3),r.Sb(),r.Sb()}if(2&e){var i=t.$implicit,o=t.index,s=r.dc();r.Bb(1),r.lc("name","connection-type-",i[0],""),r.lc("id","connection-type-",o,""),r.kc("value",i[0]),r.jc("ngModel",s.dbConnection.connectionType)("readonly",s.readonly)("disabled","Managed Sql"===i[0]||s.readonly&&i[0]!==s.dbConnection.connectionType),r.Bb(1),r.lc("for","connection-type-",o,""),r.Bb(1),r.Fc(i[1])}}function w(e,t){if(1&e&&(r.Tb(0,"option",59),r.Ec(1),r.Sb()),2&e){var n=t.$implicit;r.jc("ngValue",n),r.Bb(1),r.Fc(n)}}function C(e,t){1&e&&(r.Tb(0,"div"),r.Ec(1,"Default schema name is required."),r.Sb())}function S(e,t){if(1&e&&(r.Tb(0,"div",54),r.Cc(1,C,2,0,"div",55),r.Sb()),2&e){r.dc();var n=r.sc(37);r.Bb(1),r.jc("ngIf",n.errors.required)}}var O=function(e,t){return{"form-control-plaintext":e,"form-control":t}};function T(e,t){if(1&e){var n=r.Ub();r.Tb(0,"input",60,12),r.bc("ngModelChange",(function(e){return r.vc(n),r.dc().dbConnection.connectionConfig.databaseName=e})),r.Sb()}if(2&e){var i=r.dc();r.jc("readOnly",i.readonly)("ngClass",r.oc(3,O,i.readonly,!i.readonly))("ngModel",i.dbConnection.connectionConfig.databaseName)}}function k(e,t){if(1&e&&(r.Tb(0,"option",59),r.Ec(1),r.Sb()),2&e){var n=t.$implicit;r.jc("ngValue",n.code),r.Bb(1),r.Fc(n.name)}}function x(e,t){if(1&e){var n=r.Ub();r.Tb(0,"select",61),r.bc("ngModelChange",(function(e){return r.vc(n),r.dc().dbConnection.connectionConfig.databaseName=e})),r.Cc(1,k,2,2,"option",23),r.Sb()}if(2&e){var i=r.dc();r.jc("disabled",i.readonly)("ngModel",i.dbConnection.connectionConfig.databaseName),r.Bb(1),r.jc("ngForOf",i.serverHosts)}}function E(e,t){if(1&e){var n=r.Ub();r.Tb(0,"button",62),r.bc("click",(function(){return r.vc(n),r.dc().deleteConnection()})),r.Ec(1,"Delete Connection"),r.Sb()}}function j(e,t){if(1&e){var n=r.Ub();r.Tb(0,"button",63),r.bc("click",(function(){return r.vc(n),r.dc().modalRef.hide()})),r.Ec(1,"Cancel"),r.Sb()}}function A(e,t){if(1&e){var n=r.Ub();r.Tb(0,"button",63),r.bc("click",(function(){return r.vc(n),r.dc().skip.emit()})),r.Ec(1,"Skip"),r.Sb()}}function I(e,t){1&e&&(r.Tb(0,"div",64),r.Tb(1,"div",65),r.Tb(2,"span",66),r.Ec(3,"Loading..."),r.Sb(),r.Sb(),r.Sb())}var M=function(){function e(e,t,n){this.dbConnectionsService=e,this.authService=t,this.notificationService=n,this.saved=new r.p,this.skip=new r.p,this.deleted=new r.p,this.connectionTypes=Object.entries(l.ConnectionType),this.publicAccess=Object.values(l.PublicAccessLevels),this.acessLevel=Object.keys(l.ConnectionLevels),this.loading=!1,this.permissions=[],this.PermissionLevels=l.ConnectionLevels,this.showPassword=!1,this.readonly=!1,this.defaultConnectionConfig={serverName:null,databaseName:null,userName:null,password:null,additionalSettings:null}}return Object.defineProperty(e.prototype,"isSchema",{get:function(){return this.dbConnection.connectionType===l.ConnectionType.Schema},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.dbConnection=Object(i.a)({},this.config),this.readonly=this.config.connectionId&&this.isSchema,this.dbConnection.connectionConfig||(this.dbConnection.publicAccess=l.PublicAccessLevels.NoAccess,this.dbConnection.connectionConfig=Object(i.a)({},this.defaultConnectionConfig)),this.dbConnection.connectionType||(this.dbConnection.connectionType=l.ConnectionType.Schema),this.dbConnectionsService.serverHosts$.subscribe((function(t){e.serverHosts=t,e.setDbName()})),this.config.connectionId&&(this.loading=!0,this.dbConnectionsService.getDbConnection(this.config.connectionName).pipe(Object(s.a)((function(t){return e.catchError(t)}))).subscribe((function(t){t&&(e.dbConnection=Object(i.a)({},t)),e.loading=!1})),this.dbConnectionsService.getPermissions(this.config.connectionId).subscribe((function(t){e.permissions=t})))},e.prototype.saveConnection=function(e){var t=this;e.valid&&this.dbConnectionsService.saveDbConnection(this.dbConnection).pipe(Object(a.a)((function(){t.notificationService.open({type:l.NotificationType.SUCCESS,message:"DB Connection saved"}),t.saved.emit(t.dbConnection),t.modalRef&&t.modalRef.hide()})),Object(s.a)((function(e){return t.catchError(e)}))).subscribe()},e.prototype.onConectionTypeChange=function(){var e;this.dbConnection.defaultSchema=this.isSchema?null===(e=this.authService.user)||void 0===e?void 0:e.userName:"dbo",this.dbConnection.connectionConfig.serverName=null,this.setDbName()},e.prototype.deleteConnection=function(){var e=this;this.dbConnectionsService.deleteDbConnection(this.config.connectionId).pipe(Object(a.a)((function(){e.notificationService.open({type:l.NotificationType.SUCCESS,message:"DB Connection deleted"}),e.deleted.emit()})),Object(s.a)((function(t){return e.catchError(t)}))).subscribe((function(){e.modalRef&&e.modalRef.hide()}))},e.prototype.onSavePermission=function(e){var t=this;this.config.connectionId?this.saveAppPermission(e).then((function(n){t.updatePermissions(e),t.notificationService.open({type:l.NotificationType.SUCCESS,message:"Permission updated."})})):this.updatePermissions(e)},e.prototype.getPermissions=function(){var e=this;return this.permissions.map((function(t){return e.getPermissionToSave(t)}))},e.prototype.onRemovePermission=function(e){var t=this;if(this.config.connectionId)this.dbConnectionsService.removePermission(this.config.connectionId,e.userId).pipe(Object(s.a)((function(e){return t.catchError(e),Object(o.a)(!1)}))).subscribe((function(n){if(!1!==n){var i=t.permissions.indexOf(e);t.permissions.splice(i,1)}}));else{var n=this.permissions.indexOf(e);this.permissions.splice(n,1)}},e.prototype.setDbName=function(){this.dbConnection.connectionConfig.databaseName=this.isSchema&&this.serverHosts.length?this.serverHosts[0].code:null},e.prototype.updatePermissions=function(e){this.permissions.includes(e)||this.permissions.push(e)},e.prototype.catchError=function(e){return this.notificationService.open({type:l.NotificationType.DANGER,message:Object(u.l)(e)}),Object(o.a)(null)},e.prototype.saveAppPermission=function(e){var t=this;if(this.config.connectionId)return this.dbConnectionsService.grantPermission(this.getPermissionToSave(e)).pipe(Object(s.a)((function(e){return t.catchError(e)}))).toPromise()},e.prototype.getPermissionToSave=function(e){return{connectionId:this.config.connectionId,granteeId:e.userId,isAdmin:e.isAdmin,accessLevel:e.accessLevel}},e.\u0275fac=function(t){return new(t||e)(r.Nb(c.a),r.Nb(h.a),r.Nb(c.e))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-db-connection-config"]],inputs:{modalRef:"modalRef",config:"config"},outputs:{saved:"saved",skip:"skip",deleted:"deleted"},decls:89,vars:53,consts:[["autocomplete","off",1,"d-flex","flex-column","h-100",3,"ngSubmit"],["form","ngForm"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","class","close pull-right","aria-label","Close",3,"click",4,"ngIf"],[1,"modal-body","px-4","d-flex","flex-column","overflow-hidden"],["type","text","name","fakeusernameremembered",2,"opacity","0","position","absolute"],["id","password","type","password","name","fakepasswordremembered",2,"opacity","0","position","absolute"],[1,"form-group","row","mx-0","mb-2","flex-nowrap"],["for","db-connection-name",1,"col","col-form-label","px-0"],[1,"p-0","m-0","flex-fill"],["type","text","pattern","^[\\w|_-]+$","placeholder","Enter connection name","name","db-connection-name","required","","id","db-connection-name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","alert alert-danger py-1 px-2 m-0",4,"ngIf"],["for","db-connection-description",1,"col-form-label","px-0"],[1,"p-0","m-0","w-100"],["rows","2","placeholder","Enter app description","id","db-connection-description","name","db-connection-description",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-row","mx-0","mb-2"],["for","db-connection-type",1,"col-form-label","px-0"],[1,"p-0","m-0","flex-fill","align-items-center","d-flex"],["class","form-check form-check-inline",4,"ngFor","ngForOf"],["for","db-connection-publicaccess",1,"col-form-label","px-0"],["id","db-connection-publicaccess","name","db-connection-publicaccess",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","placeholder","Enter default schema name","name","db-connection-schema-name","required","","id","db-connection-schema-name",3,"ngModel","readOnly","ngClass","disabled","ngModelChange"],["schema","ngModel"],["isAnimated","true","closeOthers","true",1,"h-100"],["isOpen","true"],["accordion-heading","",1,"ml-4","my-2"],[1,"form-row","mx-0"],[1,"p-0","w-100"],["for","db-connection-servername",1,"col-form-label","px-0"],["type","text","placeholder","Enter server name","name","db-connection-servername","id","db-connection-servername",3,"ngModel","ngClass","disabled","readOnly","ngModelChange"],["for","db-connection-database",1,"col-form-label","px-0"],["type","text","placeholder","Enter database name","name","db-connection-database","id","db-connection-database","required","",3,"readOnly","ngClass","ngModel","ngModelChange",4,"ngIf"],["class","form-control","id","db-connection-hosts","name","db-connection-hosts","required","",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["for","db-connection-u",1,"col-form-label","px-0"],["id","username2","type","text",2,"opacity","0","position","absolute","width","0px"],["autocomplete","nope","placeholder","Enter user name","name","db-connectionu2","id","db-connection-u","required","",3,"readOnly","ngModel","ngClass","ngModelChange"],["for","db-connection-password",1,"col-form-label","px-0"],["autocomplete","nope","placeholder","Enter password","name","db-connectionpassword","id","db-connection-p","required","",3,"readOnly","type","ngClass","ngModel","ngModelChange"],["type","button",1,"btn","btn-link",3,"click"],[1,"form-group","row","mx-0","mb-0","flex-nowrap"],["for","db-connection-additionalsettings",1,"col","col-form-label","px-0"],["type","text","placeholder","Enter additional settings","name","db-connection-additionalsettings","id","db-connection-additionalsettings",3,"readOnly","ngModel","ngClass","ngModelChange"],[3,"permissions","PermissionEnum","save","remove"],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary","mr-2","ml-auto",3,"disabled"],["type","button","class","btn btn-light mr-2",3,"click",4,"ngIf"],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"alert","alert-danger","py-1","px-2","m-0"],[4,"ngIf"],[1,"form-check","form-check-inline"],["type","radio",1,"form-check-input",3,"name","id","value","ngModel","readonly","disabled","ngModelChange","change"],[1,"form-check-label","flex-fill",3,"for"],[3,"ngValue"],["type","text","placeholder","Enter database name","name","db-connection-database","id","db-connection-database","required","",3,"readOnly","ngClass","ngModel","ngModelChange"],["id","db-connection-hosts","name","db-connection-hosts","required","",1,"form-control",3,"disabled","ngModel","ngModelChange"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-light","mr-2",3,"click"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){if(1&e){var n=r.Ub();r.Tb(0,"form",0,1),r.bc("ngSubmit",(function(){r.vc(n);var e=r.sc(1);return t.saveConnection(e)})),r.Tb(2,"div",2),r.Tb(3,"h4",3),r.Ec(4),r.Sb(),r.Cc(5,m,3,0,"button",4),r.Sb(),r.Tb(6,"div",5),r.Ob(7,"input",6),r.Ob(8,"input",7),r.Tb(9,"div",8),r.Tb(10,"label",9),r.Ec(11,"Name"),r.Sb(),r.Tb(12,"div",10),r.Tb(13,"input",11,12),r.bc("ngModelChange",(function(e){return t.dbConnection.connectionName=e})),r.Sb(),r.Cc(15,y,3,2,"div",13),r.Sb(),r.Sb(),r.Tb(16,"div",8),r.Tb(17,"label",14),r.Ec(18,"Description"),r.Sb(),r.Tb(19,"div",15),r.Tb(20,"textarea",16),r.bc("ngModelChange",(function(e){return t.dbConnection.description=e})),r.Sb(),r.Sb(),r.Sb(),r.Tb(21,"div",17),r.Tb(22,"label",18),r.Ec(23,"Connection Type"),r.Sb(),r.Tb(24,"div",19),r.Cc(25,_,4,8,"div",20),r.Sb(),r.Sb(),r.Tb(26,"div",17),r.Tb(27,"label",21),r.Ec(28,"Public Access"),r.Sb(),r.Tb(29,"div",10),r.Tb(30,"select",22),r.bc("ngModelChange",(function(e){return t.dbConnection.publicAccess=e})),r.Cc(31,w,2,2,"option",23),r.Sb(),r.Sb(),r.Sb(),r.Tb(32,"div",8),r.Tb(33,"label",9),r.Ec(34,"Default Schema"),r.Sb(),r.Tb(35,"div",10),r.Tb(36,"input",24,25),r.bc("ngModelChange",(function(e){return t.dbConnection.defaultSchema=e})),r.Sb(),r.Cc(38,S,2,1,"div",13),r.Sb(),r.Sb(),r.Tb(39,"accordion",26),r.Tb(40,"accordion-group",27),r.Tb(41,"h4",28),r.Ec(42,"Sql Connection Details"),r.Sb(),r.Tb(43,"div",29),r.Tb(44,"div",30),r.Tb(45,"div",8),r.Tb(46,"label",31),r.Ec(47,"Server Name"),r.Sb(),r.Tb(48,"div",10),r.Tb(49,"input",32,12),r.bc("ngModelChange",(function(e){return t.dbConnection.connectionConfig.serverName=e})),r.Sb(),r.Sb(),r.Sb(),r.Tb(51,"div",8),r.Tb(52,"label",33),r.Ec(53,"Database Name"),r.Sb(),r.Tb(54,"div",10),r.Cc(55,T,2,6,"input",34),r.Sb(),r.Cc(56,x,2,3,"select",35),r.Sb(),r.Tb(57,"div",8),r.Tb(58,"label",36),r.Ec(59,"User Name"),r.Sb(),r.Tb(60,"div",10),r.Ob(61,"input",37),r.Tb(62,"input",38),r.bc("ngModelChange",(function(e){return t.dbConnection.connectionConfig.userName=e})),r.Sb(),r.Sb(),r.Sb(),r.Tb(63,"div",8),r.Tb(64,"label",39),r.Ec(65,"Password"),r.Sb(),r.Tb(66,"div",10),r.Tb(67,"input",40),r.bc("ngModelChange",(function(e){return t.dbConnection.connectionConfig.password=e})),r.Sb(),r.Sb(),r.Tb(68,"button",41),r.bc("click",(function(){return t.showPassword=!t.showPassword})),r.Ob(69,"i"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(70,"div",17),r.Tb(71,"div",30),r.Tb(72,"div",42),r.Tb(73,"label",43),r.Ec(74,"Additional settings"),r.Sb(),r.Tb(75,"div",10),r.Tb(76,"input",44),r.bc("ngModelChange",(function(e){return t.dbConnection.connectionConfig.additionalSettings=e})),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(77,"accordion-group"),r.Tb(78,"h4",28),r.Ec(79,"Permissions"),r.Sb(),r.Tb(80,"app-permissions",45),r.bc("save",(function(e){return t.onSavePermission(e)}))("remove",(function(e){return t.onRemovePermission(e)})),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(81,"div",46),r.Tb(82,"div",47),r.Cc(83,E,2,0,"button",48),r.Tb(84,"button",49),r.Ec(85,"Save"),r.Sb(),r.Cc(86,j,2,0,"button",50),r.Cc(87,A,2,0,"button",50),r.Sb(),r.Sb(),r.Sb(),r.Cc(88,I,4,0,"div",51)}if(2&e){var i=r.sc(1),o=r.sc(14),s=r.sc(37);r.Bb(4),r.Gc("",t.config.connectionName||"New DB Connection"," connection"),r.Bb(1),r.jc("ngIf",t.modalRef),r.Bb(8),r.jc("ngModel",t.dbConnection.connectionName),r.Bb(2),r.jc("ngIf",o.invalid&&(o.dirty||o.touched)),r.Bb(5),r.jc("ngModel",t.dbConnection.description),r.Bb(5),r.jc("ngForOf",t.connectionTypes),r.Bb(5),r.jc("ngModel",t.dbConnection.publicAccess),r.Bb(1),r.jc("ngForOf",t.publicAccess),r.Bb(5),r.jc("ngModel",t.dbConnection.defaultSchema)("readOnly",t.readonly)("ngClass",r.oc(38,O,t.readonly,!t.readonly))("disabled",t.isSchema&&!t.readonly),r.Bb(2),r.jc("ngIf",s.invalid&&(s.dirty||s.touched)),r.Bb(11),r.jc("ngModel",t.dbConnection.connectionConfig.serverName)("ngClass",r.oc(41,O,t.readonly,!t.readonly))("disabled",t.isSchema&&!t.readonly)("readOnly",t.readonly),r.Bb(6),r.jc("ngIf",!t.isSchema),r.Bb(1),r.jc("ngIf",t.isSchema),r.Bb(6),r.jc("readOnly",t.readonly)("ngModel",t.dbConnection.connectionConfig.userName)("ngClass",r.oc(44,O,t.readonly,!t.readonly)),r.Bb(5),r.jc("readOnly",t.readonly)("type",t.showPassword?"text":"password")("ngClass",r.oc(47,O,t.readonly,!t.readonly))("ngModel",t.dbConnection.connectionConfig.password),r.Bb(2),r.Db(t.showPassword?"fa fa-eye-slash":"fa fa-eye"),r.Bb(7),r.jc("readOnly",t.readonly)("ngModel",t.dbConnection.connectionConfig.additionalSettings)("ngClass",r.oc(50,O,t.readonly,!t.readonly)),r.Bb(4),r.jc("permissions",t.permissions)("PermissionEnum",t.PermissionLevels),r.Bb(3),r.jc("ngIf",t.config.connectionId),r.Bb(1),r.jc("disabled",i.invalid),r.Bb(2),r.jc("ngIf",t.modalRef),r.Bb(1),r.jc("ngIf",!t.modalRef),r.Bb(1),r.jc("ngIf",t.loading)}},directives:[d.t,d.j,d.k,f.m,d.b,d.o,d.q,d.i,d.l,f.l,d.r,f.k,p.a,p.c,g.a,d.p,d.m,d.s],styles:["label[_ngcontent-%COMP%]{flex:0 0 120px}[_nghost-%COMP%]{display:flex;flex-direction:column;position:relative}i.fa[_ngcontent-%COMP%]{color:var(--color)}"]}),e}()},cdP3:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return O}));var i=n("KQm4"),r=n("1OyB"),o=n("vuIU"),s=n("fXoL"),a=n("ofXK"),l=n("XNiG"),c=n("HDdC"),u=n("Kj3r"),h=["gutterEls"];function d(e,t){if(1&e){var n=s.Ub();s.Tb(0,"div",2,3),s.bc("mousedown",(function(e){s.vc(n);var t=s.dc().index;return s.dc().startDragging(e,2*t+1,t+1)}))("touchstart",(function(e){s.vc(n);var t=s.dc().index;return s.dc().startDragging(e,2*t+1,t+1)}))("mouseup",(function(e){s.vc(n);var t=s.dc().index;return s.dc().clickGutter(e,t+1)}))("touchend",(function(e){s.vc(n);var t=s.dc().index;return s.dc().clickGutter(e,t+1)})),s.Ob(2,"div",4),s.Sb()}if(2&e){var i=s.dc().index,r=s.dc();s.Bc("flex-basis",r.gutterSize,"px")("order",2*i+1)}}function f(e,t){1&e&&s.Cc(0,d,3,4,"div",1),2&e&&s.jc("ngIf",!1===t.last)}var p=["*"];function g(e){return void 0!==e.changedTouches&&e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:void 0!==e.clientX&&void 0!==e.clientY?{x:e.clientX,y:e.clientY}:null}function m(e,t){var n=e.nativeElement.getBoundingClientRect();return"horizontal"===t?n.width:n.height}function b(e){return"boolean"==typeof e?e:"false"!==e}function v(e,t){return null==e?t:(e=Number(e),!isNaN(e)&&e>=0?e:t)}function y(e,t){if("percent"===e){var n=t.reduce((function(e,t){return null!==t?e+t:e}),0);return t.every((function(e){return null!==e}))&&n>99.9&&n<100.1}if("pixel"===e)return 1===t.filter((function(e){return null===e})).length}function _(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.minSize?null:e.component.minSize>e.size?e.size:e.component.minSize}function w(e){return null===e.size?null:!0===e.component.lockSize?e.size:null===e.component.maxSize?null:e.component.maxSize<e.size?e.size:e.component.maxSize}function C(e,t,n,i){return t.reduce((function(t,n){var r=function(e,t,n,i){return 0===n?{areaSnapshot:t,pixelAbsorb:0,percentAfterAbsorption:t.sizePercentAtStart,pixelRemain:0}:0===t.sizePixelAtStart&&n<0?{areaSnapshot:t,pixelAbsorb:0,percentAfterAbsorption:0,pixelRemain:n}:"percent"===e?function(e,t,n){var i=(e.sizePixelAtStart+t)/n*100;if(t>0){if(null!==e.area.maxSize&&i>e.area.maxSize){var r=e.area.maxSize/100*n;return{areaSnapshot:e,pixelAbsorb:r,percentAfterAbsorption:e.area.maxSize,pixelRemain:e.sizePixelAtStart+t-r}}return{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:i>100?100:i,pixelRemain:0}}if(t<0){if(null!==e.area.minSize&&i<e.area.minSize){var o=e.area.minSize/100*n;return{areaSnapshot:e,pixelAbsorb:o,percentAfterAbsorption:e.area.minSize,pixelRemain:e.sizePixelAtStart+t-o}}return i<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:0,pixelRemain:t+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:i,pixelRemain:0}}}(t,n,i):"pixel"===e?function(e,t,n){var i=e.sizePixelAtStart+t;return t>0?null!==e.area.maxSize&&i>e.area.maxSize?{areaSnapshot:e,pixelAbsorb:e.area.maxSize-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:i-e.area.maxSize}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:-1,pixelRemain:0}:t<0?null!==e.area.minSize&&i<e.area.minSize?{areaSnapshot:e,pixelAbsorb:e.area.minSize+t-i,percentAfterAbsorption:-1,pixelRemain:i-e.area.minSize}:i<0?{areaSnapshot:e,pixelAbsorb:-e.sizePixelAtStart,percentAfterAbsorption:-1,pixelRemain:t+e.sizePixelAtStart}:{areaSnapshot:e,pixelAbsorb:t,percentAfterAbsorption:-1,pixelRemain:0}:void 0}(t,n):void 0}(e,n,t.remain,i);return t.list.push(r),t.remain=r.pixelRemain,t}),{remain:n,list:[]})}function S(e,t){"percent"===e?t.areaSnapshot.area.size=t.percentAfterAbsorption:"pixel"===e&&null!==t.areaSnapshot.area.size&&(t.areaSnapshot.area.size=t.areaSnapshot.sizePixelAtStart+t.pixelAbsorb)}var O=function(){var e=function(){function e(t,n,i,o){Object(r.a)(this,e),this.ngZone=t,this.elRef=n,this.cdRef=i,this.renderer=o,this._direction="horizontal",this._unit="percent",this._gutterSize=11,this._gutterStep=1,this._restrictMove=!1,this._useTransition=!1,this._disabled=!1,this._dir="ltr",this._gutterDblClickDuration=0,this.dragStart=new s.p(!1),this.dragEnd=new s.p(!1),this.gutterClick=new s.p(!1),this.gutterDblClick=new s.p(!1),this.dragProgressSubject=new l.a,this.dragProgress$=this.dragProgressSubject.asObservable(),this.isDragging=!1,this.isWaitingClear=!1,this.dragListeners=[],this.snapshot=null,this.startPoint=null,this.endPoint=null,this.displayedAreas=[],this.hidedAreas=[],this._clickTimeout=null,this.direction=this._direction}return Object(o.a)(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){setTimeout((function(){return e.renderer.addClass(e.elRef.nativeElement,"as-init")}))}))}},{key:"getNbGutters",value:function(){return 0===this.displayedAreas.length?0:this.displayedAreas.length-1}},{key:"addArea",value:function(e){var t={component:e,order:0,size:0,minSize:null,maxSize:null};!0===e.visible?(this.displayedAreas.push(t),this.build(!0,!0)):this.hidedAreas.push(t)}},{key:"removeArea",value:function(e){if(this.displayedAreas.some((function(t){return t.component===e}))){var t=this.displayedAreas.find((function(t){return t.component===e}));this.displayedAreas.splice(this.displayedAreas.indexOf(t),1),this.build(!0,!0)}else if(this.hidedAreas.some((function(t){return t.component===e}))){var n=this.hidedAreas.find((function(t){return t.component===e}));this.hidedAreas.splice(this.hidedAreas.indexOf(n),1)}}},{key:"updateArea",value:function(e,t,n){!0===e.visible&&this.build(t,n)}},{key:"showArea",value:function(e){var t,n=this.hidedAreas.find((function(t){return t.component===e}));if(void 0!==n){var r=this.hidedAreas.splice(this.hidedAreas.indexOf(n),1);(t=this.displayedAreas).push.apply(t,Object(i.a)(r)),this.build(!0,!0)}}},{key:"hideArea",value:function(e){var t,n=this.displayedAreas.find((function(t){return t.component===e}));if(void 0!==n){var r=this.displayedAreas.splice(this.displayedAreas.indexOf(n),1);r.forEach((function(e){e.order=0,e.size=0})),(t=this.hidedAreas).push.apply(t,Object(i.a)(r)),this.build(!0,!0)}}},{key:"getVisibleAreaSizes",value:function(){return this.displayedAreas.map((function(e){return null===e.size?"*":e.size}))}},{key:"setVisibleAreaSizes",value:function(e){if(e.length!==this.displayedAreas.length)return!1;var t=e.map((function(e){return v(e,null)}));return!1!==y(this.unit,t)&&(this.displayedAreas.forEach((function(e,n){return e.component._size=t[n]})),this.build(!1,!0),!0)}},{key:"build",value:function(e,t){if(this.stopDragging(),!0===e&&(this.displayedAreas.every((function(e){return null!==e.component.order}))&&this.displayedAreas.sort((function(e,t){return e.component.order-t.component.order})),this.displayedAreas.forEach((function(e,t){e.order=2*t,e.component.setStyleOrder(e.order)}))),!0===t){var n=y(this.unit,this.displayedAreas.map((function(e){return e.component.size})));switch(this.unit){case"percent":var i=100/this.displayedAreas.length;this.displayedAreas.forEach((function(e){e.size=n?e.component.size:i,e.minSize=_(e),e.maxSize=w(e)}));break;case"pixel":if(n)this.displayedAreas.forEach((function(e){e.size=e.component.size,e.minSize=_(e),e.maxSize=w(e)}));else{var r=this.displayedAreas.filter((function(e){return null===e.component.size}));if(0===r.length&&this.displayedAreas.length>0)this.displayedAreas.forEach((function(e,t){e.size=0===t?null:e.component.size,e.minSize=0===t?null:_(e),e.maxSize=0===t?null:w(e)}));else if(r.length>1){var o=!1;this.displayedAreas.forEach((function(e){null===e.component.size?!1===o?(e.size=null,e.minSize=null,e.maxSize=null,o=!0):(e.size=100,e.minSize=null,e.maxSize=null):(e.size=e.component.size,e.minSize=_(e),e.maxSize=w(e))}))}}}}this.refreshStyleSizes(),this.cdRef.markForCheck()}},{key:"refreshStyleSizes",value:function(){var e=this;if("percent"===this.unit)if(1===this.displayedAreas.length)this.displayedAreas[0].component.setStyleFlex(0,0,"100%",!1,!1);else{var t=this.getNbGutters()*this.gutterSize;this.displayedAreas.forEach((function(e){e.component.setStyleFlex(0,0,"calc( ".concat(e.size,"% - ").concat(e.size/100*t,"px )"),null!==e.minSize&&e.minSize===e.size,null!==e.maxSize&&e.maxSize===e.size)}))}else"pixel"===this.unit&&this.displayedAreas.forEach((function(t){null===t.size?t.component.setStyleFlex(1,1,1===e.displayedAreas.length?"100%":"auto",!1,!1):1===e.displayedAreas.length?t.component.setStyleFlex(0,0,"100%",!1,!1):t.component.setStyleFlex(0,0,"".concat(t.size,"px"),null!==t.minSize&&t.minSize===t.size,null!==t.maxSize&&t.maxSize===t.size)}))}},{key:"clickGutter",value:function(e,t){var n=this,i=g(e);this.startPoint&&this.startPoint.x===i.x&&this.startPoint.y===i.y&&(null!==this._clickTimeout?(window.clearTimeout(this._clickTimeout),this._clickTimeout=null,this.notify("dblclick",t),this.stopDragging()):this._clickTimeout=window.setTimeout((function(){n._clickTimeout=null,n.notify("click",t),n.stopDragging()}),this.gutterDblClickDuration))}},{key:"startDragging",value:function(e,t,n){var r=this;e.preventDefault(),e.stopPropagation(),this.startPoint=g(e),null!==this.startPoint&&!0!==this.disabled&&!0!==this.isWaitingClear&&(this.snapshot={gutterNum:n,lastSteppedOffset:0,allAreasSizePixel:m(this.elRef,this.direction)-this.getNbGutters()*this.gutterSize,allInvolvedAreasSizePercent:100,areasBeforeGutter:[],areasAfterGutter:[]},this.displayedAreas.forEach((function(e){var n={area:e,sizePixelAtStart:m(e.component.elRef,r.direction),sizePercentAtStart:"percent"===r.unit?e.size:-1};e.order<t?!0===r.restrictMove?r.snapshot.areasBeforeGutter=[n]:r.snapshot.areasBeforeGutter.unshift(n):e.order>t&&(!0===r.restrictMove?0===r.snapshot.areasAfterGutter.length&&(r.snapshot.areasAfterGutter=[n]):r.snapshot.areasAfterGutter.push(n))})),this.snapshot.allInvolvedAreasSizePercent=[].concat(Object(i.a)(this.snapshot.areasBeforeGutter),Object(i.a)(this.snapshot.areasAfterGutter)).reduce((function(e,t){return e+t.sizePercentAtStart}),0),0!==this.snapshot.areasBeforeGutter.length&&0!==this.snapshot.areasAfterGutter.length&&(this.dragListeners.push(this.renderer.listen("document","mouseup",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchend",this.stopDragging.bind(this))),this.dragListeners.push(this.renderer.listen("document","touchcancel",this.stopDragging.bind(this))),this.ngZone.runOutsideAngular((function(){r.dragListeners.push(r.renderer.listen("document","mousemove",r.dragEvent.bind(r))),r.dragListeners.push(r.renderer.listen("document","touchmove",r.dragEvent.bind(r)))})),this.displayedAreas.forEach((function(e){return e.component.lockEvents()})),this.isDragging=!0,this.renderer.addClass(this.elRef.nativeElement,"as-dragging"),this.renderer.addClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.notify("start",this.snapshot.gutterNum)))}},{key:"dragEvent",value:function(e){var t=this;if(e.preventDefault(),e.stopPropagation(),null!==this._clickTimeout&&(window.clearTimeout(this._clickTimeout),this._clickTimeout=null),!1!==this.isDragging&&(this.endPoint=g(e),null!==this.endPoint)){var n="horizontal"===this.direction?this.startPoint.x-this.endPoint.x:this.startPoint.y-this.endPoint.y;"rtl"===this.dir&&(n=-n);var r=Math.round(n/this.gutterStep)*this.gutterStep;if(r!==this.snapshot.lastSteppedOffset){this.snapshot.lastSteppedOffset=r;var o=C(this.unit,this.snapshot.areasBeforeGutter,-r,this.snapshot.allAreasSizePixel),s=C(this.unit,this.snapshot.areasAfterGutter,r,this.snapshot.allAreasSizePixel);if(0!==o.remain&&0!==s.remain?Math.abs(o.remain)===Math.abs(s.remain)||(Math.abs(o.remain)>Math.abs(s.remain)?s=C(this.unit,this.snapshot.areasAfterGutter,r+o.remain,this.snapshot.allAreasSizePixel):o=C(this.unit,this.snapshot.areasBeforeGutter,-(r-s.remain),this.snapshot.allAreasSizePixel)):0!==o.remain?s=C(this.unit,this.snapshot.areasAfterGutter,r+o.remain,this.snapshot.allAreasSizePixel):0!==s.remain&&(o=C(this.unit,this.snapshot.areasBeforeGutter,-(r-s.remain),this.snapshot.allAreasSizePixel)),"percent"===this.unit){var a=[].concat(Object(i.a)(o.list),Object(i.a)(s.list)),l=a.find((function(e){return 0!==e.percentAfterAbsorption&&e.percentAfterAbsorption!==e.areaSnapshot.area.minSize&&e.percentAfterAbsorption!==e.areaSnapshot.area.maxSize}));l&&(l.percentAfterAbsorption=this.snapshot.allInvolvedAreasSizePercent-a.filter((function(e){return e!==l})).reduce((function(e,t){return e+t.percentAfterAbsorption}),0))}o.list.forEach((function(e){return S(t.unit,e)})),s.list.forEach((function(e){return S(t.unit,e)})),this.refreshStyleSizes(),this.notify("progress",this.snapshot.gutterNum)}}}},{key:"stopDragging",value:function(e){var t=this;if(e&&(e.preventDefault(),e.stopPropagation()),!1!==this.isDragging){for(this.displayedAreas.forEach((function(e){return e.component.unlockEvents()}));this.dragListeners.length>0;){var n=this.dragListeners.pop();n&&n()}this.isDragging=!1,!this.endPoint||this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y||this.notify("end",this.snapshot.gutterNum),this.renderer.removeClass(this.elRef.nativeElement,"as-dragging"),this.renderer.removeClass(this.gutterEls.toArray()[this.snapshot.gutterNum-1].nativeElement,"as-dragged"),this.snapshot=null,this.isWaitingClear=!0,this.ngZone.runOutsideAngular((function(){setTimeout((function(){t.startPoint=null,t.endPoint=null,t.isWaitingClear=!1}))}))}}},{key:"notify",value:function(e,t){var n=this,i=this.getVisibleAreaSizes();"start"===e?this.dragStart.emit({gutterNum:t,sizes:i}):"end"===e?this.dragEnd.emit({gutterNum:t,sizes:i}):"click"===e?this.gutterClick.emit({gutterNum:t,sizes:i}):"dblclick"===e?this.gutterDblClick.emit({gutterNum:t,sizes:i}):"transitionEnd"===e?this.transitionEndSubscriber&&this.ngZone.run((function(){return n.transitionEndSubscriber.next(i)})):"progress"===e&&this.dragProgressSubject.next({gutterNum:t,sizes:i})}},{key:"ngOnDestroy",value:function(){this.stopDragging()}},{key:"direction",set:function(e){this._direction="vertical"===e?"vertical":"horizontal",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._direction)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("vertical"===this._direction?"horizontal":"vertical")),this.build(!1,!1)},get:function(){return this._direction}},{key:"unit",set:function(e){this._unit="pixel"===e?"pixel":"percent",this.renderer.addClass(this.elRef.nativeElement,"as-".concat(this._unit)),this.renderer.removeClass(this.elRef.nativeElement,"as-".concat("pixel"===this._unit?"percent":"pixel")),this.build(!1,!0)},get:function(){return this._unit}},{key:"gutterSize",set:function(e){this._gutterSize=v(e,11),this.build(!1,!1)},get:function(){return this._gutterSize}},{key:"gutterStep",set:function(e){this._gutterStep=v(e,1)},get:function(){return this._gutterStep}},{key:"restrictMove",set:function(e){this._restrictMove=b(e)},get:function(){return this._restrictMove}},{key:"useTransition",set:function(e){this._useTransition=b(e),this._useTransition?this.renderer.addClass(this.elRef.nativeElement,"as-transition"):this.renderer.removeClass(this.elRef.nativeElement,"as-transition")},get:function(){return this._useTransition}},{key:"disabled",set:function(e){this._disabled=b(e),this._disabled?this.renderer.addClass(this.elRef.nativeElement,"as-disabled"):this.renderer.removeClass(this.elRef.nativeElement,"as-disabled")},get:function(){return this._disabled}},{key:"dir",set:function(e){this._dir="rtl"===e?"rtl":"ltr",this.renderer.setAttribute(this.elRef.nativeElement,"dir",this._dir)},get:function(){return this._dir}},{key:"gutterDblClickDuration",set:function(e){this._gutterDblClickDuration=v(e,0)},get:function(){return this._gutterDblClickDuration}},{key:"transitionEnd",get:function(){var e=this;return new c.a((function(t){return e.transitionEndSubscriber=t})).pipe(Object(u.a)(20))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Nb(s.C),s.Nb(s.n),s.Nb(s.h),s.Nb(s.G))},e.\u0275cmp=s.Hb({type:e,selectors:[["as-split"]],viewQuery:function(e,t){var n;1&e&&s.Jc(h,!0),2&e&&s.rc(n=s.cc())&&(t.gutterEls=n)},inputs:{direction:"direction",unit:"unit",gutterSize:"gutterSize",gutterStep:"gutterStep",restrictMove:"restrictMove",useTransition:"useTransition",disabled:"disabled",dir:"dir",gutterDblClickDuration:"gutterDblClickDuration"},outputs:{dragStart:"dragStart",dragEnd:"dragEnd",gutterClick:"gutterClick",gutterDblClick:"gutterDblClick",transitionEnd:"transitionEnd"},exportAs:["asSplit"],ngContentSelectors:p,decls:2,vars:1,consts:[["ngFor","",3,"ngForOf"],["class","as-split-gutter",3,"flex-basis","order","mousedown","touchstart","mouseup","touchend",4,"ngIf"],[1,"as-split-gutter",3,"mousedown","touchstart","mouseup","touchend"],["gutterEls",""],[1,"as-split-gutter-icon"]],template:function(e,t){1&e&&(s.ic(),s.hc(0),s.Cc(1,f,1,1,"ng-template",0)),2&e&&(s.Bb(1),s.jc("ngForOf",t.displayedAreas))},directives:[a.l,a.m],styles:['[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch;overflow:hidden;width:100%;height:100%}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0;background-color:#eee;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center center;background-repeat:no-repeat}[_nghost-%COMP%]    >.as-split-area{flex-grow:0;flex-shrink:0;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]    >.as-split-area.as-hidden{flex:0 1 0px!important;overflow-x:hidden;overflow-y:hidden}.as-horizontal[_nghost-%COMP%]{flex-direction:row}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:row;cursor:col-resize;height:100%}.as-horizontal[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%] > .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}.as-horizontal[_nghost-%COMP%]    >.as-split-area{height:100%}.as-vertical[_nghost-%COMP%]{flex-direction:column}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{flex-direction:column;cursor:row-resize;width:100%}.as-vertical[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}.as-vertical[_nghost-%COMP%]    >.as-split-area{width:100%}.as-vertical[_nghost-%COMP%]    >.as-split-area.as-hidden{max-width:0}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]{cursor:default}.as-disabled[_nghost-%COMP%] > .as-split-gutter[_ngcontent-%COMP%]   .as-split-gutter-icon[_ngcontent-%COMP%]{background-image:url("")}.as-transition.as-init[_nghost-%COMP%]:not(.as-dragging)    >.as-split-area, .as-transition.as-init[_nghost-%COMP%]:not(.as-dragging) > .as-split-gutter[_ngcontent-%COMP%]{transition:flex-basis .3s}'],changeDetection:0}),e}(),T=function(){var e=function(){function e(t,n,i,o){Object(r.a)(this,e),this.ngZone=t,this.elRef=n,this.renderer=i,this.split=o,this._order=null,this._size=null,this._minSize=null,this._maxSize=null,this._lockSize=!1,this._visible=!0,this.lockListeners=[],this.renderer.addClass(this.elRef.nativeElement,"as-split-area")}return Object(o.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.split.addArea(this),this.ngZone.runOutsideAngular((function(){e.transitionListener=e.renderer.listen(e.elRef.nativeElement,"transitionend",(function(t){"flex-basis"===t.propertyName&&e.split.notify("transitionEnd",-1)}))}))}},{key:"setStyleOrder",value:function(e){this.renderer.setStyle(this.elRef.nativeElement,"order",e)}},{key:"setStyleFlex",value:function(e,t,n,i,r){this.renderer.setStyle(this.elRef.nativeElement,"flex-grow",e),this.renderer.setStyle(this.elRef.nativeElement,"flex-shrink",t),this.renderer.setStyle(this.elRef.nativeElement,"flex-basis",n),!0===i?this.renderer.addClass(this.elRef.nativeElement,"as-min"):this.renderer.removeClass(this.elRef.nativeElement,"as-min"),!0===r?this.renderer.addClass(this.elRef.nativeElement,"as-max"):this.renderer.removeClass(this.elRef.nativeElement,"as-max")}},{key:"lockEvents",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.lockListeners.push(e.renderer.listen(e.elRef.nativeElement,"selectstart",(function(e){return!1}))),e.lockListeners.push(e.renderer.listen(e.elRef.nativeElement,"dragstart",(function(e){return!1})))}))}},{key:"unlockEvents",value:function(){for(;this.lockListeners.length>0;){var e=this.lockListeners.pop();e&&e()}}},{key:"ngOnDestroy",value:function(){this.unlockEvents(),this.transitionListener&&this.transitionListener(),this.split.removeArea(this)}},{key:"order",set:function(e){this._order=v(e,null),this.split.updateArea(this,!0,!1)},get:function(){return this._order}},{key:"size",set:function(e){this._size=v(e,null),this.split.updateArea(this,!1,!0)},get:function(){return this._size}},{key:"minSize",set:function(e){this._minSize=v(e,null),this.split.updateArea(this,!1,!0)},get:function(){return this._minSize}},{key:"maxSize",set:function(e){this._maxSize=v(e,null),this.split.updateArea(this,!1,!0)},get:function(){return this._maxSize}},{key:"lockSize",set:function(e){this._lockSize=b(e),this.split.updateArea(this,!1,!0)},get:function(){return this._lockSize}},{key:"visible",set:function(e){this._visible=b(e),this._visible?(this.split.showArea(this),this.renderer.removeClass(this.elRef.nativeElement,"as-hidden")):(this.split.hideArea(this),this.renderer.addClass(this.elRef.nativeElement,"as-hidden"))},get:function(){return this._visible}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Nb(s.C),s.Nb(s.n),s.Nb(s.G),s.Nb(O))},e.\u0275dir=s.Ib({type:e,selectors:[["as-split-area"],["","as-split-area",""]],inputs:{order:"order",size:"size",minSize:"minSize",maxSize:"maxSize",lockSize:"lockSize",visible:"visible"},exportAs:["asSplitArea"]}),e}(),k=function(){var e=function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[]}}},{key:"forChild",value:function(){return{ngModule:e,providers:[]}}}]),e}();return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e}()},cp0P:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("KQm4"),r=n("HDdC"),o=n("DH7j"),s=n("lJxs"),a=n("XoHu"),l=n("Cfvw");function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(Object(o.a)(r))return u(r,null);if(Object(a.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var l=Object.keys(r);return u(l.map((function(e){return r[e]})),l)}}if("function"==typeof t[t.length-1]){var c=t.pop();return u(t=1===t.length&&Object(o.a)(t[0])?t[0]:t,null).pipe(Object(s.a)((function(e){return c.apply(void 0,Object(i.a)(e))})))}return u(t,null)}function u(e,t){return new r.a((function(n){var i=e.length;if(0!==i)for(var r=new Array(i),o=0,s=0,a=function(a){var c=Object(l.a)(e[a]),u=!1;n.add(c.subscribe({next:function(e){u||(u=!0,s++),r[a]=e},error:function(e){return n.error(e)},complete:function(){++o!==i&&u||(s===i&&n.next(t?t.reduce((function(e,t,n){return e[t]=r[n],e}),{}):r),n.complete())}}))},c=0;c<i;c++)a(c);else n.complete()}))}},crnd:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},cuhF:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var i=n("mrSG"),r=n("eY+I"),o=(n("K3ix"),n("ZF+8")),s=n("UShy"),a=n("s0Cq"),l=n("TwVa"),c=n("UfhM"),u=n("nKjQ"),h=n("rN1o"),d=n("FQei"),f=(n("M0ag"),n("fXoL")),p=n("ofXK"),g=n("44PX"),m=n("3Pt+"),b=n("ZOsW"),v=n("qGRI"),y=n("zShH"),_=n("psEu"),w=["jspyScript"];function C(e,t){if(1&e&&(f.Tb(0,"alert",40),f.Tb(1,"strong"),f.Ec(2,"Error:"),f.Sb(),f.Ec(3),f.Sb()),2&e){var n=f.dc();f.Bb(3),f.Gc(" ",n.error," ")}}function S(e,t){1&e&&(f.Tb(0,"div"),f.Ec(1,"Worksheet name is required."),f.Sb())}function O(e,t){if(1&e&&(f.Tb(0,"div",41),f.Cc(1,S,2,0,"div",42),f.Sb()),2&e){f.dc();var n=f.sc(18);f.Bb(1),f.jc("ngIf",n.errors.required)}}function T(e,t){if(1&e&&(f.Ob(0,"i"),f.Ec(1)),2&e){var n=t.item;f.Db(n),f.Bb(1),f.Gc(" ",n.replace("fa fa-","")," ")}}function k(e,t){if(1&e&&(f.Ob(0,"i"),f.Ec(1)),2&e){var n=t.item;f.Db(n),f.Bb(1),f.Gc(" ",n.replace("fa fa-","")," ")}}function x(e,t){1&e&&(f.Tb(0,"div"),f.Ec(1,"Worksheet icon is required."),f.Sb())}function E(e,t){if(1&e&&(f.Tb(0,"div",41),f.Cc(1,x,2,0,"div",42),f.Sb()),2&e){f.dc();var n=f.sc(31);f.Bb(1),f.jc("ngIf",n.errors.required)}}function j(e,t){if(1&e&&(f.Tb(0,"option",43),f.Ec(1),f.Sb()),2&e){var n=t.$implicit,i=f.dc();f.jc("value",n),f.Bb(1),f.Fc(i.formatLabel(n))}}function A(e,t){if(1&e){var n=f.Ub();f.Tb(0,"button",44),f.bc("click",(function(){return f.vc(n),f.dc().deleteWorksheet()})),f.Ec(1,"Delete Worksheet"),f.Sb()}}var I=function(){function e(e,t,n,o,s){this.localSettings=e,this.authService=t,this.dialogService=n,this.worksheetsService=o,this.notificationService=s,this.visibility=r.f.UIModel,this.permissionLevels=Object.values(l.PublicAccessLevels),this.formatLabel=d.formatCamelStr,this.permissions=[],this.worksheet={groupName:null,description:null,worksheetId:null,worksheetName:null,ownerName:null,scripts:"",uiModelXml:"",uiModel:Object(i.a)({},h.a),publicAccess:l.PublicAccessLevels.NoAccess,uiSettings:{icon:"fa fa-picture-o"},isAdmin:!0},this.icons=a.a}return e.prototype.ngOnInit=function(){var e=this;this.worksheet.ownerName=this.authService.user.userName,this.interpreter=Object(s.a)(),Object.keys(this.config).forEach((function(t){e.worksheet[t]=e.config[t]})),this.worksheet.uiSettings||(this.worksheet.uiSettings={icon:"fa fa-picture-o"}),this.error=null,this.worksheet.worksheetId?this.worksheetsService.getPermissions(this.worksheet.worksheetId).subscribe((function(t){e.permissions=t})):this.permissions=[]},e.prototype.ngAfterViewInit=function(){this.localSettings.setEditorsTheme()},e.prototype.saveWorksheet=function(){var e=this;try{var t=h.b,n=this.jspyScript.getValue();this.worksheetsService.saveWorksheet(Object(i.a)(Object(i.a)({},this.worksheet),{uiModel:t,scripts:n})).subscribe((function(t){e.worksheet.worksheetId||(e.worksheet.worksheetId=t,e.permissions.map((function(t){return e.getPermissionToSave(t)})).forEach((function(t){e.worksheetsService.grantPermission(t).toPromise()}))),e.notificationService.open({type:l.NotificationType.SUCCESS,message:"Worksheet saved"}),e.modalRef.hide()}))}catch(r){this.error=r.message}},e.prototype.deleteWorksheet=function(){var e=this;this.dialogService.confirmation("Delete page "+this.config.worksheetName+". Are You sure?").subscribe((function(t){t&&(e.notificationService.open({type:l.NotificationType.SUCCESS,message:"Worksheet deleted."}),e.worksheetsService.deleteWorksheet(e.config.worksheetId).subscribe((function(){e.modalRef.hide()})))}))},e.prototype.onSavePermission=function(e){var t=this;this.worksheet.worksheetId?this.worksheetsService.grantPermission(this.getPermissionToSave(e)).subscribe((function(n){t.updatePermissions(e)})):this.updatePermissions(e)},e.prototype.onRemovePermission=function(e){var t=this;if(this.worksheet.worksheetId)this.worksheetsService.removeAppPermission(e.userId,this.worksheet.worksheetId).subscribe((function(n){var i=t.permissions.indexOf(e);t.permissions.splice(i,1)}));else{var n=this.permissions.indexOf(e);this.permissions.splice(n,1)}},e.prototype.updatePermissions=function(e){this.permissions.includes(e)||this.permissions.push(e)},e.prototype.getPermissionToSave=function(e){return{worksheetId:this.worksheet.worksheetId,granteeId:e.userId,isAdmin:e.isAdmin,accessLevel:e.accessLevel}},e.\u0275fac=function(t){return new(t||e)(f.Nb(o.d),f.Nb(c.a),f.Nb(o.b),f.Nb(u.a),f.Nb(o.e))},e.\u0275cmp=f.Hb({type:e,selectors:[["app-worksheet-config"]],viewQuery:function(e,t){var n;1&e&&f.Ac(w,!0),2&e&&f.rc(n=f.cc())&&(t.jspyScript=n.first)},inputs:{config:"config",modalRef:"modalRef"},decls:59,vars:14,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4","d-flex","flex-column","overflow-hidden"],["type","danger",4,"ngIf"],[1,"position-relative","h-100"],[1,"tabset-fx","nav-tabs-boxed"],["heading","Worksheet Info"],["worksheetInfoForm","ngForm"],[1,"form-group","row","mx-0","mb-2","flex-nowrap"],["for","worksheet-name",1,"col-form-label","px-0"],[1,"ml-2"],["type","text","placeholder","Enter worksheet name","name","name","required","","id","worksheet-name",1,"form-control",3,"ngModel","ngModelChange"],["worksheetName","ngModel"],["class","alert alert-danger py-1 px-2 m-0",4,"ngIf"],["for","worksheet-group",1,"col-form-label","px-0"],["type","text","placeholder","Enter worksheet group","name","group","id","worksheet-group",1,"form-control",3,"ngModel","ngModelChange"],["group","ngModel"],["for","worksheet-icon",1,"col-form-label","px-0"],["name","icon","id","worksheet-icon","placeholder","Enter worksheet icon","require","",3,"items","ngModel","ngModelChange"],["icon","ngModel"],["ng-label-tmp",""],["ng-option-tmp",""],["for","ws-public-access",1,"col-form-label","px-0"],["id","ws-public-access","name","ws-public-access",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","row","mx-0","mb-1","flex-nowrap"],["for","worksheet-description",1,"col-form-label","px-0"],["rows","5","placeholder","Enter worksheet description","id","worksheet-description","name","description",1,"form-control",3,"ngModel","ngModelChange"],["accordion-heading","",1,"ml-4","my-2"],[3,"permissions","save","remove"],["heading","Worksheet Scripts"],[1,"w-100","h-100"],["jspyScript",""],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","mr-2","ml-auto",3,"disabled","click"],["type","button",1,"btn","btn-light","mr-2",3,"click"],["type","danger"],[1,"alert","alert-danger","py-1","px-2","m-0"],[4,"ngIf"],[3,"value"],["type","button",1,"btn","btn-danger","mr-2",3,"click"]],template:function(e,t){if(1&e&&(f.Tb(0,"div",0),f.Tb(1,"h4",1),f.Ec(2),f.Sb(),f.Tb(3,"button",2),f.bc("click",(function(){return t.modalRef.hide()})),f.Tb(4,"span",3),f.Ec(5,"\xd7"),f.Sb(),f.Sb(),f.Sb(),f.Tb(6,"div",4),f.Cc(7,C,4,1,"alert",5),f.Tb(8,"div",6),f.Tb(9,"tabset",7),f.Tb(10,"tab",8),f.Tb(11,"form",null,9),f.Tb(13,"div",10),f.Tb(14,"label",11),f.Ec(15,"Worksheet name"),f.Sb(),f.Tb(16,"div",12),f.Tb(17,"input",13,14),f.bc("ngModelChange",(function(e){return t.worksheet.worksheetName=e})),f.Sb(),f.Cc(19,O,2,1,"div",15),f.Sb(),f.Sb(),f.Tb(20,"div",10),f.Tb(21,"label",16),f.Ec(22,"Worksheet group"),f.Sb(),f.Tb(23,"div",12),f.Tb(24,"input",17,18),f.bc("ngModelChange",(function(e){return t.worksheet.groupName=e})),f.Sb(),f.Sb(),f.Sb(),f.Tb(26,"div",10),f.Tb(27,"label",19),f.Ec(28,"Worksheet icon"),f.Sb(),f.Tb(29,"div",12),f.Tb(30,"ng-select",20,21),f.bc("ngModelChange",(function(e){return t.worksheet.uiSettings.icon=e})),f.Cc(32,T,2,3,"ng-template",22),f.Cc(33,k,2,3,"ng-template",23),f.Sb(),f.Cc(34,E,2,1,"div",15),f.Sb(),f.Sb(),f.Tb(35,"div",10),f.Tb(36,"label",24),f.Ec(37,"Public Access"),f.Sb(),f.Tb(38,"div",12),f.Tb(39,"select",25),f.bc("ngModelChange",(function(e){return t.worksheet.publicAccess=e})),f.Cc(40,j,2,2,"option",26),f.Sb(),f.Sb(),f.Sb(),f.Tb(41,"div",27),f.Tb(42,"label",28),f.Ec(43,"Description"),f.Sb(),f.Tb(44,"div",12),f.Tb(45,"textarea",29),f.bc("ngModelChange",(function(e){return t.worksheet.description=e})),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Tb(46,"h4",30),f.Ec(47,"Permissions"),f.Sb(),f.Tb(48,"app-permissions",31),f.bc("save",(function(e){return t.onSavePermission(e)}))("remove",(function(e){return t.onRemovePermission(e)})),f.Sb(),f.Sb(),f.Tb(49,"tab",32),f.Ob(50,"app-jspython-script",33,34),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Tb(52,"div",35),f.Tb(53,"div",36),f.Cc(54,A,2,0,"button",37),f.Tb(55,"button",38),f.bc("click",(function(){return t.saveWorksheet()})),f.Ec(56,"Save"),f.Sb(),f.Tb(57,"button",39),f.bc("click",(function(){return t.modalRef.hide()})),f.Ec(58,"Cancel"),f.Sb(),f.Sb(),f.Sb()),2&e){var n=f.sc(12),i=f.sc(18),r=f.sc(31);f.Bb(2),f.Gc("",t.config.worksheetName," configuration"),f.Bb(5),f.jc("ngIf",t.error),f.Bb(10),f.jc("ngModel",t.worksheet.worksheetName),f.Bb(2),f.jc("ngIf",i.invalid&&(i.dirty||i.touched)),f.Bb(5),f.jc("ngModel",t.worksheet.groupName),f.Bb(6),f.jc("items",t.icons)("ngModel",t.worksheet.uiSettings.icon),f.Bb(4),f.jc("ngIf",r.invalid&&(r.dirty||r.touched)),f.Bb(5),f.jc("ngModel",t.worksheet.publicAccess),f.Bb(1),f.jc("ngForOf",t.permissionLevels),f.Bb(5),f.jc("ngModel",t.worksheet.description),f.Bb(3),f.jc("permissions",t.permissions),f.Bb(6),f.jc("ngIf",t.worksheet.worksheetId),f.Bb(1),f.jc("disabled",!n.valid)}},directives:[p.m,g.d,g.a,m.t,m.j,m.k,m.b,m.q,m.i,m.l,b.a,b.d,b.c,m.r,p.l,v.a,y.a,_.a,m.m,m.s],styles:[".tab-content{height:50%}[_nghost-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{flex:0 0 120px}.form-group[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-width:204px}"]}),e}()},dR4o:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("LRne"),r=n("z6cu"),o=n("H4hQ"),s=n("lJxs"),a=n("JIr8"),l=n("JGTj"),c=n("fXoL"),u=n("tyNb"),h=function(){function e(e,t){this.authService=e,this.router=t}return e.prototype.canActivate=function(e,t){var n=this;return e.params.owner===l.b.FROM_FILE?e.queryParams.source?Object(i.a)(!0):(this.router.navigate(["/"]),Object(i.a)(!1)):this.authService.getCurrentUser().pipe(Object(s.a)((function(e){return e||Object(r.a)("Not authenticated"),Boolean(e)})),Object(a.a)((function(e){return n.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),Object(i.a)(!1)})))},e.\u0275fac=function(t){return new(t||e)(c.Xb(o.a),c.Xb(u.f))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},dZIy:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return y}));var i=n("uFwe"),r=n("vuIU"),o=n("1OyB"),s=n("fXoL"),a=n("pLZG"),l=n("3XJ7"),c=n("lUod"),u=n("R0Ic"),h=n("WyaX"),d=["*"],f=function(){var e=function e(){Object(o.a)(this,e),this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(s.Jb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),p=function(){var e=function e(){var t=this;Object(o.a)(this,e),this.direction="down",this.isOpenChange=new s.p,this.isDisabledChange=new s.p,this.toggleClick=new s.p,this.dropdownMenu=new Promise((function(e){t.resolveDropdownMenu=e}))};return e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}(),g=[Object(u.g)({height:0,overflow:"hidden"}),Object(u.e)("220ms cubic-bezier(0, 0, 0.2, 1)",Object(u.g)({height:"*",overflow:"hidden"}))],m=function(){var e=function(){function e(t,n,i,r,s){var a=this;Object(o.a)(this,e),this._state=t,this.cd=n,this._renderer=i,this._element=r,this.isOpen=!1,this._factoryDropDownAnimation=s.build(g),this._subscription=t.isOpenChange.subscribe((function(e){a.isOpen=e;var t=a._element.nativeElement.querySelector(".dropdown-menu");a._renderer.addClass(a._element.nativeElement.querySelector("div"),"open"),t&&!Object(c.d)()&&(a._renderer.addClass(t,"show"),t.classList.contains("dropdown-menu-right")&&(a._renderer.setStyle(t,"left","auto"),a._renderer.setStyle(t,"right","0")),"up"===a.direction&&(a._renderer.setStyle(t,"top","auto"),a._renderer.setStyle(t,"transform","translateY(-101%)"))),t&&a._state.isAnimated&&a._factoryDropDownAnimation.create(t).play(),a.cd.markForCheck(),a.cd.detectChanges()}))}return Object(r.a)(e,[{key:"_contains",value:function(e){return this._element.nativeElement.contains(e)}},{key:"ngOnDestroy",value:function(){this._subscription.unsubscribe()}},{key:"direction",get:function(){return this._state.direction}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Nb(p),s.Nb(s.h),s.Nb(s.G),s.Nb(s.n),s.Nb(u.b))},e.\u0275cmp=s.Hb({type:e,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:d,decls:2,vars:8,template:function(e,t){1&e&&(s.ic(),s.Tb(0,"div"),s.hc(1),s.Sb()),2&e&&s.Fb("dropup","up"===t.direction)("dropdown","down"===t.direction)("show",t.isOpen)("open",t.isOpen)},directives:function(){return[b]},encapsulation:2,changeDetection:0}),e}(),b=function(){var e=function(){function e(t,n,i,r,s,a,l){Object(o.a)(this,e),this._elementRef=t,this._renderer=n,this._viewContainerRef=i,this._cis=r,this._state=s,this._config=a,this._isInlineOpen=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._factoryDropDownAnimation=l.build(g),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:p,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}return Object(r.a)(e,[{key:"ngOnInit",value:function(){var e=this;this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:function(){return e.show()}}),this._subscriptions.push(this._state.toggleClick.subscribe((function(t){return e.toggle(t)}))),this._subscriptions.push(this._state.isDisabledChange.pipe(Object(a.a)((function(e){return e}))).subscribe((function(t){return e.hide()}))))}},{key:"show",value:function(){var e=this;if(!this.isOpen&&!this.isDisabled)return this._showInline?(this._inlinedMenu||this._state.dropdownMenu.then((function(t){e._dropdown.attachInline(t.viewContainer,t.templateRef),e._inlinedMenu=e._dropdown._inlineViewRef,e.addBs4Polyfills(),e._renderer.addClass(e._inlinedMenu.rootNodes[0].parentNode,"open"),e.playAnimation()})).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation()):void this._state.dropdownMenu.then((function(t){var n=e.dropup||void 0!==e.dropup&&e.dropup;e._state.direction=n?"up":"down";var i=e.placement||(n?"top start":"bottom start");e._dropdown.attach(m).to(e.container).position({attachment:i}).show({content:t.templateRef,placement:i}),e._state.isOpenChange.emit(!0)})).catch()}},{key:"hide",value:function(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}},{key:"toggle",value:function(e){return this.isOpen||!e?this.hide():this.show()}},{key:"_contains",value:function(e){return this._elementRef.nativeElement.contains(e.target)||this._dropdown.instance&&this._dropdown.instance._contains(e.target)}},{key:"ngOnDestroy",value:function(){var e,t=Object(i.a)(this._subscriptions);try{for(t.s();!(e=t.n()).done;)e.value.unsubscribe()}catch(n){t.e(n)}finally{t.f()}this._dropdown.dispose()}},{key:"addBs4Polyfills",value:function(){Object(c.d)()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}},{key:"playAnimation",value:function(){var e=this;this._state.isAnimated&&this._inlinedMenu&&setTimeout((function(){e._factoryDropDownAnimation.create(e._inlinedMenu.rootNodes[0]).play()}))}},{key:"addShowClass",value:function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}},{key:"removeShowClass",value:function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}},{key:"checkRightAlignment",value:function(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){var e=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",e?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",e?"0":"auto")}}},{key:"addDropupStyles",value:function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}},{key:"removeDropupStyles",value:function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}},{key:"autoClose",set:function(e){this._state.autoClose=e},get:function(){return this._state.autoClose}},{key:"isAnimated",set:function(e){this._state.isAnimated=e},get:function(){return this._state.isAnimated}},{key:"insideClick",set:function(e){this._state.insideClick=e},get:function(){return this._state.insideClick}},{key:"isDisabled",set:function(e){this._isDisabled=e,this._state.isDisabledChange.emit(e),e&&this.hide()},get:function(){return this._isDisabled}},{key:"isOpen",get:function(){return this._showInline?this._isInlineOpen:this._dropdown.isShown},set:function(e){e?this.show():this.hide()}},{key:"isBs4",get:function(){return!Object(c.d)()}},{key:"_showInline",get:function(){return!this.container}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Nb(s.n),s.Nb(s.G),s.Nb(s.R),s.Nb(l.a),s.Nb(p),s.Nb(f),s.Nb(u.b))},e.\u0275dir=s.Ib({type:e,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(e,t){2&e&&s.Fb("dropup",t.dropup)("open",t.isOpen)("show",t.isOpen&&t.isBs4)},inputs:{autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen",placement:"placement",triggers:"triggers",container:"container",dropup:"dropup"},outputs:{onShown:"onShown",onHidden:"onHidden",isOpenChange:"isOpenChange"},exportAs:["bs-dropdown"],features:[s.Ab([p])]}),e}(),v=function(){var e=function e(t,n,i){Object(o.a)(this,e),t.resolveDropdownMenu({templateRef:i,viewContainer:n})};return e.\u0275fac=function(t){return new(t||e)(s.Nb(p),s.Nb(s.R),s.Nb(s.N))},e.\u0275dir=s.Ib({type:e,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),e}(),y=function(){var e=function(){function e(t,n,i,r,s){var a=this;Object(o.a)(this,e),this._changeDetectorRef=t,this._dropdown=n,this._element=i,this._renderer=r,this._state=s,this.isDisabled=null,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe((function(e){a.isOpen=e,e?(a._documentClickListener=a._renderer.listen("document","click",(function(e){!a._state.autoClose||2===e.button||a._element.nativeElement.contains(e.target)||a._state.insideClick&&a._dropdown._contains(e)||(a._state.toggleClick.emit(!1),a._changeDetectorRef.detectChanges())})),a._escKeyUpListener=a._renderer.listen(a._element.nativeElement,"keyup.esc",(function(){a._state.autoClose&&(a._state.toggleClick.emit(!1),a._changeDetectorRef.detectChanges())}))):(a._documentClickListener(),a._escKeyUpListener())}))),this._subscriptions.push(this._state.isDisabledChange.subscribe((function(e){return a.isDisabled=e||null})))}return Object(r.a)(e,[{key:"onClick",value:function(){this.isDisabled||this._state.toggleClick.emit(!0)}},{key:"ngOnDestroy",value:function(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();var e,t=Object(i.a)(this._subscriptions);try{for(t.s();!(e=t.n()).done;)e.value.unsubscribe()}catch(n){t.e(n)}finally{t.f()}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Nb(s.h),s.Nb(b),s.Nb(s.n),s.Nb(s.G),s.Nb(p))},e.\u0275dir=s.Ib({type:e,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(e,t){1&e&&s.bc("click",(function(){return t.onClick()})),2&e&&s.Cb("aria-haspopup",!0)("disabled",t.isDisabled)("aria-expanded",t.isOpen)},exportAs:["bs-dropdown-toggle"]}),e}(),_=function(){var e=function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[l.a,h.a,p]}}}]),e}();return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(t){return new(t||e)}}),e}()},eIep:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("ReuC"),r=n("foSv"),o=n("Ji7U"),s=n("LK+K"),a=n("1OyB"),l=n("vuIU"),c=n("lJxs"),u=n("Cfvw"),h=n("zx2A");function d(e,t){return"function"==typeof t?function(n){return n.pipe(d((function(n,i){return Object(u.a)(e(n,i)).pipe(Object(c.a)((function(e,r){return t(n,e,i,r)})))})))}:function(t){return t.lift(new f(e))}}var f=function(){function e(t){Object(a.a)(this,e),this.project=t}return Object(l.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new p(e,this.project))}}]),e}(),p=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,i){var r;return Object(a.a)(this,n),(r=t.call(this,e)).project=i,r.index=0,r}return Object(l.a)(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new h.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(h.c)(e,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||Object(i.a)(Object(r.a)(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&Object(i.a)(Object(r.a)(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(h.b)},eNwd:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("1OyB"),r=n("vuIU"),o=n("ReuC"),s=n("foSv"),a=n("Ji7U"),l=n("LK+K"),c=function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(e,r){var o;return Object(i.a)(this,n),(o=t.call(this,e,r)).scheduler=e,o.work=r,o}return Object(r.a)(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?Object(o.a)(Object(s.a)(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return Object(o.a)(Object(s.a)(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),u=new(function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(c)},"eY+I":function(e,t,n){"use strict";n.d(t,"a",(function(){return ve})),n.d(t,"b",(function(){return he})),n.d(t,"c",(function(){return pe})),n.d(t,"d",(function(){return ge})),n.d(t,"e",(function(){return de})),n.d(t,"f",(function(){return be})),n.d(t,"g",(function(){return wt})),n.d(t,"h",(function(){return _e})),n.d(t,"i",(function(){return ae})),n.d(t,"j",(function(){return le})),n.d(t,"k",(function(){return ue})),n.d(t,"l",(function(){return ye})),n.d(t,"m",(function(){return Z})),n.d(t,"n",(function(){return ne})),n.d(t,"o",(function(){return J})),n.d(t,"p",(function(){return te})),n.d(t,"q",(function(){return oe})),n.d(t,"r",(function(){return se})),n.d(t,"s",(function(){return re})),n.d(t,"t",(function(){return ie})),n.d(t,"u",(function(){return ee})),n.d(t,"v",(function(){return xe}));var i=n("ReuC"),r=n("foSv"),o=n("rePB"),s=n("ODXe"),a=n("o0o1"),l=n.n(a),c=n("vuIU"),u=n("Ji7U"),h=n("LK+K"),d=n("1OyB"),f=n("uFwe"),p=n("KQm4"),g=n("mrSG"),m=n("fXoL"),b=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},v={explicitRoot:!0,explicitArray:!0,emptyTag:"",strict:!0,tagNameProcessors:[],valueProcessors:[],attrNameProcessors:[],attrValueProcessors:[],xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0}};function y(e){return b({},v,e,{xmldec:b({},v.xmldec,e&&e.xmldec)})}var _,w=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};try{_=(new DOMParser).parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(Ct){}function C(e){return!!e.attributes}var S=function(){function e(e){this.opts=y(e)}return e.prototype.tagName=function(e){return this.opts.tagNameProcessors.reduce((function(e,t){return t(e)}),this.opts.normalizeTags?e.toLowerCase():e)},e.prototype.parseString=function(e,t){var n,i,r=new DOMParser;try{var o=r.parseFromString(e,"application/xml");if(function(e){if(_){var t=e.getElementsByTagNameNS(_,"parsererror");if(t.length)throw new Error(t.item(0).innerHTML)}}(o),this.opts.explicitRoot){var s=this.tagName(o.documentElement.nodeName);(i={})[s]=this.domToObject(o.childNodes[0]),n=i}else n=this.domToObject(o.childNodes[0])}catch(a){return void t(a)}t(null,n)},e.prototype.parseAttributes=function(e){if(!this.opts.ignoreAttrs&&C(e)&&e.hasAttributes()){var t={};if(C(e)&&e.hasAttributes())for(var n=0;n<e.attributes.length;n++){var i=e.attributes[n],r=this.opts.attrNameProcessors.reduce((function(e,t){return t(e)}),i.nodeName),o=this.opts.attrValueProcessors.reduce((function(e,t){return t(e)}),i.nodeValue);t[r]=this.opts.xmlns?{value:o,local:i.localName,uri:i.namespaceURI}:o}return t}},e.prototype.domToObject=function(e){if(!(0!==e.childNodes.length||C(e)&&e.hasAttributes()))return this.opts.emptyTag;for(var t=this.parseAttributes(e),n=this.opts.childkey||"$$",i=this.opts.charkey||"_",r={},o="",s=0;s<e.childNodes.length;s++){var a=e.childNodes[s];if(a.nodeType===Node.TEXT_NODE||a.nodeType===Node.CDATA_SECTION_NODE){var l=a.nodeValue||"",c=this.opts.normalize?l.replace(/\n[ ]+\b/g," ").trim():this.opts.trim?l.trim():l;o+=c,this.opts.explicitChildren&&this.opts.preserveChildrenOrder&&this.opts.charsAsChildren&&(this.opts.includeWhiteChars||c.trim())&&(r[n]||(r[n]=[]),r[n].push(((f={"#name":"__text__"})[i]=c,f)))}else{var u=this.domToObject(a),h=this.tagName(a.nodeName);r[h]?Array.isArray(r[h])?r[h].push(u):r[h]=[r[h],this.domToObject(a)]:r[h]=this.opts.explicitArray?[this.domToObject(a)]:this.domToObject(a),this.opts.explicitChildren&&this.opts.preserveChildrenOrder&&(r[n]||(r[n]=[]),r[n].push("object"==typeof u?w({"#name":h},u):((p={"#name":h})[i]=u,p)))}}if(!(0!==Object.keys(r).length||t||this.opts.explicitCharkey||this.opts.charkey||this.opts.xmlns)){var d=this.tagName(e.nodeName);return this.opts.valueProcessors.reduce((function(e,t){return t(e,d)}),o)}var f,p,g,m=(this.opts.explicitChildren||this.opts.childkey)&&!this.opts.preserveChildrenOrder&&(Object.keys(r).length>0||o&&this.opts.charsAsChildren);if(m&&((g={})[n]=r,r=g),(o&&this.opts.includeWhiteChars||o.trim())&&(m&&this.opts.charsAsChildren?r[n][i]=o:r[i]=o),this.opts.xmlns&&(r[(this.opts.attrkey||"$")+"ns"]={local:e.localName,uri:e.namespaceURI}),t)if(this.opts.mergeAttrs)if(this.opts.explicitArray)for(var b=0,v=Object.keys(t);b<v.length;b++){var y=v[b];r[y]=[t[y]]}else r=w({},r,t);else r[this.opts.attrkey||"$"]=t;return r},e}(),O=document.implementation.createDocument(null,null,null),T=new XMLSerializer,k=(function(){function e(e){this.opts=y(e)}e.prototype.buildAttributes=function(e){for(var t=[],n=0,i=Object.keys(e);n<i.length;n++){var r=i[n],o=O.createAttribute(r);o.value=e[r].toString(),t.push(o)}return t},e.prototype.buildNode=function(e,t){var n=this.opts.attrkey||"$",i=this.opts.charkey||"_",r=this.opts.childkey||"$$";if(null==e&&(e=this.opts.emptyTag||""),"string"==typeof e||"number"==typeof e||"boolean"==typeof e)return(u=O.createElement(t.elementName)).textContent=e.toString(),[u];if(Array.isArray(e)){for(var o=[],s=0,a=e;s<a.length;s++)for(var l=0,c=this.buildNode(a[s],t);l<c.length;l++)o.push(c[l]);return o}if("object"==typeof e){for(var u=O.createElement(t.elementName),h=0,d=Object.keys(e);h<d.length;h++){var f=d[h];if(f===n)for(var p=0,g=this.buildAttributes(e[f]);p<g.length;p++)u.attributes.setNamedItem(g[p]);else if(f!==r||this.opts.explicitChildren&&this.opts.preserveChildrenOrder)if(f===i)u.appendChild(document.createTextNode(e[f]));else for(var m=0,b=this.buildNode(e[f],{elementName:f});m<b.length;m++)u.appendChild(b[m]);else for(var v=e[r],y=0,_=Object.keys(v);y<_.length;y++)for(var w=_[y],C=0,S=this.buildNode(v[w],{elementName:w});C<S.length;C++)u.appendChild(S[C])}return[u]}throw new Error("Illegal value passed to buildObject: "+e)},e.prototype.buildObject=function(e){var t=this.opts.rootName||"root";if(Array.isArray(e)){for(var n={},i=0,r=e;i<r.length;i++)for(var o=r[i],s=0,a=Object.keys(o);s<a.length;s++){var l=a[s];n[l]||(n[l]=[]),n[l].push(o[l])}e=n}var c,u=Object.keys(e);c=u.length<=1&&!this.opts.rootName&&this.opts.explicitRoot?this.buildNode(e[u[0]]||"",{elementName:u[0]||t})[0]:this.buildNode(e,{elementName:t})[0];var h=T.serializeToString(c),d=this.opts.xmldec;return d&&!this.opts.headless&&(h='<?xml version="'+d.version+'" encoding="'+d.encoding+'" standalone="'+(d.standalone?"yes":"no")+'"?>'+h),h}}(),n("ofXK")),x=n("3Pt+"),E=n("tk/3"),j=n("tyNb");function A(e,t){if(1&e){var n=m.Ub();m.Tb(0,"dc-ui-selector",1),m.bc("changedDataModel",(function(e){return m.vc(n),m.dc().changedDataModel.emit(e)}))("eventHandlers",(function(e){return m.vc(n),m.dc().onEventHandler(e)}))("render",(function(e){return m.vc(n),m.dc().render.emit(e)})),m.Sb()}if(2&e){var i=m.dc();m.jc("uiModel",i.parsedUIModel)("dataModel",i.dataModel)}}function I(e,t){1&e&&m.Pb(0)}function M(e,t){if(1&e){var n=m.Ub();m.Tb(0,"dc-ui-selector",3),m.bc("changedDataModel",(function(e){return m.vc(n),m.dc(2).changedDataModel.emit(e)}))("eventHandlers",(function(e){return m.vc(n),m.dc(2).eventHandlers.emit(e)})),m.Sb()}if(2&e){var i=t.$implicit,r=m.dc(2);m.jc("uiModel",i)("dataModel",r.dataModel)}}function P(e,t){if(1&e&&m.Cc(0,M,1,2,"dc-ui-selector",2),2&e){var n=m.dc();m.jc("ngForOf",n.uiModel.children)}}function D(e,t){if(1&e&&(m.Tb(0,"h1",4),m.Ec(1),m.Sb()),2&e){var n=m.dc();m.Db(n.txtStyle),m.jc("ngStyle",n.itemStyles),m.Bb(1),m.Fc(n.text)}}function R(e,t){if(1&e&&(m.Tb(0,"h2",4),m.Ec(1),m.Sb()),2&e){var n=m.dc();m.Db(n.txtStyle),m.jc("ngStyle",n.itemStyles),m.Bb(1),m.Fc(n.text)}}function N(e,t){if(1&e&&(m.Tb(0,"h3",4),m.Ec(1),m.Sb()),2&e){var n=m.dc();m.Db(n.txtStyle),m.jc("ngStyle",n.itemStyles),m.Bb(1),m.Fc(n.text)}}function L(e,t){if(1&e&&(m.Tb(0,"h4",4),m.Ec(1),m.Sb()),2&e){var n=m.dc();m.Db(n.txtStyle),m.jc("ngStyle",n.itemStyles),m.Bb(1),m.Fc(n.text)}}function F(e,t){if(1&e&&(m.Tb(0,"h5",4),m.Ec(1),m.Sb()),2&e){var n=m.dc();m.Db(n.txtStyle),m.jc("ngStyle",n.itemStyles),m.Bb(1),m.Fc(n.text)}}function B(e,t){if(1&e&&(m.Tb(0,"h6",4),m.Ec(1),m.Sb()),2&e){var n=m.dc();m.Db(n.txtStyle),m.jc("ngStyle",n.itemStyles),m.Bb(1),m.Fc(n.text)}}function H(e,t){if(1&e&&(m.Tb(0,"p",4),m.Ec(1),m.Sb()),2&e){var n=m.dc();m.jc("ngStyle",n.itemStyles),m.Bb(1),m.Fc(n.text)}}function V(e,t){if(1&e&&(m.Rb(0,4),m.Ec(1),m.Qb()),2&e){var n=m.dc();m.jc("ngStyle",n.itemStyles),m.Bb(1),m.Fc(n.text)}}function $(e,t){if(1&e&&(m.Tb(0,"span",4),m.Ec(1),m.Sb()),2&e){var n=m.dc();m.Db(n.txtStyle),m.jc("ngStyle",n.itemStyles),m.Bb(1),m.Fc(n.text)}}function z(e,t){if(1&e){var n=m.Ub();m.Tb(0,"dc-ui-selector",1),m.bc("changedDataModel",(function(e){return m.vc(n),m.dc().changedDataModel.emit(e)}))("eventHandlers",(function(e){return m.vc(n),m.dc().eventHandlers.emit(e)})),m.Sb()}if(2&e){var i=t.$implicit,r=m.dc();m.jc("uiModel",i)("dataModel",r.dataModel)}}function G(e,t){if(1&e&&(m.Tb(0,"label",4),m.Ec(1),m.Sb()),2&e){var n=m.dc().$implicit,i=m.dc();m.jc("for",i.getId(n.value)),m.Bb(1),m.Fc(n.label)}}function W(e,t){if(1&e){var n=m.Ub();m.Rb(0),m.Tb(1,"div",1),m.Cc(2,G,2,2,"label",2),m.Tb(3,"input",3),m.bc("change",(function(){m.vc(n);var e=t.$implicit;return m.dc().onChange(e)})),m.Sb(),m.Sb(),m.Qb()}if(2&e){var i=t.$implicit,r=m.dc();m.Bb(2),m.jc("ngIf",i.label),m.Bb(1),m.jc("name",r.properties.binding)("value",i.value),m.Cb("id",r.getId(i.value))}}var U=["form"];function K(e,t){1&e&&m.Pb(0)}function q(e,t){if(1&e){var n=m.Ub();m.Tb(0,"dc-ui-selector",5),m.bc("changedDataModel",(function(e){return m.vc(n),m.dc(2).changedDataModel.emit(e)}))("eventHandlers",(function(e){return m.vc(n),m.dc(2).eventHandlers.emit(e)})),m.Sb()}if(2&e){var i=t.$implicit,r=m.dc(2);m.jc("uiModel",i)("dataModel",r.dataModel)}}function X(e,t){if(1&e&&m.Cc(0,q,1,2,"dc-ui-selector",4),2&e){var n=m.dc();m.jc("ngForOf",n.uiModel.children)}}function Y(e,t){if(1&e&&(m.Tb(0,"option",1),m.Ec(1),m.Sb()),2&e){var n=t.$implicit,i=m.dc();m.jc("selected",n.value===i.value)("value",n.value),m.Bb(1),m.Fc(n.label)}}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return e.forEach((function(e,i){t.includes(i)||(n[i]=e)})),n}var Q=function(e){return e.replace(/([-][a-z])/gi,(function(e){return e.toUpperCase().replace("-","")}))};function Z(e){return null==e?"":"string"==typeof e?e:JSON.stringify(e,null,"\t")}function ee(e){return{type:e["#name"],attrs:e.$||{},childNodes:e.$$,content:e._}}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(/(.{1,})\((.{0,})\)/);return t?[t[1]].concat(Object(p.a)(t[2].split(","))):[e]}function ne(e,t){var n=function e(t,n){var i;if(n(t))return t;if(null===(i=t.children)||void 0===i?void 0:i.length){var r,o=Object(f.a)(t.children);try{for(o.s();!(r=o.n()).done;){var s=e(r.value,n);if(s)return s}}catch(a){o.e(a)}finally{o.f()}}return null}(e,(function(e){return e.id===t}));return null==n?void 0:n.getComponent()}function ie(e,t,n){if(e||(e={}),"$"!==t&&""!==t){t.startsWith("$.")&&(t=t.substring(2));for(var i=t.indexOf("/")>0?t.split("/"):t.split("."),r=e,o=0;o<i.length-1;o++)"object"!=typeof r[i[o]]&&(r[i[o]]={}),r=r[i[o]];r[i[i.length-1]]=n}else Object.assign(e,n)}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("$"===t||""===t)return n;t.startsWith("$.")&&(t=t.substring(2));var i,r=(t=(t=t.replace("}","")).replace("{","")).indexOf("/")>0?t.split("/"):t.split("."),o=e,s=Object(f.a)(r);try{for(s.s();!(i=s.n()).done;){var a=i.value;if(!(o=o[a])&&0!==o)return o||n}}catch(l){s.e(l)}finally{s.f()}return o}function oe(e){return new Promise((function(t,n){var i,r,o;i=e,o=function(e,i){if(i)return t(JSON.parse(JSON.stringify(i)));if(e){var r=e.message.substring(e.message.indexOf('12px">')+6);return r=r.substring(0,r.indexOf("</div>")),n(r)}return null},"function"==typeof(r={explicitChildren:!0,preserveChildrenOrder:!0})&&(o=r,r=void 0),new S(r).parseString(i,o)}))}function se(e){return function(t,n){var i=t.hasOwnProperty("properties")?t.properties:[],r=Object.assign({name:n},e),o=i.findIndex((function(e){return e.name===n}));-1===o?i.push(r):i.splice(o,1,r);for(var s=Object.getPrototypeOf(t);s.hasOwnProperty("properties");){var a=s.properties.filter((function(e){return!i.map((function(e){return e.name})).includes(e.name)}));i=i.concat(a),s=Object.getPrototypeOf(s)}t.properties=i.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}))}}var ae=function(e){return e.EVENT="event",e.PROPERTY="property",e}({}),le=function(e){return e.Layout="Layout Properties",e.Container="Container Properties",e.Main="Main Properties",e.Appearance="Appearance Properties",e.Validation="Validation Properties",e}({}),ce=function(){var e=function e(){Object(d.a)(this,e)};return Object(g.c)([se({description:"On init event handler name.",example:"OnComponentInit",type:ae.EVENT}),Object(g.f)("design:type",String)],e.prototype,"onInit",void 0),Object(g.c)([se({description:"On destroy event handler name.",example:"OnComponentDestroy",type:ae.EVENT}),Object(g.f)("design:type",String)],e.prototype,"onDestroy",void 0),Object(g.c)([se({description:"Component identifier",example:"component1"}),Object(g.f)("design:type",String)],e.prototype,"id",void 0),Object(g.c)([se({description:"Is component visible",example:"false"}),Object(g.f)("design:type",Boolean)],e.prototype,"visible",void 0),e}(),ue=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(ce);return Object(g.c)([se({description:"Element's width.",example:"100%"}),Object(g.f)("design:type",String)],e.prototype,"width",void 0),Object(g.c)([se({description:"Element's height.",example:"100%"}),Object(g.f)("design:type",String)],e.prototype,"height",void 0),Object(g.c)([se({description:"Element's padding.",example:"10px 5px"}),Object(g.f)("design:type",String)],e.prototype,"padding",void 0),Object(g.c)([se({description:"Element's margin.",example:"5px 3px 5px 10px"}),Object(g.f)("design:type",String)],e.prototype,"margin",void 0),Object(g.c)([se({description:"Element's min width.",example:"10px"}),Object(g.f)("design:type",String)],e.prototype,"min-width",void 0),Object(g.c)([se({description:"Element's min height.",example:"10px"}),Object(g.f)("design:type",String)],e.prototype,"min-height",void 0),Object(g.c)([se({description:"Element's background.",example:"100%"}),Object(g.f)("design:type",String)],e.prototype,"background",void 0),Object(g.c)([se({description:"Element's color.",example:"100%"}),Object(g.f)("design:type",String)],e.prototype,"color",void 0),Object(g.c)([se({description:"Element's font weight.",example:"100%"}),Object(g.f)("design:type",String)],e.prototype,"font-weight",void 0),Object(g.c)([se({description:"Element's font size.",example:"100%"}),Object(g.f)("design:type",String)],e.prototype,"font-size",void 0),Object(g.c)([se({description:"Element's font style.",example:"100%"}),Object(g.f)("design:type",String)],e.prototype,"font-style",void 0),Object(g.c)([se({description:"Element's border.",example:"100%"}),Object(g.f)("design:type",String)],e.prototype,"border",void 0),Object(g.c)([se({description:"Css class.",example:"btn-primary"}),Object(g.f)("design:type",String)],e.prototype,"class",void 0),e}(),he=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(ue);return Object(g.c)([se({description:"Path to data model property.",example:"name"}),Object(g.f)("design:type",String)],e.prototype,"binding",void 0),e}(),de=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(he);return Object(g.c)([se({description:"Component Data Source.",example:"{{responseContext}}/dataset"}),Object(g.f)("design:type",String)],e.prototype,"dataSource",void 0),e}(),fe=["width","height","padding","margin","min-height","min-width","background","color","font-size","font-weight","font-style","overflow"],pe=new Map([["width",{name:"width",label:"Width",category:le.Layout}],["height",{name:"height",label:"Height",category:le.Layout}],["min-width",{name:"min-width",label:"Min width",category:le.Layout}],["min-height",{name:"min-height",label:"Min height",category:le.Layout}],["margin",{name:"margin",label:"Margin",category:le.Layout}],["padding",{name:"padding",label:"Padding",category:le.Layout}],["fxLayout",{name:"fxLayout",label:"Flex Direction",category:le.Main,combo:[[{label:"Row",value:"row"},{label:"Column",value:"column"}]]}],["fxLayoutAlign",{name:"fxLayoutAlign",label:"Children Align",category:le.Main,combo:[["start","center","end","space-around","space-between","space-evenly"],["start","center","end","space-around","space-between","stretch","baseline"]]}],["fxLayoutGap",{name:"fxLayoutGap",label:"Children Gap",category:le.Main}],["label",{name:"label",label:"Label",category:le.Main}],["labelPosition",{name:"labelPosition",label:"Label Position",category:le.Main,values:["left","top","right","bottom"]}],["labelWidth",{name:"labelWidth",label:"Label Width",category:le.Layout}],["background",{name:"background",label:"Background",category:le.Appearance}],["color",{name:"color",label:"Color",category:le.Appearance}],["font-weight",{name:"font-weight",label:"Font weight",category:le.Appearance,values:["bold","bolder","lighter",100,200,300,400,500,600,700,800,900]}],["font-size",{name:"font-size",label:"Font size",category:le.Appearance,values:["large","larger","medium","small","smaller","x-large","xx-large","x-small","xx-small"]}],["font-style",{name:"font-style",label:"Font style",category:le.Appearance,values:["italic","oblique","normal"]}],["border",{name:"border",label:"Border",category:le.Appearance,combo:[[{label:"all",value:"border"},{label:"top",value:"border-top"},{label:"left",value:"border-left"},{label:"right",value:"border-right"},{label:"bottom",value:"border-bottom"}],"border-value"]}],["required",{name:"required",label:"Required",category:le.Validation,values:["true","false"]}],["minlength",{name:"minlength",label:"Min length",category:le.Validation}],["maxlength",{name:"maxlength",label:"Max length",category:le.Validation}],["pattern",{name:"pattern",label:"Pattern",category:le.Validation}]]),ge=function(){var e=function(){function e(){Object(d.a)(this,e)}return Object(c.a)(e,null,[{key:"registerComponent",value:function(t){var n=t.name,i=t.propertiesDescriptor;i&&i.forEach((function(e){pe.set("".concat(n,":").concat(e[0]),e[1])})),e.COMPONENTS_REGISTER.set(n,t)}},{key:"getComponent",value:function(t){if(e.COMPONENTS_REGISTER.has(t))return e.COMPONENTS_REGISTER.get(t).component;throw new Error("Component ".concat(t," is not registered"))}},{key:"getComponentDescriptor",value:function(t){if(e.COMPONENTS_REGISTER.has(t))return e.COMPONENTS_REGISTER.get(t);throw new Error("ComponentDescriptor ".concat(t," is not registered"))}},{key:"getComponentProperties",value:function(t){try{return e.getComponentDescriptor(t).itemProperties.prototype.properties}catch(n){throw n}}},{key:"getListOfComponents",value:function(){return Array.from(e.COMPONENTS_REGISTER.values())}},{key:"parseXMLModel",value:function(t){return Object(g.b)(this,void 0,void 0,l.a.mark((function n(){var i,r,o;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,oe(t);case 3:if(!(i=n.sent)){n.next=11;break}if(r=Object.keys(i)[0],"string"!=typeof(o=i[r])){n.next=9;break}throw Error("Invalid XML, please make sure file can't start with comment \x3c!-- --\x3e");case 9:return o["#name"]=r,n.abrupt("return",e.getUIModel(ee(o)));case 11:n.next=17;break;case 13:throw n.prev=13,n.t0=n.catch(0),console.error(n.t0),n.t0;case 17:case"end":return n.stop()}}),n,null,[[0,13]])})))}},{key:"getUIModel",value:function(t){var n=t.attrs,i=t.type;if("true"===n.disabled?n.disabled=!0:n.hasOwnProperty("disabled")&&(n.disabled=null),e.COMPONENTS_REGISTER.has(i)){var r={type:i,itemProperties:n};n.id&&(r.id=n.id);var o=e.COMPONENTS_REGISTER.get(i);if("function"==typeof o.parseUIModel){var s=o.parseUIModel(t);r.itemProperties=Object.assign(Object.assign({},n),s.itemProperties),s.children&&(r.children=s.children)}return t.childNodes&&!r.children&&(r.children=t.childNodes.filter((function(e){return"#comment"!==e["#name"]})).map((function(t){return e.getUIModel(ee(t))}))),r}throw Error("No component for tag ".concat(i))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.COMPONENTS_REGISTER=new Map,e.\u0275prov=Object(m.Jb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),me=function(){var e=function(){function e(){Object(d.a)(this,e),this.changedDataModel=new m.p}return Object(c.a)(e,[{key:"ngOnInit",value:function(){return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setHostStyles(),this.emitEvent(this.properties.onInit);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"show",value:function(){this.element&&this.element.classList.remove("hidden")}},{key:"hide",value:function(){this.element&&this.element.classList.add("hidden")}},{key:"emitEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){var n=te(e),i=Object(s.a)(n,2),r=i[0],a=i[1];this.eventHandlers.emit({eventName:r,parameters:Object(o.a)({uiModel:this.uiModel},a,t)})}}},{key:"setHostStyles",value:function(){var e=this,t=this.properties;t.class&&(this.element.className=t.class),t&&fe.forEach((function(n){t&&t.hasOwnProperty(n)&&(e.element.style[n]=t[n])}))}},{key:"properties",get:function(){return this.uiModel.itemProperties}},{key:"attrs",get:function(){return this.uiModel.itemProperties}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=m.Ib({type:e}),e}(),be=function(e){return e[e.UIModel=1]="UIModel",e[e.Scripts=2]="Scripts",e[e.All=3]="All",e}({}),ve=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.apply(this,arguments)).display="initial",e.eventHandlers=new m.p,e.changedDataModel=new m.p,e.hostBindings=["width","height","padding","margin","background","display","minHeight","maxHeight","minWidth","maxWidth","visible"],e.borders=["border-left","border-top","border-right","border-bottom"],e}return Object(c.a)(n,[{key:"ngOnDestroy",value:function(){return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.emitEvent(this.properties.onDestroy);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnChanges",value:function(e){var t=e.dataModel,n=e.uiModel;return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&!t.firstChange&&this.dataModel!==t.currentValue&&(this.dataModel=t.currentValue),n&&!n.firstChange&&(this.uiModel=n.currentValue,this.setHostStyles());case 2:case"end":return e.stop()}}),e,this)})))}},{key:"create",value:function(e){this.element=e}},{key:"getStyles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe;return n.reduce((function(n,i){return t.hasOwnProperty(i)&&(n[i]=e.getPropValue(t,i)),n}),{})}},{key:"setHostStyles",value:function(){var e=this,t=this.properties;t.class&&(this.classAttr=t.class),t&&(this.hostBindings.forEach((function(n){t&&t.hasOwnProperty(n)&&(e[n]=t[n])})),this.setBorder(t))}},{key:"getPropValue",value:function(e,t){var n=e[t];return"font-size"!==t||isNaN(e[t])?n:"".concat(n,"px")}},{key:"setBorder",value:function(e){var t=this,n=e.border;if("string"==typeof n){var i=n.split("|"),r=Object(s.a)(i,2),o=r[0],a=r[1];"border"===o?this.borders.forEach((function(e){t[Q(e)]=a})):this[Q(o)]=a}}},{key:"componentDataModel",get:function(){if(this.properties.hasOwnProperty("dataSource")){var e=this.properties.dataSource;if("object"==typeof e)return e;if("string"==typeof e&&this.dataModel.hasOwnProperty(e))return this.dataModel[e]}if(this.properties.hasOwnProperty("binding")){var t=this.properties.binding;if(!Array.isArray(this.dataModel))return re(this.dataModel,t)}if(this.properties.hasOwnProperty("value"))return this.properties.value},set:function(e){this.properties.hasOwnProperty("binding")&&ie(this.dataModel,this.properties.binding,e)}},{key:"itemStyles",get:function(){return this.getStyles(this.properties)}}]),n}(me);return e.\u0275fac=function(t){return tt(t||e)},e.\u0275dir=m.Ib({type:e,hostVars:30,hostBindings:function(e,t){2&e&&(m.Db(t.classAttr),m.Bc("display",t.display)("width",t.width)("min-width",t.minWidth)("max-width",t.maxWidth)("height",t.height)("min-height",t.minHeight)("max-height",t.maxHeight)("padding",t.padding)("margin",t.margin)("border-left",t.borderLeft)("border-top",t.borderTop)("border-right",t.borderRight)("border-bottom",t.borderBottom)("background",t.background))},inputs:{dataModel:"dataModel",uiModel:"uiModel"},outputs:{eventHandlers:"eventHandlers",changedDataModel:"changedDataModel"},features:[m.yb,m.zb]}),e}(),ye=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e,i,r,o){var s;return Object(d.a)(this,n),(s=t.call(this)).containerRef=e,s.componentFactoryResolver=i,s.injector=r,s.appRef=o,s.render=new m.p,s}return Object(c.a)(n,[{key:"ngOnInit",value:function(){return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createComponent();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnChanges",value:function(e){return Object(g.b)(this,void 0,void 0,l.a.mark((function t(){var n,i,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.uiModel&&!e.uiModel.firstChange){t.next=2;break}return t.abrupt("return");case 2:if(this.component&&this.component.uiModel.type===this.uiModel.type){t.next=9;break}return n=!this.component||this.component.uiModel.id!==this.uiModel.id,t.next=6,this.createComponent();case 6:n&&Object.values(e).some((function(e){return!1===e.firstChange}))&&this.emitEvent(this.properties.onInit),t.next=14;break;case 9:for(r in i=!1,e)e.hasOwnProperty(r)&&((o=e[r]).firstChange||o.currentValue===o.previousValue||(this.component[r]=o.currentValue,i=!0));if(!i){t.next=14;break}return t.next=14,this.component.ngOnChanges(e);case 14:case"end":return t.stop()}}),t,this)})))}},{key:"ngOnDestroy",value:function(){return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.component.ngOnDestroy();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"createComponent",value:function(){return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){var t,n,i,r,o=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=ge.getComponentDescriptor(this.uiModel.type),n=t.component,this.containerRef.clear(),"HTML"===t.category?(this.component=new n(this.appRef,this.componentFactoryResolver,this.injector),this.component.dataModel=this.dataModel,this.component.uiModel=this.uiModel,this.component.create(this.containerRef.element.nativeElement)):n.prototype instanceof ve&&(i=this.componentFactoryResolver.resolveComponentFactory(n),r=this.containerRef.createComponent(i),this.component=r.instance,this.component.dataModel=this.dataModel,this.component.uiModel=this.uiModel,this.component.create(r.location.nativeElement)),this.component.element.classList.add("dc-element"),this.uiModel.getComponent=function(){return o.component},this.component.changedDataModel.subscribe((function(e){o.changedDataModel.emit(e)})),this.component.eventHandlers.subscribe((function(e){o.eventHandlers.emit(e)})),this.render.emit({success:!0})}catch(s){this.render.emit({error:s}),console.error(s)}case 1:case"end":return e.stop()}}),e,this)})))}}]),n}(ve);return e.\u0275fac=function(t){return new(t||e)(m.Nb(m.R),m.Nb(m.k),m.Nb(m.t),m.Nb(m.g))},e.\u0275cmp=m.Hb({type:e,selectors:[["dc-ui-selector"]],outputs:{render:"render"},features:[m.yb,m.zb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),_e=function(){var e=function(){function e(){Object(d.a)(this,e),this.render=new m.p,this.changedDataModel=new m.p,this.eventHandlers=new m.p}return Object(c.a)(e,[{key:"ngOnInit",value:function(){return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initParsedModel();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnChanges",value:function(e){var t=e.uiModel;t&&!t.firstChange&&t.currentValue!==t.previousValue&&this.initParsedModel()}},{key:"onEventHandler",value:function(e){this.eventHandlers.emit(Object.assign(Object.assign({},e),{rootUIModel:this.parsedUIModel}))}},{key:"initParsedModel",value:function(){return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof this.uiModel){e.next=13;break}return e.prev=1,e.next=4,ge.parseXMLModel(this.uiModel);case 4:this.parsedUIModel=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),this.parsedUIModel=null,this.eventHandlers.emit({eventName:"parseError",parameters:{error:e.t0}});case 11:e.next=14;break;case 13:this.parsedUIModel=this.uiModel;case 14:case"end":return e.stop()}}),e,this,[[1,7]])})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Hb({type:e,selectors:[["ngx-dynamic-component"]],inputs:{dataModel:"dataModel",uiModel:"uiModel"},outputs:{render:"render",changedDataModel:"changedDataModel",eventHandlers:"eventHandlers"},features:[m.zb],decls:1,vars:1,consts:[[3,"uiModel","dataModel","changedDataModel","eventHandlers","render",4,"ngIf"],[3,"uiModel","dataModel","changedDataModel","eventHandlers","render"]],template:function(e,t){1&e&&m.Cc(0,A,1,2,"dc-ui-selector",0),2&e&&m.jc("ngIf",t.parsedUIModel)},directives:[k.m,ye],encapsulation:2}),e}(),we=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.apply(this,arguments)).display=void 0,e}return n}(ve);return e.\u0275fac=function(t){return nt(t||e)},e.\u0275cmp=m.Hb({type:e,selectors:[["dc-container"]],hostVars:2,hostBindings:function(e,t){2&e&&m.Bc("display",t.display)},features:[m.yb],decls:5,vars:2,consts:[[4,"ngTemplateOutlet"],["content",""],[3,"uiModel","dataModel","changedDataModel","eventHandlers",4,"ngFor","ngForOf"],[3,"uiModel","dataModel","changedDataModel","eventHandlers"]],template:function(e,t){if(1&e&&(m.Rb(0),m.Cc(1,I,1,0,"ng-container",0),m.Qb(),m.Ec(2),m.Cc(3,P,1,1,"ng-template",null,1,m.Dc)),2&e){var n=m.sc(4);m.Bb(1),m.jc("ngTemplateOutlet",n),m.Bb(1),m.Gc(" ",t.properties.text," ")}},directives:[k.r,k.l,ye],styles:["[_nghost-%COMP%]:not(.row):not(.input-group) {\n        display: block;\n      }"]}),e}(),Ce=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(ue);return Object(g.c)([se({description:"Text value",example:"Information"}),Object(g.f)("design:type",String)],e.prototype,"text",void 0),e}(),Se={title:"Section example",uiModel:'\n  <section>\n    <section class="row align-items-center justify-content-between m-0" width="100%" height="100%" padding="8px">\n      <text class="m-0" text-style="h1">Header 1</text>\n      <text class="m-0" text-style="h2">Header 2</text>\n      <button class="btn btn-secondary" on\u0421lick="consoleLog" type="button">Click</button>\n      <text class="m-0" background="red" text-style="h3">Header 3</text>\n    </section>\n    <section>Text</section>\n  </section>\n  ',dataModel:{}};function Oe(e){return function(t){return{type:e,itemProperties:{text:t.content}}}}var Te={name:"section",packageName:"core",label:"Container",category:"Containers",description:"layout component",itemProperties:Ce,component:we,example:Se,parseUIModel:Oe("section"),defaultModel:'<section class="d-flex"></section>'},ke={name:"div",packageName:"core",label:"Container",category:"Containers",description:"layout component",itemProperties:Ce,component:we,parseUIModel:Oe("div"),example:{title:"Div container",uiModel:Se.uiModel.replace(/<section/g,"<div").replace(/<\/section>/g,"</div>"),dataModel:{}},defaultModel:'<div class="col"></div>'},xe=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.apply(this,arguments)).display="inline-block",e}return Object(c.a)(n,[{key:"txtStyle",get:function(){return this.properties["text-style"]+" "+(this.properties.class||"")}},{key:"text",get:function(){return this.componentDataModel||this.properties.text}}]),n}(ve);return e.\u0275fac=function(t){return it(t||e)},e.\u0275cmp=m.Hb({type:e,selectors:[["dc-text"]],hostVars:2,hostBindings:function(e,t){2&e&&m.Bc("display",t.display)},features:[m.yb],decls:10,vars:9,consts:[[3,"ngSwitch"],[3,"class","ngStyle",4,"ngSwitchCase"],[3,"ngStyle",4,"ngSwitchCase"],[3,"class","ngStyle",4,"ngSwitchDefault"],[3,"ngStyle"]],template:function(e,t){1&e&&(m.Rb(0,0),m.Cc(1,D,2,4,"h1",1),m.Cc(2,R,2,4,"h2",1),m.Cc(3,N,2,4,"h3",1),m.Cc(4,L,2,4,"h4",1),m.Cc(5,F,2,4,"h5",1),m.Cc(6,B,2,4,"h6",1),m.Cc(7,H,2,2,"p",2),m.Cc(8,V,2,2,"ng-container",2),m.Cc(9,$,2,4,"span",3),m.Qb()),2&e&&(m.jc("ngSwitch",t.txtStyle),m.Bb(1),m.jc("ngSwitchCase","h1"),m.Bb(1),m.jc("ngSwitchCase","h2"),m.Bb(1),m.jc("ngSwitchCase","h3"),m.Bb(1),m.jc("ngSwitchCase","h4"),m.Bb(1),m.jc("ngSwitchCase","h5"),m.Bb(1),m.jc("ngSwitchCase","h6"),m.Bb(1),m.jc("ngSwitchCase",""),m.Bb(1),m.jc("ngSwitchCase",void 0))},directives:[k.o,k.p,k.q,k.n],encapsulation:2}),e}(),Ee=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(he);return Object(g.c)([se({description:"Displays text data.",example:"Text information"}),Object(g.f)("design:type",String)],e.prototype,"text",void 0),Object(g.c)([se({description:"Text style text data.",example:"h2"}),Object(g.f)("design:type",String)],e.prototype,"text-style",void 0),e}(),je={name:"text",packageName:"core",label:"Text",category:"Basic",description:"Text component",itemProperties:Ee,component:xe,example:{title:"Text compoent example",uiModel:'<text text-style="h1">Hello world</text>',dataModel:{}},parseUIModel:function(e){var t=e.content,n={};return"string"==typeof t&&(t.startsWith("$.")?n.binding=t:n.text=t),{type:"text",itemProperties:n}},children:!1,propertiesDescriptor:[["text-style",{name:"text-style",label:"Text style",category:le.Main,values:["h1","h2","h3","h4","h5","h6","display-1","display-2","display-3","display-4"]}]]},Ae=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.apply(this,arguments)).type="button",e.disabled=null,e}return Object(c.a)(n,[{key:"onClick",value:function(){this.emitEvent(this.properties.onClick),this.changedDataModel.emit(this.dataModel)}},{key:"ngOnInit",value:function(){return this.properties.type&&(this.type=this.properties.type),!0===this.properties.disabled&&(this.disabled=!0),Object(i.a)(Object(r.a)(n.prototype),"ngOnInit",this).call(this)}}]),n}(ve);return e.\u0275fac=function(t){return rt(t||e)},e.\u0275cmp=m.Hb({type:e,selectors:[["button"]],hostVars:2,hostBindings:function(e,t){1&e&&m.bc("click",(function(){return t.onClick()})),2&e&&m.Cb("type",t.type)("disabled",t.disabled)},features:[m.yb],decls:2,vars:2,consts:[[3,"uiModel","dataModel","changedDataModel","eventHandlers",4,"ngFor","ngForOf"],[3,"uiModel","dataModel","changedDataModel","eventHandlers"]],template:function(e,t){1&e&&(m.Cc(0,z,1,2,"dc-ui-selector",0),m.Ec(1)),2&e&&(m.jc("ngForOf",t.uiModel.children),m.Bb(1),m.Gc(" ",t.properties.label," "))},directives:[k.l,ye],encapsulation:2}),e}(),Ie={name:"button",label:"Button",packageName:"core",category:"Basic",description:"Button component",itemProperties:function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(ue);return Object(g.c)([se({description:"Button label",example:"Click me!"}),Object(g.f)("design:type",String)],e.prototype,"label",void 0),Object(g.c)([se({description:"Key for action that fires onclick",example:"onBtnClick()",type:ae.EVENT}),Object(g.f)("design:type",String)],e.prototype,"onClick",void 0),Object(g.c)([se({description:"Button type: button|submit|reset|link. Default: button",example:"submit",defaultValue:"button"}),Object(g.f)("design:type",String)],e.prototype,"type",void 0),Object(g.c)([se({description:"It specifies that the button should be disabled.",example:"true",defaultValue:"false"}),Object(g.f)("design:type",Boolean)],e.prototype,"disabled",void 0),e}(),component:Ae,example:{title:"Basic button example",uiModel:'\n  <section>\n    <button class="btn btn-primary" type="button"><icon class="fa fa-search"></icon>Search</button>\n    <button class="btn btn-primary" width="50%" margin="15px" padding="10px 5px 10px 0px" onClick="consoleLog">Click</button>\n    <button class="btn btn-secondary" disabled="true" onClick="consoleLog" type="submit">Submit</button>\n    <button class="btn btn-danger" display="none">Hidden</button>\n  </section>\n  ',scripts:'\n  def consoleLog():\n    print("test")\n  ',dataModel:{}},parseUIModel:function(e){var t=e.content,n={};return"string"==typeof t&&(n.label=t),{type:"button",itemProperties:n}},defaultModel:'<button class="btn btn-primary" onClick="onClickHandler()">Click</button>',propertiesDescriptor:[["type",{name:"type",label:"Type",category:le.Main,values:["button","submit","reset"]}]]},Me=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.apply(this,arguments)).value=null,e}return Object(c.a)(n,[{key:"onBlur",value:function(e){this.validate(e)}},{key:"ngOnInit",value:function(){var e=this,t=Object.create(null,{ngOnInit:{get:function(){return Object(i.a)(Object(r.a)(n.prototype),"ngOnInit",e)}}});return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ngOnInit.call(this);case 2:this.attrName=(n=this.properties).name||this.name,this.id=n.id||void 0,this.readonly=n.readonly||void 0,this.placeholder=n.placeholder||"",this.disabled=n.disabled||void 0,this.autocomplete=n.autocomplete||void 0,this.required=n.required||void 0,this.pattern=n.pattern||void 0,this.max=n.max||void 0,this.min=n.min||void 0,this.maxlength=n.maxlength||void 0,this.minlength=n.minlength||void 0;case 15:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnDestroy",value:function(){var e=this,t=Object.create(null,{ngOnDestroy:{get:function(){return Object(i.a)(Object(r.a)(n.prototype),"ngOnDestroy",e)}}});return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.error&&(this.error.parentNode.removeChild(this.error),this.error=null),e.abrupt("return",t.ngOnDestroy.call(this));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnChanges",value:function(e){var t=this,o=Object.create(null,{ngOnChanges:{get:function(){return Object(i.a)(Object(r.a)(n.prototype),"ngOnChanges",t)}}});return Object(g.b)(this,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.ngOnChanges.call(this,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"validate",value:function(e){e.validity.valid?this.error&&(e.parentNode.removeChild(this.error),this.error=null):(this.error=this.error||document.createElement("DIV"),this.error.className="alert alert-danger py-0 px-1 m-0",this.error.textContent=e.validationMessage,e.parentNode.insertBefore(this.error,e.nextSibling))}},{key:"name",get:function(){var e;return null===(e=this.properties.binding)||void 0===e?void 0:e.replace(/[^A-Z]+/gi,"")}}]),n}(ve);return e.\u0275fac=function(t){return ot(t||e)},e.\u0275dir=m.Ib({type:e,hostVars:13,hostBindings:function(e,t){1&e&&m.bc("blur",(function(e){return t.onBlur(e.target)})),2&e&&m.Cb("value",t.value)("name",t.attrName)("readonly",t.readonly)("disabled",t.disabled)("placeholder",t.placeholder)("id",t.id)("autocomplete",t.autocomplete)("required",t.required)("pattern",t.pattern)("maxlength",t.maxlength)("minlength",t.minlength)("max",t.max)("min",t.min)},features:[m.yb,m.zb]}),e}(),Pe=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(he);return Object(g.c)([se({description:"Text shown when field is empty",example:"Type your name"}),Object(g.f)("design:type",String)],e.prototype,"placeholder",void 0),Object(g.c)([se({description:"It specifies that the input value.",example:"option1"}),Object(g.f)("design:type",String)],e.prototype,"value",void 0),Object(g.c)([se({description:"Form element name.",example:"username"}),Object(g.f)("design:type",String)],e.prototype,"name",void 0),Object(g.c)([se({description:"It specifies that the input should be disabled.",example:"true"}),Object(g.f)("design:type",Boolean)],e.prototype,"disabled",void 0),Object(g.c)([se({description:"It specifies that the input should be read only.",example:"true"}),Object(g.f)("design:type",Boolean)],e.prototype,"readonly",void 0),Object(g.c)([se({description:"Is visible",example:"true"}),Object(g.f)("design:type",Boolean)],e.prototype,"visible",void 0),Object(g.c)([se({description:"Is field required",example:"true"}),Object(g.f)("design:type",Boolean)],e.prototype,"required",void 0),Object(g.c)([se({description:"Min field value length",example:"5"}),Object(g.f)("design:type",Number)],e.prototype,"minlength",void 0),Object(g.c)([se({description:"Max field value length",example:"10"}),Object(g.f)("design:type",Number)],e.prototype,"maxlength",void 0),Object(g.c)([se({description:"Min input number value",example:"5"}),Object(g.f)("design:type",Number)],e.prototype,"min",void 0),Object(g.c)([se({description:"Max input number value",example:"10"}),Object(g.f)("design:type",Number)],e.prototype,"max",void 0),Object(g.c)([se({description:"RegExp pattern",example:"[a-zA-Z ]*"}),Object(g.f)("design:type",String)],e.prototype,"pattern",void 0),Object(g.c)([se({description:"Key for action that fires on input",example:"onInput()"}),Object(g.f)("design:type",String)],e.prototype,"onInput",void 0),Object(g.c)([se({description:"Specifies permission to provide automated form field values.",example:"name"}),Object(g.f)("design:type",String)],e.prototype,"autocomplete",void 0),e}(),De=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this)).inputElement=e,i.type="text",i}return Object(c.a)(n,[{key:"onInput",value:function(e){["radio","checkbox"].includes(this.type)||this.setValue(e,this.properties.onInput)}},{key:"onChange",value:function(e){this.setValue(e,this.properties.onChange)}},{key:"ngOnInit",value:function(){var e=this,t=Object.create(null,{ngOnInit:{get:function(){return Object(i.a)(Object(r.a)(n.prototype),"ngOnInit",e)}}});return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ngOnInit.call(this);case 2:this.type=this.properties.type||"text",this.multiple=this.properties.multiple||void 0,this.step=this.properties.step||void 0,this.updateValue(),this.properties.autocomplete&&((n=this.inputElement.nativeElement).setAttribute("autocomplete","on"),this.dataList=document.createElement("DATALIST"),this.dataList.id="list-".concat(this.name),n.setAttribute("list",this.dataList.id),n.parentNode.insertBefore(this.dataList,n),this.setList(this.properties.list));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"ngDoCheck",value:function(){this.updateValue()}},{key:"setList",value:function(e){this.properties.autocomplete&&(this.dataList.innerHTML=e?e.map((function(e){return'<option value="'.concat(e,'">')})).join(""):"",this.properties.list=e)}},{key:"ngOnDestroy",value:function(){var e=this,t=Object.create(null,{ngOnDestroy:{get:function(){return Object(i.a)(Object(r.a)(n.prototype),"ngOnDestroy",e)}}});return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.ngOnDestroy.call(this));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnChanges",value:function(e){var t=this,o=Object.create(null,{ngOnChanges:{get:function(){return Object(i.a)(Object(r.a)(n.prototype),"ngOnChanges",t)}}});return Object(g.b)(this,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.ngOnChanges.call(this,e);case 2:e.dataModel&&this.updateValue();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"updateValue",value:function(){var e=this.componentDataModel;e!==this.modelValue&&(this.modelValue=e,"date"===this.type&&e instanceof Date?(this.value=e.toISOString().slice(0,10),this.inputElement.nativeElement.value=this.value):"radio"===this.type?(this.value=this.properties.value,this.checked=(e&&e.toString())===this.value||void 0):"checkbox"===this.type?(this.value=this.properties.value,this.checked=!!e||void 0):(this.value=e,this.inputElement.nativeElement.value=e))}},{key:"setValue",value:function(e,t){"checkbox"===this.properties.type?(this.componentDataModel=e.checked,this.emitEvent(t,e.checked)):"radio"===this.properties.type?e.checked&&(this.componentDataModel=e.value,this.emitEvent(t,e.value)):(this.componentDataModel=e.value,this.emitEvent(t,e.value)),this.changedDataModel.emit(this.dataModel)}}]),n}(Me);return e.\u0275fac=function(t){return new(t||e)(m.Nb(m.n))},e.\u0275cmp=m.Hb({type:e,selectors:[["input"]],hostVars:4,hostBindings:function(e,t){1&e&&m.bc("input",(function(e){return t.onInput(e.target)}))("change",(function(e){return t.onChange(e.target)})),2&e&&m.Cb("type",t.type)("checked",t.checked)("step",t.step)("multiple",t.multiple)},features:[m.yb,m.zb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),Re={name:"input",label:"Input field",packageName:"core",category:"Basic",description:"Input component",itemProperties:function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(Pe);return Object(g.c)([se({description:"Input type",example:"text"}),Object(g.f)("design:type",String)],e.prototype,"type",void 0),Object(g.c)([se({description:"Whether to allow multiple values.",example:"true"}),Object(g.f)("design:type",Boolean)],e.prototype,"multiple",void 0),Object(g.c)([se({description:"Specifies the granularity that the value must adhere to",example:"2"}),Object(g.f)("design:type",Number)],e.prototype,"step",void 0),Object(g.c)([se({description:"On change event handler name.",example:"onChange",type:ae.EVENT}),Object(g.f)("design:type",String)],e.prototype,"onChange",void 0),Object(g.c)([se({description:"Datalist array",example:'["option1" ,"option2"]'}),Object(g.f)("design:type",Array)],e.prototype,"list",void 0),e}(),component:De,example:[{title:"Text input example",uiModel:'\n  <div class="d-flex flex-column">\n    <div class="form-group">\n      <label class="col-form-label" width="80px">Name</label>\n      <input onInput="onNameInput(name)" placeholder="Enter your name" binding="$.name"/>\n    </div>\n    <div class="form-group">\n      <label class="col-form-label" width="80px">Last name</label>\n      <input disabled="true" id="lastName" placeholder="Enter your last name" binding="$.lastName"/>\n    </div>\n  </div>\n  ',scripts:'\n  def onNameInput(name):\n    disabled = name == ""\n    comp = getComponentById(rootUIModel, "lastName")\n    comp.disabled = disabled or null # should set null not false\n  ',dataModel:{},description:'Input "Last name" is disabled while input "Name" is empty.'},{title:"Checkbox example",uiModel:'\n  <div>\n    <div class="form-group form-check">\n      <input type="checkbox" class="form-check-input" binding="$.subscribed"/>\n      <label class="form-check-label" for="subscribed" width="80px">Subscribe</label>\n    </div>\n  </div>\n  ',dataModel:{},description:"Checkbox value is binded to dataModel's <i>subscribed</i> property."},{title:"Radio group example",uiModel:'\n  <div>\n    <div class="form-group form-check mt-5">\n      <input id="opt1" type="radio" class="form-check-input" name="option" value="option-1" binding="$.option"/>\n      <label for="opt1" class="form-check-label" width="80px">Option 1</label>\n    </div>\n    <div class="form-group form-check">\n      <input id="opt2" type="radio" class="form-check-input" name="option" value="option-2" binding="$.option"/>\n      <label for="opt2" class="form-check-label" width="80px">Option 2</label>\n    </div>\n    <div class="form-group form-check">\n      <input id="opt3" type="radio" class="form-check-input" name="option" value="option-3" binding="$.option"/>\n      <label for="opt3" class="form-check-label" width="80px">Option 3</label>\n    </div>\n  </div>\n  ',dataModel:{},description:"You can choose one of 3 options."}],parseUIModel:function(e){var t;return{type:"input",itemProperties:{readonly:"true"===e.attrs.readonly,list:null===(t=e.attrs.list)||void 0===t?void 0:t.split(",").map((function(e){return e.trim()}))}}},defaultModel:'<input onInput="onInputHandler(name)" placeholder="Enter your name" binding="$.name"/>',propertiesDescriptor:[["type",{name:"type",label:"Data Type",category:le.Main,values:["text","number","email","file","url","date","time","datetime-local"]}],["required",{name:"required",label:"Required field",values:["true"]}]],children:!1},Ne=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.apply(this,arguments)).display="inline-block",e}return Object(c.a)(n,[{key:"ngOnInit",value:function(){var e=this,t=Object.create(null,{ngOnInit:{get:function(){return Object(i.a)(Object(r.a)(n.prototype),"ngOnInit",e)}}});return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ngOnInit.call(this);case 2:this.fontSize=this.properties.size||"1rem";case 3:case"end":return e.stop()}}),e,this)})))}},{key:"iconClass",get:function(){return this.componentDataModel||this.properties.iconClass}}]),n}(ve);return e.\u0275fac=function(t){return st(t||e)},e.\u0275cmp=m.Hb({type:e,selectors:[["dc-icon-ui"]],hostVars:4,hostBindings:function(e,t){2&e&&m.Bc("display",t.display)("font-size",t.fontSize)},features:[m.yb],decls:0,vars:0,template:function(e,t){},styles:["./icon.component.sass"]}),e}(),Le={name:"icon",packageName:"core",label:"Icon",category:"Basic",description:"Icon component",itemProperties:function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(he);return Object(g.c)([se({description:"Icon size",example:"2rem"}),Object(g.f)("design:type",String)],e.prototype,"size",void 0),Object(g.c)([se({description:"Icon class",example:"fa fa-play"}),Object(g.f)("design:type",String)],e.prototype,"iconClass",void 0),e}(),component:Ne,example:{title:"Icon compoent example",uiModel:'\n  <icon class="fa fa-play" padding="20px" size="2rem"/>\n  ',dataModel:{}},defaultModel:'<icon class="fa fa-play"/>',children:!1},Fe=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"onChange",value:function(e){this.componentDataModel=e.value,this.changedDataModel.emit(this.dataModel),this.emitEvent(this.properties.onChange)}},{key:"getId",value:function(e){return"select-".concat(this.uiModel.id||this.properties.binding||"","-option-").concat(e)}},{key:"options",get:function(){var e=this.properties.itemsSource;return Array.isArray(e)?e:"string"==typeof e&&e.startsWith("$.")?re(this.dataModel,e):void 0}}]),n}(ve);return e.\u0275fac=function(t){return at(t||e)},e.\u0275cmp=m.Hb({type:e,selectors:[["dc-radio-group"]],features:[m.yb],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-between"],["class","my-0 mr-2",3,"for",4,"ngIf"],["type","radio",3,"name","value","change"],[1,"my-0","mr-2",3,"for"]],template:function(e,t){1&e&&m.Cc(0,W,4,4,"ng-container",0),2&e&&m.jc("ngForOf",t.options)},directives:function(){return[k.l,k.m,De,Ge]},styles:["label.bottom[_ngcontent-%COMP%], label.right[_ngcontent-%COMP%]{order:1}"]}),e}(),Be={name:"radio-group",label:"Single choice boxes",packageName:"core",category:"Basic",description:"Radio group component",itemProperties:function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(he);return Object(g.c)([se({description:"Radio group options or binding to dataModel.",example:'[{label: "One", value: 1}]'}),Object(g.f)("design:type",Object)],e.prototype,"itemsSource",void 0),Object(g.c)([se({description:"On change event handler name.",example:"onSelect",type:ae.EVENT}),Object(g.f)("design:type",String)],e.prototype,"onChange",void 0),e}(),component:Fe,example:{title:"Radio group example",uiModel:'\n  <div>\n    <radio-group class="d-flex flex-column mr-4" binding="$.color">\n      <option value="white">White</option>\n      <option value="black">Black</option>\n      <option value="green">Green</option>\n      <option value="blue">Blue</option>\n    </radio-group>\n    <radio-group itemsSource="$.genderOptions" binding="$.gender"></radio-group>\n  </div>\n  ',dataModel:{genderOptions:[{label:"Man",value:"m"},{label:"Woman",value:"w"}]}},parseUIModel:function(e){var t={};return!e.attrs.itemsSource&&e.childNodes&&(t.itemsSource=e.childNodes.map((function(e){return{label:e._,value:e.$.value}})),e.childNodes=null),{type:"radio-group",itemProperties:t}},defaultModel:'<radio-group itemsSource="$.options" binding="$.radioValue"></radio-group>',children:[{tag:"option",properties:[{name:"value",label:"Radio option value"}]}]},He=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"onInput",value:function(e){this.componentDataModel=e.value,this.emitEvent(this.properties.onInput,e.value),this.changedDataModel.emit(this.dataModel)}},{key:"ngOnInit",value:function(){var e=this,t=Object.create(null,{ngOnInit:{get:function(){return Object(i.a)(Object(r.a)(n.prototype),"ngOnInit",e)}}});return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ngOnInit.call(this);case 2:this.cols=this.properties.cols||void 0,this.rows=this.properties.rows||void 0,this.value=this.componentDataModel;case 5:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnChanges",value:function(e){var t=this,o=Object.create(null,{ngOnChanges:{get:function(){return Object(i.a)(Object(r.a)(n.prototype),"ngOnChanges",t)}}});return Object(g.b)(this,void 0,void 0,l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.ngOnChanges.call(this,e);case 2:e.dataModel&&(this.value=this.componentDataModel);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"ngDoCheck",value:function(){this.value=this.componentDataModel}}]),n}(Me);return e.\u0275fac=function(t){return lt(t||e)},e.\u0275cmp=m.Hb({type:e,selectors:[["textarea"]],hostVars:2,hostBindings:function(e,t){1&e&&m.bc("input",(function(e){return t.onInput(e.target)})),2&e&&m.Cb("cols",t.cols)("rows",t.rows)},features:[m.yb,m.zb],decls:1,vars:1,template:function(e,t){1&e&&m.Ec(0),2&e&&m.Fc(t.value)},encapsulation:2}),e}(),Ve={name:"textarea",label:"Text Area",packageName:"core",category:"Basic",description:"Text area component",itemProperties:function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(Pe);return Object(g.c)([se({description:"Number of rows in textarea",example:"5"}),Object(g.f)("design:type",Number)],e.prototype,"rows",void 0),Object(g.c)([se({description:"The visible width of the text control",example:"20"}),Object(g.f)("design:type",Number)],e.prototype,"cols",void 0),e}(),component:He,example:{title:"Text area example",uiModel:'\n  <textarea binding="$.info" placeholder="Type information about yourself" rows="10"></textarea>\n  ',dataModel:{info:"Data model textarea value"}},parseUIModel:function(e){return{type:"textarea",itemProperties:{readonly:"true"===e.attrs.readonly}}},defaultModel:'<textarea binding="$.info" rows="5"></textarea>',children:!1},$e=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(ve);return e.\u0275fac=function(t){return ct(t||e)},e.\u0275cmp=m.Hb({type:e,selectors:[["dc-link"]],features:[m.yb],decls:2,vars:4,consts:[[3,"ngStyle","href"]],template:function(e,t){1&e&&(m.Tb(0,"a",0),m.Ec(1),m.Sb()),2&e&&(m.jc("ngStyle",t.itemStyles)("href",t.properties.href,m.xc),m.Cb("target",t.properties.target||null),m.Bb(1),m.Fc(t.properties.label))},directives:[k.n],styles:["a[_ngcontent-%COMP%] {\n      color: inherit;\n    }"]}),e}(),ze={name:"link",label:"Link",packageName:"core",category:"Basic",description:"Link component",itemProperties:function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(ue);return Object(g.c)([se({description:"Link label",example:"Click me!"}),Object(g.f)("design:type",String)],e.prototype,"label",void 0),Object(g.c)([se({description:"Link href used in case of type=link.",example:"url/to/site"}),Object(g.f)("design:type",String)],e.prototype,"href",void 0),Object(g.c)([se({description:"The target attribute specifies where to open the linked document.",example:"_blank"}),Object(g.f)("design:type",String)],e.prototype,"target",void 0),e}(),component:$e,example:{title:"Basic link example",uiModel:'\n  <div class="row align-items-center">\n    <link class="btn btn-primary mr-2" href="https://falconsoft.github.io/ngx-dynamic-components/components/core/button">Button</link>\n    <link target="_blank" disabled="true" href="https://www.google.com/">Google</link>\n  </div>\n  ',dataModel:{}},parseUIModel:function(e){return{type:"link",itemProperties:{label:e.content}}},defaultModel:'<link target="_blank" href="https://www.google.com/">Google</link>'},Ge=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.apply(this,arguments)).display="inline-block",e}return Object(c.a)(n,[{key:"ngOnInit",value:function(){var e=this,t=Object.create(null,{ngOnInit:{get:function(){return Object(i.a)(Object(r.a)(n.prototype),"ngOnInit",e)}}});return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ngOnInit.call(this);case 2:this.for=this.properties.for||void 0;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"text",get:function(){return this.componentDataModel||this.properties.text}}]),n}(ve);return e.\u0275fac=function(t){return ut(t||e)},e.\u0275cmp=m.Hb({type:e,selectors:[["label"]],hostVars:3,hostBindings:function(e,t){2&e&&(m.Cb("for",t.for),m.Bc("display",t.display))},features:[m.yb],decls:1,vars:1,template:function(e,t){1&e&&m.Ec(0),2&e&&m.Fc(t.text)},styles:[".form-check-label[_nghost-%COMP%]    > label[_ngcontent-%COMP%] {\n      margin-bottom: 0;\n    }"]}),e}(),We={name:"label",packageName:"core",label:"Label",category:"Basic",description:"Label component",itemProperties:function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(Ee);return Object(g.c)([se({description:"The id of a labelable form-related element",example:"checkboxId"}),Object(g.f)("design:type",String)],e.prototype,"for",void 0),e}(),component:Ge,example:{title:"Label compoent example",uiModel:"<label>Hello world</label>",dataModel:{}},parseUIModel:function(e){var t=e.content,n={};return"string"==typeof t&&(t.startsWith("$.")?n.binding=t:n.text=t),{type:"label",itemProperties:n}},children:!1},Ue=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"onFormSubmit",value:function(e){var t=new FormData(this.form.nativeElement);this.emitEvent(this.properties.onSubmit,{formData:t}),this.form.nativeElement.querySelectorAll("input,textarea,select").forEach((function(e,t,n){e.focus(),n.length-1===t&&e.blur()}))}}]),n}(ve);return e.\u0275fac=function(t){return ht(t||e)},e.\u0275cmp=m.Hb({type:e,selectors:[["dc-form"]],viewQuery:function(e,t){var n;1&e&&m.Ac(U,!0),2&e&&m.rc(n=m.cc())&&(t.form=n.first)},features:[m.yb],decls:5,vars:2,consts:[[3,"ngStyle","ngSubmit"],["form",""],[4,"ngTemplateOutlet"],["content",""],[3,"uiModel","dataModel","changedDataModel","eventHandlers",4,"ngFor","ngForOf"],[3,"uiModel","dataModel","changedDataModel","eventHandlers"]],template:function(e,t){if(1&e&&(m.Tb(0,"form",0,1),m.bc("ngSubmit",(function(e){return t.onFormSubmit(e)})),m.Cc(2,K,1,0,"ng-container",2),m.Sb(),m.Cc(3,X,1,1,"ng-template",null,3,m.Dc)),2&e){var n=m.sc(4);m.jc("ngStyle",t.itemStyles),m.Bb(2),m.jc("ngTemplateOutlet",n)}},directives:[x.t,x.j,x.k,k.n,k.r,k.l,ye],encapsulation:2}),e}(),Ke={name:"form",packageName:"core",label:"Form",category:"Containers",description:"layout component",itemProperties:function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(ue);return Object(g.c)([se({description:"Submit handler",example:"onFormSubmit(form)",type:ae.EVENT}),Object(g.f)("design:type",String)],e.prototype,"onSubmit",void 0),e}(),component:Ue,example:{title:"Form example",uiModel:'\n  <form class="flex-column w-50 mx-auto" onSubmit="onSave(form)">\n    <label class="mb-0">User name</label><input name="username" class="form-control" required="true"/>\n    <label class="mb-0">Email</label><input name="email" type="email" class="form-control" required="true"/>\n    <button class="d-flex btn btn-secondary ml-auto my-1" type="submit">Save</button>\n  </form>\n  ',scripts:"\n    def onSave(form):\n      print(form)\n  ",dataModel:{}},defaultModel:'<form class="d-flex"></form>',propertiesDescriptor:[["method",{name:"method",label:"Method",category:le.Main,values:["GET","POST","PUT","DELETE"]}]]},qe=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"onSelect",value:function(e){this.componentDataModel=e.value,this.emitEvent(this.properties.onSelect,this.optionsList.find((function(t){return t.value===e.value}))),this.changedDataModel.emit(this.dataModel)}},{key:"ngDoCheck",value:function(){this.componentDataModel!==this.value&&(this.value=this.componentDataModel)}},{key:"selectStyles",get:function(){return this.properties.selectHeight?{height:this.properties.selectHeight}:null}},{key:"options",get:function(){var e,t=this.properties.itemsSource;if(this.optionsList&&"object"==typeof t&&t===this.src)return this.optionsList;if(Array.isArray(t)&&(e=t),"string"==typeof t&&t.startsWith("$.")&&(e=re(this.dataModel,t)),e&&(this.properties.labelProp||this.properties.valueProp)){var n=this.properties.labelProp||"label",i=this.properties.valueProp||"value";e=e.map((function(e){return{label:e[n],value:e[i],data:e}}))}else e=e||[];return this.src=t,JSON.stringify(e)!==JSON.stringify(this.optionsList)&&(this.optionsList=e),this.optionsList}}]),n}(ve);return e.\u0275fac=function(t){return dt(t||e)},e.\u0275cmp=m.Hb({type:e,selectors:[["select"]],hostVars:1,hostBindings:function(e,t){1&e&&m.bc("change",(function(e){return t.onSelect(e.target)})),2&e&&m.Cb("value",t.value)},features:[m.yb],decls:2,vars:1,consts:[[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected","value"]],template:function(e,t){1&e&&(m.Rb(0),m.Cc(1,Y,2,3,"option",0),m.Qb()),2&e&&(m.Bb(1),m.jc("ngForOf",t.options))},directives:[k.l,x.m,x.s],encapsulation:2}),e}(),Xe={name:"select",label:"UI Select Input",packageName:"core",category:"Basic",description:"Select component",itemProperties:function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(he);return Object(g.c)([se({description:"Select options or binding to dataModel.",example:'[{label: "One", value: 1}]'}),Object(g.f)("design:type",Object)],e.prototype,"itemsSource",void 0),Object(g.c)([se({description:"Select height.",example:"30px"}),Object(g.f)("design:type",String)],e.prototype,"selectHeight",void 0),Object(g.c)([se({description:"On Select handler name.",example:"onCountrySelect",type:ae.EVENT}),Object(g.f)("design:type",String)],e.prototype,"onSelect",void 0),Object(g.c)([se({description:"Label property.",example:"name"}),Object(g.f)("design:type",String)],e.prototype,"labelProp",void 0),Object(g.c)([se({description:"Value property.",example:"id"}),Object(g.f)("design:type",String)],e.prototype,"valueProp",void 0),e}(),component:qe,example:{uiModel:'\n    <section class="flex-column">\n      <section class="form-group">\n        <label class="col-form-label" width="60px">Country</label>\n        <select class="form-control" onSelect="countryChanged(selectedItem)" width="300px" binding="$.country">\n          <option>Select country</option>\n          <option value="uk">United Kingdom</option>\n          <option value="ua">Ukraine</option>\n        </select>\n      </section>\n      <section class="form-group">\n        <label class="col-form-label" width="60px">City</label>\n        <select class="form-control" width="300px" itemsSource="$.cities" binding="$.city"></select>\n      </section>\n    </section>\n  ',dataModel:{},scripts:'\n  # Evaluated with JSPython https://jspython.dev/\n\n  def countryChanged():\n    dataModel.city = null\n\n    if selectedItem?.value == "uk":\n      dataModel.cities = [\n        {label: "Select city", value: null},\n        {label: "London", value: "lon"},\n        {label: "Liverpool", value: "liv"}\n      ]\n\n    if selectedItem?.value == "ua":\n      dataModel.cities = [\n        {label: "Select city", value: null},\n        {label: "Kyiv", value: "kyiv"},\n        {label: "Lviv", value: "lviv"}\n      ]\n\n  ',title:"Basic select example"},parseUIModel:function(e){var t={};return!e.attrs.itemsSource&&e.childNodes&&(t.itemsSource=e.childNodes.map((function(e){return{label:e._,value:e.$&&e.$.hasOwnProperty("value")?e.$.value:e._}})),e.childNodes=null),{type:"select",itemProperties:t}},defaultModel:'<select width="100px" itemsSource="$.list" binding="$.value"></select>',propertiesDescriptor:[["selectHeight",{name:"selectHeight",label:"Select Height",category:le.Layout}]],children:[{tag:"option",properties:[{name:"value",label:"Option value"}]}]},Ye=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e,i,r){var o;return Object(d.a)(this,n),(o=t.call(this)).appRef=e,o.componentFactoryResolver=i,o.injector=r,o.eventHandlers=new m.p,o.changedDataModel=new m.p,o}return Object(c.a)(n,[{key:"ngOnDestroy",value:function(){return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.emitEvent(this.properties.onDestroy),this.element&&this.element.parentNode.removeChild(this.element);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnChanges",value:function(e){var t=e.dataModel,n=e.uiModel;return Object(g.b)(this,void 0,void 0,l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&!t.firstChange&&this.dataModel!==t.currentValue&&(this.dataModel=t.currentValue),n&&!n.firstChange&&(this.uiModel=n.currentValue,this.setProperties());case 2:case"end":return e.stop()}}),e,this)})))}},{key:"create",value:function(e){var t=this,n=Boolean(this.element);this.element=this.element||document.createElement(this.uiModel.type),this.element.innerHTML="",this.parentNode=this.parentNode||e.parentNode,this.setProperties(),!n&&this.parentNode&&this.parentNode.insertBefore(this.element,e),this.uiModel.children&&this.uiModel.children.forEach((function(e){var n=t.componentFactoryResolver.resolveComponentFactory(ye).create(t.injector),i=n.instance;i.dataModel=t.dataModel,i.uiModel=e,t.appRef.attachView(n.hostView),t.element.appendChild(n.hostView.rootNodes[0])})),this.parentNode&&!n&&this.parentNode.removeChild(e)}},{key:"setProperties",value:function(){var e=this.properties;e.content&&(this.element.textContent=e.content),this.setHostStyles()}},{key:"setHostStyles",value:function(){var e=this,t=this.properties;t.class&&(this.element.className=t.class),t&&fe.forEach((function(n){t&&t.hasOwnProperty(n)&&(e.element.style[n]=t[n])}))}},{key:"properties",get:function(){return this.uiModel.itemProperties}},{key:"attrs",get:function(){return this.uiModel.itemProperties}}]),n}(me);return e.\u0275fac=function(t){return new(t||e)(m.Nb(m.g),m.Nb(m.k),m.Nb(m.t))},e.\u0275dir=m.Ib({type:e,features:[m.yb,m.zb]}),e}(),Je=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(ue);return Object(g.c)([se({description:"HTML element text content",example:"Text"}),Object(g.f)("design:type",String)],e.prototype,"content",void 0),Object(g.c)([se({description:"HTML element html content",example:"<span>Text</span>"}),Object(g.f)("design:type",String)],e.prototype,"htmlContent",void 0),e}();function Qe(e){return{type:e.type,itemProperties:{content:e.content}}}var Ze=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"create",value:function(e){var t=this;Object(i.a)(Object(r.a)(n.prototype),"create",this).call(this,e),this.properties.href&&this.element.setAttribute("href",this.properties.href),this.properties.target&&this.element.setAttribute("target",this.properties.target),this.properties.routerLink&&(this.element.style.cursor="pointer",this.element.setAttribute("href","javascript:void(0);")),this.element.onclick=function(e){t.emitEvent(t.properties.onClick),t.properties.routerLink&&(t.injector.get(j.f).navigate([t.getPath()]),e.preventDefault())}}},{key:"getPath",value:function(){var e=this,t=this.properties.routerLink,n=t.match(/{\$\.[\w/]+}/g);return n&&n.forEach((function(n){var i=n.replace(/[{}]+/,""),r=re(e.dataModel,i);t=t.replace(n,r)})),t}}]),n}(Ye);return e.\u0275fac=function(t){return ft(t||e)},e.\u0275dir=m.Ib({type:e,features:[m.yb]}),e}(),et=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(ue);return Object(g.c)([se({description:"Link label",example:"Click me!"}),Object(g.f)("design:type",String)],e.prototype,"label",void 0),Object(g.c)([se({description:"Link href used in case of type=link.",example:"url/to/site"}),Object(g.f)("design:type",String)],e.prototype,"href",void 0),Object(g.c)([se({description:"The target attribute specifies where to open the linked document.",example:"_blank"}),Object(g.f)("design:type",String)],e.prototype,"target",void 0),Object(g.c)([se({description:"Key for action that fires onclick",example:"onLinkClick()",type:ae.EVENT}),Object(g.f)("design:type",String)],e.prototype,"onClick",void 0),Object(g.c)([se({description:"Router link",example:"path/page"}),Object(g.f)("design:type",String)],e.prototype,"routerLink",void 0),e}(),tt=m.Vb(ve),nt=m.Vb(we),it=m.Vb(xe),rt=m.Vb(Ae),ot=m.Vb(Me),st=m.Vb(Ne),at=m.Vb(Fe),lt=m.Vb(He),ct=m.Vb($e),ut=m.Vb(Ge),ht=m.Vb(Ue),dt=m.Vb(qe),ft=m.Vb(Ze),pt={name:"a",label:"Link",packageName:"core",category:"HTML",description:"A component",itemProperties:et,component:Ze,example:{title:"Basic link example",uiModel:'\n  <section class="row align-items-center m-1">\n    <a class="btn btn-primary mr-2" href="https://falconsoft.github.io/ngx-dynamic-components/components/core/button">Button</a>\n    <a target="_blank" href="https://www.google.com/">Google</a>\n  </section>\n  ',dataModel:{}},parseUIModel:function(e){var t=Qe(e);return e.attrs.routerLink&&(t.itemProperties.routerLink=e.attrs.routerLink),t},defaultModel:'<a target="_blank" href="https://www.google.com/">Google</a>'},gt={name:"ul",label:"UL Element",packageName:"core",category:"HTML",description:"HTML UL element",itemProperties:Je,component:Ye,example:{title:"HTML <ul> example",uiModel:"<div>\n    <ul>\n    <li>item-1</li>\n    <li>item-2</li>\n    <li>item-3</li>\n    </ul>\n    </div>",dataModel:{}},parseUIModel:Qe,defaultModel:"<ul></ul>"},mt={name:"li",label:"LI Element",packageName:"core",category:"HTML",description:"HTML LI element",itemProperties:Je,component:Ye,example:{title:"HTML <li> example",uiModel:'<section>\n    <li background="gray" color="red">Text</li>\n    <li background="green" color="white"><span>Text in Span</span></li>\n    <li background="blue" color="yellow"><a href="https://www.google.com">Google</a></li>\n    <li><i class="fa fa-play"/></li>\n  </section>',dataModel:{}},parseUIModel:Qe,defaultModel:"<li></li>"},bt={name:"ol",label:"OL Element",packageName:"core",category:"HTML",description:"HTML OL element",itemProperties:Je,component:Ye,example:{title:"HTML <ol> example",uiModel:'\n\n  <nav aria-label="breadcrumb">\n    <ol class="breadcrumb px-0">\n      <li class="breadcrumb-item"><a routerLink="app/{$.appInfo/ownerName}/{$.appInfo/appName}">Home</a></li>\n      <li class="breadcrumb-item"><a routerLink="app/{$.appInfo/ownerName}/{$.appInfo/appName}/orders-list">Orders</a></li>\n      <li class="breadcrumb-item active" aria-current="page">Details</li>\n    </ol>\n  </nav>\n\n    ',dataModel:{appInfo:{ownerName:"TestUser",appName:"LongAppName"}}},parseUIModel:Qe,defaultModel:"<ol></ol>"},vt={name:"HTML_ELEMENT_TAG",label:"HTML_ELEMENT_TAG Element",packageName:"core",category:"HTML",description:"HTML HTML_ELEMENT_TAG element",itemProperties:Je,component:Ye,example:{title:"HTML <HTML_ELEMENT_TAG> example",uiModel:'\n    <div>\n    <HTML_ELEMENT_TAG>Text</HTML_ELEMENT_TAG>\n    <HTML_ELEMENT_TAG><i class="fa fa-play"/></HTML_ELEMENT_TAG>\n  </div>\n    ',dataModel:{}},parseUIModel:Qe,defaultModel:"<HTML_ELEMENT_TAG></HTML_ELEMENT_TAG>"},yt=["span","p","i","h1","h2","h3","h4","h5","h6","nav","small"].map((function(e){return function e(t,n){return Object.entries(t).reduce((function(t,i){var r=Object(s.a)(i,2),o=r[0],a=r[1];return t[o]=a,"string"==typeof a&&(t[o]=a.replace(/HTML_ELEMENT_TAG/g,n)),"example"===o&&(t[o]=e(t[o],n)),t}),{})}(vt,e)})),_t=[Te,ke,Ke,je,We,Le,Re,Be,Ve,Ie,ze,Xe,pt,gt,bt,mt].concat(Object(p.a)(yt)),wt=function(){var e=function e(){Object(d.a)(this,e),_t.forEach((function(e){return ge.registerComponent(e)}))};return e.\u0275mod=m.Lb({type:e}),e.\u0275inj=m.Kb({factory:function(t){return new(t||e)},imports:[[k.c,x.d,E.b]]}),e}()},fEDK:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return L})),n.d(t,"a",(function(){return H})),n.d(t,"c",(function(){return z}));var i=n("fXoL"),r=n("ofXK"),o=n("3Pt+"),s=n("JIag"),a=n("tcrU"),l=n("SSYJ"),c=["*"];function u(e,t){1&e&&(i.Tb(0,"div"),i.hc(1),i.Sb())}function h(e,t){1&e&&i.Ob(0,"div",1)}var d,f=(d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},g=function(e,t){return function(n,i){t(n,i,e)}},m={selector:"wj-list-box",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","isContentHtml","maxHeight","selectedValuePath","itemFormatter","displayMemberPath","checkedMemberPath","caseSensitiveSearch","itemsSource","showGroups","selectedIndex","selectedItem","selectedValue","checkedItems"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","formatItemNg: formatItem","itemsChangedNg: itemsChanged","itemCheckedNg: itemChecked","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]},b=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="selectedValue",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:m.outputs,changeEvents:{selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],checkedItemsChanged:["checkedItems"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-list-box"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",isContentHtml:"isContentHtml",maxHeight:"maxHeight",selectedValuePath:"selectedValuePath",itemFormatter:"itemFormatter",displayMemberPath:"displayMemberPath",checkedMemberPath:"checkedMemberPath",caseSensitiveSearch:"caseSensitiveSearch",itemsSource:"itemsSource",showGroups:"showGroups",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue",checkedItems:"checkedItems"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",formatItemNg:"formatItem",itemsChangedNg:"itemsChanged",itemCheckedNg:"itemChecked",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",checkedItemsChangedNg:"checkedItemsChanged",checkedItemsChangePC:"checkedItemsChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(m.providers))],ngContentSelectors:c,decls:2,vars:0,template:function(e,t){1&e&&(i.ic(),i.Tb(0,"div"),i.hc(1),i.Sb())},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.ListBox),{selector:"wj-multi-select-list-box",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","itemsSource","displayMemberPath","isContentHtml","showGroups","checkOnFilter","showFilterInput","filterInputPlaceholder","showSelectAllCheckbox","selectAllLabel","checkedMemberPath","checkedItems"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),v=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="checkedItems",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:b.outputs,changeEvents:{checkedItemsChanged:["checkedItems"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-multi-select-list-box"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",itemsSource:"itemsSource",displayMemberPath:"displayMemberPath",isContentHtml:"isContentHtml",showGroups:"showGroups",checkOnFilter:"checkOnFilter",showFilterInput:"showFilterInput",filterInputPlaceholder:"filterInputPlaceholder",showSelectAllCheckbox:"showSelectAllCheckbox",selectAllLabel:"selectAllLabel",checkedMemberPath:"checkedMemberPath",checkedItems:"checkedItems"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",checkedItemsChangedNg:"checkedItemsChanged",checkedItemsChangePC:"checkedItemsChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(b.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.MultiSelectListBox),{selector:"wj-combo-box",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","itemsSource","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),y=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="selectedValue",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:v.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-combo-box"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",itemsSource:"itemsSource",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(v.providers))],ngContentSelectors:c,decls:2,vars:0,template:function(e,t){1&e&&(i.ic(),i.Tb(0,"div"),i.hc(1),i.Sb())},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.ComboBox),{selector:"wj-auto-complete",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","delay","maxItems","minLength","cssMatch","itemsSourceFunction","searchMemberPath","itemsSource","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),_=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="selectedValue",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:y.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-auto-complete"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",delay:"delay",maxItems:"maxItems",minLength:"minLength",cssMatch:"cssMatch",itemsSourceFunction:"itemsSourceFunction",searchMemberPath:"searchMemberPath",itemsSource:"itemsSource",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(y.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.AutoComplete),{selector:"wj-calendar",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","monthView","showHeader","itemFormatter","itemValidator","firstDayOfWeek","max","min","formatYearMonth","formatDayHeaders","formatDays","formatYear","formatMonths","selectionMode","isReadOnly","repeatButtons","showYearPicker","value","displayMonth"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange","displayMonthChangedNg: displayMonthChanged","displayMonthChangePC: displayMonthChange","formatItemNg: formatItem"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),w=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="value",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:_.outputs,changeEvents:{valueChanged:["value"],displayMonthChanged:["displayMonth"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-calendar"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",monthView:"monthView",showHeader:"showHeader",itemFormatter:"itemFormatter",itemValidator:"itemValidator",firstDayOfWeek:"firstDayOfWeek",max:"max",min:"min",formatYearMonth:"formatYearMonth",formatDayHeaders:"formatDayHeaders",formatDays:"formatDays",formatYear:"formatYear",formatMonths:"formatMonths",selectionMode:"selectionMode",isReadOnly:"isReadOnly",repeatButtons:"repeatButtons",showYearPicker:"showYearPicker",value:"value",displayMonth:"displayMonth"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange",displayMonthChangedNg:"displayMonthChanged",displayMonthChangePC:"displayMonthChange",formatItemNg:"formatItem"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(_.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.Calendar),{selector:"wj-color-picker",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","showAlphaChannel","showColorString","palette","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),C=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="value",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:w.outputs,changeEvents:{valueChanged:["value"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-color-picker"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",showAlphaChannel:"showAlphaChannel",showColorString:"showColorString",palette:"palette",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(w.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.ColorPicker),{selector:"wj-input-mask",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","mask","isRequired","isReadOnly","promptChar","placeholder","inputType","rawValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","rawValueChangePC: rawValueChange","valueChangePC: valueChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),S=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="value",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:C.outputs,changeEvents:{valueChanged:["rawValue","value"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-input-mask"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",mask:"mask",isRequired:"isRequired",isReadOnly:"isReadOnly",promptChar:"promptChar",placeholder:"placeholder",inputType:"inputType",rawValue:"rawValue",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",rawValueChangePC:"rawValueChange",valueChangePC:"valueChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(C.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.InputMask),{selector:"wj-input-color",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","showAlphaChannel","showColorString","value","text"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),O=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="value",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:S.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-input-color"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",showAlphaChannel:"showAlphaChannel",showColorString:"showColorString",value:"value",text:"text"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(S.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.InputColor),{selector:"wj-multi-select",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","checkedMemberPath","maxHeaderItems","headerFormat","headerFormatter","showSelectAllCheckbox","selectAllLabel","showFilterInput","filterInputPlaceholder","checkOnFilter","itemsSource","checkedItems","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),T=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="checkedItems",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:O.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],checkedItemsChanged:["checkedItems"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-multi-select"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",checkedMemberPath:"checkedMemberPath",maxHeaderItems:"maxHeaderItems",headerFormat:"headerFormat",headerFormatter:"headerFormatter",showSelectAllCheckbox:"showSelectAllCheckbox",selectAllLabel:"selectAllLabel",showFilterInput:"showFilterInput",filterInputPlaceholder:"filterInputPlaceholder",checkOnFilter:"checkOnFilter",itemsSource:"itemsSource",checkedItems:"checkedItems",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",checkedItemsChangedNg:"checkedItemsChanged",checkedItemsChangePC:"checkedItemsChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(O.providers))],ngContentSelectors:c,decls:2,vars:0,template:function(e,t){1&e&&(i.ic(),i.Tb(0,"div"),i.hc(1),i.Sb())},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.MultiSelect),{selector:"wj-multi-auto-complete",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","delay","maxItems","minLength","cssMatch","itemsSourceFunction","searchMemberPath","maxSelectedItems","selectedItems","itemsSource","selectedMemberPath","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","selectedItemsChangedNg: selectedItemsChanged","selectedItemsChangePC: selectedItemsChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),k=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="selectedItems",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:T.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],selectedItemsChanged:["selectedItems"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-multi-auto-complete"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",delay:"delay",maxItems:"maxItems",minLength:"minLength",cssMatch:"cssMatch",itemsSourceFunction:"itemsSourceFunction",searchMemberPath:"searchMemberPath",maxSelectedItems:"maxSelectedItems",selectedItems:"selectedItems",itemsSource:"itemsSource",selectedMemberPath:"selectedMemberPath",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",selectedItemsChangedNg:"selectedItemsChanged",selectedItemsChangePC:"selectedItemsChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(T.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.MultiAutoComplete),{selector:"wj-input-number",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","showSpinner","repeatButtons","max","min","step","isRequired","placeholder","inputType","format","isReadOnly","value","text"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange","textChangedNg: textChanged","textChangePC: textChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),x=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="value",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:k.outputs,changeEvents:{valueChanged:["value"],textChanged:["text"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-input-number"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",showSpinner:"showSpinner",repeatButtons:"repeatButtons",max:"max",min:"min",step:"step",isRequired:"isRequired",placeholder:"placeholder",inputType:"inputType",format:"format",isReadOnly:"isReadOnly",value:"value",text:"text"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange",textChangedNg:"textChanged",textChangePC:"textChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(k.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.InputNumber),{selector:"wj-input-date",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","selectionMode","format","mask","max","min","inputType","repeatButtons","showYearPicker","itemValidator","itemFormatter","text","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),E=function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="value",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;return f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:x.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-input-date"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",selectionMode:"selectionMode",format:"format",mask:"mask",max:"max",min:"min",repeatButtons:"repeatButtons",showYearPicker:"showYearPicker",itemValidator:"itemValidator",itemFormatter:"itemFormatter",text:"text",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(x.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.InputDate),j={selector:"wj-input-time",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","max","min","step","format","mask","inputType","itemsSource","text","selectedIndex","selectedItem","selectedValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]},A=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="value",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:j.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],valueChanged:["value"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-input-time"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",max:"max",min:"min",step:"step",format:"format",mask:"mask",itemsSource:"itemsSource",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(j.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.InputTime),{selector:"wj-input-date-time",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","selectionMode","format","mask","max","min","inputType","repeatButtons","showYearPicker","itemValidator","itemFormatter","timeMax","timeMin","timeStep","timeFormat","text","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),I=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="value",r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:A.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-input-date-time"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",selectionMode:"selectionMode",format:"format",mask:"mask",max:"max",min:"min",repeatButtons:"repeatButtons",showYearPicker:"showYearPicker",itemValidator:"itemValidator",itemFormatter:"itemFormatter",timeMax:"timeMax",timeMin:"timeMin",timeStep:"timeStep",timeFormat:"timeFormat",text:"text",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(A.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.InputDateTime),{selector:"wj-menu",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","header","commandParameterPath","commandPath","subItemsPath","openOnHover","closeOnLeave","isButton","itemsSource","text","selectedIndex","selectedItem","selectedValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","itemClickedNg: itemClicked","valueChangePC: valueChange"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),M=function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r.wjModelProperty="selectedValue",r._wjBehaviour=s.a.attach(r,t,n,i),r.itemsSource=new a.ObservableArray,r.selectedIndex=0,r.created(),r}var n;return f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit(),this._attachToControl(),this._updateHeader()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy(),this.listBox.formatItem.removeHandler(this._fmtItem,this),this.listBox.loadingItems.removeHandler(this._loadingItems,this)},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,null!=e&&(this.selectedValue=e,this._updateHeader())},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(e){var t=e.header;t&&(this._definedHeader=t.currentValue,this._updateHeader())},t.prototype.ngAfterContentInit=function(){this.value=this.value},t.prototype.onItemClicked=function(t){this.value=this.selectedValue,e.prototype.onItemClicked.call(this,t)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this._updateHeader()},t.prototype._attachToControl=function(){this.listBox.formatItem.addHandler(this._fmtItem,this),this.listBox.loadingItems.addHandler(this._loadingItems,this),this.invalidate()},t.prototype._loadingItems=function(e){for(var t=e.hostElement.getElementsByClassName("wj-listbox-item"),n=t.length-1;n>=0;n--)t[n].textContent=""},t.prototype._fmtItem=function(e,t){if(t.data instanceof D){var n=t.item;n.textContent="";var i=t.data,r=i.contentRoot;r&&(n.appendChild(r),i.added(n))}},t.prototype._updateHeader=function(){this.header=this._definedHeader||"";var e=this.selectedItem;if(null!=this.value&&e&&this.displayMemberPath){var t=null;if(e instanceof D){var n=e.contentRoot;t=n?n.innerHTML:e[this.displayMemberPath]}null!=t&&(this.header+=": <b>"+t+"</b>")}},t.meta={outputs:I.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],itemClicked:["value"]}},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-menu"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",header:"header",commandParameterPath:"commandParameterPath",commandPath:"commandPath",subItemsPath:"subItemsPath",openOnHover:"openOnHover",closeOnLeave:"closeOnLeave",isButton:"isButton",itemsSource:"itemsSource",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",itemClickedNg:"itemClicked",valueChangePC:"valueChange"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(I.providers)),i.zb],ngContentSelectors:c,decls:2,vars:0,template:function(e,t){1&e&&(i.ic(),i.Tb(0,"div"),i.hc(1),i.Sb())},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.Menu),P={selector:"wj-menu-item",template:"<div *wjMenuItemTemplateDir><ng-content></ng-content></div>",inputs:["wjProperty","value","cmd","cmdParam"],outputs:["initialized"],providers:[]},D=function(){function e(e,t,n,i){this.viewContainerRef=i,this.isInitialized=!1,this.wjProperty="itemsSource";var r=this._wjBehaviour=s.a.attach(this,e,t,n);this._ownerMenu=r.parentBehavior.directive,this.created()}var t;return t=e,e.prototype.created=function(){},e.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit();var e=this._ownerMenu;1==e.itemsSource.length&&e.selectedIndex<0&&(e.selectedIndex=0),e.displayMemberPath||(e.displayMemberPath="header"),e.selectedValuePath||(e.selectedValuePath="value"),e.commandPath||(e.commandPath="cmd"),e.commandParameterPath||(e.commandParameterPath="cmdParam")},e.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},e.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},e.prototype.added=function(e){},e.meta={outputs:P.outputs,siblingId:"menuItemDir"},e.\u0275fac=function(t){return new(t||e)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12),i.Nb(i.R))},e.\u0275cmp=i.Hb({type:e,selectors:[["wj-menu-item"]],inputs:{wjProperty:"wjProperty",value:"value",cmd:"cmd",cmdParam:"cmdParam"},outputs:{initialized:"initialized"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return t}))}].concat(P.providers))],ngContentSelectors:c,decls:1,vars:0,consts:[[4,"wjMenuItemTemplateDir"]],template:function(e,t){1&e&&(i.ic(),i.Cc(0,u,2,0,"div",0))},directives:function(){return[R]},encapsulation:2}),e=t=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)()),g(3,Object(i.r)(i.R))],e)}(),R=function(){function e(e,t,n,i,r,o){this.viewContainerRef=e,this.templateRef=t,this.elRef=n,this.ownerItem=r||o,this.ownerItem.templateDir=this}return e.prototype.ngAfterContentInit=function(){var e=this;setTimeout((function(){var t=s.a.instantiateTemplate(null,e.viewContainerRef,e.templateRef,!0).rootElement;e.contentRoot=t,e.ownerItem.contentRoot=t,e.ownerItem._ownerMenu.listBox.loadList(),e.ownerItem._ownerMenu.invalidate()}),0)},e.\u0275fac=function(t){return new(t||e)(i.Nb(i.R),i.Nb(i.N,8),i.Nb(i.n),i.Nb(i.t),i.Nb(D,8),i.Nb(Object(i.V)((function(){return L})),8))},e.\u0275dir=i.Ib({type:e,selectors:[["","wjMenuItemTemplateDir",""]],inputs:{wjMenuItemTemplateDir:"wjMenuItemTemplateDir"}}),e=p([,g(0,Object(i.r)(i.R)),g(1,Object(i.r)(i.N)),g(1,Object(i.D)()),g(2,Object(i.r)(i.n)),g(3,Object(i.r)(i.t)),g(4,Object(i.r)(D)),g(4,Object(i.D)()),g(5,Object(i.r)(Object(i.V)((function(){return L})))),g(5,Object(i.D)())],e)}(),N=[],L=function(e){function t(t,n,i,r){var o=e.call(this,t,n,i,r)||this;return o.created(),o}var n;return f(t,e),n=t,t.prototype.added=function(e){a.addClass(e,"wj-state-disabled")},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12),i.Nb(i.R))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-menu-separator"]],inputs:{wjProperty:"wjProperty"},outputs:{initialized:"initialized"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(N))],decls:1,vars:0,consts:[["class","wj-state-disabled","style","width:100%;height:1px;background-color:lightgray",4,"wjMenuItemTemplateDir"],[1,"wj-state-disabled",2,"width","100%","height","1px","background-color","lightgray"]],template:function(e,t){1&e&&i.Cc(0,h,1,0,"div",0)},directives:[R],encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)()),g(3,Object(i.r)(i.R))],t)}(D),F={selector:"[wjItemTemplate]",inputs:["wjItemTemplate"],outputs:["initialized"],exportAs:"wjItemTemplate",providers:[]},B=(function(){function e(e,n,i,r,o,a){this.viewContainerRef=r,this.templateRef=o,this.isInitialized=!1;var l=this._wjBehaviour=s.a.attach(this,e,n,i);this.ownerControl=l.parentBehavior.directive,this.listBox=t._getListBox(this.ownerControl),this._cdRef=a,this.created()}var t;t=e,e.prototype.created=function(){},e.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit(),this._attachToControl()},e.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},e.prototype.ngOnDestroy=function(){var e=this.ownerControl,t=this.listBox;t&&(t.formatItem.removeHandler(this._fmtItem,this),t.loadingItems.removeHandler(this._loadingItems,this)),e&&e.invalidate()},e.prototype._attachToControl=function(){this.listBox.formatItem.addHandler(this._fmtItem,this),this.listBox.loadingItems.addHandler(this._loadingItems,this),this.ownerControl.invalidate()},e.prototype._loadingItems=function(e){this.viewContainerRef.clear()},e.prototype._fmtItem=function(e,t){var n=t.item;n.textContent="";var i=this._instantiateTemplate(n);i.context.control=e,i.context.item=t.data,i.context.itemIndex=t.index,t.index===this.listBox.collectionView.items.length-1&&this._cdRef.detectChanges()},e.prototype._instantiateTemplate=function(e){return s.a.instantiateTemplate(e,this.viewContainerRef,this.templateRef).viewRef},e._getListBox=function(e){return e?e instanceof l.ListBox?e:e.listBox:null},e.meta={outputs:F.outputs,parentRefProperty:"owner"},e.\u0275fac=function(t){return new(t||e)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12),i.Nb(i.R),i.Nb(i.N,8),i.Nb(i.h))},e.\u0275dir=i.Ib({type:e,selectors:[["","wjItemTemplate",""]],inputs:{wjItemTemplate:"wjItemTemplate"},outputs:{initialized:"initialized"},exportAs:["wjItemTemplate"],features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return t}))}].concat(F.providers))]}),e=t=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)()),g(3,Object(i.r)(i.R)),g(4,Object(i.r)(i.N)),g(4,Object(i.D)()),g(5,Object(i.r)(i.h))],e)}(),{selector:"wj-popup",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","owner","showTrigger","hideTrigger","fadeIn","fadeOut","isDraggable","isResizable","dialogResultEnter","dialogResultSubmit","modal","removeOnHide"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","showingNg: showing","shownNg: shown","hidingNg: hiding","hiddenNg: hidden","resizingNg: resizing","sizeChangingNg: sizeChanging","sizeChangedNg: sizeChanged","resizedNg: resized","draggingNg: dragging","positionChangingNg: positionChanging","positionChangedNg: positionChanged","draggedNg: dragged"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),H=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.prototype.ngOnChanges=function(e){e.owner&&null==this.modal&&(this.modal=!this.owner)},t.prototype.dispose=function(){this.isVisible&&(this.hiding.removeAllHandlers(),this.fadeOut=!1,this.hide()),e.prototype.dispose.call(this)},t.meta={outputs:B.outputs},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-popup"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",owner:"owner",showTrigger:"showTrigger",hideTrigger:"hideTrigger",fadeIn:"fadeIn",fadeOut:"fadeOut",isDraggable:"isDraggable",isResizable:"isResizable",dialogResultEnter:"dialogResultEnter",dialogResultSubmit:"dialogResultSubmit",modal:"modal",removeOnHide:"removeOnHide"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",showingNg:"showing",shownNg:"shown",hidingNg:"hiding",hiddenNg:"hidden",resizingNg:"resizing",sizeChangingNg:"sizeChanging",sizeChangedNg:"sizeChanged",resizedNg:"resized",draggingNg:"dragging",positionChangingNg:"positionChanging",positionChangedNg:"positionChanged",draggedNg:"dragged"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(B.providers)),i.zb],ngContentSelectors:c,decls:2,vars:0,template:function(e,t){1&e&&(i.ic(),i.Tb(0,"div"),i.hc(1),i.Sb())},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.Popup),function(){function e(e){this.elRef=e}return e.prototype.onContextMenu=function(e){var t=this.wjContextMenu;t&&t.dropDown&&!a.closest(e.target,"[disabled]")&&(e.preventDefault(),e.stopPropagation(),t.owner=this.elRef.nativeElement,t.show(e))},e.\u0275fac=function(t){return new(t||e)(i.Nb(i.n))},e.\u0275dir=i.Ib({type:e,selectors:[["","wjContextMenu",""]],hostBindings:function(e,t){1&e&&i.bc("contextmenu",(function(e){return t.onContextMenu(e)}))},inputs:{wjContextMenu:"wjContextMenu"},exportAs:["wjContextMenu"]}),e=p([,g(0,Object(i.r)(i.n))],e)}()),V={selector:"wj-collection-view-navigator",template:"",inputs:["wjModelProperty","isDisabled","cv","byPage","headerFormat","repeatButtons"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]},$=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r._wjBehaviour=s.a.attach(r,t,n,i),r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:V.outputs},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-collection-view-navigator"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",cv:"cv",byPage:"byPage",headerFormat:"headerFormat",repeatButtons:"repeatButtons"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat(V.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.CollectionViewNavigator),{selector:"wj-collection-view-pager",template:"",inputs:["wjModelProperty","cv"],outputs:["initialized"],providers:[{provide:o.h,useFactory:s.b,multi:!0,deps:["WjComponent"]}]}),z=(function(e){function t(t,n,i){var r=e.call(this,s.a.getHostElement(t,n))||this;return r.isInitialized=!1,r._wjBehaviour=s.a.attach(r,t,n,i),r.byPage=!0,r.created(),r}var n;f(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var a=s.a,l=a.ngZone;l&&a.outsideZoneEvents[n]?l.runOutsideAngular((function(){e.prototype.addEventListener.call(o,t,n,i,r)})):e.prototype.addEventListener.call(this,t,n,i,r)},t.meta={outputs:$.outputs},t.\u0275fac=function(e){return new(e||t)(i.Nb(i.n),i.Nb(i.t),i.Nb("WjComponent",12))},t.\u0275cmp=i.Hb({type:t,selectors:[["wj-collection-view-pager"]],inputs:{wjModelProperty:"wjModelProperty",cv:"cv"},outputs:{initialized:"initialized"},features:[i.Ab([{provide:"WjComponent",useExisting:Object(i.V)((function(){return n}))}].concat($.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=p([,g(0,Object(i.r)(i.n)),g(1,Object(i.r)(i.t)),g(2,Object(i.r)("WjComponent")),g(2,Object(i.L)()),g(2,Object(i.D)())],t)}(l.CollectionViewNavigator),function(){function e(){}return e.\u0275mod=i.Lb({type:e}),e.\u0275inj=i.Kb({factory:function(t){return new(t||e)},imports:[[r.c]]}),e}())},fQZA:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i=n("fXoL"),r=n("ofXK"),o=n("S8xs"),s=["icon"];function a(e,t){1&e&&i.Pb(0)}var l=function(e){return{active:e}},c=function(e){return{$implicit:e}};function u(e,t){if(1&e){var n=i.Ub();i.Tb(0,"li",5),i.bc("click",(function(){i.vc(n);var e=t.$implicit;return i.dc(2).onSelect(e)})),i.Cc(1,a,1,0,"ng-container",6),i.Sb()}if(2&e){var r=t.$implicit,o=i.dc(2);i.jc("ngClass",i.nc(3,l,o.isActive(r))),i.Bb(1),i.jc("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",i.nc(5,c,r))}}function h(e,t){if(1&e&&(i.Tb(0,"ul",3),i.Cc(1,u,2,7,"li",4),i.Sb()),2&e){var n=i.dc();i.Bb(1),i.jc("ngForOf",n.list)}}function d(e,t){1&e&&i.Pb(0)}function f(e,t){if(1&e){var n=i.Ub();i.Tb(0,"li",5),i.bc("click",(function(){i.vc(n);var e=t.$implicit;return i.dc(2).onSelect(e)})),i.Cc(1,d,1,0,"ng-container",6),i.Sb()}if(2&e){var r=t.$implicit,o=i.dc(2);i.jc("ngClass",i.nc(3,l,o.isActive(r))),i.Bb(1),i.jc("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",i.nc(5,c,r))}}function p(e,t){if(1&e&&(i.Tb(0,"ul",7),i.Cc(1,f,2,7,"li",4),i.Sb()),2&e){var n=i.dc();i.Bb(1),i.jc("ngForOf",n.noGroupList)}}function g(e,t){1&e&&i.Pb(0)}function m(e,t){if(1&e){var n=i.Ub();i.Tb(0,"input",16),i.bc("blur",(function(){return i.vc(n),i.dc(3).activeSearch=null}))("input",(function(e){i.vc(n);var t=i.dc().$implicit;return i.dc(2).onSearch(t.value,e)}))("click",(function(e){return i.vc(n),e.stopPropagation()})),i.Sb()}}function b(e,t){if(1&e){var n=i.Ub();i.Tb(0,"i",17),i.bc("click",(function(e){i.vc(n);var t=i.dc().$implicit;return i.dc(2).onSearchState(t.value,e)})),i.Sb()}}function v(e,t){1&e&&i.Pb(0)}function y(e,t){if(1&e){var n=i.Ub();i.Tb(0,"li",5),i.bc("click",(function(){i.vc(n);var e=t.$implicit;return i.dc(3).onSelect(e)})),i.Cc(1,v,1,0,"ng-container",6),i.Sb()}if(2&e){var r=t.$implicit,o=i.dc(3);i.jc("ngClass",i.nc(3,l,o.isActive(r))),i.Bb(1),i.jc("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",i.nc(5,c,r))}}function _(e,t){if(1&e&&(i.Tb(0,"accordion-group",10),i.Tb(1,"div",11),i.Ob(2,"i",12),i.Ob(3,"i",13),i.Cc(4,g,1,0,"ng-container",6),i.Ec(5),i.Cc(6,m,1,0,"input",14),i.Cc(7,b,1,0,"i",15),i.Sb(),i.Tb(8,"ul",3),i.Cc(9,y,2,7,"li",4),i.Sb(),i.Sb()),2&e){var n=t.$implicit,r=i.dc(2);i.Bb(4),i.jc("ngTemplateOutlet",r.iconTemplate)("ngTemplateOutletContext",i.nc(6,c,n)),i.Bb(1),i.Gc(" ",n.value," "),i.Bb(1),i.jc("ngIf",r.searchState[n.value]||r.activeSearch===n.value),i.Bb(1),i.jc("ngIf",!(r.searchState[n.value]||r.activeSearch===n.value)),i.Bb(2),i.jc("ngForOf",n.filteredList)}}function w(e,t){if(1&e&&(i.Tb(0,"accordion",8),i.Cc(1,_,10,8,"accordion-group",9),i.Sb()),2&e){var n=i.dc();i.Bb(1),i.jc("ngForOf",n.groups)}}var C=function(){function e(){this.select=new i.p,this.groups=[],this.noGroupList=[],this.searchState={}}return e.prototype.ngOnInit=function(){this.selectedItem=this.selectedItem||this.selected,this.orderList(),this.groups=this.getGroups()},e.prototype.ngOnChanges=function(e){var t=e.group,n=e.list;t&&t.previousValue!==t.currentValue&&t.currentValue&&(this.groups=this.getGroups()),n&&n.previousValue!==n.currentValue&&!n.firstChange&&(this.orderList(),this.groups=this.getGroups())},e.prototype.isActive=function(e){return this.comparator?this.comparator(this.selectedItem,e):this.selectedItem&&this.selectedItem.id?e.id===this.selectedItem.id:e===this.selectedItem},e.prototype.onSearch=function(e,t){var n=this,i=t.target.value.toLowerCase();this.searchState[e]=i,t.stopPropagation();var r=this.groups.find((function(t){return t.value===e}));r.filteredList=r.list.filter((function(e){return"function"==typeof n.searchFn?n.searchFn(i,e):Object.values(e).join("").toLowerCase().includes(i)}))},e.prototype.selectItem=function(e){this.selectedItem=e},e.prototype.onSelect=function(e){this.selectedItem=e,this.select.emit(e)},e.prototype.onSearchState=function(e,t){this.activeSearch=e,t.stopPropagation()},e.prototype.orderList=function(){var e=this;this.orderBy&&this.list&&this.list.sort((function(t,n){return"string"==typeof e.orderBy?e.getValue(e.orderBy,n)-e.getValue(e.orderBy,t):"date"===e.orderBy.type?new Date(e.getValue(e.orderBy.key,n)).getTime()-new Date(e.getValue(e.orderBy.key,t)).getTime():void 0}))},e.prototype.getGroups=function(){var e=this;if(this.group&&this.list){var t={};return this.noGroupList=[],this.list.forEach((function(n){var i=e.getValue(e.group,n);i?(t[i]||(t[i]={value:i,list:[]},t[i].filteredList=t[i].list),t[i].list.push(n)):e.noGroupList.push(n)})),Object.values(t)}return[]},e.prototype.getValue=function(e,t){return"function"==typeof e?e(t):e.split(".").reduce((function(e,t){return e[t]}),t)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Hb({type:e,selectors:[["app-list-view"]],contentQueries:function(e,t,n){var r;1&e&&(i.zc(n,i.N,!0),i.zc(n,s,!0)),2&e&&(i.rc(r=i.cc())&&(t.itemTemplate=r.first),i.rc(r=i.cc())&&(t.iconTemplate=r.first))},inputs:{list:"list",selected:"selected",group:"group",orderBy:"orderBy",comparator:"comparator",searchFn:"searchFn"},outputs:{select:"select"},features:[i.zb],decls:3,vars:3,consts:[["class","d-flex flex-fill flex-column  p-0 m-0",4,"ngIf"],["class","d-flex flex-column p-0 m-0 no-group-list",4,"ngIf"],["class","d-flex flex-fill flex-column p-0 m-0 w-100",4,"ngIf"],[1,"d-flex","flex-fill","flex-column","p-0","m-0"],["class","d-flex align-items-baseline cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"d-flex","align-items-baseline","cursor-pointer",3,"ngClass","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","flex-column","p-0","m-0","no-group-list"],[1,"d-flex","flex-fill","flex-column","p-0","m-0","w-100"],["isOpen","true",4,"ngFor","ngForOf"],["isOpen","true"],["accordion-heading","",1,"header","d-flex","align-items-center"],[1,"fa","text-center","fa-chevron-down","mr-1"],[1,"fa","text-center","fa-chevron-right","mr-1"],["class","form-control form-control-sm ml-auto w-auto search-input","type","text","placeholder","Search",3,"blur","input","click",4,"ngIf"],["class","fa fa-search ml-auto",3,"click",4,"ngIf"],["type","text","placeholder","Search",1,"form-control","form-control-sm","ml-auto","w-auto","search-input",3,"blur","input","click"],[1,"fa","fa-search","ml-auto",3,"click"]],template:function(e,t){1&e&&(i.Cc(0,h,2,1,"ul",0),i.Cc(1,p,2,1,"ul",1),i.Cc(2,w,2,1,"accordion",2)),2&e&&(i.jc("ngIf",!t.group),i.Bb(1),i.jc("ngIf",t.noGroupList&&t.noGroupList.length),i.Bb(1),i.jc("ngIf",t.group))},directives:[r.m,r.l,r.k,r.r,o.a,o.c],styles:['[_ngcontent-%COMP%]:root{--bg:#fff;--body-bg:#e4e5e6;--header-bg:#ebedef;--color:#4f5d73;--border-color:#c4c9d0;--wj-alt:#f7f7f7;--form-input-bg:#fff;--form-input-color:#768192;--nav-link-color:#8a93a2;--secondary-color:#c4c9d0;--opacity:0.05;--hover:"#f0f3f5"}[_nghost-%COMP%]{border:1px solid var(--border-color);border-radius:4px;flex-direction:column}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:var(--border-color);color:var(--color)}accordion-group[_ngcontent-%COMP%]     .panel.card{border:none;margin-bottom:0}accordion-group[_ngcontent-%COMP%]     .panel-heading{cursor:pointer;padding:.25rem}accordion-group[_ngcontent-%COMP%]     .panel-body.card-block.card-body{padding:0}accordion-group[_ngcontent-%COMP%]     [aria-expanded=false] .fa-chevron-down, accordion-group[_ngcontent-%COMP%]     [aria-expanded=true] .fa-chevron-right{display:none}.fa-chevron-right[_ngcontent-%COMP%]{width:14px}.search-input[_ngcontent-%COMP%]{height:21px}']}),e}()},fXoL:function(e,t,n){"use strict";n.d(t,"a",(function(){return Fs})),n.d(t,"b",(function(){return uf})),n.d(t,"c",(function(){return of})),n.d(t,"d",(function(){return nf})),n.d(t,"e",(function(){return rf})),n.d(t,"f",(function(){return np})),n.d(t,"g",(function(){return Uf})),n.d(t,"h",(function(){return ls})),n.d(t,"i",(function(){return wf})),n.d(t,"j",(function(){return Jd})),n.d(t,"k",(function(){return Hc})),n.d(t,"l",(function(){return ff})),n.d(t,"m",(function(){return Yd})),n.d(t,"n",(function(){return Vc})),n.d(t,"o",(function(){return ui})),n.d(t,"p",(function(){return ed})),n.d(t,"q",(function(){return pe})),n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return fe})),n.d(t,"t",(function(){return Ls})),n.d(t,"u",(function(){return su})),n.d(t,"v",(function(){return au})),n.d(t,"w",(function(){return df})),n.d(t,"x",(function(){return ef})),n.d(t,"y",(function(){return je})),n.d(t,"z",(function(){return qf})),n.d(t,"A",(function(){return Ee})),n.d(t,"B",(function(){return Bf})),n.d(t,"C",(function(){return Of})),n.d(t,"D",(function(){return E})),n.d(t,"E",(function(){return cf})),n.d(t,"F",(function(){return lf})),n.d(t,"G",(function(){return Wc})),n.d(t,"H",(function(){return zc})),n.d(t,"I",(function(){return Gc})),n.d(t,"J",(function(){return Kc})),n.d(t,"K",(function(){return er})),n.d(t,"L",(function(){return A})),n.d(t,"M",(function(){return Jf})),n.d(t,"N",(function(){return hu})),n.d(t,"O",(function(){return Mf})),n.d(t,"P",(function(){return us})),n.d(t,"Q",(function(){return qc})),n.d(t,"R",(function(){return fu})),n.d(t,"S",(function(){return He})),n.d(t,"T",(function(){return Vf})),n.d(t,"U",(function(){return Ei})),n.d(t,"V",(function(){return X})),n.d(t,"W",(function(){return xi})),n.d(t,"X",(function(){return ep})),n.d(t,"Y",(function(){return Df})),n.d(t,"Z",(function(){return hf})),n.d(t,"ab",(function(){return Cs})),n.d(t,"bb",(function(){return ju})),n.d(t,"cb",(function(){return Qi})),n.d(t,"db",(function(){return Di})),n.d(t,"eb",(function(){return vi})),n.d(t,"fb",(function(){return _i})),n.d(t,"gb",(function(){return Oi})),n.d(t,"hb",(function(){return Ci})),n.d(t,"ib",(function(){return wi})),n.d(t,"jb",(function(){return Si})),n.d(t,"kb",(function(){return Tu})),n.d(t,"lb",(function(){return Zf})),n.d(t,"mb",(function(){return ku})),n.d(t,"nb",(function(){return xu})),n.d(t,"ob",(function(){return yi})),n.d(t,"pb",(function(){return ne})),n.d(t,"qb",(function(){return Us})),n.d(t,"rb",(function(){return Da})),n.d(t,"sb",(function(){return Pa})),n.d(t,"tb",(function(){return Ou})),n.d(t,"ub",(function(){return kh})),n.d(t,"vb",(function(){return yt})),n.d(t,"wb",(function(){return U})),n.d(t,"xb",(function(){return bi})),n.d(t,"yb",(function(){return _c})),n.d(t,"zb",(function(){return ft})),n.d(t,"Ab",(function(){return Nc})),n.d(t,"Bb",(function(){return xr})),n.d(t,"Cb",(function(){return ea})),n.d(t,"Db",(function(){return yl})),n.d(t,"Eb",(function(){return zl})),n.d(t,"Fb",(function(){return ml})),n.d(t,"Gb",(function(){return gd})),n.d(t,"Hb",(function(){return Ge})),n.d(t,"Ib",(function(){return Qe})),n.d(t,"Jb",(function(){return N})),n.d(t,"Kb",(function(){return L})),n.d(t,"Lb",(function(){return Xe})),n.d(t,"Mb",(function(){return Ze})),n.d(t,"Nb",(function(){return wa})),n.d(t,"Ob",(function(){return Ea})),n.d(t,"Pb",(function(){return Ia})),n.d(t,"Qb",(function(){return Aa})),n.d(t,"Rb",(function(){return ja})),n.d(t,"Sb",(function(){return xa})),n.d(t,"Tb",(function(){return ka})),n.d(t,"Ub",(function(){return Ma})),n.d(t,"Vb",(function(){return si})),n.d(t,"Wb",(function(){return mc})),n.d(t,"Xb",(function(){return Ce})),n.d(t,"Yb",(function(){return Ca})),n.d(t,"Zb",(function(){return Sd})),n.d(t,"ac",(function(){return Sa})),n.d(t,"bc",(function(){return Ra})),n.d(t,"cc",(function(){return vd})),n.d(t,"dc",(function(){return Va})),n.d(t,"ec",(function(){return Uh})),n.d(t,"fc",(function(){return Kh})),n.d(t,"gc",(function(){return qh})),n.d(t,"hc",(function(){return Ua})),n.d(t,"ic",(function(){return za})),n.d(t,"jc",(function(){return Oa})),n.d(t,"kc",(function(){return Ka})),n.d(t,"lc",(function(){return qa})),n.d(t,"mc",(function(){return Ah})),n.d(t,"nc",(function(){return Ih})),n.d(t,"oc",(function(){return Mh})),n.d(t,"pc",(function(){return Ph})),n.d(t,"qc",(function(){return Dh})),n.d(t,"rc",(function(){return hd})),n.d(t,"sc",(function(){return _a})),n.d(t,"tc",(function(){return Bn})),n.d(t,"uc",(function(){return Fn})),n.d(t,"vc",(function(){return Vt})),n.d(t,"wc",(function(){return tr})),n.d(t,"xc",(function(){return ir})),n.d(t,"yc",(function(){return Ye})),n.d(t,"zc",(function(){return md})),n.d(t,"Ac",(function(){return dd})),n.d(t,"Bc",(function(){return gl})),n.d(t,"Cc",(function(){return ya})),n.d(t,"Dc",(function(){return Cd})),n.d(t,"Ec",(function(){return Ml})),n.d(t,"Fc",(function(){return Pl})),n.d(t,"Gc",(function(){return Dl})),n.d(t,"Hc",(function(){return Rl})),n.d(t,"Ic",(function(){return Ll})),n.d(t,"Jc",(function(){return fd}));var i=n("ReuC"),r=n("foSv"),o=n("JX7q"),s=n("ODXe"),a=n("KQm4"),l=(n("rePB"),n("T5bk"),n("uFwe")),c=n("Ji7U"),u=n("LK+K"),h=n("1OyB"),d=n("vuIU"),f=n("s4An"),p=n("2WcH");function g(e,t,n){return(g=Object(p.a)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&Object(f.a)(r,n.prototype),r}).apply(null,arguments)}var m=n("quSY"),b=n("XNiG"),v=n("HDdC"),y=n("VRyK"),_=n("w1tV");function w(e){return{toString:e}.toString()}var C="__annotations__",S="__parameters__";function O(e,t,n,i,r){return w((function(){var o=T(t);function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof s)return o.call.apply(o,[this].concat(t)),this;var a=g(s,t);return function(e){return r&&r.apply(void 0,[e].concat(t)),(e.hasOwnProperty(C)?e[C]:Object.defineProperty(e,C,{value:[]})[C]).push(a),i&&i(e),e}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}))}function T(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}function k(e,t,n){return w((function(){var i=T(t);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof r)return i.apply(this,t),this;var o=g(r,t);return s.annotation=o,s;function s(e,t,n){for(var i=e.hasOwnProperty(S)?e[S]:Object.defineProperty(e,S,{value:[]})[S];i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}))}var x=k("Inject",(function(e){return{token:e}})),E=k("Optional"),j=k("Self"),A=k("SkipSelf"),I=k("Host"),M=k("Attribute",(function(e){return{attributeName:e}})),P=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function D(e){for(var t in e)if(e[t]===D)return t;throw Error("Could not find renamed property on target object.")}function R(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function N(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function L(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function F(e){return B(e,e[V])||B(e,e[G])}function B(e,t){return t&&t.token===e?t:null}function H(e){return e&&(e.hasOwnProperty($)||e.hasOwnProperty(W))?e[$]:null}var V=D({"\u0275prov":D}),$=D({"\u0275inj":D}),z=D({"\u0275provFallback":D}),G=D({ngInjectableDef:D}),W=D({ngInjectorDef:D});function U(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(U).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function K(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var q=D({__forward_ref__:D});function X(e){return e.__forward_ref__=X,e.toString=function(){return U(this())},e}function Y(e){return J(e)?e():e}function J(e){return"function"==typeof e&&e.hasOwnProperty(q)&&e.__forward_ref__===X}var Q="undefined"!=typeof globalThis&&globalThis,Z="undefined"!=typeof window&&window,ee="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,te="undefined"!=typeof global&&global,ne=Q||te||Z||ee,ie=function(e){return e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef",e[e.Invalid=3]="Invalid",e}({});function re(){var e=ne.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}var oe,se=D({"\u0275cmp":D}),ae=D({"\u0275dir":D}),le=D({"\u0275pipe":D}),ce=D({"\u0275mod":D}),ue=D({"\u0275loc":D}),he=D({"\u0275fac":D}),de=D({__NG_ELEMENT_ID__:D}),fe=function(){function e(t,n){Object(h.a)(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return Object(d.a)(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),pe=new fe("INJECTOR",-1),ge={},me=/\n/gm,be=D({provide:String,useValue:D}),ve=void 0;function ye(e){var t=ve;return ve=e,t}function _e(e){var t=oe;return oe=e,t}function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.Default;if(void 0===ve)throw new Error("inject() must be called from an injection context");return null===ve?Oe(e,void 0,t):ve.get(e,t&P.Optional?null:void 0,t)}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.Default;return(oe||we)(Y(e),t)}function Se(e){throw new Error("invalid")}function Oe(e,t,n){var i=F(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&P.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(U(e),"]"))}function Te(e){for(var t=[],n=0;n<e.length;n++){var i=Y(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,o=P.Default,s=0;s<i.length;s++){var a=i[s];a instanceof E||"Optional"===a.ngMetadataName||a===E?o|=P.Optional:a instanceof A||"SkipSelf"===a.ngMetadataName||a===A?o|=P.SkipSelf:a instanceof j||"Self"===a.ngMetadataName||a===j?o|=P.Self:r=a instanceof x||a===x?a.token:a}t.push(Ce(r,o))}else t.push(Ce(i))}return t}var ke=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge;if(t===ge){var n=new Error("NullInjectorError: No provider for ".concat(U(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}();function xe(e,t,n,i){var r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var r=U(t);if(Array.isArray(t))r=t.map(U).join(" -> ");else if("object"==typeof t){var o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):U(a)))}r="{".concat(o.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(e.replace(me,"\n  "))}("\n"+e.message,r,n,i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}var Ee=function e(){Object(h.a)(this,e)},je=function e(){Object(h.a)(this,e)};function Ae(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function Ie(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Ie(i,t)):t!==e&&t.push(i)}return t}function Me(e,t){e.forEach((function(e){return Array.isArray(e)?Me(e,t):t(e)}))}function Pe(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function De(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Re(e,t){for(var n=[],i=0;i<e;i++)n.push(t);return n}function Ne(e,t,n){var i=Fe(e,t);return i>=0?e[1|i]=n:function(e,t,n,i){var r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i=~i,t,n),i}function Le(e,t){var n=Fe(e,t);if(n>=0)return e[1|n]}function Fe(e,t){return function(e,t,n){for(var i=0,r=e.length>>1;r!==i;){var o=i+(r-i>>1),s=e[o<<1];if(t===s)return o<<1;s>t?r=o:i=o+1}return~(r<<1)}(e,t)}var Be=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),He=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),Ve={},$e=[],ze=0;function Ge(e){return w((function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Be.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||$e,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||He.Emulated,id:"c",styles:e.styles||$e,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,r=e.features,o=e.pipes;return n.id+=ze++,n.inputs=Je(e.inputs,t),n.outputs=Je(e.outputs),r&&r.forEach((function(e){return e(n)})),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(Ue)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(Ke)}:null,n}))}function We(e,t,n){var i=e.\u0275cmp;i.directiveDefs=function(){return t.map(Ue)},i.pipeDefs=function(){return n.map(Ke)}}function Ue(e){return et(e)||tt(e)}function Ke(e){return nt(e)}var qe={};function Xe(e){var t={type:e.type,bootstrap:e.bootstrap||$e,declarations:e.declarations||$e,imports:e.imports||$e,exports:e.exports||$e,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&w((function(){qe[e.id]=e.type})),t}function Ye(e,t){return w((function(){var n=rt(e,!0);n.declarations=t.declarations||$e,n.imports=t.imports||$e,n.exports=t.exports||$e}))}function Je(e,t){if(null==e)return Ve;var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}var Qe=Ge;function Ze(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function et(e){return e[se]||null}function tt(e){return e[ae]||null}function nt(e){return e[le]||null}function it(e,t){return e.hasOwnProperty(he)?e[he]:null}function rt(e,t){var n=e[ce]||null;if(!n&&!0===t)throw new Error("Type ".concat(U(e)," does not have '\u0275mod' property."));return n}function ot(e){return Array.isArray(e)&&"object"==typeof e[1]}function st(e){return Array.isArray(e)&&!0===e[1]}function at(e){return 0!=(8&e.flags)}function lt(e){return 2==(2&e.flags)}function ct(e){return 1==(1&e.flags)}function ut(e){return null!==e.template}function ht(e){return 0!=(512&e[2])}var dt=function(){function e(t,n,i){Object(h.a)(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=i}return Object(d.a)(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function ft(){return pt}function pt(e){return e.type.prototype.ngOnChanges&&(e.setInput=mt),gt}function gt(){var e=bt(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===Ve)e.previous=t;else for(var i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function mt(e,t,n,i){var r=bt(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Ve,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],l=s[a];o[a]=new dt(l&&l.currentValue,t,s===Ve),e[i]=t}function bt(e){return e.__ngSimpleChanges__||null}ft.ngInherit=!0;var vt=void 0;function yt(e){vt=e}function _t(){return void 0!==vt?vt:"undefined"!=typeof document?document:void 0}function wt(e){return!!e.listen}var Ct={createRenderer:function(e,t){return _t()}};function St(e){for(;Array.isArray(e);)e=e[0];return e}function Ot(e,t){return St(t[e+20])}function Tt(e,t){return St(t[e.index])}function kt(e,t){return e.data[t+20]}function xt(e,t){return e[t+20]}function Et(e,t){var n=t[e];return ot(n)?n:n[0]}function jt(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function At(e){return 4==(4&e[2])}function It(e){return 128==(128&e[2])}function Mt(e,t){return null===e||null==t?null:e[t]}function Pt(e){e[18]=0}function Dt(e,t){e[5]+=t;for(var n=e,i=e[3];null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}var Rt={lFrame:ln(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Nt(){return Rt.bindingsEnabled}function Lt(){Rt.bindingsEnabled=!0}function Ft(){Rt.bindingsEnabled=!1}function Bt(){return Rt.lFrame.lView}function Ht(){return Rt.lFrame.tView}function Vt(e){Rt.lFrame.contextLView=e}function $t(){return Rt.lFrame.previousOrParentTNode}function zt(e,t){Rt.lFrame.previousOrParentTNode=e,Rt.lFrame.isParent=t}function Gt(){return Rt.lFrame.isParent}function Wt(){Rt.lFrame.isParent=!1}function Ut(){return Rt.checkNoChangesMode}function Kt(e){Rt.checkNoChangesMode=e}function qt(){var e=Rt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Xt(){return Rt.lFrame.bindingIndex}function Yt(e){return Rt.lFrame.bindingIndex=e}function Jt(){return Rt.lFrame.bindingIndex++}function Qt(e){var t=Rt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Zt(e,t){var n=Rt.lFrame;n.bindingIndex=n.bindingRootIndex=e,en(t)}function en(e){Rt.lFrame.currentDirectiveIndex=e}function tn(e){var t=Rt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function nn(){return Rt.lFrame.currentQueryIndex}function rn(e){Rt.lFrame.currentQueryIndex=e}function on(e,t){var n=an();Rt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function sn(e,t){var n=an(),i=e[1];Rt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex}function an(){var e=Rt.lFrame,t=null===e?null:e.child;return null===t?ln(e):t}function ln(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function cn(){var e=Rt.lFrame;return Rt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var un=cn;function hn(){var e=cn();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function dn(e){return(Rt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Rt.lFrame.contextLView))[8]}function fn(){return Rt.lFrame.selectedIndex}function pn(e){Rt.lFrame.selectedIndex=e}function gn(){var e=Rt.lFrame;return kt(e.tView,e.selectedIndex)}function mn(){Rt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function bn(){Rt.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function vn(){Rt.lFrame.currentNamespace=null}function yn(e,t){for(var n=t.directiveStart,i=t.directiveEnd;n<i;n++){var r=e.data[n].type.prototype,o=r.ngAfterContentInit,s=r.ngAfterContentChecked,a=r.ngAfterViewInit,l=r.ngAfterViewChecked,c=r.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),s&&((e.contentHooks||(e.contentHooks=[])).push(n,s),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,s)),a&&(e.viewHooks||(e.viewHooks=[])).push(-n,a),l&&((e.viewHooks||(e.viewHooks=[])).push(n,l),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,l)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function _n(e,t,n){Sn(e,t,3,n)}function wn(e,t,n,i){(3&e[2])===n&&Sn(e,t,n,i)}function Cn(e,t){var n=e[2];(3&n)===t&&(n&=2047,e[2]=n+=1)}function Sn(e,t,n,i){for(var r=null!=i?i:-1,o=0,s=void 0!==i?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=i&&o>=i)break}else t[s]<0&&(e[18]+=65536),(o<r||-1==r)&&(On(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function On(e,t,n,i){var r=n[i]<0,o=n[i+1],s=e[r?-n[i]:n[i]];r?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(s)):o.call(s)}var Tn=function e(t,n,i){Object(h.a)(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function kn(e,t,n){for(var i=wt(e),r=0;r<n.length;){var o=n[r];if("number"==typeof o){if(0!==o)break;r++;var s=n[r++],a=n[r++],l=n[r++];i?e.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{var c=o,u=n[++r];En(c)?i&&e.setProperty(t,c,u):i?e.setAttribute(t,c,u):t.setAttribute(c,u),r++}}return r}function xn(e){return 3===e||4===e||6===e}function En(e){return 64===e.charCodeAt(0)}function jn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,i=0;i<t.length;i++){var r=t[i];"number"==typeof r?n=r:0===n||An(e,n,r,null,-1===n||2===n?t[++i]:null)}return e}function An(e,t,n,i,r){var o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){var a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){var l=e[o];if("number"==typeof l)break;if(l===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function In(e){return-1!==e}function Mn(e){return 32767&e}function Pn(e){return e>>16}function Dn(e,t){for(var n=Pn(e),i=t;n>0;)i=i[15],n--;return i}function Rn(e){return"string"==typeof e?e:null==e?"":""+e}function Nn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Rn(e)}var Ln=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ne)}();function Fn(e){return{name:"window",target:e.ownerDocument.defaultView}}function Bn(e){return{name:"document",target:e.ownerDocument}}function Hn(e){return{name:"body",target:e.ownerDocument.body}}function Vn(e){return e instanceof Function?e():e}var $n=!0;function zn(e){var t=$n;return $n=e,t}var Gn=0;function Wn(e,t){var n=Kn(e,t);if(-1!==n)return n;var i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,Un(i.data,e),Un(t,null),Un(i.blueprint,null));var r=qn(e,t),o=e.injectorIndex;if(In(r))for(var s=Mn(r),a=Dn(r,t),l=a[1].data,c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c];return t[o+8]=r,o}function Un(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Kn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function qn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],i=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function Xn(e,t,n){!function(e,t,n){var i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(de)&&(i=n[de]),null==i&&(i=n[de]=Gn++);var r=255&i,o=1<<r,s=64&r,a=32&r,l=t.data;128&r?s?a?l[e+7]|=o:l[e+6]|=o:a?l[e+5]|=o:l[e+4]|=o:s?a?l[e+3]|=o:l[e+2]|=o:a?l[e+1]|=o:l[e]|=o}(e,t,n)}function Yn(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=ti(n);if("function"==typeof o){on(t,e);try{var s=o();if(null!=s||i&P.Optional)return s;throw new Error("No provider for ".concat(Nn(n),"!"))}finally{un()}}else if("number"==typeof o){if(-1===o)return new ri(e,t);var a=null,l=Kn(e,t),c=-1,u=i&P.Host?t[16][6]:null;for((-1===l||i&P.SkipSelf)&&(c=-1===l?qn(e,t):t[l+8],ii(i,!1)?(a=t[1],l=Mn(c),t=Dn(c,t)):l=-1);-1!==l;){c=t[l+8];var h=t[1];if(ni(o,l,h.data)){var d=Qn(l,t,n,a,i,u);if(d!==Jn)return d}ii(i,t[1].data[l+8]===u)&&ni(o,l,t)?(a=h,l=Mn(c),t=Dn(c,t)):l=-1}}}if(i&P.Optional&&void 0===r&&(r=null),0==(i&(P.Self|P.Host))){var f=t[9],p=_e(void 0);try{return f?f.get(n,r,i&P.Optional):Oe(n,r,i&P.Optional)}finally{_e(p)}}if(i&P.Optional)return r;throw new Error("NodeInjector: NOT_FOUND [".concat(Nn(n),"]"))}var Jn={};function Qn(e,t,n,i,r,o){var s=t[1],a=s.data[e+8],l=Zn(a,s,n,null==i?lt(a)&&$n:i!=s&&3===a.type,r&P.Host&&o===a);return null!==l?ei(t,s,l,a):Jn}function Zn(e,t,n,i,r){for(var o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,c=o>>20,u=r?a+c:e.directiveEnd,h=i?a:a+c;h<u;h++){var d=s[h];if(h<l&&n===d||h>=l&&d.type===n)return h}if(r){var f=s[l];if(f&&ut(f)&&f.type===n)return l}return null}function ei(e,t,n,i){var r=e[n],o=t.data;if(r instanceof Tn){var s=r;if(s.resolving)throw new Error("Circular dep for ".concat(Nn(o[n])));var a,l=zn(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(a=_e(s.injectImpl)),on(e,i);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){var i=t.type.prototype,r=i.ngOnInit,o=i.ngDoCheck;if(i.ngOnChanges){var s=pt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{s.injectImpl&&_e(a),zn(l),s.resolving=!1,un()}}return r}function ti(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(de)?e[de]:void 0;return"number"==typeof t&&t>0?255&t:t}function ni(e,t,n){var i=64&e,r=32&e;return!!((128&e?i?r?n[t+7]:n[t+6]:r?n[t+5]:n[t+4]:i?r?n[t+3]:n[t+2]:r?n[t+1]:n[t])&1<<e)}function ii(e,t){return!(e&P.Self||e&P.Host&&t)}var ri=function(){function e(t,n){Object(h.a)(this,e),this._tNode=t,this._lView=n}return Object(d.a)(e,[{key:"get",value:function(e,t){return Yn(this._tNode,this._lView,e,void 0,t)}}]),e}();function oi(e){var t=e;if(J(e))return function(){var e=oi(Y(t));return e?e():null};var n=it(t);if(null===n){var i=H(t);n=i&&i.factory}return n||null}function si(e){return w((function(){for(var t=e.prototype.constructor,n=t[he]||oi(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;r&&r!==i;){var o=r[he]||oi(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return function(e){return new e}}))}function ai(e){return e.ngDebugContext}function li(e){return e.ngOriginalError}function ci(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.error.apply(e,n)}var ui=function(){function e(){Object(h.a)(this,e),this._console=console}return Object(d.a)(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||ci}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?ai(e)?ai(e):this._findContext(li(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=li(e);t&&li(t);)t=li(t);return t}}]),e}(),hi=function(){function e(t){Object(h.a)(this,e),this.changingThisBreaksApplicationSecurity=t}return Object(d.a)(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}(),di=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(hi),fi=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(hi),pi=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(hi),gi=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(hi),mi=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(hi);function bi(e){return e instanceof hi?e.changingThisBreaksApplicationSecurity:e}function vi(e,t){var n=yi(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function yi(e){return e instanceof hi&&e.getTypeName()||null}function _i(e){return new di(e)}function wi(e){return new fi(e)}function Ci(e){return new pi(e)}function Si(e){return new gi(e)}function Oi(e){return new mi(e)}var Ti=!0,ki=!1;function xi(){return ki=!0,Ti}function Ei(){if(ki)throw new Error("Cannot enable prod mode after platform setup.");Ti=!1}function ji(e){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(e){return!1}}()?new Ai:new Ii(e)}var Ai=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}}]),e}(),Ii=function(){function e(t){if(Object(h.a)(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var i=this.inertDocument.createElement("body");n.appendChild(i)}}return Object(d.a)(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}for(var r=e.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),e}(),Mi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Pi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Di(e){return(e=String(e)).match(Mi)||e.match(Pi)?e:(xi()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Ri(e){return(e=String(e)).split(",").map((function(e){return Di(e.trim())})).join(", ")}function Ni(e){var t,n={},i=Object(l.a)(e.split(","));try{for(i.s();!(t=i.n()).done;)n[t.value]=!0}catch(r){i.e(r)}finally{i.f()}return n}function Li(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var s=o[r];for(var a in s)s.hasOwnProperty(a)&&(e[a]=!0)}return e}var Fi,Bi=Ni("area,br,col,hr,img,wbr"),Hi=Ni("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vi=Ni("rp,rt"),$i=Li(Vi,Hi),zi=Li(Bi,Li(Hi,Ni("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Li(Vi,Ni("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$i),Gi=Ni("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wi=Ni("srcset"),Ui=Li(Gi,Wi,Ni("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ni("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ki=Ni("script,style,template"),qi=function(){function e(){Object(h.a)(this,e),this.sanitizedSomething=!1,this.buf=[]}return Object(d.a)(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!zi.hasOwnProperty(t))return this.sanitizedSomething=!0,!Ki.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n=e.attributes,i=0;i<n.length;i++){var r=n.item(i),o=r.name,s=o.toLowerCase();if(Ui.hasOwnProperty(s)){var a=r.value;Gi[s]&&(a=Di(a)),Wi[s]&&(a=Ri(a)),this.buf.push(" ",o,'="',Ji(a),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();zi.hasOwnProperty(t)&&!Bi.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Ji(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),Xi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yi=/([^\#-~ |!])/g;function Ji(e){return e.replace(/&/g,"&amp;").replace(Xi,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Yi,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Qi(e,t){var n=null;try{Fi=Fi||ji(e);var i=t?String(t):"";n=Fi.getInertBodyElement(i);var r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Fi.getInertBodyElement(i)}while(i!==o);var s=new qi,a=s.sanitizeChildren(Zi(n)||n);return xi()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var l=Zi(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}function Zi(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var er=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function tr(e){var t=ar();return t?t.sanitize(er.HTML,e)||"":vi(e,"HTML")?bi(e):Qi(_t(),Rn(e))}function nr(e){var t=ar();return t?t.sanitize(er.STYLE,e)||"":vi(e,"Style")?bi(e):Rn(e)}function ir(e){var t=ar();return t?t.sanitize(er.URL,e)||"":vi(e,"URL")?bi(e):Di(Rn(e))}function rr(e){var t=ar();if(t)return t.sanitize(er.RESOURCE_URL,e)||"";if(vi(e,"ResourceURL"))return bi(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function or(e){var t=ar();if(t)return t.sanitize(er.SCRIPT,e)||"";if(vi(e,"Script"))return bi(e);throw new Error("unsafe value used in a script context")}function sr(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?rr:ir}(t,n)(e)}function ar(){var e=Bt();return e&&e[12]}function lr(e,t){e.__ngContext__=t}function cr(e){throw new Error("Multiple components match node with tagname ".concat(e.tagName))}function ur(){throw new Error("Cannot mix multi providers and regular providers")}function hr(e,t,n){for(var i=e.length;;){var r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){var o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function dr(e,t,n){for(var i=0;i<e.length;){var r=e[i++];if(n&&"class"===r){if(-1!==hr((r=e[i]).toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function fr(e){return 0===e.type&&"ng-template"!==e.tagName}function pr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function gr(e,t,n){for(var i=4,r=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(xn(e[t]))return t;return e.length}(r),s=!1,a=0;a<t.length;a++){var l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!pr(e,l,n)||""===l&&1===t.length){if(mr(i))return!1;s=!0}}else{var c=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!dr(e.attrs,c,n)){if(mr(i))return!1;s=!0}continue}var u=br(8&i?"class":l,r,fr(e),n);if(-1===u){if(mr(i))return!1;s=!0;continue}if(""!==c){var h;h=u>o?"":r[u+1].toLowerCase();var d=8&i?h:null;if(d&&-1!==hr(d,c,0)||2&i&&c!==h){if(mr(i))return!1;s=!0}}}}else{if(!s&&!mr(i)&&!mr(l))return!1;if(s&&mr(l))continue;s=!1,i=l|1&i}}return mr(i)||s}function mr(e){return 0==(1&e)}function br(e,t,n,i){if(null===t)return-1;var r=0;if(i||!n){for(var o=!1;r<t.length;){var s=t[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=t[++r];"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function vr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<t.length;i++)if(gr(e,t[i],n))return!0;return!1}function yr(e,t){e:for(var n=0;n<t.length;n++){var i=t[n];if(e.length===i.length){for(var r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function _r(e,t){return e?":not("+t.trim()+")":t}function wr(e){for(var t=e[0],n=1,i=2,r="",o=!1;n<e.length;){var s=e[n];if("string"==typeof s)if(2&i){var a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||mr(s)||(t+=_r(o,r),r=""),i=s,o=o||!mr(i);n++}return""!==r&&(t+=_r(o,r)),t}var Cr={};function Sr(e){var t=e[3];return st(t)?t[3]:t}function Or(e){return kr(e[13])}function Tr(e){return kr(e[4])}function kr(e){for(;null!==e&&!st(e);)e=e[4];return e}function xr(e){jr(Ht(),Bt(),fn()+e,Ut())}function Er(e){jr(Ht(),Bt(),e,Ut())}function jr(e,t,n,i){if(!i)if(3==(3&t[2])){var r=e.preOrderCheckHooks;null!==r&&_n(t,r,n)}else{var o=e.preOrderHooks;null!==o&&wn(t,o,0,n)}pn(n)}function Ar(e,t){return e<<17|t<<2}function Ir(e){return e>>17&32767}function Mr(e){return 2|e}function Pr(e){return(131068&e)>>2}function Dr(e,t){return-131069&e|t<<2}function Rr(e){return 1|e}function Nr(e,t){var n=e.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i+1];if(-1!==r){var o=e.data[r];rn(n[i]),o.contentQueries(2,t[r],r)}}}function Lr(e,t,n){return wt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Fr(e,t,n,i,r,o,s,a,l,c){var u=t.blueprint.slice();return u[0]=r,u[2]=140|i,Pt(u),u[3]=u[15]=e,u[8]=n,u[10]=s||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=o,u[16]=2==t.type?e[16]:u,u}function Br(e,t,n,i,r,o){var s=n+20,a=e.data[s]||function(e,t,n,i,r,o){var s=$t(),a=Gt(),l=a?s:s&&s.parent,c=e.data[n]=Yr(0,l&&l!==t?l:null,i,n,r,o);return null===e.firstChild&&(e.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(e,t,s,i,r,o);return zt(a,!0),a}function Hr(e,t,n){sn(t,t[6]);try{var i=e.viewQuery;null!==i&&_o(1,i,n);var r=e.template;null!==r&&zr(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Nr(e,t),e.staticViewQueries&&_o(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)go(e,t[n])}(t,o)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),s}finally{t[2]&=-5,hn()}}function Vr(e,t,n,i){var r=t[2];if(256!=(256&r)){sn(t,t[6]);var o=Ut();try{Pt(t),Yt(e.bindingStartIndex),null!==n&&zr(e,t,n,2,i);var s=3==(3&r);if(!o)if(s){var a=e.preOrderCheckHooks;null!==a&&_n(t,a,null)}else{var l=e.preOrderHooks;null!==l&&wn(t,l,0,null),Cn(t,0)}if(function(e){for(var t=Or(e);null!==t;t=Tr(t))if(t[2])for(var n=t[9],i=0;i<n.length;i++){var r=n[i];0==(1024&r[2])&&Dt(r[3],1),r[2]|=1024}}(t),function(e){for(var t=Or(e);null!==t;t=Tr(t))for(var n=10;n<t.length;n++){var i=t[n],r=i[1];It(i)&&Vr(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&Nr(e,t),!o)if(s){var c=e.contentCheckHooks;null!==c&&_n(t,c)}else{var u=e.contentHooks;null!==u&&wn(t,u,1),Cn(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var i=e.expandoStartIndex,r=-1,o=0;o<n.length;o++){var s=n[o];"number"==typeof s?s<=0?(pn(0-s),r=i+=9+n[++o]):i+=s:(null!==s&&(Zt(i,r),s(2,t[r])),r++)}}finally{pn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)po(e,t[n])}(t,h);var d=e.viewQuery;if(null!==d&&_o(2,d,i),!o)if(s){var f=e.viewCheckHooks;null!==f&&_n(t,f)}else{var p=e.viewHooks;null!==p&&wn(t,p,2),Cn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Dt(t[3],-1))}finally{hn()}}}function $r(e,t,n,i){var r=t[10],o=!Ut(),s=At(t);try{o&&!s&&r.begin&&r.begin(),s&&Hr(e,t,i),Vr(e,t,n,i)}finally{o&&!s&&r.end&&r.end()}}function zr(e,t,n,i,r){var o=fn();try{pn(-1),2&i&&t.length>20&&jr(e,t,0,Ut()),n(i,r)}finally{pn(o)}}function Gr(e,t,n){if(at(t))for(var i=t.directiveEnd,r=t.directiveStart;r<i;r++){var o=e.data[r];o.contentQueries&&o.contentQueries(1,n[r],r)}}function Wr(e,t,n){Nt()&&(function(e,t,n,i){var r=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Wn(n,t),lr(i,t);for(var s=n.initialInputs,a=r;a<o;a++){var l=e.data[a],c=ut(l);c&&lo(t,n,l);var u=ei(t,e,a,n);lr(u,t),null!==s&&uo(0,a-r,u,l,0,s),c&&(Et(n.index,t)[8]=u)}}(e,t,n,Tt(n,t)),128==(128&n.flags)&&function(e,t,n){var i=n.directiveStart,r=n.directiveEnd,o=e.expandoInstructions,s=e.firstCreatePass,a=n.index-20,l=Rt.lFrame.currentDirectiveIndex;try{pn(a);for(var c=i;c<r;c++){var u=e.data[c],h=t[c];en(c),null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs?no(u,h):s&&o.push(null)}}finally{pn(-1),en(l)}}(e,t,n))}function Ur(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tt,i=t.localNames;if(null!==i)for(var r=t.index+1,o=0;o<i.length;o+=2){var s=i[o+1],a=-1===s?n(t,e):e[s];e[r++]=a}}function Kr(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=qr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function qr(e,t,n,i,r,o,s,a,l,c){var u=20+i,h=u+r,d=function(e,t){for(var n=[],i=0;i<t;i++)n.push(i<e?null:Cr);return n}(u,h);return d[1]={type:e,id:t,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function Xr(e,t,n,i){var r=Co(t);r.push(n),e.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(e).push(i,r.length-1)}function Yr(e,t,n,i,r,o){return{type:n,index:i,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Jr(e,t,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function Qr(e,t,n,i,r,o,s,a){var l,c,u=Tt(t,n),h=t.inputs;!a&&null!=h&&(l=h[i])?(To(e,n,l,i,r),lt(t)&&function(e,t){var n=Et(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(i="class"===(c=i)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,r=null!=s?s(r,t.tagName||"",i):r,wt(o)?o.setProperty(u,i,r):En(i)||(u.setProperty?u.setProperty(i,r):u[i]=r))}function Zr(e,t,n,i){var r=!1;if(Nt()){var o=function(e,t,n){var i=e.directiveRegistry,r=null;if(i)for(var o=0;o<i.length;o++){var s=i[o];vr(n,s.selectors,!1)&&(r||(r=[]),Xn(Wn(n,t),e,s.type),ut(s)?(2&n.flags&&cr(n),ro(e,n),r.unshift(s)):r.push(s))}return r}(e,t,n),s=null===i?null:{"":-1};if(null!==o){var a=0;r=!0,so(n,e.data.length,o.length);for(var l=0;l<o.length;l++){var c=o[l];c.providersResolver&&c.providersResolver(c)}io(e,n,o.length);for(var u=!1,h=!1,d=0;d<o.length;d++){var f=o[d];n.mergedAttrs=jn(n.mergedAttrs,f.hostAttrs),ao(e,t,f),oo(e.data.length-1,f,s),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128);var p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),u=!0),h||!p.ngOnChanges&&!p.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),eo(e,f),a+=f.hostVars}!function(e,t){for(var n=t.directiveEnd,i=e.data,r=t.attrs,o=[],s=null,a=null,l=t.directiveStart;l<n;l++){var c=i[l],u=c.inputs,h=null===r||fr(t)?null:ho(u,r);o.push(h),s=Jr(u,l,s),a=Jr(c.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n),to(e,t,a)}s&&function(e,t,n){if(t)for(var i=e.localNames=[],r=0;r<t.length;r+=2){var o=n[t[r+1]];if(null==o)throw new Error("Export of name '".concat(t[r+1],"' not found!"));i.push(t[r],o)}}(n,i,s)}return n.mergedAttrs=jn(n.mergedAttrs,n.attrs),r}function eo(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function to(e,t,n){for(var i=0;i<n;i++)t.push(Cr),e.blueprint.push(Cr),e.data.push(null)}function no(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function io(e,t,n){var i=20-t.index,r=e.data.length-(1048575&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(i,r,n)}function ro(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function oo(e,t,n){if(n){if(t.exportAs)for(var i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;ut(t)&&(n[""]=e)}}function so(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ao(e,t,n){e.data.push(n);var i=n.factory||(n.factory=it(n.type)),r=new Tn(i,ut(n),null);e.blueprint.push(r),t.push(r)}function lo(e,t,n){var i=Tt(t,e),r=Kr(n),o=e[10],s=mo(e,Fr(e,r,null,n.onPush?64:16,i,t,o,o.createRenderer(i,n)));e[t.index]=s}function co(e,t,n,i,r,o){var s=Tt(e,t),a=t[11];if(null==i)wt(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{var l=null==r?Rn(i):r(i,e.tagName||"",n);wt(a)?a.setAttribute(s,n,l,o):o?s.setAttributeNS(o,n,l):s.setAttribute(n,l)}}function uo(e,t,n,i,r,o){var s=o[t];if(null!==s)for(var a=i.setInput,l=0;l<s.length;){var c=s[l++],u=s[l++],h=s[l++];null!==a?i.setInput(n,h,c,u):n[u]=h}}function ho(e,t){for(var n=null,i=0;i<t.length;){var r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function fo(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function po(e,t){var n=Et(t,e);if(It(n)){var i=n[1];80&n[2]?Vr(i,n,i.template,n[8]):n[5]>0&&function e(t){for(var n=Or(t);null!==n;n=Tr(n))for(var i=10;i<n.length;i++){var r=n[i];if(1024&r[2]){var o=r[1];Vr(o,r,o.template,r[8])}else r[5]>0&&e(r)}var s=t[1].components;if(null!==s)for(var a=0;a<s.length;a++){var l=Et(s[a],t);It(l)&&l[5]>0&&e(l)}}(n)}}function go(e,t){var n=Et(t,e),i=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),Hr(i,n,n[8])}function mo(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function bo(e){for(;e;){e[2]|=64;var t=Sr(e);if(ht(e)&&!t)return e;e=t}return null}function vo(e,t,n){var i=t[10];i.begin&&i.begin();try{Vr(e,t,e.template,n)}catch(r){throw Oo(t,r),r}finally{i.end&&i.end()}}function yo(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],i=jt(n),r=i[1];$r(r,i,r.template,n)}}(e[8])}function _o(e,t,n){rn(0),t(e,n)}var wo=function(){return Promise.resolve(null)}();function Co(e){return e[7]||(e[7]=[])}function So(e,t,n){return(null===e||ut(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function Oo(e,t){var n=e[9],i=n?n.get(ui,null):null;i&&i.handleError(t)}function To(e,t,n,i,r){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],l=t[s],c=e.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function ko(e,t,n){var i=Ot(t,e),r=e[11];wt(r)?r.setValue(i,n):i.textContent=n}function xo(e,t){var n=t[3];return-1===e.index?st(n)?n:null:n}function Eo(e,t){var n=xo(e,t);return n?Vo(t[11],n[7]):null}function jo(e,t,n,i,r){if(null!=i){var o,s=!1;st(i)?o=i:ot(i)&&(s=!0,i=i[0]);var a=St(i);0===e&&null!==n?null==r?Bo(t,n,a):Fo(t,n,a,r||null):1===e&&null!==n?Fo(t,n,a,r||null):2===e?Wo(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,i,r){var o=n[7];o!==St(n)&&jo(t,e,i,o,r);for(var s=10;s<n.length;s++){var a=n[s];Ko(a[1],a,e,t,i,o)}}(t,e,o,n,r)}}function Ao(e,t){return wt(t)?t.createText(e):t.createTextNode(e)}function Io(e,t,n,i){var r=Eo(e.node,t);r&&Ko(e,t,t[11],n?1:2,r,i)}function Mo(e,t){var n=e[9],i=n.indexOf(t);1024&t[2]&&Dt(t[3],-1),n.splice(i,1)}function Po(e,t){if(!(e.length<=10)){var n=10+t,i=e[n];if(i){var r=i[17];null!==r&&r!==e&&Mo(r,i),t>0&&(e[n-1][4]=i[4]);var o=De(e,10+t);Io(i[1],i,!1,null);var s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Do(e,t){if(!(256&t[2])){var n=t[11];wt(n)&&n.destroyNode&&Ko(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return No(e[1],e);for(;t;){var n=null;if(ot(t))n=t[13];else{var i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)ot(t)&&No(t[1],t),t=Ro(t,e);null===t&&(t=e),ot(t)&&No(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ro(e,t){var n;return ot(e)&&(n=e[6])&&2===n.type?xo(n,e):e[3]===t?null:e[3]}function No(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var i=0;i<n.length;i+=2){var r=t[n[i]];if(!(r instanceof Tn)){var o=n[i+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(r[o[s]]);else o.call(r)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var i=t[7],r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){var o=n[r+1],s="function"==typeof o?o(t):St(t[o]),a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],i[n[r+2]],a):a>=0?i[a]():i[-a].unsubscribe(),r+=2}else n[r].call(i[n[r+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&wt(t[11])&&t[11].destroy();var i=t[17];if(null!==i&&st(t[3])){i!==t[3]&&Mo(i,t);var r=t[19];null!==r&&r.detachView(e)}}}function Lo(e,t,n){for(var i=t.parent;null!=i&&(4===i.type||5===i.type);)i=(t=i).parent;if(null==i){var r=n[6];return 2===r.type?Eo(r,n):n[0]}if(t&&5===t.type&&4&t.flags)return Tt(t,n).parentNode;if(2&i.flags){var o=e.data,s=o[o[i.index].directiveStart].encapsulation;if(s!==He.ShadowDom&&s!==He.Native)return null}return Tt(i,n)}function Fo(e,t,n,i){wt(e)?e.insertBefore(t,n,i):t.insertBefore(n,i,!0)}function Bo(e,t,n){wt(e)?e.appendChild(t,n):t.appendChild(n)}function Ho(e,t,n,i){null!==i?Fo(e,t,n,i):Bo(e,t,n)}function Vo(e,t){return wt(e)?e.parentNode(t):t.parentNode}function $o(e,t){if(2===e.type){var n=xo(e,t);return null===n?null:Go(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?Tt(e,t):null}function zo(e,t,n,i){var r=Lo(e,i,t);if(null!=r){var o=t[11],s=$o(i.parent||t[6],t);if(Array.isArray(n))for(var a=0;a<n.length;a++)Ho(o,r,n[a],s);else Ho(o,r,n,s)}}function Go(e,t){var n=10+e+1;if(n<t.length){var i=t[n],r=i[1].firstChild;if(null!==r)return function e(t,n){if(null!==n){var i=n.type;if(3===i)return Tt(n,t);if(0===i)return Go(-1,t[n.index]);if(4===i||5===i){var r=n.child;if(null!==r)return e(t,r);var o=t[n.index];return st(o)?Go(-1,o):St(o)}var s=t[16],a=s[6],l=Sr(s),c=a.projection[n.projection];return null!=c?e(l,c):e(t,n.next)}return null}(i,r)}return t[7]}function Wo(e,t,n){var i=Vo(e,t);i&&function(e,t,n,i){wt(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}function Uo(e,t,n,i,r,o,s){for(;null!=n;){var a=i[n.index],l=n.type;s&&0===t&&(a&&lr(St(a),i),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(Uo(e,t,n.child,i,r,o,!1),jo(t,e,r,a,o)):1===l?Xo(e,t,i,n,r,o):jo(t,e,r,a,o)),n=s?n.projectionNext:n.next}}function Ko(e,t,n,i,r,o){Uo(n,i,e.node.child,t,r,o,!1)}function qo(e,t,n){Xo(t[11],0,t,n,Lo(e,n,t),$o(n.parent||t[6],t))}function Xo(e,t,n,i,r,o){var s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(var l=0;l<a.length;l++)jo(t,e,r,a[l],o);else Uo(e,t,a,s[3],r,o,!0)}function Yo(e,t,n){wt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Jo(e,t,n){wt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var Qo,Zo,es,ts=function(){function e(t,n){Object(h.a)(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return Object(d.a)(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Do(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){Xr(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){bo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){vo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Kt(!0);try{vo(e,t,n)}finally{Kt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Ko(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,i,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==i;){var s=n[i.index];if(null!==s&&r.push(St(s)),st(s))for(var l=10;l<s.length;l++){var c=s[l],u=c[1].firstChild;null!==u&&e(c[1],c,u,r)}var h=i.type;if(4===h||5===h)e(t,n,i.child,r);else if(1===h){var d=n[16],f=d[6],p=i.projection,g=f.projection[p];if(Array.isArray(g))r.push.apply(r,Object(a.a)(g));else{var m=Sr(d);e(m[1],m,g,r,!0)}}i=o?i.projectionNext:i.next}return r}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),ns=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,e))._view=e,i}return Object(d.a)(n,[{key:"detectChanges",value:function(){yo(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Kt(!0);try{yo(e)}finally{Kt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(ts);function is(e,t,n){return Qo||(Qo=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return n}(e)),new Qo(Tt(t,n))}function rs(e,t,n,i){return Zo||(Zo=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e,i,r){var o;return Object(h.a)(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=i,o.elementRef=r,o}return Object(d.a)(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Fr(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),Hr(t,n,e),new ts(n)}}]),n}(e)),0===n.type?new Zo(i,n,is(t,n,i)):null}function os(e,t,n,i){var r;es||(es=function(e){Object(c.a)(i,e);var n=Object(u.a)(i);function i(e,t,r){var o;return Object(h.a)(this,i),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=r,o}return Object(d.a)(i,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var i=e.createEmbeddedView(t||{});return this.insert(i,n),i}},{key:"createComponent",value:function(e,t,n,i,r){var o=n||this.parentInjector;if(!r&&null==e.ngModule&&o){var s=o.get(Ee,null);s&&(r=s)}var a=e.create(o,i,void 0,r);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){var n=e._lView,i=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),st(n[3])){var r=this.indexOf(e);if(-1!==r)this.detach(r);else{var o=n[3],s=new es(o,o[6],o[3]);s.detach(s.indexOf(e))}}var a=this._adjustIndex(t);return function(e,t,n,i){var r=10+i,o=n.length;i>0&&(n[r-1][4]=t),i<o-10?(t[4]=n[r],Pe(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;var s=t[17];null!==s&&n!==s&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);var a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,n,this._lContainer,a),Io(i,n,!0,Go(a,this._lContainer)),e.attachToViewContainerRef(this),Pe(this._lContainer[8],a,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Po(this._lContainer,t);n&&(De(this._lContainer[8],t),Do(n[1],n))}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Po(this._lContainer,t);return n&&null!=De(this._lContainer[8],t)?new ts(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return is(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new ri(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=qn(this._hostTNode,this._hostView),t=Dn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var i=n.parent.injectorIndex,r=n.parent;null!=r.parent&&i==r.parent.injectorIndex;)r=r.parent;return r}for(var o=Pn(e),s=t,a=t[6];o>1;)a=(s=s[15])[6],o--;return a}(e,this._hostView,this._hostTNode);return In(e)&&null!=n?new ri(n,t):new ri(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),i}(e));var o=i[n.index];if(st(o))r=o;else{var s;if(4===n.type)s=St(o);else if(s=i[11].createComment(""),ht(i)){var a=i[11],l=Tt(n,i);Fo(a,Vo(a,l),s,function(e,t){return wt(e)?e.nextSibling(t):t.nextSibling}(a,l))}else zo(i[1],i,s,n);i[n.index]=r=fo(o,i,s,n),mo(i,r)}return new es(r,n,i)}function ss(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return as($t(),Bt(),e)}function as(e,t,n){if(!n&&lt(e)){var i=Et(e.index,t);return new ts(i,i)}return 3===e.type||0===e.type||4===e.type||5===e.type?new ts(t[16],t):null}var ls=function(){var e=function e(){Object(h.a)(this,e)};return e.__NG_ELEMENT_ID__=function(){return cs()},e}(),cs=ss,us=Function;function hs(e){return"function"==typeof e}var ds=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,fs=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ps=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,gs=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/,ms=function(){function e(t){Object(h.a)(this,e),this._reflect=t||ne.Reflect}return Object(d.a)(e,[{key:"isReflectionEnabled",value:function(){return!0}},{key:"factory",value:function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return g(e,n)}}},{key:"_zipTypesAndAnnotations",value:function(e,t){var n;n=Re(void 0===e?t.length:e.length);for(var i=0;i<n.length;i++)n[i]=void 0===e?[]:e[i]&&e[i]!=Object?[e[i]]:[],t&&null!=t[i]&&(n[i]=n[i].concat(t[i]));return n}},{key:"_ownParameters",value:function(e,t){if(n=e.toString(),ds.test(n)||gs.test(n)||fs.test(n)&&!ps.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var i=e.ctorParameters;if(i&&i!==t.ctorParameters){var r="function"==typeof i?i():i,o=r.map((function(e){return e&&e.type})),s=r.map((function(e){return e&&bs(e.decorators)}));return this._zipTypesAndAnnotations(o,s)}var a=e.hasOwnProperty(S)&&e[S],l=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return l||a?this._zipTypesAndAnnotations(l,a):Re(e.length)}},{key:"parameters",value:function(e){if(!hs(e))return[];var t=vs(e),n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}},{key:"_ownAnnotations",value:function(e,t){if(e.annotations&&e.annotations!==t.annotations){var n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==t.decorators?bs(e.decorators):e.hasOwnProperty(C)?e[C]:null}},{key:"annotations",value:function(e){if(!hs(e))return[];var t=vs(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}},{key:"_ownPropMetadata",value:function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var i=e.propDecorators,r={};return Object.keys(i).forEach((function(e){r[e]=bs(i[e])})),r}return e.hasOwnProperty("__prop__metadata__")?e.__prop__metadata__:null}},{key:"propMetadata",value:function(e){if(!hs(e))return{};var t=vs(e),n={};if(t!==Object){var i=this.propMetadata(t);Object.keys(i).forEach((function(e){n[e]=i[e]}))}var r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach((function(e){var t=[];n.hasOwnProperty(e)&&t.push.apply(t,Object(a.a)(n[e])),t.push.apply(t,Object(a.a)(r[e])),n[e]=t})),n}},{key:"ownPropMetadata",value:function(e){return hs(e)&&this._ownPropMetadata(e,vs(e))||{}}},{key:"hasLifecycleHook",value:function(e,t){return e instanceof us&&t in e.prototype}},{key:"guards",value:function(e){return{}}},{key:"getter",value:function(e){return new Function("o","return o."+e+";")}},{key:"setter",value:function(e){return new Function("o","v","return o."+e+" = v;")}},{key:"method",value:function(e){var t="if (!o.".concat(e,") throw new Error('\"").concat(e,"\" is undefined');\n        return o.").concat(e,".apply(o, args);");return new Function("o","args",t)}},{key:"importUri",value:function(e){return"object"==typeof e&&e.filePath?e.filePath:"./".concat(U(e))}},{key:"resourceUri",value:function(e){return"./".concat(U(e))}},{key:"resolveIdentifier",value:function(e,t,n,i){return i}},{key:"resolveEnum",value:function(e,t){return e[t]}}]),e}();function bs(e){return e?e.map((function(e){var t=e.args?e.args:[];return g(e.type.annotationCls,Object(a.a)(t))})):[]}function vs(e){var t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}var ys=null;function _s(){return ys=ys||new ms}function ws(e){return t=_s().parameters(e),n=re(),t.map((function(e){return function(e,t){var n={token:null,host:!1,optional:!1,resolved:e.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function i(t){n.resolved=e.R3ResolvedDependencyType.Token,n.token=t}if(Array.isArray(t)&&t.length>0)for(var r=0;r<t.length;r++){var o=t[r];if(void 0!==o){var s=Object.getPrototypeOf(o);if(o instanceof E||"Optional"===s.ngMetadataName)n.optional=!0;else if(o instanceof A||"SkipSelf"===s.ngMetadataName)n.skipSelf=!0;else if(o instanceof j||"Self"===s.ngMetadataName)n.self=!0;else if(o instanceof I||"Host"===s.ngMetadataName)n.host=!0;else if(o instanceof x)n.token=o.token;else if(o instanceof M){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=e.R3ResolvedDependencyType.Attribute}else o===ls?(n.token=o,n.resolved=e.R3ResolvedDependencyType.ChangeDetectorRef):i(o)}}else void 0===t||Array.isArray(t)&&0===t.length?(n.token=void 0,n.resolved=ie.Invalid):i(t);return n}(n,e)}));var t,n}var Cs=new fe("Set Injector scope."),Ss={},Os={},Ts=[],ks=void 0;function xs(){return void 0===ks&&(ks=new ke),ks}function Es(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new js(e,n,t||xs(),i)}var js=function(){function e(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(h.a)(this,e),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&Me(n,(function(e){return r.processProvider(e,t,n)})),Me([t],(function(e){return r.processInjectorType(e,[],s)})),this.records.set(pe,Ms(void 0,this));var a=this.records.get(Cs);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof t?null:U(t))}return Object(d.a)(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.Default;this.assertNotDestroyed();var i=ye(this);try{if(!(n&P.SkipSelf)){var r=this.records.get(e);if(void 0===r){var o=Rs(e)&&F(e);r=o&&this.injectableDefInScope(o)?Ms(As(e),Ss):null,this.records.set(e,r)}if(null!=r)return this.hydrate(e,r)}var s=n&P.Self?xs():this.parent;return s.get(e,t=n&P.Optional&&t===ge?null:t)}catch(l){if("NullInjectorError"===l.name){var a=l.ngTempTokenPath=l.ngTempTokenPath||[];if(a.unshift(U(e)),i)throw l;return xe(l,e,"R3InjectorError",this.source)}throw l}finally{ye(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(U(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var i=this;if(!(e=Y(e)))return!1;var r=H(e),o=null==r&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==n.indexOf(s);if(void 0!==o&&(r=H(o)),null==r)return!1;if(null!=r.imports&&!a){var l;n.push(s);try{Me(r.imports,(function(e){i.processInjectorType(e,t,n)&&(void 0===l&&(l=[]),l.push(e))}))}finally{}if(void 0!==l)for(var c=function(e){var t=l[e],n=t.ngModule,r=t.providers;Me(r,(function(e){return i.processProvider(e,n,r||Ts)}))},u=0;u<l.length;u++)c(u)}this.injectorDefTypes.add(s),this.records.set(s,Ms(r.factory,Ss));var h=r.providers;if(null!=h&&!a){var d=e;Me(h,(function(e){return i.processProvider(e,d,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var i=Ds(e=Y(e))?e:Y(e&&e.provide),r=function(e,t,n){return Ps(e)?Ms(void 0,e.useValue):Ms(Is(e,t,n),Ss)}(e,t,n);if(Ds(e)||!0!==e.multi){var o=this.records.get(i);o&&void 0!==o.multi&&ur()}else{var s=this.records.get(i);s?void 0===s.multi&&ur():((s=Ms(void 0,Ss,!0)).factory=function(){return Te(s.multi)},this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,r)}},{key:"hydrate",value:function(e,t){var n;return t.value===Os?function(e){throw new Error("Cannot instantiate cyclic dependency! ".concat(e))}(U(e)):t.value===Ss&&(t.value=Os,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function As(e){var t=F(e),n=null!==t?t.factory:it(e);if(null!==n)return n;var i=H(e);if(null!==i)return i.factory;if(e instanceof fe)throw new Error("Token ".concat(U(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=Re(t,"?");throw new Error("Can't resolve all parameters for ".concat(U(e),": (").concat(n.join(", "),")."))}var i=function(e){var t=e&&(e[V]||e[G]||e[z]&&e[z]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==i?function(){return i.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Is(e,t,n){var i,r=void 0;if(Ds(e)){var o=Y(e);return it(o)||As(o)}if(Ps(e))r=function(){return Y(e.useValue)};else if((i=e)&&i.useFactory)r=function(){return e.useFactory.apply(e,Object(a.a)(Te(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return Ce(Y(e.useExisting))};else{var s=Y(e&&(e.useClass||e.provide));if(s||function(e,t,n){var i="";if(e&&t){var r=t.map((function(e){return e==n?"?"+n+"?":"..."}));i=" - only instances of Provider and Type are allowed, got: [".concat(r.join(", "),"]")}throw new Error("Invalid provider for the NgModule '".concat(U(e),"'")+i)}(t,n,e),!function(e){return!!e.deps}(e))return it(s)||As(s);r=function(){return g(s,Object(a.a)(Te(e.deps)))}}return r}function Ms(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Ps(e){return null!==e&&"object"==typeof e&&be in e}function Ds(e){return"function"==typeof e}function Rs(e){return"function"==typeof e||"object"==typeof e&&e instanceof fe}var Ns=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=Es(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)},Ls=function(){var e=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Ns(e,t,""):Ns(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=ge,e.NULL=new ke,e.\u0275prov=N({token:e,providedIn:"any",factory:function(){return Ce(pe)}}),e.__NG_ELEMENT_ID__=-1,e}(),Fs=new fe("AnalyzeForEntryComponents"),Bs=new Map,Hs=new Set;function Vs(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function $s(e,t,n){var i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];"number"==typeof a?o=a:1==o?r=K(r,a):2==o&&(i=K(i,a+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var zs=null;function Gs(){if(!zs){var e=ne.Symbol;if(e&&e.iterator)zs=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(zs=i)}}return zs}var Ws=function(){function e(t){Object(h.a)(this,e),this.wrapped=t}return Object(d.a)(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Us(e){return!!Ks(e)&&(Array.isArray(e)||!(e instanceof Map)&&Gs()in e)}function Ks(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function qs(e,t,n){return e[t]=n}function Xs(e,t){return e[t]}function Ys(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Js(e,t,n,i){var r=Ys(e,t,n);return Ys(e,t+1,i)||r}function Qs(e,t,n,i,r){var o=Js(e,t,n,i);return Ys(e,t+2,r)||o}function Zs(e,t,n,i,r,o){var s=Js(e,t,n,i);return Js(e,t+2,r,o)||s}function ea(e,t,n,i){var r=Bt();return Ys(r,Jt(),t)&&(Ht(),co(gn(),r,e,t,n,i)),ea}function ta(e,t){for(var n=!1,i=Xt(),r=1;r<t.length;r+=2)n=Ys(e,i++,t[r])||n;if(Yt(i),!n)return Cr;for(var o=t[0],s=1;s<t.length;s+=2)o+=Rn(t[s])+t[s+1];return o}function na(e,t,n,i){return Ys(e,Jt(),n)?t+Rn(n)+i:Cr}function ia(e,t,n,i,r,o){var s=Js(e,Xt(),n,r);return Qt(2),s?t+Rn(n)+i+Rn(r)+o:Cr}function ra(e,t,n,i,r,o,s,a){var l=Qs(e,Xt(),n,r,s);return Qt(3),l?t+Rn(n)+i+Rn(r)+o+Rn(s)+a:Cr}function oa(e,t,n,i,r,o,s,a,l,c){var u=Zs(e,Xt(),n,r,s,l);return Qt(4),u?t+Rn(n)+i+Rn(r)+o+Rn(s)+a+Rn(l)+c:Cr}function sa(e,t,n,i,r,o,s,a,l,c,u,h){var d=Xt(),f=Zs(e,d,n,r,s,l);return f=Ys(e,d+4,u)||f,Qt(5),f?t+Rn(n)+i+Rn(r)+o+Rn(s)+a+Rn(l)+c+Rn(u)+h:Cr}function aa(e,t,n,i,r,o,s,a,l,c,u,h,d,f){var p=Xt(),g=Zs(e,p,n,r,s,l);return g=Js(e,p+4,u,d)||g,Qt(6),g?t+Rn(n)+i+Rn(r)+o+Rn(s)+a+Rn(l)+c+Rn(u)+h+Rn(d)+f:Cr}function la(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g){var m=Xt(),b=Zs(e,m,n,r,s,l);return b=Qs(e,m+4,u,d,p)||b,Qt(7),b?t+Rn(n)+i+Rn(r)+o+Rn(s)+a+Rn(l)+c+Rn(u)+h+Rn(d)+f+Rn(p)+g:Cr}function ca(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,b){var v=Xt(),y=Zs(e,v,n,r,s,l);return y=Zs(e,v+4,u,d,p,m)||y,Qt(8),y?t+Rn(n)+i+Rn(r)+o+Rn(s)+a+Rn(l)+c+Rn(u)+h+Rn(d)+f+Rn(p)+g+Rn(m)+b:Cr}function ua(e,t,n,i,r,o){var s=Bt(),a=na(s,t,n,i);return a!==Cr&&co(gn(),s,e,a,r,o),ua}function ha(e,t,n,i,r,o,s,a){var l=Bt(),c=ia(l,t,n,i,r,o);return c!==Cr&&co(gn(),l,e,c,s,a),ha}function da(e,t,n,i,r,o,s,a,l,c){var u=Bt(),h=ra(u,t,n,i,r,o,s,a);return h!==Cr&&co(gn(),u,e,h,l,c),da}function fa(e,t,n,i,r,o,s,a,l,c,u,h){var d=Bt(),f=oa(d,t,n,i,r,o,s,a,l,c);return f!==Cr&&co(gn(),d,e,f,u,h),fa}function pa(e,t,n,i,r,o,s,a,l,c,u,h,d,f){var p=Bt(),g=sa(p,t,n,i,r,o,s,a,l,c,u,h);return g!==Cr&&co(gn(),p,e,g,d,f),pa}function ga(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g){var m=Bt(),b=aa(m,t,n,i,r,o,s,a,l,c,u,h,d,f);return b!==Cr&&co(gn(),m,e,b,p,g),ga}function ma(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,b){var v=Bt(),y=la(v,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g);return y!==Cr&&co(gn(),v,e,y,m,b),ma}function ba(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,b,v,y){var _=Bt(),w=ca(_,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,b);return w!==Cr&&co(gn(),_,e,w,v,y),ba}function va(e,t,n,i){var r=Bt(),o=ta(r,t);return o!==Cr&&co(gn(),r,e,o,n,i),va}function ya(e,t,n,i,r,o,s,a){var l=Bt(),c=Ht(),u=e+20,h=c.firstCreatePass?function(e,t,n,i,r,o,s,a,l){var c=t.consts,u=Br(t,n[6],e,0,s||null,Mt(c,a));Zr(t,n,u,Mt(c,l)),yn(t,u);var h=u.tViews=qr(2,-1,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),d=Yr(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(e,c,l,t,n,i,r,o,s):c.data[u];zt(h,!1);var d=l[11].createComment("");zo(c,l,d,h),lr(d,l),mo(l,l[u]=fo(d,l,d,h)),ct(h)&&Wr(c,l,h),null!=s&&Ur(l,h,a)}function _a(e){return xt(Rt.lFrame.contextLView,e)}function wa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.Default,n=Bt();if(null==n)return Ce(e,t);var i=$t();return Yn(i,n,Y(e),t)}function Ca(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var i=n.length,r=0;r<i;){var o=n[r];if(xn(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===t)return n[r+1];r+=2}}return null}($t(),e)}function Sa(){throw new Error("invalid")}function Oa(e,t,n){var i=Bt();return Ys(i,Jt(),t)&&Qr(Ht(),gn(),i,e,t,i[11],n,!1),Oa}function Ta(e,t,n,i,r){var o=r?"class":"style";To(e,n,t.inputs[o],o,i)}function ka(e,t,n,i){var r=Bt(),o=Ht(),s=20+e,a=r[11],l=r[s]=Lr(t,a,Rt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,i,r,o,s){var a=t.consts,l=Mt(a,o),c=Br(t,n[6],e,3,r,l);return Zr(t,n,c,Mt(a,s)),null!==c.attrs&&$s(c,c.attrs,!1),null!==c.mergedAttrs&&$s(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,r,0,t,n,i):o.data[s];zt(c,!0);var u=c.mergedAttrs;null!==u&&kn(a,l,u);var h=c.classes;null!==h&&Jo(a,l,h);var d=c.styles;null!==d&&Yo(a,l,d),zo(o,r,l,c),0===Rt.lFrame.elementDepthCount&&lr(l,r),Rt.lFrame.elementDepthCount++,ct(c)&&(Wr(o,r,c),Gr(o,c,r)),null!==i&&Ur(r,c)}function xa(){var e=$t();Gt()?Wt():zt(e=e.parent,!1);var t=e;Rt.lFrame.elementDepthCount--;var n=Ht();n.firstCreatePass&&(yn(n,e),at(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ta(n,t,Bt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ta(n,t,Bt(),t.stylesWithoutHost,!1)}function Ea(e,t,n,i){ka(e,t,n,i),xa()}function ja(e,t,n){var i=Bt(),r=Ht(),o=e+20,s=r.firstCreatePass?function(e,t,n,i,r){var o=t.consts,s=Mt(o,i),a=Br(t,n[6],e,4,"ng-container",s);return null!==s&&$s(a,s,!0),Zr(t,n,a,Mt(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,r,i,t,n):r.data[o];zt(s,!0);var a=i[o]=i[11].createComment("");zo(r,i,a,s),lr(a,i),ct(s)&&(Wr(r,i,s),Gr(r,s,i)),null!=n&&Ur(i,s)}function Aa(){var e=$t(),t=Ht();Gt()?Wt():zt(e=e.parent,!1),t.firstCreatePass&&(yn(t,e),at(e)&&t.queries.elementEnd(e))}function Ia(e,t,n){ja(e,t,n),Aa()}function Ma(){return Bt()}function Pa(e){return!!e&&"function"==typeof e.then}function Da(e){return!!e&&"function"==typeof e.subscribe}function Ra(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Bt(),o=Ht(),s=$t();return Fa(o,r,r[11],s,e,t,n,i),Ra}function Na(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=$t(),o=Bt(),s=Ht(),a=tn(s.data),l=So(a,r,o);return Fa(s,o,l,r,e,t,n,i),Na}function La(e,t,n,i){var r=e.cleanup;if(null!=r)for(var o=0;o<r.length-1;o+=2){var s=r[o];if(s===n&&r[o+1]===i){var a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}function Fa(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,l=ct(i),c=e.firstCreatePass,u=c&&(e.cleanup||(e.cleanup=[])),h=Co(t),d=!0;if(3===i.type){var f=Tt(i,t),p=a?a(f):Ve,g=p.target||f,m=h.length,b=a?function(e){return a(St(e[i.index])).target}:i.index;if(wt(n)){var v=null;if(!a&&l&&(v=La(e,t,r,i.index)),null!==v){var y=v.__ngLastListenerFn__||v;y.__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,d=!1}else{o=Ha(i,t,o,!1);var _=n.listen(p.name||g,r,o);h.push(o,_),u&&u.push(r,b,m,m+1)}}else o=Ha(i,t,o,!0),g.addEventListener(r,o,s),h.push(o),u&&u.push(r,b,m,s)}var w,C=i.outputs;if(d&&null!==C&&(w=C[r])){var S=w.length;if(S)for(var O=0;O<S;O+=2){var T=w[O],k=w[O+1],x=t[T],E=x[k],j=E.subscribe(o),A=h.length;h.push(o,j),u&&u.push(r,i.index,A,-(A+1))}}}function Ba(e,t,n){try{return!1!==t(n)}catch(i){return Oo(e,i),!1}}function Ha(e,t,n,i){return function r(o){if(o===Function)return n;var s=2&e.flags?Et(e.index,t):t;0==(32&t[2])&&bo(s);for(var a=Ba(t,n,o),l=r.__ngNextListenerFn__;l;)a=Ba(t,l,o)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Va(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return dn(e)}function $a(e,t){for(var n=null,i=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),r=0;r<t.length;r++){var o=t[r];if("*"!==o){if(null===i?vr(e,o,!0):yr(i,o))return r}else n=r}return n}function za(e){var t=Bt()[16][6];if(!t.projection)for(var n=t.projection=Re(e?e.length:1,null),i=n.slice(),r=t.child;null!==r;){var o=e?$a(r,e):0;null!==o&&(i[o]?i[o].projectionNext=r:n[o]=r,i[o]=r),r=r.next}}var Ga=!1;function Wa(e){Ga=e}function Ua(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=Bt(),r=Ht(),o=Br(r,i[6],e,1,null,n||null);null===o.projection&&(o.projection=t),Wt(),Ga||qo(r,i,o)}function Ka(e,t,n){return qa(e,"",t,"",n),Ka}function qa(e,t,n,i,r){var o=Bt(),s=na(o,t,n,i);return s!==Cr&&Qr(Ht(),gn(),o,e,s,o[11],r,!1),qa}function Xa(e,t,n,i,r,o,s){var a=Bt(),l=ia(a,t,n,i,r,o);return l!==Cr&&Qr(Ht(),gn(),a,e,l,a[11],s,!1),Xa}function Ya(e,t,n,i,r,o,s,a,l){var c=Bt(),u=ra(c,t,n,i,r,o,s,a);return u!==Cr&&Qr(Ht(),gn(),c,e,u,c[11],l,!1),Ya}function Ja(e,t,n,i,r,o,s,a,l,c,u){var h=Bt(),d=oa(h,t,n,i,r,o,s,a,l,c);return d!==Cr&&Qr(Ht(),gn(),h,e,d,h[11],u,!1),Ja}function Qa(e,t,n,i,r,o,s,a,l,c,u,h,d){var f=Bt(),p=sa(f,t,n,i,r,o,s,a,l,c,u,h);return p!==Cr&&Qr(Ht(),gn(),f,e,p,f[11],d,!1),Qa}function Za(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p){var g=Bt(),m=aa(g,t,n,i,r,o,s,a,l,c,u,h,d,f);return m!==Cr&&Qr(Ht(),gn(),g,e,m,g[11],p,!1),Za}function el(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m){var b=Bt(),v=la(b,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g);return v!==Cr&&Qr(Ht(),gn(),b,e,v,b[11],m,!1),el}function tl(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,b,v){var y=Bt(),_=ca(y,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,b);return _!==Cr&&Qr(Ht(),gn(),y,e,_,y[11],v,!1),tl}function nl(e,t,n){var i=Bt(),r=ta(i,t);return r!==Cr&&Qr(Ht(),gn(),i,e,r,i[11],n,!1),nl}var il=[];function rl(e,t,n,i,r){for(var o=e[n+1],s=null===t,a=i?Ir(o):Pr(o),l=!1;0!==a&&(!1===l||s);){var c=e[a+1];ol(e[a],t)&&(l=!0,e[a+1]=i?Rr(c):Mr(c)),a=i?Ir(c):Pr(c)}l&&(e[n+1]=i?Mr(o):Rr(o))}function ol(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Fe(e,t)>=0}var sl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function al(e){return e.substring(sl.key,sl.keyEnd)}function ll(e){return e.substring(sl.value,sl.valueEnd)}function cl(e,t){var n=sl.textEnd;return n===t?-1:(t=sl.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,sl.key=t,n),dl(e,t,n))}function ul(e,t){var n=sl.textEnd,i=sl.key=dl(e,t,n);return n===i?-1:(i=sl.keyEnd=function(e,t,n){for(var i;t<n&&(45===(i=e.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)t++;return t}(e,i,n),i=fl(e,i,n),i=sl.value=dl(e,i,n),i=sl.valueEnd=function(e,t,n){for(var i=-1,r=-1,o=-1,s=t,a=s;s<n;){var l=e.charCodeAt(s++);if(59===l)return a;34===l||39===l?a=s=pl(e,l,s,n):t===s-4&&85===o&&82===r&&76===i&&40===l?a=s=pl(e,41,s,n):l>32&&(a=s),o=r,r=i,i=-33&l}return a}(e,i,n),fl(e,i,n))}function hl(e){sl.key=0,sl.keyEnd=0,sl.value=0,sl.valueEnd=0,sl.textEnd=e.length}function dl(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function fl(e,t,n,i){return(t=dl(e,t,n))<n&&t++,t}function pl(e,t,n,i){for(var r=-1,o=n;o<i;){var s=e.charCodeAt(o++);if(s==t&&92!==r)return o;r=92==s&&92===r?0:s}throw new Error}function gl(e,t,n){return wl(e,t,n,!1),gl}function ml(e,t){return wl(e,t,null,!0),ml}function bl(e){Cl(xl,vl,e,!1)}function vl(e,t){for(var n=function(e){return hl(e),ul(e,dl(e,0,sl.textEnd))}(t);n>=0;n=ul(t,n))xl(e,al(t),ll(t))}function yl(e){Cl(Ne,_l,e,!0)}function _l(e,t){for(var n=function(e){return hl(e),cl(e,dl(e,0,sl.textEnd))}(t);n>=0;n=cl(t,n))Ne(e,al(t),!0)}function wl(e,t,n,i){var r=Bt(),o=Ht(),s=Qt(2);o.firstUpdatePass&&Ol(o,e,s,i),t!==Cr&&Ys(r,s,t)&&El(o,o.data[fn()+20],r,r[11],e,r[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=U(bi(e)))),e}(t,n),i,s)}function Cl(e,t,n,i){var r=Ht(),o=Qt(2);r.firstUpdatePass&&Ol(r,null,o,i);var s=Bt();if(n!==Cr&&Ys(s,o,n)){var a=r.data[fn()+20];if(Il(a,i)&&!Sl(r,o)){var l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=K(l,n||"")),Ta(r,a,s,n,i)}else!function(e,t,n,i,r,o,s,a){r===Cr&&(r=il);for(var l=0,c=0,u=0<r.length?r[0]:null,h=0<o.length?o[0]:null;null!==u||null!==h;){var d=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,g=void 0;u===h?(l+=2,c+=2,d!==f&&(p=h,g=f)):null===h||null!==u&&u<h?(l+=2,p=u):(c+=2,p=h,g=f),null!==p&&El(e,t,n,i,p,g,s,a),u=l<r.length?r[l]:null,h=c<o.length?o[c]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return il;var i=[],r=bi(n);if(Array.isArray(r))for(var o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(var s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(e,t,n),i,o)}}function Sl(e,t){return t>=e.expandoStartIndex}function Ol(e,t,n,i){var r=e.data;if(null===r[n+1]){var o=r[fn()+20],s=Sl(e,n);Il(o,i)&&null===t&&!s&&(t=!1),t=function(e,t,n,i){var r=tn(e),o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=kl(n=Tl(null,e,t,n,i),t.attrs,i),o=null);else{var s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=Tl(r,e,t,n,i),null===o){var a=function(e,t,n){var i=n?t.classBindings:t.styleBindings;if(0!==Pr(i))return e[Ir(i)]}(e,t,i);void 0!==a&&Array.isArray(a)&&function(e,t,n,i){e[Ir(n?t.classBindings:t.styleBindings)]=i}(e,t,i,a=kl(a=Tl(null,e,t,a[1],i),t.attrs,i))}else o=function(e,t,n){for(var i=void 0,r=t.directiveEnd,o=1+t.directiveStylingLast;o<r;o++)i=kl(i,e[o].hostAttrs,n);return kl(i,t.attrs,n)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),n}(r,o,t,i),function(e,t,n,i,r,o){var s=o?t.classBindings:t.styleBindings,a=Ir(s),l=Pr(s);e[i]=n;var c,u=!1;if(Array.isArray(n)?(null===(c=n[1])||Fe(n,c)>0)&&(u=!0):c=n,r)if(0!==l){var h=Ir(e[a+1]);e[i+1]=Ar(h,a),0!==h&&(e[h+1]=Dr(e[h+1],i)),e[a+1]=131071&e[a+1]|i<<17}else e[i+1]=Ar(a,0),0!==a&&(e[a+1]=Dr(e[a+1],i)),a=i;else e[i+1]=Ar(l,0),0===a?a=i:e[l+1]=Dr(e[l+1],i),l=i;u&&(e[i+1]=Mr(e[i+1])),rl(e,c,i,!0),rl(e,c,i,!1),function(e,t,n,i,r){var o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Fe(o,t)>=0&&(n[i+1]=Rr(n[i+1]))}(t,c,e,i,o),s=Ar(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,n,s,i)}}function Tl(e,t,n,i,r){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=kl(i,(o=t[a]).hostAttrs,r),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function kl(e,t,n){var i=n?1:2,r=-1;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ne(e,s,!!n||t[++o]))}return void 0===e?null:e}function xl(e,t,n){Ne(e,t,bi(n))}function El(e,t,n,i,r,o,s,a){if(3===t.type){var l=e.data,c=l[a+1];Al(1==(1&c)?jl(l,t,n,r,Pr(c),s):void 0)||(Al(o)||function(e){return 2==(2&e)}(c)&&(o=jl(l,null,n,r,a,s)),function(e,t,n,i,r){var o=wt(e);if(t)r?o?e.addClass(n,i):n.classList.add(i):o?e.removeClass(n,i):n.classList.remove(i);else{var s=-1==i.indexOf("-")?void 0:2;null==r?o?e.removeStyle(n,i,s):n.style.removeProperty(i):o?e.setStyle(n,i,r,s):n.style.setProperty(i,r)}}(i,s,Ot(fn(),n),r,o))}}function jl(e,t,n,i,r,o){for(var s=null===t,a=void 0;r>0;){var l=e[r],c=Array.isArray(l),u=c?l[1]:l,h=null===u,d=n[r+1];d===Cr&&(d=h?il:void 0);var f=h?Le(d,i):u===i?d:void 0;if(c&&!Al(f)&&(f=Le(l,i)),Al(f)&&(a=f,s))return a;var p=e[r+1];r=s?Ir(p):Pr(p)}if(null!==t){var g=o?t.residualClasses:t.residualStyles;null!=g&&(a=Le(g,i))}return a}function Al(e){return void 0!==e}function Il(e,t){return 0!=(e.flags&(t?16:32))}function Ml(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Bt(),i=Ht(),r=e+20,o=i.firstCreatePass?Br(i,n[6],e,3,null,null):i.data[r],s=n[r]=Ao(t,n[11]);zo(i,n,s,o),zt(o,!1)}function Pl(e){return Dl("",e,""),Pl}function Dl(e,t,n){var i=Bt(),r=na(i,e,t,n);return r!==Cr&&ko(i,fn(),r),Dl}function Rl(e,t,n,i,r){var o=Bt(),s=ia(o,e,t,n,i,r);return s!==Cr&&ko(o,fn(),s),Rl}function Nl(e,t,n,i,r,o,s){var a=Bt(),l=ra(a,e,t,n,i,r,o,s);return l!==Cr&&ko(a,fn(),l),Nl}function Ll(e,t,n,i,r,o,s,a,l){var c=Bt(),u=oa(c,e,t,n,i,r,o,s,a,l);return u!==Cr&&ko(c,fn(),u),Ll}function Fl(e,t,n,i,r,o,s,a,l,c,u){var h=Bt(),d=sa(h,e,t,n,i,r,o,s,a,l,c,u);return d!==Cr&&ko(h,fn(),d),Fl}function Bl(e,t,n,i,r,o,s,a,l,c,u,h,d){var f=Bt(),p=aa(f,e,t,n,i,r,o,s,a,l,c,u,h,d);return p!==Cr&&ko(f,fn(),p),Bl}function Hl(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p){var g=Bt(),m=la(g,e,t,n,i,r,o,s,a,l,c,u,h,d,f,p);return m!==Cr&&ko(g,fn(),m),Hl}function Vl(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m){var b=Bt(),v=ca(b,e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m);return v!==Cr&&ko(b,fn(),v),Vl}function $l(e){var t=Bt(),n=ta(t,e);return n!==Cr&&ko(t,fn(),n),$l}function zl(e,t,n){Cl(Ne,_l,na(Bt(),e,t,n),!0)}function Gl(e,t,n,i,r){Cl(Ne,_l,ia(Bt(),e,t,n,i,r),!0)}function Wl(e,t,n,i,r,o,s){Cl(Ne,_l,ra(Bt(),e,t,n,i,r,o,s),!0)}function Ul(e,t,n,i,r,o,s,a,l){Cl(Ne,_l,oa(Bt(),e,t,n,i,r,o,s,a,l),!0)}function Kl(e,t,n,i,r,o,s,a,l,c,u){Cl(Ne,_l,sa(Bt(),e,t,n,i,r,o,s,a,l,c,u),!0)}function ql(e,t,n,i,r,o,s,a,l,c,u,h,d){Cl(Ne,_l,aa(Bt(),e,t,n,i,r,o,s,a,l,c,u,h,d),!0)}function Xl(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p){Cl(Ne,_l,la(Bt(),e,t,n,i,r,o,s,a,l,c,u,h,d,f,p),!0)}function Yl(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m){Cl(Ne,_l,ca(Bt(),e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m),!0)}function Jl(e){Cl(Ne,_l,ta(Bt(),e),!0)}function Ql(e,t,n){bl(na(Bt(),e,t,n))}function Zl(e,t,n,i,r){bl(ia(Bt(),e,t,n,i,r))}function ec(e,t,n,i,r,o,s){bl(ra(Bt(),e,t,n,i,r,o,s))}function tc(e,t,n,i,r,o,s,a,l){bl(oa(Bt(),e,t,n,i,r,o,s,a,l))}function nc(e,t,n,i,r,o,s,a,l,c,u){bl(sa(Bt(),e,t,n,i,r,o,s,a,l,c,u))}function ic(e,t,n,i,r,o,s,a,l,c,u,h,d){bl(aa(Bt(),e,t,n,i,r,o,s,a,l,c,u,h,d))}function rc(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p){bl(la(Bt(),e,t,n,i,r,o,s,a,l,c,u,h,d,f,p))}function oc(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m){bl(ca(Bt(),e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m))}function sc(e){bl(ta(Bt(),e))}function ac(e,t,n,i,r){return wl(e,na(Bt(),t,n,i),r,!1),ac}function lc(e,t,n,i,r,o,s){return wl(e,ia(Bt(),t,n,i,r,o),s,!1),lc}function cc(e,t,n,i,r,o,s,a,l){return wl(e,ra(Bt(),t,n,i,r,o,s,a),l,!1),cc}function uc(e,t,n,i,r,o,s,a,l,c,u){return wl(e,oa(Bt(),t,n,i,r,o,s,a,l,c),u,!1),uc}function hc(e,t,n,i,r,o,s,a,l,c,u,h,d){return wl(e,sa(Bt(),t,n,i,r,o,s,a,l,c,u,h),d,!1),hc}function dc(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p){return wl(e,aa(Bt(),t,n,i,r,o,s,a,l,c,u,h,d,f),p,!1),dc}function fc(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m){return wl(e,la(Bt(),t,n,i,r,o,s,a,l,c,u,h,d,f,p,g),m,!1),fc}function pc(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,b,v){return wl(e,ca(Bt(),t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,b),v,!1),pc}function gc(e,t,n){return wl(e,ta(Bt(),t),n,!1),gc}function mc(e,t,n){var i=Bt();return Ys(i,Jt(),t)&&Qr(Ht(),gn(),i,e,t,i[11],n,!0),mc}function bc(e,t,n){var i=Bt();if(Ys(i,Jt(),t)){var r=Ht(),o=gn();Qr(r,o,i,e,t,So(tn(r.data),o,i),n,!0)}return bc}function vc(e,t){var n=jt(e)[1],i=n.data.length-1;yn(n,{directiveStart:i,directiveEnd:i+1})}function yc(e){return Object.getPrototypeOf(e.prototype).constructor}function _c(e){for(var t=yc(e.type),n=!0,i=[e];t;){var r=void 0;if(ut(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);var o=e;o.inputs=wc(e.inputs),o.declaredInputs=wc(e.declaredInputs),o.outputs=wc(e.outputs);var s=r.hostBindings;s&&Oc(e,s);var a=r.viewQuery,l=r.contentQueries;if(a&&Cc(e,a),l&&Sc(e,l),R(e.inputs,r.inputs),R(e.declaredInputs,r.declaredInputs),R(e.outputs,r.outputs),ut(r)&&r.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(r.data.animation)}}var u=r.features;if(u)for(var h=0;h<u.length;h++){var d=u[h];d&&d.ngInherit&&d(e),d===_c&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,i=e.length-1;i>=0;i--){var r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=jn(r.hostAttrs,n=jn(n,r.hostAttrs))}}(i)}function wc(e){return e===Ve?{}:e===$e?[]:e}function Cc(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,i){t(e,i),n(e,i)}:t}function Sc(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,i,r){t(e,i,r),n(e,i,r)}:t}function Oc(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,i){t(e,i),n(e,i)}:t}var Tc=["providersResolver"],kc=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function xc(e){var t,n=yc(e.type);t=ut(e)?n.\u0275cmp:n.\u0275dir;var i,r=e,o=Object(l.a)(Tc);try{for(o.s();!(i=o.n()).done;){var s=i.value;r[s]=t[s]}}catch(h){o.e(h)}finally{o.f()}if(ut(t)){var a,c=Object(l.a)(kc);try{for(c.s();!(a=c.n()).done;){var u=a.value;r[u]=t[u]}}catch(h){c.e(h)}finally{c.f()}}}function Ec(e,t,n){var i=Ht();if(i.firstCreatePass){var r=ut(e);jc(n,i.data,i.blueprint,r,!0),jc(t,i.data,i.blueprint,r,!1)}}function jc(e,t,n,i,r){if(e=Y(e),Array.isArray(e))for(var o=0;o<e.length;o++)jc(e[o],t,n,i,r);else{var s=Ht(),a=Bt(),l=Ds(e)?e:Y(e.provide),c=Is(e),u=$t(),h=1048575&u.providerIndexes,d=u.directiveStart,f=u.providerIndexes>>20;if(Ds(e)||!e.multi){var p=new Tn(c,r,wa),g=Mc(l,t,r?h:h+f,d);-1===g?(Xn(Wn(u,a),s,l),Ac(s,e,t.length),t.push(l),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(p),a.push(p)):(n[g]=p,a[g]=p)}else{var m=Mc(l,t,h+f,d),b=Mc(l,t,h,h+f),v=b>=0&&n[b];if(r&&!v||!r&&!(m>=0&&n[m])){Xn(Wn(u,a),s,l);var y=function(e,t,n,i,r){var o=new Tn(e,n,wa);return o.multi=[],o.index=t,o.componentProviders=0,Ic(o,r,i&&!n),o}(r?Dc:Pc,n.length,r,i,c);!r&&v&&(n[b].providerFactory=y),Ac(s,e,t.length,0),t.push(l),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(y),a.push(y)}else Ac(s,e,m>-1?m:b,Ic(n[r?b:m],c,!r&&i));!r&&i&&v&&n[b].componentProviders++}}}function Ac(e,t,n,i){var r=Ds(t);if(r||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var s=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){var a=s.indexOf(n);-1===a?s.push(n,[i,o]):s[a+1].push(i,o)}else s.push(n,o)}}}function Ic(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Mc(e,t,n,i){for(var r=n;r<i;r++)if(t[r]===e)return r;return-1}function Pc(e,t,n,i){return Rc(this.multi,[])}function Dc(e,t,n,i){var r,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=ei(n,n[1],this.providerFactory.index,i);Rc(o,r=a.slice(0,s));for(var l=s;l<a.length;l++)r.push(a[l])}else Rc(o,r=[]);return r}function Rc(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Nc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return Ec(n,i?i(e):e,t)}}}var Lc=function e(){Object(h.a)(this,e)},Fc=function e(){Object(h.a)(this,e)},Bc=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(U(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Hc=function(){var e=function e(){Object(h.a)(this,e)};return e.NULL=new Bc,e}(),Vc=function(){var e=function e(t){Object(h.a)(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return $c(e)},e}(),$c=function(e){return is(e,$t(),Bt())},zc=function e(){Object(h.a)(this,e)},Gc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({}),Wc=function(){var e=function e(){Object(h.a)(this,e)};return e.__NG_ELEMENT_ID__=function(){return Uc()},e}(),Uc=function(){var e=Bt(),t=Et($t().index,e);return function(e){var t=e[11];if(wt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(ot(t)?t:e)},Kc=function(){var e=function e(){Object(h.a)(this,e)};return e.\u0275prov=N({token:e,providedIn:"root",factory:function(){return null}}),e}(),qc=function e(t){Object(h.a)(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Xc=new qc("10.0.14"),Yc=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"supports",value:function(e){return Us(e)}},{key:"create",value:function(e){return new Qc(e)}}]),e}(),Jc=function(e,t){return t},Qc=function(){function e(t){Object(h.a)(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Jc}return Object(d.a)(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,i=0,r=null;t||n;){var o=!n||t&&t.currentIndex<nu(n,i,r)?t:n,s=nu(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{r||(r=[]);var l=s-i,c=a-i;if(l!=c){for(var u=0;u<l;u++){var h=u<r.length?r[u]:r[u]=0,d=h+u;c<=d&&d<l&&(r[u]=h+1)}r[o.previousIndex]=c-l}}s!==a&&e(o,s,a)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Us(e))throw new Error("Error trying to diff '".concat(U(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,i,r,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)r=this._trackByFn(a,i=e[a]),null!==o&&Object.is(o.trackById,r)?(s&&(o=this._verifyReinsertion(o,i,r,a)),Object.is(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,a),s=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,r=e[Gs()]();!(i=r.next()).done;)t(i.value)}(e,(function(e){r=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,r)?(s&&(o=t._verifyReinsertion(o,e,r,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,r,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,i){var r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new Zc(t,n),r,i),e}},{key:"_verifyReinsertion",value:function(e,t,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new tu),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Zc=function e(t,n){Object(h.a)(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},eu=function(){function e(){Object(h.a)(this,e),this._head=null,this._tail=null}return Object(d.a)(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),tu=function(){function e(){Object(h.a)(this,e),this.map=new Map}return Object(d.a)(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new eu,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function nu(e,t,n){var i=e.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+t+r}var iu=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"supports",value:function(e){return e instanceof Map||Ks(e)}},{key:"create",value:function(){return new ru}}]),e}(),ru=function(){function e(){Object(h.a)(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object(d.a)(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Ks(e)))throw new Error("Error trying to diff '".concat(U(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var r=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,r)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new ou(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),ou=function e(t){Object(h.a)(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},su=function(){var e=function(){function e(t){Object(h.a)(this,e),this.factories=t}return Object(d.a)(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new A,new E]]}}}]),e}();return e.\u0275prov=N({token:e,providedIn:"root",factory:function(){return new e([new Yc])}}),e}(),au=function(){var e=function(){function e(t){Object(h.a)(this,e),this.factories=t}return Object(d.a)(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new A,new E]]}}}]),e}();return e.\u0275prov=N({token:e,providedIn:"root",factory:function(){return new e([new iu])}}),e}(),lu=[new iu],cu=new su([new Yc]),uu=new au(lu),hu=function(){var e=function e(){Object(h.a)(this,e)};return e.__NG_ELEMENT_ID__=function(){return du(e,Vc)},e}(),du=function(e,t){return rs(e,t,$t(),Bt())},fu=function(){var e=function e(){Object(h.a)(this,e)};return e.__NG_ELEMENT_ID__=function(){return pu(e,Vc)},e}(),pu=function(e,t){return os(e,t,$t(),Bt())},gu={},mu=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this)).ngModule=e,i}return Object(d.a)(n,[{key:"resolveComponentFactory",value:function(e){var t=et(e);return new yu(t,this.ngModule)}}]),n}(Hc);function bu(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var vu=new fe("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ln}}),yu=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e,i){var r;return Object(h.a)(this,n),(r=t.call(this)).componentDef=e,r.ngModule=i,r.componentType=e.type,r.selector=e.selectors.map(wr).join(","),r.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],r.isBoundToModule=!!i,r}return Object(d.a)(n,[{key:"create",value:function(e,t,n,i){var r,o,s=(i=i||this.ngModule)?function(e,t){return{get:function(n,i,r){var o=e.get(n,gu,r);return o!==gu||i===gu?o:t.get(n,i,r)}}}(e,i.injector):e,a=s.get(zc,Ct),l=s.get(Kc,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(wt(e))return e.selectRootElement(t,n===He.ShadowDom);var i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(c,n,this.componentDef.encapsulation):Lr(u,a.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(u)),d=this.componentDef.onPush?576:528,f={components:[],scheduler:Ln,clean:wo,playerHandler:null,flags:0},p=qr(0,-1,null,1,0,null,null,null,null,null),g=Fr(null,p,f,d,null,null,a,c,l,s);sn(g,null);try{var m=function(e,t,n,i,r,o){var s=n[1];n[20]=e;var a=Br(s,null,0,3,null,null),l=a.mergedAttrs=t.hostAttrs;null!==l&&($s(a,l,!0),null!==e&&(kn(r,e,l),null!==a.classes&&Jo(r,e,a.classes),null!==a.styles&&Yo(r,e,a.styles)));var c=i.createRenderer(e,t),u=Fr(n,Kr(t),null,t.onPush?64:16,n[20],a,i,c,void 0);return s.firstCreatePass&&(Xn(Wn(a,n),s,t.type),ro(s,a),so(a,n.length,1)),mo(n,u),n[20]=u}(h,this.componentDef,g,a,c);if(h)if(n)kn(c,h,["ng-version",Xc.full]);else{var b=function(e){for(var t=[],n=[],i=1,r=2;i<e.length;){var o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!mr(r))break;r=o}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),v=b.attrs,y=b.classes;v&&kn(c,h,v),y&&y.length>0&&Jo(c,h,y.join(" "))}if(o=kt(p,0),void 0!==t)for(var _=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var C=t[w];_.push(null!=C?Array.from(C):null)}r=function(e,t,n,i,r){var o=n[1],s=function(e,t,n){var i=$t();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),io(e,i,1),ao(e,t,n));var r=ei(t,e,t.length-1,i);lr(r,t);var o=Tt(i,t);return o&&lr(o,t),r}(o,n,t);i.components.push(s),e[8]=s,r&&r.forEach((function(e){return e(s,t)})),t.contentQueries&&t.contentQueries(1,s,n.length-1);var a=$t();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){pn(a.index-20);var l=n[1];eo(l,t),to(l,n,t.hostVars),no(t,s)}return s}(m,this.componentDef,g,f,[vc]),Hr(p,g,null)}finally{hn()}var S=new _u(this.componentType,r,is(Vc,o,g),g,o);return p.node.child=o,S}},{key:"inputs",get:function(){return bu(this.componentDef.inputs)}},{key:"outputs",get:function(){return bu(this.componentDef.outputs)}}]),n}(Fc),_u=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e,i,r,o,s){var a,l,c,u;return Object(h.a)(this,n),(a=t.call(this)).location=r,a._rootLView=o,a._tNode=s,a.destroyCbs=[],a.instance=i,a.hostView=a.changeDetectorRef=new ns(o),c=o,null==(u=(l=o[1]).node)&&(l.node=u=Yr(0,null,2,-1,null,null)),c[6]=u,a.componentType=e,a}return Object(d.a)(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new ri(this._tNode,this._rootLView)}}]),n}(Lc),wu=void 0,Cu=["en",[["a","p"],["AM","PM"],wu],[["AM","PM"],wu,wu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wu,"{1} 'at' {0}",wu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Su={};function Ou(e,t,n){"string"!=typeof t&&(n=t,t=e[ju.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Su[t]=e,n&&(Su[t][ju.ExtraData]=n)}function Tu(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Eu(t);if(n)return n;var i=t.split("-")[0];if(n=Eu(i))return n;if("en"===i)return Cu;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function ku(e){return Tu(e)[ju.CurrencyCode]||null}function xu(e){return Tu(e)[ju.PluralCase]}function Eu(e){return e in Su||(Su[e]=ne.ng&&ne.ng.common&&ne.ng.common.locales&&ne.ng.common.locales[e]),Su[e]}var ju=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({}),Au=["zero","one","two","few","many"],Iu="en-US";function Mu(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: ".concat(e)+" [Expected=> ".concat(null," ").concat("!="," ").concat(t," <=Actual]"))}(n,t),"string"==typeof e&&(Iu=e.toLowerCase().replace(/_/g,"-"))}var Pu={marker:"element"},Du={marker:"comment"},Ru=[],Nu=-1,Lu=0,Fu=0;function Bu(e,t,n,i){for(var r=i[11],o=null,s=null,a=[],l=0;l<n.length;l++){var c=n[l];if("string"==typeof c){var u=Ao(c,r),h=n[++l];s=o,o=Wu(e,i,h,3,u,null),a.push(h),Wt()}else if("number"==typeof c)switch(7&c){case 1:var d=c>>>17;s=zu(e,o,d===t?i[6]:kt(e,d),s,i);break;case 0:var f=c>=0,p=(f?c:~c)>>>3;a.push(p),s=o,(o=kt(e,p))&&zt(o,f);break;case 5:s=o=kt(e,c>>>3),zt(o,!1);break;case 4:var g=n[++l],m=n[++l];co(kt(e,c>>>3),i,g,m,null,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(c,'"'))}else switch(c){case Du:var b=n[++l],v=n[++l],y=r.createComment(b);s=o,o=Wu(e,i,v,5,y,null),a.push(v),lr(y,i),Wt();break;case Pu:var _=n[++l],w=n[++l];s=o,o=Wu(e,i,w,3,r.createElement(_),_),a.push(w);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(c,'"'))}}return Wt(),a}function Hu(e,t,n,i,r,o){for(var s=!1,a=0;a<i.length;a++){var l=i[a],c=i[++a];if(l&o)for(var u="",h=a+1;h<=a+c;h++){var d=i[h];if("string"==typeof d)u+=d;else if("number"==typeof d)if(d<0)u+=Rn(n[r-d]);else{var f=d>>>2;switch(3&d){case 1:var p=i[++h],g=i[++h];Qr(e,kt(e,f),n,p,u,n[11],g,!1);break;case 0:ko(n,f,u);break;case 2:s=$u(e,t,i[++h],n,u);break;case 3:Vu(e,t,i[++h],r,n,s)}}}a+=c}}function Vu(e,t,n,i,r,o){var s=t[n],a=r[s.currentCaseLViewIndex];null!==a&&Hu(e,t,r,s.update[a],i,o?-1:Lu)}function $u(e,t,n,i,r){!function e(t,n,i,r){var o=n[i],s=r[o.currentCaseLViewIndex];if(null!==s)for(var a=o.remove[s],l=0;l<a.length;l++){var c=a[l],u=c>>>3;switch(7&c){case 3:Gu(t,r,u,!1);break;case 6:e(t,n,u,r)}}}(e,t,n,i);var o=!1,s=t[n],a=function(e,t){var n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:var i=function(e,t){var n=xu(t)(parseInt(e,10)),i=Au[n];return void 0!==i?i:"other"}(t,Iu);-1===(n=e.cases.indexOf(i))&&"other"!==i&&(n=e.cases.indexOf("other"));break;case 0:n=e.cases.indexOf("other")}return n}(s,r);return i[s.currentCaseLViewIndex]=-1!==a?a:null,a>-1&&(Bu(e,-1,s.create[a],i),o=!0),o}function zu(e,t,n,i,r){var o=t.next;i||(i=n),i===n&&t!==n.child?(t.next=n.child,n.child=t):i!==n&&t!==i.next?(t.next=i.next,i.next=t):t.next=null,n!==r[6]&&(t.parent=n);for(var s=t.next;s;)s.next===t&&(s.next=o),s=s.next;if(1===t.type)return qo(e,r,t),t;zo(e,r,Tt(t,r),t);var a=r[t.index];return 0!==t.type&&st(a)&&zo(e,r,a[7],t),t}function Gu(e,t,n,i){var r=kt(e,n),o=Ot(n,t);o&&Wo(t[11],o);var s=xt(t,n);st(s)&&0!==r.type&&Wo(t[11],s[7]),i&&(r.flags|=64)}function Wu(e,t,n,i,r,o){var s=$t();t[n+20]=r;var a=Br(e,t[6],n,i,o,null);return s&&s.next===a&&(s.next=null),a}var Uu,Ku=/\ufffd(\d+):?\d*\ufffd/gi,qu=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Xu=/\ufffd(\d+)\ufffd/,Yu=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ju=[],Qu=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Zu=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,eh=/\uE500/g;function th(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=[null,null],o=e.split(Ku),s=0,a=0;a<o.length;a++){var l=o[a];if(1&a){var c=parseInt(l,10);r.push(-1-c),s|=rh(c)}else""!==l&&r.push(l)}return r.push(t<<2|(n?1:0)),n&&r.push(n,i),r[0]=s,r[1]=r.length-2,r}function nh(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n|=rh(e.mainBinding);for(var i=0;i<e.values.length;i++)for(var r=e.values[i],o=0;o<r.length;o++){var s=r[o];if("string"==typeof s)for(;t=Ku.exec(s);)n|=rh(parseInt(t[1],10));else n=nh(s,n)}return n}function ih(e){return e+Uu++}function rh(e){return 1<<Math.min(e,31)}function oh(e){return void 0===e}function sh(e){for(var t,n,i="",r=0,o=!1;null!==(t=Qu.exec(e));)o?t[0]==="".concat("\ufffd","/*").concat(n).concat("\ufffd")&&(r=t.index,o=!1):(i+=e.substring(r,t.index+t[0].length),n=t[1],o=!0);return i+e.substr(r)}function ah(e,t,n,i){for(var r=[],o=[],s=[],a=[],l=[],c=t.values,u=0;u<c.length;u++){for(var h=c[u],d=[],f=0;f<h.length;f++){var p=h[f];if("string"!=typeof p){var g=d.push(p)-1;h[f]="\x3c!--\ufffd".concat(g,"\ufffd--\x3e")}}var m=ch(h.join(""),n,d,e,i);r.push(m.create),o.push(m.remove),s.push(m.update),a.push(m.vars),l.push(m.childIcus)}e.push({type:t.type,vars:a,currentCaseLViewIndex:20+i+1,childIcus:l,cases:t.cases,create:r,remove:o,update:s}),Uu+=Math.max.apply(Math,a)}function lh(e){for(var t=[],n=[],i=1,r=0,o=uh(e=e.replace(Yu,(function(e,t,n){return i="select"===n?0:1,r=parseInt(t.substr(1),10),""}))),s=0;s<o.length;){var a=o[s++].trim();1===i&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&t.push(a);var l=uh(o[s++]);t.length>n.length&&n.push(l)}return{type:i,mainBinding:r,cases:t,values:n}}function ch(e,t,n,i,r){var o=ji(_t()).getInertBodyElement(e);if(!o)throw new Error("Unable to generate inert body element");var s={vars:1,childIcus:[],create:[],remove:[],update:[]};return function e(t,n,i,r,o,s){if(t){for(var l=[];t;){var c=t.nextSibling,u=s+ ++n.vars;switch(t.nodeType){case Node.ELEMENT_NODE:var h=t,d=h.tagName.toLowerCase();if(zi.hasOwnProperty(d)){n.create.push(Pu,d,u,i<<17|1);for(var f=h.attributes,p=0;p<f.length;p++){var g=f.item(p),m=g.name.toLowerCase();g.value.match(Ku)?Ui.hasOwnProperty(m)&&Ae(Gi[m]?th(g.value,u,g.name,Di):Wi[m]?th(g.value,u,g.name,Ri):th(g.value,u,g.name),n.update):n.create.push(u<<3|4,g.name,g.value)}e(t.firstChild,n,u,r,o,s),n.remove.push(u<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var b=t.textContent||"",v=b.match(Ku);n.create.push(v?"":b,u,i<<17|1),n.remove.push(u<<3|3),v&&Ae(th(b,u),n.update);break;case Node.COMMENT_NODE:var y=Xu.exec(t.textContent||"");if(y){var _=parseInt(y[1],10);n.create.push(Du,"",u,i<<17|1),l.push([r[_],u])}else n.vars--;break;default:n.vars--}t=c}for(var w=0;w<l.length;w++){var C=l[w][0],S=l[w][1];ah(o,C,S,s+n.vars);var O=o.length-1;n.vars+=Math.max.apply(Math,Object(a.a)(o[O].vars)),n.childIcus.push(O);var T=nh(C);n.update.push(rh(C.mainBinding),3,-1-C.mainBinding,S<<2|2,O,T,2,S<<2|3,O),n.remove.push(O<<3|6,S<<3|3)}}}((Zi(o)||o).firstChild,s,t,n,i,r),s}function uh(e){if(!e)return[];var t,n=0,i=[],r=[],o=/[{}]/g;for(o.lastIndex=0;t=o.exec(e);){var s=t.index;if("}"==t[0]){if(i.pop(),0==i.length){var a=e.substring(n,s);Yu.test(a)?r.push(lh(a)):r.push(a),n=s+1}}else{if(0==i.length){var l=e.substring(n,s);r.push(l),n=s+1}i.push("{")}}var c=e.substring(n);return r.push(c),r}var hh=/\[(\ufffd.+?\ufffd?)\]/,dh=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,fh=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,ph=/{([A-Z0-9_]+)}/g,gh=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,mh=/\/\*/,bh=/\d+\:(\d+)/;function vh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if(hh.test(e)){var i={},r=[0];n=n.replace(dh,(function(e,t,n){var o=t||n,a=i[o]||[];if(a.length||(o.split("|").forEach((function(e){var t=e.match(bh),n=t?parseInt(t[1],10):0,i=mh.test(e);a.push([n,i,e])})),i[o]=a),!a.length)throw new Error("i18n postprocess: unmatched placeholder - ".concat(o));for(var l=r[r.length-1],c=0,u=0;u<a.length;u++)if(a[u][0]===l){c=u;break}var h=Object(s.a)(a[c],3),d=h[0],f=h[2];return h[1]?r.pop():l!==d&&r.push(d),a.splice(c,1),f}))}return Object.keys(t).length?n=(n=(n=n.replace(fh,(function(e,n,i,r,o,s){return t.hasOwnProperty(i)?"".concat(n).concat(t[i]).concat(s):e}))).replace(ph,(function(e,n){return t.hasOwnProperty(n)?t[n]:e}))).replace(gh,(function(e,n){if(t.hasOwnProperty(n)){var i=t[n];if(!i.length)throw new Error("i18n postprocess: unmatched ICU - ".concat(e," with key: ").concat(n));return i.shift()}return e})):n}function yh(e,t,n){var i=Ht();!function(e){Ru[++Nu]=e}(e),Wa(!0),i.firstCreatePass&&null===i.data[e+20]&&function(e,t,n,i,r){var o=t.blueprint.length-20;Uu=0;var s=$t(),a=Gt()?s:s&&s.parent,l=a&&a!==e[6]?a.index-20:n,c=0;Ju[c]=l;var u=[];if(n>0&&s!==a){var h=s.index-20;Gt()||(h=~h),u.push(h<<3|0)}var d=[],f=[];if(""===i&&oh(r))u.push(i,ih(o),l<<17|1);else for(var p=function(e,t){if(oh(t))return sh(e);var n=e.indexOf(":".concat(t).concat("\ufffd"))+2+t.toString().length,i=e.search(new RegExp("".concat("\ufffd","\\/\\*\\d+:").concat(t).concat("\ufffd")));return sh(e.substring(n,i))}(i,r),g=function(e){return e.replace(eh," ")}(p).split(Zu),m=0;m<g.length;m++){var b=g[m];if(1&m)if("/"===b.charAt(0)){if("#"===b.charAt(1)){var v=parseInt(b.substr(2),10);l=Ju[--c],u.push(v<<3|5)}}else{var y=parseInt(b.substr(1),10),_="#"===b.charAt(0);u.push((_?y:~y)<<3|0,l<<17|1),_&&(Ju[++c]=l=y)}else for(var w=uh(b),C=0;C<w.length;C++)if(1&C){var S=w[C];if("object"!=typeof S)throw new Error('Unable to parse ICU expression in "'.concat(p,'" message.'));var O=ih(o);u.push(Du,"",O,l<<17|1);var T=nh(S);ah(f,S,O,O);var k=f.length-1;d.push(rh(S.mainBinding),3,-1-S.mainBinding,O<<2|2,k,T,2,O<<2|3,k)}else if(""!==w[C]){var x=w[C],E=x.match(Ku),j=ih(o);u.push(E?"":x,j,l<<17|1),E&&Ae(th(x,j),d)}}Uu>0&&function(e,t,n){if(n>0&&e.firstCreatePass){for(var i=0;i<n;i++)e.blueprint.push(null),e.data.push(null),t.push(null);e.expandoInstructions?e.expandoInstructions.push(n):e.expandoStartIndex+=n}}(t,e,Uu),t.data[n+20]={vars:Uu,create:u,update:d,icus:f.length?f:null}}(Bt(),i,e,t,n)}function _h(){var e=Bt();(function(e,t){for(var n=Ru[Nu--],i=e.data[n+20],r=$t(),o=Bu(e,n,i.create,t),s=n+1;s<=r.index-20;){-1===o.indexOf(s)&&Gu(e,t,s,!0);var a=kt(e,s);!a||0!==a.type&&3!==a.type&&4!==a.type||null===a.localNames||(s+=a.localNames.length>>1),s++}})(Ht(),e),Wa(!1)}function wh(e,t,n){yh(e,t,n),_h()}function Ch(e,t){!function(e,t,n,i){for(var r=$t().index-20,o=[],s=0;s<i.length;s+=2)for(var a=i[s],l=i[s+1].split(qu),c=0;c<l.length;c++){var u=l[c];if(1&c)throw new Error("ICU expressions are not yet supported in attributes");if(""!==u)if(u.match(Ku))t.firstCreatePass&&null===t.data[n+20]&&Ae(th(u,r,a),o);else{var h=kt(t,r);3===h.type&&co(h,e,a,u,null,null);var d=null!==h.inputs&&h.inputs[a];d&&To(t,e,d,a,u)}}t.firstCreatePass&&null===t.data[n+20]&&(t.data[n+20]=o)}(Bt(),Ht(),e,t)}function Sh(e){return Ys(Bt(),Jt(),e)&&(Lu|=1<<Fu),Fu++,Sh}function Oh(e){!function(e,t,n){if(Fu>0){var i,r=e.data[n+20],o=null;Array.isArray(r)?i=r:(i=r.update,o=r.icus),Hu(e,o,t,i,Xt()-Fu-1,Lu),Lu=0,Fu=0}}(Ht(),Bt(),e)}function Th(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return vh(e,t)}function kh(e,t,n,i){return w((function(){var r,o=e,s=o.prototype?Object.getPrototypeOf(o.prototype):null,l=s&&s.constructor;null!==t&&(void 0===o.decorators||l&&l.decorators===o.decorators?o.decorators=t:(r=o.decorators).push.apply(r,Object(a.a)(t))),null!==n&&(o.ctorParameters=n),null!==i&&(o.propDecorators=void 0===o.propDecorators||l&&l.propDecorators===o.propDecorators?i:Object.assign(Object.assign({},o.propDecorators),i))}))}var xh=new Map,Eh=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e,i){var r;Object(h.a)(this,n),(r=t.call(this))._parent=i,r._bootstrapComponents=[],r.injector=Object(o.a)(r),r.destroyCbs=[],r.componentFactoryResolver=new mu(Object(o.a)(r));var s=rt(e),a=e[ue]||null;return a&&Mu(a),r._bootstrapComponents=Vn(s.bootstrap),r._r3Injector=Es(e,i,[{provide:Ee,useValue:Object(o.a)(r)},{provide:Hc,useValue:r.componentFactoryResolver}],U(e)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(e),r}return Object(d.a)(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ls.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.Default;return e===Ls||e===Ee||e===pe?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(Ee),jh=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this)).moduleType=e,null!==rt(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(U(t)," vs ").concat(U(t.name)))})(n,xh.get(n),t),xh.set(n,t)}var i=t.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach((function(t){return e(t)}))}(e),i}return Object(d.a)(n,[{key:"create",value:function(e){return new Eh(this.moduleType,e)}}]),n}(je);function Ah(e,t,n){var i=qt()+e,r=Bt();return r[i]===Cr?qs(r,i,n?t.call(n):t()):Xs(r,i)}function Ih(e,t,n,i){return Vh(Bt(),qt(),e,t,n,i)}function Mh(e,t,n,i,r){return $h(Bt(),qt(),e,t,n,i,r)}function Ph(e,t,n,i,r,o){return zh(Bt(),qt(),e,t,n,i,r,o)}function Dh(e,t,n,i,r,o,s){return Gh(Bt(),qt(),e,t,n,i,r,o,s)}function Rh(e,t,n,i,r,o,s,a){var l=qt()+e,c=Bt(),u=Zs(c,l,n,i,r,o);return Ys(c,l+4,s)||u?qs(c,l+5,a?t.call(a,n,i,r,o,s):t(n,i,r,o,s)):Xs(c,l+5)}function Nh(e,t,n,i,r,o,s,a,l){var c=qt()+e,u=Bt(),h=Zs(u,c,n,i,r,o);return Js(u,c+4,s,a)||h?qs(u,c+6,l?t.call(l,n,i,r,o,s,a):t(n,i,r,o,s,a)):Xs(u,c+6)}function Lh(e,t,n,i,r,o,s,a,l,c){var u=qt()+e,h=Bt(),d=Zs(h,u,n,i,r,o);return Qs(h,u+4,s,a,l)||d?qs(h,u+7,c?t.call(c,n,i,r,o,s,a,l):t(n,i,r,o,s,a,l)):Xs(h,u+7)}function Fh(e,t,n,i,r,o,s,a,l,c,u){var h=qt()+e,d=Bt(),f=Zs(d,h,n,i,r,o);return Zs(d,h+4,s,a,l,c)||f?qs(d,h+8,u?t.call(u,n,i,r,o,s,a,l,c):t(n,i,r,o,s,a,l,c)):Xs(d,h+8)}function Bh(e,t,n,i){return Wh(Bt(),qt(),e,t,n,i)}function Hh(e,t){var n=e[t];return n===Cr?void 0:n}function Vh(e,t,n,i,r,o){var s=t+n;return Ys(e,s,r)?qs(e,s+1,o?i.call(o,r):i(r)):Hh(e,s+1)}function $h(e,t,n,i,r,o,s){var a=t+n;return Js(e,a,r,o)?qs(e,a+2,s?i.call(s,r,o):i(r,o)):Hh(e,a+2)}function zh(e,t,n,i,r,o,s,a){var l=t+n;return Qs(e,l,r,o,s)?qs(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):Hh(e,l+3)}function Gh(e,t,n,i,r,o,s,a,l){var c=t+n;return Zs(e,c,r,o,s,a)?qs(e,c+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):Hh(e,c+4)}function Wh(e,t,n,i,r,o){for(var s=t+n,a=!1,l=0;l<r.length;l++)Ys(e,s++,r[l])&&(a=!0);return a?qs(e,s,i.apply(o,r)):Hh(e,s)}function Uh(e,t){var n,i=Ht(),r=e+20;i.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n];if(e===i.name)return i}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var o=n.factory||(n.factory=it(n.type)),s=_e(wa),a=zn(!1),l=o();return zn(a),_e(s),function(e,t,n,i){var r=n+20;r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=i}(i,Bt(),e,l),l}function Kh(e,t,n){var i=Bt(),r=xt(i,e);return Zh(i,Qh(i,e)?Vh(i,qt(),t,r.transform,n,r):r.transform(n))}function qh(e,t,n,i){var r=Bt(),o=xt(r,e);return Zh(r,Qh(r,e)?$h(r,qt(),t,o.transform,n,i,o):o.transform(n,i))}function Xh(e,t,n,i,r){var o=Bt(),s=xt(o,e);return Zh(o,Qh(o,e)?zh(o,qt(),t,s.transform,n,i,r,s):s.transform(n,i,r))}function Yh(e,t,n,i,r,o){var s=Bt(),a=xt(s,e);return Zh(s,Qh(s,e)?Gh(s,qt(),t,a.transform,n,i,r,o,a):a.transform(n,i,r,o))}function Jh(e,t,n){var i=Bt(),r=xt(i,e);return Zh(i,Qh(i,e)?Wh(i,qt(),t,r.transform,n,r):r.transform.apply(r,n))}function Qh(e,t){return e[1].data[t+20].pure}function Zh(e,t){return Ws.isWrapped(t)&&(t=Ws.unwrap(t),e[Xt()]=Cr),t}var ed=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(h.a)(this,n),(e=t.call(this)).__isAsync=i,e}return Object(d.a)(n,[{key:"emit",value:function(e){Object(i.a)(Object(r.a)(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,o){var s,a=function(e){return null},l=function(){return null};e&&"object"==typeof e?(s=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(l=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(s=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(a=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),o&&(l=this.__isAsync?function(){setTimeout((function(){return o()}))}:function(){o()}));var c=Object(i.a)(Object(r.a)(n.prototype),"subscribe",this).call(this,s,a,l);return e instanceof m.a&&e.add(c),c}}]),n}(b.a);function td(){return this._results[Gs()]()}var nd=function(){function e(){Object(h.a)(this,e),this.dirty=!0,this._results=[],this.changes=new ed,this.length=0;var t=Gs(),n=e.prototype;n[t]||(n[t]=td)}return Object(d.a)(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=Ie(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),id=function(){function e(t){Object(h.a)(this,e),this.queryList=t,this.matches=null}return Object(d.a)(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),rd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(h.a)(this,e),this.queries=t}return Object(d.a)(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[],o=0;o<i;o++){var s=n.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new e(r)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==wd(e,t).matches&&this.queries[t].setDirty()}}]),e}(),od=function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(h.a)(this,e),this.predicate=t,this.descendants=n,this.isStatic=i,this.read=r},sd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(h.a)(this,e),this.queries=t}return Object(d.a)(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),ad=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Object(h.a)(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return Object(d.a)(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var i=0;i<n.length;i++){var r=n[i];this.matchTNodeWithReadOption(e,t,ld(t,r)),this.matchTNodeWithReadOption(e,t,Zn(t,e,r,!1,!1))}else n===hu?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Zn(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===Vc||i===fu||i===hu&&0===t.type)this.addMatch(t.index,-2);else{var r=Zn(t,e,i,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function ld(e,t){var n=e.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function cd(e,t,n,i){return-1===n?function(e,t){return 3===e.type||4===e.type?is(Vc,e,t):0===e.type?rs(hu,Vc,e,t):null}(t,e):-2===n?function(e,t,n){return n===Vc?is(Vc,t,e):n===hu?rs(hu,Vc,t,e):n===fu?os(fu,Vc,t,e):void 0}(e,t,i):ei(e,e[1],n,t)}function ud(e,t,n,i){var r=t[19].queries[i];if(null===r.matches){for(var o=e.data,s=n.matches,a=[],l=0;l<s.length;l+=2){var c=s[l];a.push(c<0?null:cd(t,o[c],s[l+1],n.metadata.read))}r.matches=a}return r.matches}function hd(e){var t=Bt(),n=Ht(),i=nn();rn(i+1);var r=wd(n,i);if(e.dirty&&At(t)===r.metadata.isStatic){if(null===r.matches)e.reset([]);else{var o=r.crossesNgTemplate?function e(t,n,i,r){var o=t.queries.getByIndex(i),s=o.matches;if(null!==s)for(var a=ud(t,n,o,i),l=0;l<s.length;l+=2){var c=s[l];if(c>0)r.push(a[l/2]);else{for(var u=s[l+1],h=n[-c],d=10;d<h.length;d++){var f=h[d];f[17]===f[3]&&e(f[1],f,u,r)}if(null!==h[9])for(var p=h[9],g=0;g<p.length;g++){var m=p[g];e(m[1],m,u,r)}}}return r}(n,t,i,[]):ud(n,t,r,i);e.reset(o),e.notifyOnChanges()}return!0}return!1}function dd(e,t,n){pd(Ht(),Bt(),e,t,n,!0)}function fd(e,t,n){pd(Ht(),Bt(),e,t,n,!1)}function pd(e,t,n,i,r,o){e.firstCreatePass&&(_d(e,new od(n,i,o,r),-1),o&&(e.staticViewQueries=!0)),yd(e,t)}function gd(e,t,n,i){bd(Ht(),Bt(),t,n,i,!1,$t(),e)}function md(e,t,n,i){bd(Ht(),Bt(),t,n,i,!0,$t(),e)}function bd(e,t,n,i,r,o,s,a){e.firstCreatePass&&(_d(e,new od(n,i,o,r),s.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a),o&&(e.staticContentQueries=!0)),yd(e,t)}function vd(){return e=Bt(),t=nn(),e[19].queries[t].queryList;var e,t}function yd(e,t){var n=new nd;Xr(e,t,n,n.destroy),null===t[19]&&(t[19]=new rd),t[19].queries.push(new id(n))}function _d(e,t,n){null===e.queries&&(e.queries=new sd),e.queries.track(new ad(t,n))}function wd(e,t){return e.queries.getByIndex(t)}function Cd(e,t){return rs(hu,Vc,e,t)}function Sd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P.Default,t=ss(!0);if(null!=t||e&P.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}var Od=function(){return{"\u0275\u0275attribute":ea,"\u0275\u0275attributeInterpolate1":ua,"\u0275\u0275attributeInterpolate2":ha,"\u0275\u0275attributeInterpolate3":da,"\u0275\u0275attributeInterpolate4":fa,"\u0275\u0275attributeInterpolate5":pa,"\u0275\u0275attributeInterpolate6":ga,"\u0275\u0275attributeInterpolate7":ma,"\u0275\u0275attributeInterpolate8":ba,"\u0275\u0275attributeInterpolateV":va,"\u0275\u0275defineComponent":Ge,"\u0275\u0275defineDirective":Qe,"\u0275\u0275defineInjectable":N,"\u0275\u0275defineInjector":L,"\u0275\u0275defineNgModule":Xe,"\u0275\u0275definePipe":Ze,"\u0275\u0275directiveInject":wa,"\u0275\u0275getFactoryOf":oi,"\u0275\u0275getInheritedFactory":si,"\u0275\u0275inject":Ce,"\u0275\u0275injectAttribute":Ca,"\u0275\u0275invalidFactory":Sa,"\u0275\u0275invalidFactoryDep":Se,"\u0275\u0275injectPipeChangeDetectorRef":Sd,"\u0275\u0275templateRefExtractor":Cd,"\u0275\u0275NgOnChangesFeature":ft,"\u0275\u0275ProvidersFeature":Nc,"\u0275\u0275CopyDefinitionFeature":xc,"\u0275\u0275InheritDefinitionFeature":_c,"\u0275\u0275nextContext":Va,"\u0275\u0275namespaceHTML":vn,"\u0275\u0275namespaceMathML":bn,"\u0275\u0275namespaceSVG":mn,"\u0275\u0275enableBindings":Lt,"\u0275\u0275disableBindings":Ft,"\u0275\u0275elementStart":ka,"\u0275\u0275elementEnd":xa,"\u0275\u0275element":Ea,"\u0275\u0275elementContainerStart":ja,"\u0275\u0275elementContainerEnd":Aa,"\u0275\u0275elementContainer":Ia,"\u0275\u0275pureFunction0":Ah,"\u0275\u0275pureFunction1":Ih,"\u0275\u0275pureFunction2":Mh,"\u0275\u0275pureFunction3":Ph,"\u0275\u0275pureFunction4":Dh,"\u0275\u0275pureFunction5":Rh,"\u0275\u0275pureFunction6":Nh,"\u0275\u0275pureFunction7":Lh,"\u0275\u0275pureFunction8":Fh,"\u0275\u0275pureFunctionV":Bh,"\u0275\u0275getCurrentView":Ma,"\u0275\u0275restoreView":Vt,"\u0275\u0275listener":Ra,"\u0275\u0275projection":Ua,"\u0275\u0275syntheticHostProperty":bc,"\u0275\u0275syntheticHostListener":Na,"\u0275\u0275pipeBind1":Kh,"\u0275\u0275pipeBind2":qh,"\u0275\u0275pipeBind3":Xh,"\u0275\u0275pipeBind4":Yh,"\u0275\u0275pipeBindV":Jh,"\u0275\u0275projectionDef":za,"\u0275\u0275hostProperty":mc,"\u0275\u0275property":Oa,"\u0275\u0275propertyInterpolate":Ka,"\u0275\u0275propertyInterpolate1":qa,"\u0275\u0275propertyInterpolate2":Xa,"\u0275\u0275propertyInterpolate3":Ya,"\u0275\u0275propertyInterpolate4":Ja,"\u0275\u0275propertyInterpolate5":Qa,"\u0275\u0275propertyInterpolate6":Za,"\u0275\u0275propertyInterpolate7":el,"\u0275\u0275propertyInterpolate8":tl,"\u0275\u0275propertyInterpolateV":nl,"\u0275\u0275pipe":Uh,"\u0275\u0275queryRefresh":hd,"\u0275\u0275viewQuery":fd,"\u0275\u0275staticViewQuery":dd,"\u0275\u0275staticContentQuery":md,"\u0275\u0275loadQuery":vd,"\u0275\u0275contentQuery":gd,"\u0275\u0275reference":_a,"\u0275\u0275classMap":yl,"\u0275\u0275classMapInterpolate1":zl,"\u0275\u0275classMapInterpolate2":Gl,"\u0275\u0275classMapInterpolate3":Wl,"\u0275\u0275classMapInterpolate4":Ul,"\u0275\u0275classMapInterpolate5":Kl,"\u0275\u0275classMapInterpolate6":ql,"\u0275\u0275classMapInterpolate7":Xl,"\u0275\u0275classMapInterpolate8":Yl,"\u0275\u0275classMapInterpolateV":Jl,"\u0275\u0275styleMap":bl,"\u0275\u0275styleMapInterpolate1":Ql,"\u0275\u0275styleMapInterpolate2":Zl,"\u0275\u0275styleMapInterpolate3":ec,"\u0275\u0275styleMapInterpolate4":tc,"\u0275\u0275styleMapInterpolate5":nc,"\u0275\u0275styleMapInterpolate6":ic,"\u0275\u0275styleMapInterpolate7":rc,"\u0275\u0275styleMapInterpolate8":oc,"\u0275\u0275styleMapInterpolateV":sc,"\u0275\u0275styleProp":gl,"\u0275\u0275stylePropInterpolate1":ac,"\u0275\u0275stylePropInterpolate2":lc,"\u0275\u0275stylePropInterpolate3":cc,"\u0275\u0275stylePropInterpolate4":uc,"\u0275\u0275stylePropInterpolate5":hc,"\u0275\u0275stylePropInterpolate6":dc,"\u0275\u0275stylePropInterpolate7":fc,"\u0275\u0275stylePropInterpolate8":pc,"\u0275\u0275stylePropInterpolateV":gc,"\u0275\u0275classProp":ml,"\u0275\u0275select":Er,"\u0275\u0275advance":xr,"\u0275\u0275template":ya,"\u0275\u0275text":Ml,"\u0275\u0275textInterpolate":Pl,"\u0275\u0275textInterpolate1":Dl,"\u0275\u0275textInterpolate2":Rl,"\u0275\u0275textInterpolate3":Nl,"\u0275\u0275textInterpolate4":Ll,"\u0275\u0275textInterpolate5":Fl,"\u0275\u0275textInterpolate6":Bl,"\u0275\u0275textInterpolate7":Hl,"\u0275\u0275textInterpolate8":Vl,"\u0275\u0275textInterpolateV":$l,"\u0275\u0275i18n":wh,"\u0275\u0275i18nAttributes":Ch,"\u0275\u0275i18nExp":Sh,"\u0275\u0275i18nStart":yh,"\u0275\u0275i18nEnd":_h,"\u0275\u0275i18nApply":Oh,"\u0275\u0275i18nPostprocess":Th,"\u0275\u0275resolveWindow":Fn,"\u0275\u0275resolveDocument":Bn,"\u0275\u0275resolveBody":Hn,"\u0275\u0275setComponentScope":We,"\u0275\u0275setNgModuleScope":Ye,"\u0275\u0275sanitizeHtml":tr,"\u0275\u0275sanitizeStyle":nr,"\u0275\u0275sanitizeResourceUrl":rr,"\u0275\u0275sanitizeScript":or,"\u0275\u0275sanitizeUrl":ir,"\u0275\u0275sanitizeUrlOrResourceUrl":sr}}(),Td=[],kd=[];function xd(e,t){kd.push({moduleType:e,ngModule:t})}var Ed=!1;function jd(e){return Array.isArray(e)?e.every(jd):!!Y(e)}function Ad(e,t){var n=Ie(t.declarations||Td),i=null;Object.defineProperty(e,ce,{configurable:!0,get:function(){return null===i&&((i=re().compileNgModule(Od,"ng:///".concat(e.name,"/\u0275mod.js"),{type:e,bootstrap:Ie(t.bootstrap||Td).map(Y),declarations:n.map(Y),imports:Ie(t.imports||Td).map(Y).map(Dd),exports:Ie(t.exports||Td).map(Y).map(Dd),schemas:t.schemas?Ie(t.schemas):null,id:t.id||null})).schemas||(i.schemas=[])),i}});var r=null;Object.defineProperty(e,$,{get:function(){if(null===r){var n={name:e.name,type:e,deps:ws(e),providers:t.providers||Td,imports:[(t.imports||Td).map(Y),(t.exports||Td).map(Y)]};r=re().compileInjector(Od,"ng:///".concat(e.name,"/\u0275inj.js"),n)}return r},configurable:!1})}function Id(e,t){var n=Ie(t.declarations||Td),i=Pd(e);n.forEach((function(t){t.hasOwnProperty(se)?Md(et(t),i):t.hasOwnProperty(ae)||t.hasOwnProperty(le)||(t.ngSelectorScope=e)}))}function Md(e,t){e.directiveDefs=function(){return Array.from(t.compilation.directives).map((function(e){return e.hasOwnProperty(se)?et(e):tt(e)})).filter((function(e){return!!e}))},e.pipeDefs=function(){return Array.from(t.compilation.pipes).map((function(e){return nt(e)}))},e.schemas=t.schemas,e.tView=null}function Pd(e){if(!Rd(e))throw new Error("".concat(e.name," does not have a module def (\u0275mod property)"));var t=rt(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;var n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Vn(t.imports).forEach((function(e){var t=e;if(!Rd(t))throw new Error("Importing ".concat(t.name," which does not have a \u0275mod property"));var i=Pd(t);i.exported.directives.forEach((function(e){return n.compilation.directives.add(e)})),i.exported.pipes.forEach((function(e){return n.compilation.pipes.add(e)}))})),Vn(t.declarations).forEach((function(e){nt(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)})),Vn(t.exports).forEach((function(e){var t=e;if(Rd(t)){var i=Pd(t);i.exported.directives.forEach((function(e){n.compilation.directives.add(e),n.exported.directives.add(e)})),i.exported.pipes.forEach((function(e){n.compilation.pipes.add(e),n.exported.pipes.add(e)}))}else nt(t)?n.exported.pipes.add(t):n.exported.directives.add(t)})),t.transitiveCompileScopes=n,n}function Dd(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function Rd(e){return!!rt(e)}var Nd=0;function Ld(e,t){var n=null;Bd(e,t||{}),Object.defineProperty(e,ae,{get:function(){if(null===n){var i=Fd(e,t||{});n=re().compileDirective(Od,i.sourceMapUrl,i.metadata)}return n},configurable:!1})}function Fd(e,t){var n=e&&e.name,i="ng:///".concat(n,"/\u0275dir.js"),r=re(),o=Vd(e,t);return o.typeSourceSpan=r.createParseSourceSpan("Directive",n,i),o.usesInheritance&&$d(e),{metadata:o,sourceMapUrl:i}}function Bd(e,t){var n=null;Object.defineProperty(e,he,{get:function(){if(null===n){var i=Fd(e,t),r=re();n=r.compileFactory(Od,"ng:///".concat(e.name,"/\u0275fac.js"),Object.assign(Object.assign({},i.metadata),{injectFn:"directiveInject",target:r.R3FactoryTarget.Directive}))}return n},configurable:!1})}function Hd(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function Vd(e,t){var n,i=_s(),r=i.ownPropMetadata(e);return{name:e.name,type:e,typeArgumentCount:0,selector:void 0!==t.selector?t.selector:null,deps:ws(e),host:t.host||Ve,propMetadata:r,inputs:t.inputs||$e,outputs:t.outputs||$e,queries:zd(e,r,Gd),lifecycle:{usesOnChanges:i.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!Hd(e),exportAs:(n=t.exportAs,void 0===n?null:Kd(n)),providers:t.providers||null,viewQueries:zd(e,r,Wd)}}function $d(e){for(var t=Object.prototype,n=Object.getPrototypeOf(e.prototype).constructor;n&&n!==t;)tt(n)||et(n)||!Xd(n)||Ld(n,null),n=Object.getPrototypeOf(n)}function zd(e,t,n){var i=[],r=function(r){if(t.hasOwnProperty(r)){var o=t[r];o.forEach((function(t){if(n(t)){if(!t.selector)throw new Error("Can't construct a query for the property \"".concat(r,'" of ')+'"'.concat(Nn(e),"\" since the query selector wasn't defined."));if(o.some(Ud))throw new Error("Cannot combine @Input decorators with query decorators");i.push(function(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?Kd(n):Y(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static};var n}(r,t))}}))}};for(var o in t)r(o);return i}function Gd(e){var t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function Wd(e){var t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function Ud(e){return"Input"===e.ngMetadataName}function Kd(e){return e.split(",").map((function(e){return e.trim()}))}var qd=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Xd(e){var t=_s();if(qd.some((function(n){return t.hasLifecycleHook(e,n)})))return!0;var n=t.propMetadata(e);for(var i in n)for(var r=n[i],o=0;o<r.length;o++){var s=r[o],a=s.ngMetadataName;if(Ud(s)||Gd(s)||Wd(s)||"Output"===a||"HostBinding"===a||"HostListener"===a)return!0}return!1}var Yd=O("Directive",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),void 0,void 0,(function(e,t){return Zd(e,t)})),Jd=O("Component",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({changeDetection:Be.Default},e)}),Yd,void 0,(function(e,t){return Qd(e,t)})),Qd=function(e,t){var n=null;!function(e,t){Vs(t)&&(Bs.set(e,t),Hs.add(e))}(e,t),Bd(e,t),Object.defineProperty(e,se,{get:function(){if(null===n){var i=re();if(Vs(t)){var r=["Component '".concat(e.name,"' is not resolved:")];throw t.templateUrl&&r.push(" - templateUrl: ".concat(t.templateUrl)),t.styleUrls&&t.styleUrls.length&&r.push(" - styleUrls: ".concat(JSON.stringify(t.styleUrls))),r.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(r.join("\n"))}var o=t.preserveWhitespaces;void 0===o&&(o=!1);var s=t.encapsulation;void 0===s&&(s=He.Emulated);var a=t.templateUrl||"ng:///".concat(e.name,"/template.html"),l=Object.assign(Object.assign({},Vd(e,t)),{typeSourceSpan:i.createParseSourceSpan("Component",e.name,a),template:t.template||"",preserveWhitespaces:o,styles:t.styles||$e,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:s,interpolation:t.interpolation,viewProviders:t.viewProviders||null});Nd++;try{l.usesInheritance&&$d(e),n=i.compileComponent(Od,a,l)}finally{Nd--}if(0===Nd&&function(){if(!Ed){Ed=!0;try{for(var e=kd.length-1;e>=0;e--){var t=kd[e],n=t.moduleType,i=t.ngModule;i.declarations&&i.declarations.every(jd)&&(kd.splice(e,1),Id(n,i))}}finally{Ed=!1}}}(),void 0!==e.ngSelectorScope){var c=Pd(e.ngSelectorScope);Md(n,c)}}return n},configurable:!1})},Zd=Ld,ef=O("NgModule",(function(e){return e}),void 0,void 0,(function(e,t){return tf(e,t)})),tf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ad(e,t),xd(e,t)},nf=new fe("Application Initializer"),rf=function(){var e=function(){function e(t){var n=this;Object(h.a)(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return Object(d.a)(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();Pa(r)&&t.push(r)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ce(nf,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac}),e}(),of=new fe("AppId"),sf={provide:of,useFactory:function(){return"".concat(af()).concat(af()).concat(af())},deps:[]};function af(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var lf=new fe("Platform Initializer"),cf=new fe("Platform ID"),uf=new fe("appBootstrapListener"),hf=function(){var e=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac}),e}(),df=new fe("LocaleId"),ff=new fe("DefaultCurrencyCode"),pf=function e(t,n){Object(h.a)(this,e),this.ngModuleFactory=t,this.componentFactories=n},gf=function(e){return new jh(e)},mf=gf,bf=function(e){return Promise.resolve(gf(e))},vf=function(e){var t=gf(e),n=Vn(rt(e).declarations).reduce((function(e,t){var n=et(t);return n&&e.push(new yu(n)),e}),[]);return new pf(t,n)},yf=vf,_f=function(e){return Promise.resolve(vf(e))},wf=function(){var e=function(){function e(){Object(h.a)(this,e),this.compileModuleSync=mf,this.compileModuleAsync=bf,this.compileModuleAndAllComponentsSync=yf,this.compileModuleAndAllComponentsAsync=_f}return Object(d.a)(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac}),e}(),Cf=function(){return Promise.resolve(0)}();function Sf(e){"undefined"==typeof Zone?Cf.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Of=function(){function e(t){var n,i,r=t.enableLongStackTrace,o=void 0!==r&&r,s=t.shouldCoalesceEventChangeDetection,a=void 0!==s&&s;if(Object(h.a)(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ed(!1),this.onMicrotaskEmpty=new ed(!1),this.onStable=new ed(!1),this.onError=new ed(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=ne.requestAnimationFrame,t=ne.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,i=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ne,(function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(function(){e.lastRequestAnimationFrameId=-1,Ef(e),xf(e)}),void 0,(function(){}),(function(){}))),e.fakeTopEventTask.invoke()})),Ef(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:i},onInvokeTask:function(e,t,r,o,s,a){try{return jf(n),e.invokeTask(r,o,s,a)}finally{i&&"eventTask"===o.type&&i(),Af(n)}},onInvoke:function(e,t,i,r,o,s,a){try{return jf(n),e.invoke(i,r,o,s,a)}finally{Af(n)}},onHasTask:function(e,t,i,r){e.hasTask(i,r),t===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,Ef(n),xf(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,i,r){return e.handleError(i,r),n.runOutsideAngular((function(){return n.onError.emit(r)})),!1}})}return Object(d.a)(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,e,kf,Tf,Tf);try{return r.runTask(o,t,n)}finally{r.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Tf(){}var kf={};function xf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Ef(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function jf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Af(e){e._nesting--,xf(e)}var If=function(){function e(){Object(h.a)(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ed,this.onMicrotaskEmpty=new ed,this.onStable=new ed,this.onError=new ed}return Object(d.a)(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,i){return e.apply(t,n)}}]),e}(),Mf=function(){var e=function(){function e(t){var n=this;Object(h.a)(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return Object(d.a)(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Of.assertNotInAngularZone(),Sf((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Sf((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var i=this,r=-1;t&&t>0&&(r=setTimeout((function(){i._callbacks=i._callbacks.filter((function(e){return e.timeoutId!==r})),e(i._didWork,i.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ce(Of))},e.\u0275prov=N({token:e,factory:e.\u0275fac}),e}(),Pf=function(){var e=function(){function e(){Object(h.a)(this,e),this._applications=new Map,Nf.addToWindow(this)}return Object(d.a)(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Nf.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac}),e}();function Df(e){Nf=e}var Rf,Nf=new(function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Lf=function(e,t,n){var i=new jh(n);return Promise.resolve(i)},Ff=new fe("AllowMultipleToken"),Bf=function e(t,n){Object(h.a)(this,e),this.name=t,this.token=n};function Hf(e){if(Rf&&!Rf.destroyed&&!Rf.injector.get(Ff,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Rf=e.get(Gf);var t=e.get(lf,null);return t&&t.forEach((function(e){return e()})),Rf}function Vf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(t),r=new fe(i);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=zf();if(!o||o.injector.get(Ff,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{var s=n.concat(t).concat({provide:r,useValue:!0},{provide:Cs,useValue:"platform"});Hf(Ls.create({providers:s,name:i}))}return $f(r)}}function $f(e){var t=zf();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function zf(){return Rf&&!Rf.destroyed?Rf:null}var Gf=function(){var e=function(){function e(t){Object(h.a)(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return Object(d.a)(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,i,r=this,o=(i=t&&t.ngZoneEventCoalescing||!1,"noop"===(n=t?t.ngZone:void 0)?new If:("zone.js"===n?void 0:n)||new Of({enableLongStackTrace:xi(),shouldCoalesceEventChangeDetection:i})),s=[{provide:Of,useValue:o}];return o.run((function(){var t=Ls.create({providers:s,parent:r.injector,name:e.moduleType.name}),n=e.create(t),i=n.injector.get(ui,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Kf(r._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){i.handleError(e)}})})),function(e,t,i){try{var o=((s=n.injector.get(rf)).runInitializers(),s.donePromise.then((function(){return Mu(n.injector.get(df,"en-US")||"en-US"),r._moduleDoBootstrap(n),n})));return Pa(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(a){throw t.runOutsideAngular((function(){return e.handleError(a)})),a}var s}(i,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Wf({},n);return Lf(0,0,e).then((function(e){return t.bootstrapModuleFactory(e,i)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Uf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(U(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ce(Ls))},e.\u0275prov=N({token:e,factory:e.\u0275fac}),e}();function Wf(e,t){return Array.isArray(t)?t.reduce(Wf,e):Object.assign(Object.assign({},e),t)}var Uf=function(){var e=function(){function e(t,n,i,r,o,s){var a=this;Object(h.a)(this,e),this._zone=t,this._console=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=xi(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var l=new v.a((function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){e.next(a._stable),e.complete()}))})),c=new v.a((function(e){var t;a._zone.runOutsideAngular((function(){t=a._zone.onStable.subscribe((function(){Of.assertNotInAngularZone(),Sf((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){Of.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(y.a)(l,c.pipe(Object(_.a)()))}return Object(d.a)(e,[{key:"bootstrap",value:function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Fc?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(Ee),o=n.create(Ls.NULL,[],t||n.selector,r);o.onDestroy((function(){i._unloadComponent(o)}));var s=o.injector.get(Mf,null);return s&&o.injector.get(Pf).registerApplication(o.location.nativeElement,s),this._loadComponent(o),xi()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=Object(l.a)(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var i,r=Object(l.a)(this._views);try{for(r.s();!(i=r.n()).done;)i.value.checkNoChanges()}catch(o){r.e(o)}finally{r.f()}}}catch(s){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Kf(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(uf,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Kf(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ce(Of),Ce(hf),Ce(Ls),Ce(ui),Ce(Hc),Ce(rf))},e.\u0275prov=N({token:e,factory:e.\u0275fac}),e}();function Kf(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var qf=function e(){Object(h.a)(this,e)},Xf=function e(){Object(h.a)(this,e)},Yf={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Jf=function(){var e=function(){function e(t,n){Object(h.a)(this,e),this._compiler=t,this._config=n||Yf}return Object(d.a)(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,i=e.split("#"),r=Object(s.a)(i,2),o=r[0],a=r[1];return void 0===a&&(a="default"),n("crnd")(o).then((function(e){return e[a]})).then((function(e){return Qf(e,o,a)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=e.split("#"),i=Object(s.a)(t,2),r=i[0],o=i[1],a="NgFactory";return void 0===o&&(o="default",a=""),n("crnd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[o+a]})).then((function(e){return Qf(e,r,o)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ce(wf),Ce(Xf,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac}),e}();function Qf(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Zf=function(e){return null},ep=Vf(null,"core",[{provide:cf,useValue:"unknown"},{provide:Gf,deps:[Ls]},{provide:Pf,deps:[]},{provide:hf,deps:[]}]),tp=[{provide:Uf,useClass:Uf,deps:[Of,hf,Ls,ui,Hc,rf]},{provide:vu,deps:[Of],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:rf,useClass:rf,deps:[[new E,nf]]},{provide:wf,useClass:wf,deps:[]},sf,{provide:su,useFactory:function(){return cu},deps:[]},{provide:au,useFactory:function(){return uu},deps:[]},{provide:df,useFactory:function(e){return Mu(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new x(df),new E,new A]]},{provide:ff,useValue:"USD"}],np=function(){var e=function e(t){Object(h.a)(this,e)};return e.\u0275mod=Xe({type:e}),e.\u0275inj=L({factory:function(t){return new(t||e)(Ce(Uf))},providers:tp}),e}()},foSv:function(e,t,n){"use strict";function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return i}))},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("2fFW"),r=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(i.a.useDeprecatedSynchronousErrorHandling)throw e;Object(r.a)(e)},complete:function(){}}},hAiv:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),r=n("z6cu"),o=n("lJxs"),s=n("JIr8"),a=n("vkgz"),l=n("9nlD"),c=n("AytR"),u=n("H4hQ"),h=n("fXoL"),d=n("tk/3"),f=c.a.apiBaseUrl+"/api/security",p=function(){function e(e,t,n){this.http=e,this.notificationService=t,this.authService=n}return e.prototype.register=function(e){var t=this;return this.http.post(f+"/register",e).pipe(Object(o.a)((function(e){return t.notificationService.success("Successfully registered!"),e})),Object(s.a)((function(e){return t.notificationService.error(e),Object(r.a)(e)})))},e.prototype.deleteAccount=function(){var e=this;return this.http.delete(f+"/me",this.authService.getHttpHeaders()).pipe(Object(o.a)((function(t){return e.notificationService.success("Successfully deleted!"),t})),Object(s.a)((function(t){return e.notificationService.error(t),Object(r.a)(t)})))},e.prototype.resetRequest=function(e){var t=this;return this.http.get(f+"/reset-password-request/"+e,{responseType:"text"}).pipe(Object(o.a)((function(e){return t.notificationService.success(e),e})),Object(s.a)((function(e){return t.notificationService.error(e.error,e.message),Object(r.a)(e)})))},e.prototype.resetPassword=function(e){var t=this;return this.http.put(f+"/reset-password",e,{responseType:"text"}).pipe(Object(o.a)((function(e){return t.notificationService.success(e||"Password reset successfully"),e})),Object(s.a)((function(e){return t.notificationService.error(e.error,e.message),Object(r.a)(e)})))},e.prototype.getActivePricingPackages=function(){return this.http.get(f+"/active-pricing-packages")},e.prototype.getActivePricingDbPackages=function(){return this.http.get(f+"/active-pricing-database-packages")},e.prototype.activateAccountRequest=function(){var e=this;return this.http.get(f+"/activate-account-request",Object(i.a)(Object(i.a)({},this.authService.getHttpHeaders()),{responseType:"text"})).pipe(Object(a.a)((function(t){return e.notificationService.success(t)})),Object(s.a)((function(t){return e.notificationService.error(t),Object(r.a)(t)})))},e.prototype.activateAccount=function(e){var t=this;return this.http.post(f+"/activate-account",{activationCode:e},Object(i.a)(Object(i.a)({},this.authService.getHttpHeaders()),{responseType:"text"})).pipe(Object(a.a)((function(){return t.authService.user.isActivated=!0})))},e.\u0275fac=function(t){return new(t||e)(h.Xb(d.a),h.Xb(l.a),h.Xb(u.a))},e.\u0275prov=h.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},iFvM:function(e,t,n){"use strict";n.d(t,"e",(function(){return i.b})),n.d(t,"d",(function(){return i.a})),n.d(t,"k",(function(){return i.d})),n.d(t,"l",(function(){return i.e})),n.d(t,"i",(function(){return i.c})),n.d(t,"p",(function(){return i.f})),n.d(t,"s",(function(){return i.g})),n.d(t,"t",(function(){return i.h})),n.d(t,"w",(function(){return i.i})),n.d(t,"b",(function(){return a})),n.d(t,"y",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"m",(function(){return u})),n.d(t,"v",(function(){return h})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"r",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"q",(function(){return b})),n.d(t,"u",(function(){return v})),n.d(t,"x",(function(){return y})),n.d(t,"j",(function(){return _})),n.d(t,"g",(function(){return C})),n.d(t,"f",(function(){return S})),n.d(t,"c",(function(){return O}));var i=n("lM/l"),r=n("mrSG"),o=n("TwVa");function s(e){return Array.isArray(e)&&e.length||!Array.isArray(e)&&e}var a=function(e){return e.map((function(e){return"object"!=typeof e?{fieldName:e}:e})).filter((function(e){return e.fieldName}))};function l(e,t){return e.length===t.length&&e.every((function(e){var n,i,r=t.find((function(t){return t.fieldName===e.fieldName}));return!!r&&(n=r,i=e,["dataType","fieldName","isKey","size","isNullable","newFieldName","isIdentity"].every((function(e){return n[e]===i[e]})))}))}function c(e,t){return!(!e||!t||e.objectName!==t.objectName||e.schemaName!==t.schemaName)&&(e.objectType!==o.DbObjectType.Table?e.sqlText===t.sqlText:l(h(e),h(t)))}function u(e,t){if(void 0===t&&(t=null),!e)return null;var n=Object.entries(e).filter((function(e){var n=e[0];return s(e[1])&&n!==t})).map((function(e){var t,n=e[1];return{AndOr:"And",fieldName:(t=e[0],null==t?void 0:t.replace(/\s\w{1,}$/,"")),operation:o.Operation.In,value:n}}));return s(n)?n:null}function h(e){if(!e)return[];var t=(e.primaryKeys||[]).map((function(e){return e.fieldName}));return e.fields.map((function(e){return Object(r.a)(Object(r.a)({},e),{isKey:t.includes(e.fieldName)})}))}function d(e){return a(e).map((function(e){var t=e.isKey||!1;return{fieldName:e.fieldName,dataType:e.dataType||o.SQLDataTypes.NVARCHAR,size:g(e),isKey:t,isNullable:"boolean"==typeof e.isNullable?e.isNullable:t}}))}function f(e,t){return a(e).map((function(e){var n="boolean"!=typeof e.isNullable||e.isNullable,i={fieldName:e.fieldName,dataType:e.dataType||o.SQLDataTypes.NVARCHAR,size:g(e),isNullable:n,isIdentity:Boolean(e.isIdentity)};return(null==t?void 0:t.has(e.fieldName))&&(i.newFieldName=i.fieldName,i.fieldName=t.get(e.fieldName)),i}))}function p(e){return e.filter((function(e){return e.isKey})).map((function(e){return{fieldName:e.fieldName}}))}function g(e){return e.dataType!==o.SQLDataTypes.NVARCHAR&&e.dataType||e.size?e.size:o.SqlTypesSizes[o.SQLDataTypes.NVARCHAR]}function m(e){return e.replace(/&|\+|\)|\(|\/|@|\:|;|\?|\!|\*|\-/g,"").replace(/\s/g,"_")}function b(e){void 0===e&&(e="");var t=e.match(/\/sql-client\/[\w-]+\/([\w-]+)\/*/);return t&&"view"===t[1].toLowerCase()?o.DbObjectType.View:t&&"procedure"===t[1].toLowerCase()?o.DbObjectType.Procedure:o.DbObjectType.Table}function v(e){return"Successfully inserted: "+e.inserted.toLocaleString()+", updated: "+e.updated.toLocaleString()+", deleted: "+e.deleted.toLocaleString()}function y(e){var t=(e||"").split(".");return[2===t.length?t[0]:"dbo",2===t.length?t[1]:t[0]]}function _(e){return e.split(/\s{1,}/).pop().replace(/\||\(/,"_").replace(")","").replace(/^(\w{1,}\.)/,"")}var w=n("ztEp");function C(e,t){if(null==e)return null;switch(t){case o.SQLDataTypes.INT:case o.SQLDataTypes.BIGINT:case o.SQLDataTypes.FLOAT:e=Object(w.parseNumberOrNull)(e);break;case o.SQLDataTypes.NVARCHAR:case o.SQLDataTypes.TEXT:"object"==typeof e?e=JSON.stringify(e):"string"!=typeof e&&(e=String(e));break;case o.SQLDataTypes.DATE:case o.SQLDataTypes.DATETIME2:case o.SQLDataTypes.DATETIME:e instanceof Date||(e=Object(w.parseDatetimeOrNull)(e))}return e}function S(e){return Array.isArray(e)?e.map((function(e){return t=e,n=Object(r.a)({},t),Object.entries(n).forEach((function(e){var t=e[0],i=e[1];null==i?n[t]="":i instanceof Date?n[t]=Object(w.dateToString)(i):"object"==typeof i&&(n[t]=JSON.stringify(i))})),n;var t,n})):e instanceof Date?Object(w.dateToString)(e):"object"==typeof e?JSON.stringify(e):e}function O(e,t){return Array.isArray(e)?e.reduce((function(e,n){var i=n[t];return i?Object(r.g)(e,O(i,t)):Object(r.g)(e,[n])}),[]):[]}},itXk:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("Ji7U"),r=n("LK+K"),o=n("1OyB"),s=n("vuIU"),a=n("z+Ro"),l=n("DH7j"),c=n("l7GE"),u=n("ZUHj"),h=n("yCtX"),d={};function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=void 0,r=void 0;return Object(a.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&Object(l.a)(t[0])&&(t=t[0]),Object(h.a)(t,r).lift(new p(i))}var p=function(){function e(t){Object(o.a)(this,e),this.resultSelector=t}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new g(e,this.resultSelector))}}]),e}(),g=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e,i){var r;return Object(o.a)(this,n),(r=t.call(this,e)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return Object(s.a)(n,[{key:"_next",value:function(e){this.values.push(d),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var i=e[n];this.add(Object(u.a)(this,i,void 0,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var i=this.values,r=this.toRespond?i[n]===d?--this.toRespond:this.toRespond:0;i[n]=t,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(c.a)},j13F:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("TwVa"),r=n("iFvM"),o=n("ztEp"),s=function(){function e(){}return e.prototype.getTypes=function(e){for(var t=this,n=Object.keys(e[0]).reduce((function(e,t,n){return e["col"+n]={fieldName:t,index:n,type:null,size:null,uniqueValues:new Set},e}),{}),i=1;i<e.length;i++)Object.values(e[i]).forEach((function(e,i){n["col"+i]=t.getType(n["col"+i],e)}));var r=!1;return Object.values(n).forEach((function(e){e.uniqueValues=e.uniqueValues&&!r,e.uniqueValues&&(r=!0)})),n},e.prototype.getType=function(e,t){if(e.uniqueValues&&e.uniqueValues.has(t)?e.uniqueValues=!1:e.uniqueValues&&e.uniqueValues.add(t),!t||!String(t).length)return e;if(t instanceof Date)return e.type=i.SQLDataTypes.DATETIME2,e;switch(typeof t){case"number":return e.type=this.getSqlNumberType(t,e.type),e;case"string":if((null===e.type||e.type===i.SQLDataTypes.DATE||e.type===i.SQLDataTypes.DATETIME2)&&Object(o.parseDatetimeOrNull)(t))return e.type=i.SQLDataTypes.DATETIME2,e;if([null,i.SQLDataTypes.FLOAT,i.SQLDataTypes.INT,i.SQLDataTypes.BIGINT].includes(e.type)){var n=Object(o.parseNumberOrNull)(t);null!==n&&(e.type=this.getSqlNumberType(n,e.type))}e.type=i.SQLDataTypes.NVARCHAR;var r=100*Math.ceil(t.length/100)||100;return(null===e.size||e.size<r)&&(e.size=r),e}return e},e.prototype.getSqlNumberType=function(e,t){return null!==t&&t!==i.SQLDataTypes.INT&&t!==i.SQLDataTypes.BIGINT&&t!==i.SQLDataTypes.FLOAT||t===i.SQLDataTypes.FLOAT?t:t===i.SQLDataTypes.BIGINT&&Number.isInteger(e)?i.SQLDataTypes.BIGINT:t===i.SQLDataTypes.INT&&Number.isInteger(e)||null===t&&Number.isInteger(e)?this.intOrBigInt(e):i.SQLDataTypes.FLOAT},e.prototype.intOrBigInt=function(e){return e>2147483647?i.SQLDataTypes.BIGINT:i.SQLDataTypes.INT},e.prototype.getValuesFromCsv=function(e,t,n){var s=this,a=n.reduce((function(e,t,n){return e[t]=n,e}),{}),l=new Map,c=[],u=[];return e.forEach((function(e,n){var h=[],d="";if(t.forEach((function(l,c){var u=null;l.sourceField&&"number"==typeof a[l.sourceField]&&(u=e[a[l.sourceField]],u=Object(r.g)(u,l.dataType),(l.dataType===i.SQLDataTypes.DATE||l.dataType===i.SQLDataTypes.DATETIME2)&&u instanceof Date&&(u=Object(o.dateToString)(u))),u=s.processValue(u,t[c],n),l.isKey&&(d+=u),h.push(u)})),l.has(d)){var f=l.get(d);f&&(u.push(f),l.set(d,null)),u.push(h)}else l.set(d,h);c.push(h)})),{rows:c,duplicates:u}},e.prototype.getValuesFromJson=function(e,t){for(var n=this,s=[],a=function(a,l){var c=e[a];s.push(t.map((function(e,s){var l=null;return e.sourceField&&(l=Object(r.g)(c[e.sourceField],e.dataType),e.dataType===i.SQLDataTypes.DATE&&l instanceof Date&&(l=Object(o.dateToString)(l))),n.processValue(l,t[s],a)})))},l=0,c=e.length;l<c;l++)a(l);return s},e.prototype.processValue=function(e,t,n){var i=t.preprocessFunc;return i&&this[i]?this[i](e,t.preprocessParams,n):e},e.prototype.text=function(e,t){return t},e.prototype.parseNumber=function(e,t){if("number"==typeof e)return e;if("boolean"==typeof e)return+e;if("string"==typeof e){e=e.replace(/,/g,""),t&&t.split("").forEach((function(t){e=e.replace(t,"")}));var n=this.getKoef(e);try{return(e=parseFloat(e))*n}catch(i){return null}}return null},e.prototype.parseBoolean=function(e,t){return t?e===t:"string"==typeof e?Object(o.parseBooleanOrNull)(e):Boolean(e)},e.prototype.autoid=function(e,t,n){var i=0;try{i=parseInt(t,10),isNaN(i)&&(i=0)}catch(r){}return i+n},e.prototype.getKoef=function(e){return e.includes("k")?1e3:e.includes("m")?1e6:e.includes("b")?1e9:1},e}(),a=function(e){return e.autoid="int",e.text="nvarchar",e.parseDate="datetime2",e.parseBoolean="bit",e.parseNumber="int",e}({});t.b=new s},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("HDdC"),r=n("quSY");function o(e,t){return new i.a((function(n){var i=new r.a,o=0;return i.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}},jhN1:function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return z})),n.d(t,"c",(function(){return B})),n.d(t,"d",(function(){return E}));var i,r=n("ReuC"),o=n("foSv"),s=n("1OyB"),a=n("vuIU"),l=n("Ji7U"),c=n("LK+K"),u=n("ofXK"),h=n("fXoL"),d=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=f||(f=document.querySelector("base"))?f.getAttribute("href"):null;return null==n?null:(t=n,i||(i=document.createElement("a")),i.setAttribute("href",t),"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname)}},{key:"resetBaseElement",value:function(){f=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Object(u.z)(document.cookie,e)}}],[{key:"makeCurrent",value:function(){Object(u.A)(new n)}}]),n}(function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(s.a)(this,n),t.call(this)}return Object(a.a)(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(u.w)),f=null,p=new h.s("TRANSITION_ID"),g=[{provide:h.d,useFactory:function(e,t,n){return function(){n.get(h.e).donePromise.then((function(){var n=Object(u.y)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[p,u.d,h.t],multi:!0}],m=function(){function e(){Object(s.a)(this,e)}return Object(a.a)(e,[{key:"addToWindow",value:function(e){h.pb.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},h.pb.getAllAngularTestabilities=function(){return e.getAllTestabilities()},h.pb.getAllAngularRootElements=function(){return e.getAllRootElements()},h.pb.frameworkStabilizers||(h.pb.frameworkStabilizers=[]),h.pb.frameworkStabilizers.push((function(e){var t=h.pb.getAllAngularTestabilities(),n=t.length,i=!1,r=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(r)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?Object(u.y)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(h.Y)(new e)}}]),e}(),b=new h.s("EventManagerPlugins"),v=function(){var e=function(){function e(t,n){var i=this;Object(s.a)(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=i})),this._plugins=t.slice().reverse()}return Object(a.a)(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Xb(b),h.Xb(h.C))},e.\u0275prov=h.Jb({token:e,factory:e.\u0275fac}),e}(),y=function(){function e(t){Object(s.a)(this,e),this._doc=t}return Object(a.a)(e,[{key:"addGlobalEventListener",value:function(e,t,n){var i=Object(u.y)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(t));return this.addEventListener(i,t,n)}}]),e}(),_=function(){var e=function(){function e(){Object(s.a)(this,e),this._stylesSet=new Set}return Object(a.a)(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.Jb({token:e,factory:e.\u0275fac}),e}(),w=function(){var e=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this))._doc=e,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(e.head),i}return Object(a.a)(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var i=n._doc.createElement("style");i.textContent=e,n._styleNodes.add(t.appendChild(i))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Object(u.y)().remove(e)}))}}]),n}(_);return e.\u0275fac=function(t){return new(t||e)(h.Xb(u.d))},e.\u0275prov=h.Jb({token:e,factory:e.\u0275fac}),e}(),C={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},S=/%COMP%/g,O="_nghost-".concat("%COMP%"),T="_ngcontent-".concat("%COMP%");function k(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?k(e,r,n):(r=r.replace(S,e),n.push(r))}return n}function x(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var E=function(){var e=function(){function e(t,n,i){Object(s.a)(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new j(t)}return Object(a.a)(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case h.S.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new A(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case h.S.Native:case h.S.ShadowDom:return new I(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=k(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Xb(v),h.Xb(w),h.Xb(h.c))},e.\u0275prov=h.Jb({token:e,factory:e.\u0275fac}),e}(),j=function(){function e(t){Object(s.a)(this,e),this.eventManager=t,this.data=Object.create(null)}return Object(a.a)(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(C[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,i){if(i){t=i+":"+t;var r=C[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var i=C[n];i?e.removeAttributeNS(i,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&h.I.DashCase?e.style.setProperty(t,n,i&h.I.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&h.I.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,x(n)):this.eventManager.addEventListener(e,t,x(n))}}]),e}(),A=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i,r,o){var a;Object(s.a)(this,n),(a=t.call(this,e)).component=r;var l=k(o+"-"+r.id,r.styles,[]);return i.addStyles(l),a.contentAttr=T.replace(S,o+"-"+r.id),a.hostAttr=function(e){return O.replace(S,e)}(o+"-"+r.id),a}return Object(a.a)(n,[{key:"applyToHost",value:function(e){Object(r.a)(Object(o.a)(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var i=Object(r.a)(Object(o.a)(n.prototype),"createElement",this).call(this,e,t);return Object(r.a)(Object(o.a)(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(j),I=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i,r,o){var a;Object(s.a)(this,n),(a=t.call(this,e)).sharedStylesHost=i,a.hostEl=r,a.component=o,a.shadowRoot=o.encapsulation===h.S.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var l=k(o.id,o.styles,[]),c=0;c<l.length;c++){var u=document.createElement("style");u.textContent=l[c],a.shadowRoot.appendChild(u)}return a}return Object(a.a)(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return Object(r.a)(Object(o.a)(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,i){return Object(r.a)(Object(o.a)(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,i)}},{key:"removeChild",value:function(e,t){return Object(r.a)(Object(o.a)(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(Object(r.a)(Object(o.a)(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(j),M=function(){var e=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(a.a)(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var i=this;return e.addEventListener(t,n,!1),function(){return i.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(y);return e.\u0275fac=function(t){return new(t||e)(h.Xb(u.d))},e.\u0275prov=h.Jb({token:e,factory:e.\u0275fac}),e}(),P=["alt","control","meta","shift"],D={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},N={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},L=function(){var e=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(a.a)(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,i){var r=n.parseEventName(t),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Object(u.y)().onAndCancel(e,r.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(t.pop()),o="";if(P.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=r,0!=t.length||0===r.length)return null;var s={};return s.domEventName=i,s.fullKey=o,s}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&R.hasOwnProperty(t)&&(t=R[t]))}return D[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),P.forEach((function(i){i!=n&&(0,N[i])(e)&&(t+=i+".")})),t+=n}},{key:"eventCallback",value:function(e,t,i){return function(r){n.getEventFullKey(r)===e&&i.runGuarded((function(){return t(r)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(y);return e.\u0275fac=function(t){return new(t||e)(h.Xb(u.d))},e.\u0275prov=h.Jb({token:e,factory:e.\u0275fac}),e}(),F=[{provide:h.E,useValue:u.x},{provide:h.F,useValue:function(){d.makeCurrent(),m.init()},multi:!0},{provide:u.d,useFactory:function(){return Object(h.vb)(document),document},deps:[]}],B=Object(h.T)(h.X,"browser",F),H=[[],{provide:h.ab,useValue:"root"},{provide:h.o,useFactory:function(){return new h.o},deps:[]},{provide:b,useClass:M,multi:!0,deps:[u.d,h.C,h.E]},{provide:b,useClass:L,multi:!0,deps:[u.d]},[],{provide:E,useClass:E,deps:[v,w,h.c]},{provide:h.H,useExisting:E},{provide:_,useExisting:w},{provide:w,useClass:w,deps:[u.d]},{provide:h.O,useClass:h.O,deps:[h.C]},{provide:v,useClass:v,deps:[b,h.C]},[]],V=function(){var e=function(){function e(t){if(Object(s.a)(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return Object(a.a)(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:h.c,useValue:t.appId},{provide:p,useExisting:h.c},g]}}}]),e}();return e.\u0275mod=h.Lb({type:e}),e.\u0275inj=h.Kb({factory:function(t){return new(t||e)(h.Xb(e,12))},providers:H,imports:[u.c,h.f]}),e}();function $(){return new z(Object(h.Xb)(u.d))}var z=function(){var e=function(){function e(t){Object(s.a)(this,e),this._doc=t}return Object(a.a)(e,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(e){this._doc.title=e||""}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Xb(u.d))},e.\u0275prov=Object(h.Jb)({factory:$,token:e,providedIn:"root"}),e}();"undefined"!=typeof window&&window},jyck:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n("fXoL"),r=n("bU/s"),o=n("iFvM"),s=n("2Vo4"),a=n("xgIS"),l=n("Kj3r"),c=n("lJxs"),u=n("Czp8"),h=n("cdP3"),d=n("ofXK"),f=n("3Pt+"),p=n("eY+I"),g=["contentJSON"],m=["objectExplorer"],b=function(e){return{active:e}};function v(e,t){if(1&e){var n=i.Ub();i.Tb(0,"button",17),i.bc("click",(function(){return i.vc(n),i.dc(2).validateJSON()})),i.Ob(1,"i",18),i.Sb()}if(2&e){var r=i.dc(2);i.jc("ngClass",i.nc(1,b,r.formatted))}}function y(e,t){if(1&e){var n=i.Ub();i.Tb(0,"button",19),i.bc("click",(function(){return i.vc(n),i.dc(2).formatJSON()})),i.Ob(1,"i",18),i.Sb(),i.Tb(2,"button",20),i.bc("click",(function(){return i.vc(n),i.dc(2).formatJSON(!1)})),i.Ob(3,"i",21),i.Sb()}if(2&e){var r=i.dc(2);i.jc("ngClass",i.nc(2,b,r.formatted)),i.Bb(2),i.jc("ngClass",i.nc(4,b,!r.formatted))}}function _(e,t){if(1&e&&(i.Tb(0,"div",14),i.Cc(1,v,2,3,"button",15),i.ec(2,"async"),i.Cc(3,y,4,6,"ng-template",null,16,i.Dc),i.Sb()),2&e){var n=i.sc(4),r=i.dc();i.Bb(1),i.jc("ngIf",!i.fc(2,2,r.isJSON$))("ngIfElse",n)}}function w(e,t){if(1&e){var n=i.Ub();i.Tb(0,"ngx-dynamic-component",22,23),i.bc("changedDataModel",(function(e){return i.vc(n),i.dc().onDataModelChanged(e)})),i.Sb()}if(2&e){var r=i.dc();i.jc("uiModel",r.explorerUIModel)("dataModel",r.dataModel)}}function C(e,t){if(1&e&&(i.Tb(0,"div"),i.Ec(1),i.Sb()),2&e){var n=i.dc();i.Bb(1),i.Gc(" ",n.parsedValue," ")}}var S=function(){function e(){this.changed=new i.p,this.jsonContentSize=50,this.formatted=!0,this.modeState={json:!0,designer:!0},this.isJSON$=new s.a(!0),this.isVariable=!1,this.explorerUIModel={type:"grid-object-explorer",containerProperties:{},itemProperties:{dataSource:null,isReadOnly:!1,allowDelete:!0,allowAddNew:!0,host:"json-editor-object-explorer",selectionMode:4}}}return e.prototype.ngOnInit=function(){void 0===this.formatter&&(this.formatter=!0),this.uiModel&&(this.explorerUIModel=this.uiModel,this.loadState()),this.explorerUIModel.itemProperties.isReadOnly=Boolean(this.isReadonly),this.initContentEditor(),this.setIsJSON(!this.isTextAvailable);var e=this.getDataObject(this.data);this.setData(e.parsedValue,e.value),this.dataModel&&(this.explorerUIModel.itemProperties.dataSource=this.dataModel)},e.prototype.setIsJSON=function(e){e!==this.isJSON$.value&&this.isJSON$.next(e)},e.prototype.validateJSON=function(){this.contentEditor.session.setMode("ace/mode/json")},e.prototype.loadState=function(){var e=this.uiModel.itemProperties.host;if(e){var t=u.a.settingsVariables["ce-state-"+e];t&&(this.modeState=t.modeState,this.jsonContentSize=t.jsonContentSize)}},e.prototype.saveState=function(e){if(void 0===e&&(e=this.jsonContentSize),this.uiModel){var t=this.uiModel.itemProperties.host;t&&u.a.setSettingsVariable("ce-state-"+t,{modeState:this.modeState,jsonContentSize:e})}},e.prototype.initContentEditor=function(){var e=this;this.contentEditor=Object(r.edit)(this.contentEl.nativeElement,{mode:"ace/mode/json",autoScrollEditorIntoView:!0,value:Object(o.e)(this.data),readOnly:this.isReadonly,theme:Object(o.i)()}),Object(a.a)(this.contentEditor,"change").pipe(Object(l.a)(500),Object(c.a)((function(){return e.getDataObject()}))).subscribe((function(t){var n=t.value;e.setData(t.parsedValue,n),e.changed.emit(n)}))},e.prototype.ngOnChanges=function(e){var t=e.data;if(!t.firstChange&&t.currentValue!==this.dataModel){var n=this.getDataObject(t.currentValue||null);this.setData(n.parsedValue,n.value),this.onDataModelChanged(this.dataModel)}},e.prototype.setData=function(e,t){this.dataModel=this.isVariable?e:t,void 0===this.dataModel?this.dataModel=t:"object"==typeof e&&(this.dataModel=e),this.explorerUIModel.itemProperties.dataSource=e,this.parsedValue=e,this.showGrid=this.dataModel&&"object"==typeof this.dataModel,this.showGrid||this.isVariable?this.showGrid&&(this.jsonContentSize=50):this.jsonContentSize=100},e.prototype.onResize=function(e){this.saveState(e.sizes[0]),this.contentEditor.resize()},e.prototype.resize=function(){this.contentEditor.resize()},e.prototype.onDataModelChanged=function(e){this.contentEditor.setValue(this.formatted?Object(o.e)(e):JSON.stringify(e),-1)},e.prototype.setReadOnly=function(e){this.isReadonly!==e&&(this.explorerUIModel.itemProperties.isReadOnly=e,this.isReadonly=e,this.contentEditor&&this.contentEditor.setReadOnly(e))},e.prototype.onModeState=function(e){this.modeState[e]=!this.modeState[e],this.jsonContentSize=this.modeState.json&&!this.modeState.designer?100:this.modeState.json&&this.modeState.designer?50:0,this.saveState()},e.prototype.formatJSON=function(e){void 0===e&&(e=!0);try{var t=JSON.parse(this.contentEditor.getValue());this.contentEditor.setValue(e?Object(o.e)(t):JSON.stringify(t),-1),this.formatted=e}catch(n){console.error(n),this.formatted=!1}},e.prototype.gutter=function(){return 0===this.jsonContentSize||100===this.jsonContentSize?0:11},e.prototype.getDataObject=function(e){return void 0===e&&(e=this.contentEditor.getValue()),this.isTextAvailable?this.getAnyObject(e):this.getJsonObject(e)},e.prototype.getJsonObject=function(e){var t;try{t=JSON.parse(e)}catch(n){}return{value:e,parsedValue:t}},e.prototype.getAnyObject=function(e){var t;if(this.isVariable=u.a.isVariable(e),this.isVariable){this.contentEditor.session.setMode("ace/mode/text");var n=u.a.resolve(e);if("string"==typeof n)try{t=JSON.parse(n)}catch(i){t=n}else"object"==typeof n&&(t=n)}else if(this.contentEditor.session.setMode("ace/mode/json"),"object"==typeof e)t=e,this.setIsJSON(!0);else try{t=JSON.parse(e),this.setIsJSON(!0)}catch(i){t=e,this.contentEditor.session.setMode("ace/mode/text"),this.setIsJSON(!1)}return{value:e,parsedValue:t}},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Hb({type:e,selectors:[["app-content-explorer"]],viewQuery:function(e,t){var n;1&e&&(i.Ac(g,!0),i.Jc(m,!0)),2&e&&(i.rc(n=i.cc())&&(t.contentEl=n.first),i.rc(n=i.cc())&&(t.objectExplorer=n.first))},inputs:{isTextAvailable:"isTextAvailable",data:"data",uiModel:"uiModel",formatter:"formatter",isReadonly:"isReadonly"},outputs:{changed:"changed"},features:[i.zb],decls:16,vars:13,consts:[[1,"h-100","preview","edit-mode","m-0","w-100","d-flex","flex-column"],[3,"useTransition","gutterSize","dragEnd"],[1,"d-flex","mb-0","position-relative","h-100",3,"size"],["class","tabs-actions position-absolute",4,"ngIf"],[1,"h-100","w-100","ace-editor"],["contentJSON",""],[1,"d-flex","overflow-auto","flex-column","explorer-section",3,"size"],["class","flex-fill px-2 h-100",3,"uiModel","dataModel","changedDataModel",4,"ngIf"],[4,"ngIf"],[1,"btn-group","d-block","mode"],["ngDefaultControl","","btnCheckbox","","tabindex","0","role","button","name","mode-json","title","JSON panel",1,"btn","btn-secondary","btn-sm","cursor-pointer","mb-0",3,"ngModel","ngModelChange","click"],[1,"fa","fa-code","fa-lg"],["ngDefaultControl","","btnCheckbox","","tabindex","0","role","button","name","mode-designer","title","Explorer panel",1,"btn","btn-secondary","btn-sm","cursor-pointer","mb-0",3,"ngModel","ngModelChange","click"],[1,"fa","fa-table","fa-lg"],[1,"tabs-actions","position-absolute"],["type","button","class","btn btn-light btn-sm px-1 py-0","title","Validate JSON",3,"ngClass","click",4,"ngIf","ngIfElse"],["formatBtns",""],["type","button","title","Validate JSON",1,"btn","btn-light","btn-sm","px-1","py-0",3,"ngClass","click"],[1,"fa","fa-indent"],["type","button","title","Format JSON data, with proper indentation and line feeds (Ctrl+\\)",1,"btn","btn-light","btn-sm","px-1","py-0",3,"ngClass","click"],["type","button","title","Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",1,"btn","btn-light","btn-sm","ml-1","px-1","py-0",3,"ngClass","click"],[1,"fa","fa-align-justify"],[1,"flex-fill","px-2","h-100",3,"uiModel","dataModel","changedDataModel"],["objectExplorer",""]],template:function(e,t){1&e&&(i.Tb(0,"div",0),i.Tb(1,"as-split",1),i.bc("dragEnd",(function(e){return t.onResize(e)})),i.Tb(2,"as-split-area",2),i.Cc(3,_,5,4,"div",3),i.Ob(4,"div",4,5),i.Sb(),i.Tb(6,"as-split-area",6),i.Cc(7,w,2,2,"ngx-dynamic-component",7),i.Cc(8,C,2,1,"div",8),i.Sb(),i.Sb(),i.Tb(9,"div",9),i.Tb(10,"label",10),i.bc("ngModelChange",(function(e){return t.modeState.json=e}))("click",(function(){return t.onModeState("json")})),i.Ob(11,"i",11),i.Ec(12," JSON "),i.Sb(),i.Tb(13,"label",12),i.bc("ngModelChange",(function(e){return t.modeState.designer=e}))("click",(function(){return t.onModeState("designer")})),i.Ob(14,"i",13),i.Ec(15," Explorer "),i.Sb(),i.Sb(),i.Sb()),2&e&&(i.Bb(1),i.jc("useTransition",!0)("gutterSize",t.gutter()),i.Bb(1),i.jc("size",t.jsonContentSize),i.Bb(1),i.jc("ngIf",t.formatter),i.Bb(3),i.jc("size",100-t.jsonContentSize),i.Bb(1),i.jc("ngIf",t.showGrid),i.Bb(1),i.jc("ngIf",!t.showGrid&&t.parsedValue),i.Bb(2),i.Fb("active",t.modeState.json),i.jc("ngModel",t.modeState.json),i.Bb(3),i.Fb("active",t.modeState.designer),i.jc("ngModel",t.modeState.designer))},directives:[h.c,h.b,d.m,f.b,f.i,f.l,d.k,p.h],pipes:[d.b],styles:[".tabs-actions[_ngcontent-%COMP%]{z-index:7}.explorer-section[_ngcontent-%COMP%]{background:var(--bg)}"]}),e}()},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},kiQV:function(e){e.exports=JSON.parse('{"name":"worksheets2-app","version":"0.4.30","scripts":{"ng":"ng","dev":"ng serve --prod","start":"ng serve","build":"ng build","test":"ng test","lint":"ng lint","lint:css":"npx stylelint \\"src/**/*.scss\\"","e2e":"ng e2e","build:prod":"ng build --prod","build:gh":"ng build --base-href=\'/ngx-dynamic-components/\'","build:electron":"npm run electron:tsc && ng build --prod --base-href ./","deploy:gh":"npm run build:gh && npx ngh --dir=dist/worksheets2-app/ --repo=https://github.com/FalconSoft/ngx-dynamic-components.git","build:extension":"ng build --configuration=extension --prod","electron:tsc":"tsc -p electron/tsconfig.json","electron:start":"npm run build:electron && electron .","electron:run":"npm run electron:tsc && electron .","electron:linux":"npm run build:electron && electron-builder build --config=electron/electron-builder.json --linux","electron:windows":"npm run build:electron && electron-builder build --config=electron/electron-builder.json --windows","electron:mac":"npm run build:electron && electron-builder build --config=electron/electron-builder.json --mac"},"main":"dist/electron/main.js","private":true,"dependencies":{"@angular/animations":"~10.0.8","@angular/cdk":"~10.1.2","@angular/common":"~10.0.8","@angular/compiler":"~10.0.8","@angular/core":"~10.0.8","@angular/forms":"~10.0.8","@angular/platform-browser":"~10.0.8","@angular/platform-browser-dynamic":"~10.0.8","@angular/router":"~10.0.8","@coreui/coreui":"^3.2.0","@coreui/icons":"^1.0.1","@google/markerclusterer":"^2.0.8","@grapecity/wijmo.all":"^5.20202.699","@ng-select/ng-select":"^4.0.0","@ngrx/effects":"^9.1.2","@ngrx/router-store":"^9.1.2","@ngrx/store":"^9.1.2","@ngrx/store-devtools":"^9.1.2","@ngx-dynamic-components/bootstrap":"^0.2.6","@ngx-dynamic-components/core":"^0.2.6","ace-builds":"^1.4.11","angular-resizable-element":"^3.3.2","angular-resize-event":"^1.2.1","angular-split":"^4.0.0","bootstrap-scss":"^4.5.0","core-js":"^3.6.4","datapipe-js":"^0.3.4","file-saver":"^2.0.2","flag-icon-css":"^3.4.5","font-awesome":"^4.7.0","hammerjs":"^2.0.8","isomorphic-xml2js":"^0.1.3","jspython-interpreter":"^0.1.8","jszip":"^3.5.0","jszip-utils":"^0.1.0","ng2-dragula":"^2.1.1","ngx-bootstrap":"^6.0.0","ngx-device-detector":"^1.3.20","ngx-perfect-scrollbar":"^9.0.0","parse-curl":"^0.2.6","rxjs":"^6.5.4","simple-line-icons":"^2.4.1","tslib":"^2.0.0","zone.js":"~0.10.2"},"devDependencies":{"@angular-devkit/build-angular":"~0.1000.5","@angular/cli":"~10.0.5","@angular/compiler-cli":"~10.0.8","@angular/language-service":"~10.0.8","@types/googlemaps":"^3.39.7","@types/jasmine":"~3.5.10","@types/jasminewd2":"^2.0.8","@types/node":"^13.13.4","codelyzer":"^6.0.0","electron":"^8.2.4","electron-builder":"^22.6.0","husky":"^4.2.5","jasmine-core":"~3.5.0","jasmine-spec-reporter":"~5.0.0","karma":"~5.0.0","karma-chrome-launcher":"~3.1.0","karma-coverage-istanbul-reporter":"~3.0.2","karma-jasmine":"~3.3.0","karma-jasmine-html-reporter":"^1.5.0","protractor":"~7.0.0","stylelint":"^13.3.3","stylelint-config-sass-guidelines":"^7.0.0","stylelint-config-standard":"^20.0.0","ts-node":"~8.9.1","tslint":"~6.1.0","typescript":"~3.9.7"},"husky":{"hooks":{"pre-commit":"npm run lint"}}}')},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("1OyB"),r=n("vuIU"),o=n("Ji7U"),s=n("LK+K"),a=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("JX7q"),r=n("Ji7U"),o=n("LK+K"),s=n("1OyB"),a=n("vuIU"),l=n("7o/Q");function c(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new u(e,t))}}var u=function(){function e(t,n){Object(s.a)(this,e),this.project=t,this.thisArg=n}return Object(a.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.project,this.thisArg))}}]),e}(),h=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e,r,o){var a;return Object(s.a)(this,n),(a=t.call(this,e)).project=r,a.count=0,a.thisArg=o||Object(i.a)(a),a}return Object(a.a)(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(l.a)},"lM/l":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return b}));var i=n("Czp8"),r=n("s0Cq"),o=n("ztEp"),s=n("FQei"),a=n("tcrU"),l=n("eY+I");function c(e){return null==e?"":"string"==typeof e?e:JSON.stringify(e,null,"\t")}function u(e,t){if(void 0===t&&(t=null),!e)return"";if("string"==typeof e)return t?function(e,t){for(var n=e,i=0,r=Object.keys(t);i<r.length;i++){var o=r[i];o&&!o.startsWith("_")&&(n=Object(s.replaceAll)(o,t[o]))}return n}(String(e),t):e;if(e instanceof Date){var n=e;return(t=null!=t?t:"dd/MM/yyyy")?a.Globalize.format(n,String(t)):Object(o.dateToString)(n)}if("object"==typeof e)return JSON.stringify(e);if("number"==typeof e){var i=+e;return t?a.Globalize.formatNumber(i,String(t)):i.toLocaleString()}return String(e)}function h(e){var t=e.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=t&&t.length>2&&"string"==typeof t[2]&&t[2].length>0?t[2]:(t=e.match(/^{{\w+}}/i))&&t.length?t[0]:null}function d(e,t){if(!e)return t;if("string"==typeof e)return e;var n=e.error;return"object"==typeof e.error&&null!==e.error&&(e.error.errors||e.error.message)?n=e.error.message||[e.error.title,Object.values(e.error.errors)].join("\n"):"string"==typeof n?n:e.message||t}function f(){return"dark"===i.a.variables.theme?"ace/theme/tomorrow_night":""}function p(e){return r.b.hasOwnProperty(e)?r.b[e]:e}function g(e,t){void 0===e&&(e=null),void 0===t&&(t=location.search.slice(1));try{var n=JSON.parse('{"'+decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}');return void 0===n||e&&void 0===n[e]?null:e?decodeURIComponent(n[e])||null:n}catch(i){return null}}function m(e){if(e)return e.split("\n").map((function(e){var t=e.match(/(def\s)(.*)(\(.*\)):/);if(t)return t[2].replace(/ /g,"")})).filter((function(e){return Boolean(e)}))}function b(e){return Object(l.q)(e)}},"lMX+":function(e,t,n){"use strict";n.r(t),n.d(t,"DataMapEditor",(function(){return o})),n.d(t,"DataMap",(function(){return d})),n.d(t,"CellRange",(function(){return f})),n.d(t,"CellType",(function(){return h})),n.d(t,"GridPanel",(function(){return b})),n.d(t,"CellRangeEventArgs",(function(){return v})),n.d(t,"FormatItemEventArgs",(function(){return y})),n.d(t,"CellEditEndingEventArgs",(function(){return _})),n.d(t,"SelectionMode",(function(){return p})),n.d(t,"SelectedState",(function(){return g})),n.d(t,"SelMove",(function(){return m})),n.d(t,"_SelectionHandler",(function(){return C})),n.d(t,"RowColFlags",(function(){return w})),n.d(t,"RowCol",(function(){return x})),n.d(t,"Column",(function(){return E})),n.d(t,"Row",(function(){return j})),n.d(t,"GroupRow",(function(){return A})),n.d(t,"RowColCollection",(function(){return I})),n.d(t,"ColumnCollection",(function(){return M})),n.d(t,"RowCollection",(function(){return P})),n.d(t,"AllowSorting",(function(){return S})),n.d(t,"AllowPinning",(function(){return O})),n.d(t,"HeadersVisibility",(function(){return T})),n.d(t,"ClipStringOptions",(function(){return k})),n.d(t,"FlexGrid",(function(){return R})),n.d(t,"_ImeHandler",(function(){return N})),n.d(t,"_ColumnGroupHandler",(function(){return L})),n.d(t,"ColumnGroup",(function(){return F})),n.d(t,"_AddNewHandler",(function(){return B})),n.d(t,"_NewRowTemplate",(function(){return H})),n.d(t,"AllowMerging",(function(){return D})),n.d(t,"MergeManager",(function(){return V})),n.d(t,"HitTestInfo",(function(){return $})),n.d(t,"softInput",(function(){return z})),n.d(t,"CellFactory",(function(){return G})),n.d(t,"_EditHandler",(function(){return Q})),n.d(t,"_CustomEditor",(function(){return Z})),n.d(t,"KeyAction",(function(){return J})),n.d(t,"_KeyboardHandler",(function(){return ie})),n.d(t,"AllowResizing",(function(){return ee})),n.d(t,"AutoSizeMode",(function(){return te})),n.d(t,"AllowDragging",(function(){return ne})),n.d(t,"_MouseHandler",(function(){return re}));var i,r,o,s,a=n("tcrU"),l=n("SSYJ"),c=n("lMX+"),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});(s=o||(o={}))[s.AutoComplete=0]="AutoComplete",s[s.DropDownList=1]="DropDownList",s[s.RadioButtons=2]="RadioButtons";var h,d=function(){function e(e,t,n){this._keyPath="",this._displayPath="",this._sortByVal=!0,this._editable=!1,this.mapChanged=new a.Event,!Object(a.isArray)(e)||t||n||(e=e.map((function(e){return{value:e}})),t=n="value"),this._cv=Object(a.asCollectionView)(e),this._keyPath=Object(a.asString)(t,!1),this._displayPath=Object(a.asString)(n,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(e.prototype,"sortByDisplayValues",{get:function(){return this._sortByVal},set:function(e){this._sortByVal=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),e.prototype.getDataItem=function(e){var t=this;if(!this._hash){var n=this._cv.sourceCollection,i={};Object(a.isArray)(n)&&this._keyPath&&n.forEach((function(e){var n=e[t._keyPath];null==i[n]&&(i[n]=e)})),this._hash=i}return this._hash[e]},e.prototype.getDisplayValue=function(e){var t=this._displayPath,n=this.getDataItem(e);return t&&n?n[t]:e},e.prototype.getKeyValue=function(e,t){var n=this._displayPath,i=this._indexOf(e,n,t,!0);return i<0&&(i=this._indexOf(e,n,t,!1)),i>-1?this._cv.sourceCollection[i][this._keyPath]:null},e.prototype.getDisplayValues=function(e){var t=this;return this._cv&&this._displayPath?this._cv.items.map((function(e){return e[t._displayPath]})):[]},e.prototype.getKeyValues=function(){var e=this;return this._cv&&this._keyPath?this._cv.items.map((function(t){return t[e._keyPath]})):[]},Object.defineProperty(e.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),e.prototype.onMapChanged=function(e){this._hash=null,this.mapChanged.raise(this,e)},e.prototype._indexOf=function(e,t,n,i){var r=-1,o=-1;if(this._cv&&t){var s=null!=e?e.toString():"";s&&n&&(e=Object(a.toPlainText)(s));for(var l=i?s:s.toLowerCase(),c=this._cv.sourceCollection,u=0;u<c.length;u++){var h=c[u],d=h[t];if(n&&Object(a.isString)(d)&&(d=Object(a.toPlainText)(d)),d==e?r=u:i||d.length!=l.length||d.toLowerCase()!=l?null!=d&&d.toString()==s&&(r=u):r=u,r==u){if(!this._cv.filter||this._cv.filter(h))return r;o<0&&(o=r)}}}return o},e}(),f=function(){function e(e,t,n,i){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=e),void 0===i&&(i=t),this.setRange(e,t,n,i)}return e.prototype.setRange=function(e,t,n,i){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=e),void 0===i&&(i=t),this._row=Object(a.asInt)(e),this._col=Object(a.asInt)(t),this._row2=Object(a.asInt)(n),this._col2=Object(a.asInt)(i)},Object.defineProperty(e.prototype,"row",{get:function(){return this._row},set:function(e){this._row=Object(a.asInt)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col",{get:function(){return this._col},set:function(e){this._col=Object(a.asInt)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row2",{get:function(){return this._row2},set:function(e){this._row2=Object(a.asInt)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col2",{get:function(){return this._col2},set:function(e){this._col2=Object(a.asInt)(e)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._row,this._col,this._row2,this._col2)},e.prototype.copy=function(e){this.setRange(e._row,e._col,e._row2,e._col2)},Object.defineProperty(e.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,n){var i=Object(a.tryCast)(t,e);if(i)return i.topRow>=this.topRow&&i.bottomRow<=this.bottomRow&&i.leftCol>=this.leftCol&&i.rightCol<=this.rightCol;if(Object(a.isInt)(t)&&Object(a.isInt)(n))return t>=this.topRow&&t<=this.bottomRow&&n>=this.leftCol&&n<=this.rightCol;throw"contains expects a CellRange or row/column indices."},e.prototype.containsRow=function(e){return Object(a.asInt)(e)>=this.topRow&&e<=this.bottomRow},e.prototype.containsColumn=function(e){return Object(a.asInt)(e)>=this.leftCol&&e<=this.rightCol},e.prototype.intersects=function(e){return this.intersectsRow(e)&&this.intersectsColumn(e)},e.prototype.intersectsRow=function(e){return e&&!(this.bottomRow<e.topRow||this.topRow>e.bottomRow)},e.prototype.intersectsColumn=function(e){return e&&!(this.rightCol<e.leftCol||this.leftCol>e.rightCol)},e.prototype.getRenderSize=function(e){var t=new a.Size(0,0);if(this.isValid){for(var n=this.topRow;n<=this.bottomRow;n++)t.height+=e.rows[n].renderSize;for(var i=this.leftCol;i<=this.rightCol;i++)t.width+=e.columns[i].renderSize}return t},e.prototype.equals=function(t){return t instanceof e&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},e.prototype.combine=function(t){return t?new e(Math.min(this.topRow,t.topRow),Math.min(this.leftCol,t.leftCol),Math.max(this.bottomRow,t.bottomRow),Math.max(this.rightCol,t.rightCol)):this},e.prototype.toString=function(){return Object(a.format)("({row}, {col})-({row2}, {col2})",this)},e}();!function(e){e[e.None=0]="None",e[e.Cell=1]="Cell",e[e.ColumnHeader=2]="ColumnHeader",e[e.RowHeader=3]="RowHeader",e[e.TopLeft=4]="TopLeft",e[e.ColumnFooter=5]="ColumnFooter",e[e.BottomLeft=6]="BottomLeft"}(h||(h={}));var p,g,m,b=function(){function e(e,t,n,i,r){this._offsetY=0,this._rng=new f,this._g=Object(a.asType)(e,R),this._ct=Object(a.asInt)(t),this._rows=Object(a.asType)(n,P),this._cols=Object(a.asType)(i,M),this._e=Object(a.asType)(r,HTMLElement),this._vrb=new f}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),e.prototype.getCellData=function(e,t,n){var i,r=this._g,o=this._rows[Object(a.asNumber)(e,!1,!0)],s=null;if(Object(a.isString)(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";i=this._cols[Object(a.asNumber)(t,!1,!0)];var l=r?r._getBindingColumn(this,e,i):i,c=null;if(o instanceof A&&o.dataItem instanceof a.CollectionViewGroup&&!r.childItemsPath&&(c=o.dataItem),l.binding&&o.dataItem&&!c?s=l._binding.getValue(o.dataItem):o._ubv&&(s=o._ubv[i._hash]),null==s)switch(this._ct){case h.ColumnHeader:e!=this._rows.length-1&&l==i||(s=l.header);break;case h.ColumnFooter:if(l.aggregate!=a.Aggregate.None&&o instanceof A){var u=this._g.collectionView;if(u){var d=Object(a.tryCast)(u,a.CollectionView);s=d?d.getAggregate(l.aggregate,l.binding):Object(a.getAggregate)(l.aggregate,u.items,l.binding)}}break;case h.Cell:l.aggregate!=a.Aggregate.None&&o instanceof A&&c&&(s=c.getAggregate(l.aggregate,l.binding,this._g.collectionView))}if(n){var f=l.dataMap||o.dataMap;this.cellType==h.Cell&&f&&(s=f.getDisplayValue(s)),s=null!=s?a.Globalize.format(s,l.format||o.format):""}return s},e.prototype.setCellData=function(e,t,n,i,r){void 0===i&&(i=!0),void 0===r&&(r=!0);var o,s=this._g,l=this._rows[Object(a.asNumber)(e,!1,!0)],c=a.DataType;if(Object(a.isString)(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";o=this._cols[Object(a.asNumber)(t,!1,!0)];var u=s?s._getBindingColumn(this,e,o):o;if(this._ct==h.Cell){var d=u.dataMap||l.dataMap,f=u.getIsRequired(l);if(d&&null!=n){var p=d.getKeyValue(n,u.isContentHtml||l.isContentHtml);if(null==p&&null==d.getDisplayValue(null)){if(d.getDisplayValue(n)!=n);else if(!d.isEditable||d.displayMemberPath!=d.selectedValuePath){if(""!=n||f)return!1;n=null}}else n=p}var g=c.Object,m=u.dataType||l.dataType;if(m)g=m;else{var b=this.getCellData(e,t,!1);g=Object(a.getType)(b)}var v=null==n||""===n&&!d;if(!f&&v)g!=c.String&&(n=null),i=!1;else if(f&&v&&i)return!1;if(i){var y=u.format||l.format;if(y||g!=c.Date||(y="d"),u.mask&&Object(a.isString)(n)&&g!=c.String&&(n=n.replace(/_/g,"")),n=Object(a.changeType)(n,g,y),g!=c.Object&&Object(a.getType)(n)!=g)return!1}}if(l.dataItem&&u.binding){var _=u._binding,w=l.dataItem,C=_.getValue(w);if(n!==C&&!a.DateTime.equals(n,C)){_.setValue(w,n);var S=s.collectionView;if(S instanceof a.CollectionView&&w!=S.currentEditItem){var O=new a.NotifyCollectionChangedEventArgs(a.NotifyCollectionChangedAction.Change,w,S.items.indexOf(w));S.onCollectionChanged(O)}}}else l._ubv||(l._ubv={}),l._ubv[o._hash]=n;return r&&s&&s.invalidate(),!0},e.prototype.getCellBoundingRect=function(e,t,n){var i=this._g,r=this.rows[e],o=this.columns[t],s=new a.Rect(o.pos,r.pos,o.renderSize,r.renderSize);if(i.rightToLeft&&(s.left=this.hostElement.clientWidth-s.right,Object(a.isIE)()||(s.left-=i._root.offsetWidth-i._root.clientWidth)),!n){var l=this.hostElement.getBoundingClientRect();s.left+=l.left,s.top+=l.top-this._offsetY}return e<this.rows.frozen&&(s.top-=i.scrollPosition.y),t<this.columns.frozen&&(s.left-=i.scrollPosition.x*(i.rightToLeft?-1:1)),s},e.prototype.getCellElement=function(t,n){for(var i=this.hostElement.children,r=Math.min(t+2,i.length),o=0;o<r;o++)for(var s=i[o].children,a=Math.min(n+2,s.length),l=0;l<a;l++){var c=s[l],u=c[e._INDEX_KEY];if(u&&(u.row==t&&u.col==n||u.rng&&u.rng.contains(t,n)))return c}return null},e.prototype.getSelectedState=function(e,t,n){var i=this._g,r=i.selectionMode,o=i._selHdl.selection,s=p,a=g;if(r==s.None)return a.None;switch(this._ct){case h.Cell:if(n||(n=i.getMergedRange(this,e,t)),n){if(n.contains(o.row,o.col))return i.showMarquee?a.Active:a.Cursor;if(n.intersects(o)&&r!=s.ListBox)return a.Selected;for(var l=n.leftCol;l<=n.rightCol;l++)if(i.columns[l].isSelected)return a.Selected;for(var c=n.topRow;c<=n.bottomRow;c++)if(i.rows[c].isSelected)return a.Selected}if(o.row==e&&o.col==t)return i.showMarquee?a.Active:a.Cursor;if(i.rows[e].isSelected||i.columns[t].isSelected)return a.Selected;if(r==s.MultiRange)for(var u=i._selHdl.extendedSelection,d=0;d<u.length;d++)if(u[d].contains(e,t)||n&&n.intersects(u[d]))return a.Selected;if(n)switch(r){case s.Row:case s.RowRange:if(n.containsRow(o.row))return a.Selected}return r==s.ListBox?a.None:(o=this._getAdjustedSelection(o)).containsRow(e)&&o.containsColumn(t)?a.Selected:a.None;case h.ColumnHeader:if(i.showSelectedHeaders&T.Column&&(i.columns[t].isSelected||o.containsColumn(t)||o.intersectsColumn(n))&&(n&&(e=n.bottomRow),e==this.rows.length-1))return a.Selected;break;case h.RowHeader:if(i.showSelectedHeaders&T.Row&&(i.rows[e].isSelected||o.containsRow(e)||o.intersectsRow(n))&&(n&&(t=n.rightCol),t==this.columns.length-1))return a.Selected}return a.None},Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),e.prototype._getAdjustedSelection=function(e){var t=this._g,n=this._rng;switch(t.selectionMode){case p.Cell:n.setRange(e.row,e.col,e.row,e.col);break;case p.Row:n.setRange(e.row,0,e.row,t.columns.length-1);break;case p.RowRange:case p.ListBox:n.setRange(e.row,0,e.row2,t.columns.length-1);break;default:n.copy(e)}return n},e.prototype._getOffsetY=function(){return this._offsetY},e.prototype._updateContent=function(e,t,n){var i=this._g,r=this._e,o=this._rows,s=this._cols,a=this._ct;if(a==h.ColumnHeader||a==h.ColumnFooter||a==h.RowHeader){var l=i._ptScrl,c=r.style;a==h.RowHeader?c.top=l.y+"px":i.rightToLeft?c.right=l.x+"px":c.left=l.x+"px"}this._offsetY!=n&&(e=!1,this._offsetY=n);var u=this._getViewRange(),d=u;if(d.isValid){var p=o.length<=i._vtRows?o.length:0,g=s.length<=i._vtCols?s.length:0;d=new f(Math.max(u.row-p,o.frozen),Math.max(u.col-g,s.frozen),Math.min(u.row2+p,o.length-1),Math.min(u.col2+g,s.length-1))}if(e&&!t&&this._vrb.contains(u)&&!o.frozen&&!s.frozen)return this._activeCell;e&&d.equals(this._vrb)||(t=!1),e&&!t&&this._ct!=h.TopLeft&&this._reorderCells(d,this._vrb),this._activeCell=null,this._vru=u,this._vrb=d,this._recycle=e;var m=0;this._ct==h.Cell&&(m=this._renderColHdrRow(d,t));for(var b=0;b<o.frozen&&b<o.length;b++)m=this._renderRow(b,d,t,m);for(b=d.topRow;b<=d.bottomRow&&b>-1;b++)m=this._renderRow(b,d,t,m);for(;r.childElementCount>m;){var v=r.lastElementChild;r.removeChild(v),this._removeExtraCells(v,0)}return this._activeCell},e.prototype._clearCells=function(){for(var e=this.hostElement,t=this._g.cellFactory,n=e.childElementCount-1;n>=0;n--){var i=e.children[n];e.removeChild(i);for(var r=i.childElementCount-1;r>=0;r--)t.disposeCell(i.children[r])}},e.prototype._reorderCells=function(e,t){if(this._g._reorderCells&&t.isValid&&e.isValid&&e.intersects(t)){if(e.row!=t.row){var n=this._e,i=e.row-t.row,r=Math.max(1,e.rowSpan-1);if(0!=i&&Math.abs(i)<r){var o=this._ct==h.Cell?1:0,s=n.childElementCount;if(o+=this.rows.frozen,i>0){var l=o,c=Math.min(o+i,s);(f=this._createRange(n,l,c))&&n.appendChild(f.extractContents())}if(i<0&&(c=s,l=Math.max(o,c+i),(f=this._createRange(n,l,c))&&l>o)){var u=n.children[o];n.insertBefore(f.extractContents(),u)}}}if(e.col!=t.col&&(n=this._e,i=e.col-t.col,r=Math.max(1,e.columnSpan-1),0!=i&&Math.abs(i)<r)){o=this._ct==h.Cell&&this._g.rowHeaderPath?1:0,o+=this.columns.frozen;for(var d=0;d<n.children.length;d++){var f,p=n.children[d];s=p.children.length,Object(a.hasClass)(p,"wj-row")&&(i>0&&(l=o,c=Math.min(o+i,s),(f=this._createRange(p,l,c))&&p.appendChild(f.extractContents())),i<0&&(c=s,l=Math.max(o,c+i),(f=this._createRange(p,l,c))&&l>o&&(u=p.children[o],p.insertBefore(f.extractContents(),u))))}}}},e.prototype._createRange=function(e,t,n){if(n>t&&n<=e.children.length&&t>-1){this._docRange||(this._docRange=document.createRange());var i=this._docRange;return i.setStart(e,t),i.setEnd(e,n),i}return null},e.prototype._renderColHdrRow=function(e,t){if(t)return 1;var n=this._e.children[0];n||(n=Object(a.createElement)('<div class="wj-row" role="row"></div>',this._e));var i=this._g,r=i?i.columnHeaders.rows.ariaLabel:null;Object(a.setAttribute)(n,"aria-label",r),Object(a.setAttribute)(n,"aria-selected",null);var o=0,s=this._g._getRowHeaderPath();s&&(o=this._renderRowHdrCell(n,-1,s.path));for(var l=0;l<this.columns.frozen&&l<this.columns.length;l++)o=this._renderColHdrCell(n,l,e,t,o);for(l=e.leftCol;l<=e.rightCol&&l>-1;l++)o=this._renderColHdrCell(n,l,e,t,o);return this._removeExtraCells(n,o),1},e.prototype._renderColHdrCell=function(t,n,i,r,o){var s=this.grid,l=this.columns[n];if(l.renderSize<=0)return o;if(r)return o+1;var c=t.children[o];if(c||(c=Object(a.createElement)(e._HTML_CELL,t)),Object(a.setAttribute)(c,"role","columnheader"),c&&this._recycle&&s._lazyRender){var u=c[e._INDEX_KEY];if(u&&-1==u.row&&u.col==n&&n>=this.columns.frozen)return o+1}if(c.textContent=this.columns[n].header,Object(a.setCss)(c,{position:"fixed",left:l.pos,top:-32e3,width:l.renderSize,height:.1,overflow:"hidden",opacity:"0",pointerEvents:"none"}),l.describedById||this.columns.describedById){var h=[l.describedById,this.columns.describedById].join(" ").trim();Object(a.setAttribute)(c,"aria-describedby",h||null)}if(s.allowSorting){var d="none";switch(s._getBindingColumn(this,0,l).currentSort){case"+":d="ascending";break;case"-":d="descending"}Object(a.setAttribute)(c,"aria-sort",d)}return s.isReadOnly||(Object(a.setAttribute)(c,"aria-readonly",l.isReadOnly),Object(a.setAttribute)(c,"aria-required",l.getIsRequired())),c[e._INDEX_KEY]={row:-1,col:n,panel:this},o+1},e.prototype._renderRowHdrCell=function(t,n,i){var r=t.children[0];return r||(r=Object(a.createElement)(e._HTML_CELL,t)),r.setAttribute("role",n<0?"columnheader":"rowheader"),r.textContent=i?i.toString():"",Object(a.setCss)(r,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),r[e._INDEX_KEY]={row:n,col:-1,panel:this},1},e.prototype._renderRow=function(e,t,n,i){var r=this._g,o=this.rows[e];if(o.renderSize<=0)return i;var s=this._e.children[i];if(s||(s=Object(a.createElement)('<div class="wj-row"></div>',this._e)),this._ct==h.Cell){s.setAttribute("role","row");var l=o.isSelected;switch(r.selectionMode){case p.Row:case p.RowRange:l=l||this._g._selHdl.selection.containsRow(e)}Object(a.setAttribute)(s,"aria-selected",!!l||null),Object(a.setAttribute)(s,"aria-level",o instanceof A?o.level+1:null),Object(a.setAttribute)(s,"aria-expanded",o instanceof A?!o.isCollapsed:null),this.rows.ariaLabel&&Object(a.setAttribute)(s,"aria-label",this.rows.ariaLabel)}var c=0;if(this._ct==h.Cell){var u=this._g._getRowHeaderPath();u&&(c=this._renderRowHdrCell(s,e,u.getValue(o.dataItem)))}for(var d=0;d<this.columns.frozen&&d<this.columns.length;d++)c=this._renderCell(s,e,d,t,n,c);for(d=t.leftCol;d<=t.rightCol&&d>-1;d++)c=this._renderCell(s,e,d,t,n,c);return this._removeExtraCells(s,c),i+1},e.prototype._renderCell=function(t,n,i,r,o,s){var l=this._g,c=l.getMergedRange(this,n,i);if(c){for(var u=Math.max(r.row,c.row);u<n;u++)if(this.rows[u].renderSize)return s;for(u=Math.max(r.col,c.col);u<i;u++)if(this.columns[u].renderSize)return s;var d=this.columns.frozen;if(d&&c.col<d&&c.col2>=d&&i>c.col)return s}var f=this.columns[i];if(f.renderSize<=0&&(!c||c.getRenderSize(this).width<=0))return s;var p=t.children[s];if(p&&!o&&this._recycle&&l._lazyRender&&!l.activeEditor){var m=p[e._INDEX_KEY];m&&m.row==n&&m.col==i&&m.rng==c&&n>=this.rows.frozen&&i>=this.columns.frozen&&(o=!0)}var b=g,v=this.getSelectedState(n,i,c),y=v==b.Cursor||v==b.Active;return p&&o?(Object(a.toggleClass)(p,"wj-state-active",y),Object(a.toggleClass)(p,"wj-state-selected",v==b.Cursor),Object(a.toggleClass)(p,"wj-state-multi-selected",v==b.Selected),Object(a.setAttribute)(p,"aria-selected",!(!y&&v==b.None)||null),y&&(this._activeCell=p),s+1):(p||(p=Object(a.createElement)(e._HTML_CELL,t)),y&&(this._activeCell=p),this._ct==h.Cell&&(Object(a.setAttribute)(p,"role","gridcell"),Object(a.setAttribute)(p,"aria-selected",!(v==b.None&&!y)||null),Object(a.setAttribute)(p,"aria-readonly",!l.canEditCell(n,i)||null),Object(a.setAttribute)(p,"aria-required",f.getIsRequired())),l.cellFactory.updateCell(this,n,i,p,c),p[e._INDEX_KEY]={row:n,col:i,rng:c,panel:this},s+1)},e.prototype._removeExtraCells=function(e,t){for(var n=this._g.cellFactory;e.childElementCount>t;){var i=e.lastElementChild;e.removeChild(i),n.disposeCell(i)}},e.prototype._getViewRange=function(){var e=this._g,t=e._ptScrl,n=e._szClientSB,i=this._rows,r=this._cols,o=new f(0,0,i.length-1,r.length-1);if(this._ct==h.Cell||this._ct==h.RowHeader){var s=-t.y+this._offsetY,a=n.height;(d=Math.min(i.frozen,i.length-1))>0&&(s+=p=i[d-1].pos,a-=p),d>0&&i[d].pos>n.height?o.row=o.row2=-1:(o.row=Math.min(i.length-1,Math.max(d,i.getItemAt(s))),o.row2=Math.max(o.row,i.getItemAt(s+a)));var l=e.hostElement;if(e._clipToScreen&&l){var c=l.getBoundingClientRect(),u=-c.top-e.cells._e.offsetTop;c.top<0&&(o.row=Math.max(o.row,i.getItemAt(u)-1)),c.bottom>innerHeight&&(o.row2=Math.min(o.row2,i.getItemAt(u+innerHeight)+1))}}if(this._ct==h.Cell||this._ct==h.ColumnHeader){var d,p,g=-t.x,m=n.width;(d=Math.min(r.frozen,r.length-1))>0&&(g+=p=r[d-1].pos,m-=p),d>0&&r[d].pos>n.width?o.col=o.col2=-1:(o.col=Math.min(r.length-1,Math.max(d,r.getItemAt(g))),o.col2=Math.max(o.col,r.getItemAt(g+m)))}return i.length<=i.frozen&&(o.row=o.row2=-1),r.length<=r.frozen&&(o.col=o.col2=-1),o},e.prototype._getFrozenPos=function(){var e=this._rows.frozen,t=this._cols.frozen,n=e>0?this._rows[e-1]:null,i=t>0?this._cols[t-1]:null;return new a.Point(i?i.pos+i.renderSize:0,n?n.pos+n.renderSize:0)},e._INDEX_KEY="wj-cell-index",e._HTML_CELL='<div class="wj-cell" tabindex="-1"></div>',e}(),v=function(e){function t(t,n,i){var r=e.call(this)||this;return r._p=Object(a.asType)(t,b,!0),r._rng=Object(a.asType)(n,f,!0),r._data=i,r}return u(t,e),Object.defineProperty(t.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),t.prototype.getRow=function(){return this._p&&this.row>-1?this._p.rows[this.row]:null},t.prototype.getColumn=function(e){var t=this._p,n=t&&this.col>-1?t.columns[this.col]:null;return n&&e&&(n=t.grid._getBindingColumn(t,this.row,n)),n},t}(a.CancelEventArgs),y=function(e){function t(t,n,i){var r=e.call(this,t,n)||this;return r._cell=Object(a.asType)(i,HTMLElement),r}return u(t,e),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),t}(v),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stayInEditMode=!1,t._refresh=!0,t}return u(t,e),Object.defineProperty(t.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(e){this._stayInEditMode=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refresh",{get:function(){return this._refresh},set:function(e){this._refresh=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),t}(v);!function(e){e[e.None=0]="None",e[e.Cell=1]="Cell",e[e.CellRange=2]="CellRange",e[e.Row=3]="Row",e[e.RowRange=4]="RowRange",e[e.ListBox=5]="ListBox",e[e.MultiRange=6]="MultiRange"}(p||(p={})),function(e){e[e.None=0]="None",e[e.Selected=1]="Selected",e[e.Cursor=2]="Cursor",e[e.Active=3]="Active"}(g||(g={})),function(e){e[e.None=0]="None",e[e.Next=1]="Next",e[e.Prev=2]="Prev",e[e.NextPage=3]="NextPage",e[e.PrevPage=4]="PrevPage",e[e.Home=5]="Home",e[e.End=6]="End",e[e.NextCell=7]="NextCell",e[e.PrevCell=8]="PrevCell",e[e.NextEditableCell=9]="NextEditableCell",e[e.PrevEditableCell=10]="PrevEditableCell"}(m||(m={}));var w,C=function(){function e(e){this._sel=new f(0,0),this._xSel=new a.ObservableArray,this._mode=p.CellRange,this._g=e,this._e=new v(e.cells,new f(0,0)),this._xSel.collectionChanged.addHandler((function(){e.invalidate()}))}return Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._mode},set:function(e){e!=this._mode&&this._setSelectionMode(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._sel},set:function(e){this.select(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extendedSelection",{get:function(){return this._xSel},enumerable:!0,configurable:!0}),e.prototype.select=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var i=this._g,r=this._e.range,o=this._sel,s=r,l=!1,c=p;switch(Object(a.isNumber)(e)&&Object(a.isNumber)(t)?(r.setRange(e,t),t=!0):e instanceof f?r.copy(e):Object(a.assert)(!1,"CellRange expected"),i.selectionMode){case c.Cell:s.row2=s.row,s.col2=s.col;break;case c.Row:s.row2=s.row;break;case c.ListBox:l=!0}var u=s.equals(o);if(l&&s.row>-1&&s.row<i.rows.length&&(i.rows[s.row].isSelected||(u=!1)),u&&i.isRangeValid(s))return t&&this._showSelection(),!0;var h=this._e;if(h._rng=s,h.cancel=!1,!i.onSelectionChanging(h)&&!n)return!1;l&&(s.row!=o.row||s.rowSpan>1||o.rowSpan>1)&&i.rows.forEach((function(e,t){e._setFlag(w.Selected,s.containsRow(t),!0)})),s.row=Math.min(s.row,i.rows.length-1),s.row2=Math.min(s.row2,i.rows.length-1),this._sel.copy(s),i.refreshCells(!1,!0,!0),t&&this._showSelection();var d=i.collectionView;if(d){var g=i._getCvIndex(s.row);d.moveCurrentToPosition(g)}return i.onSelectionChanged(h),!0},e.prototype.moveSelection=function(e,t,n){var i=this._g,r=this._sel,o=n&&i.anchorCursor?new f(r.row2,r.col2):new f(r.row,r.col);this._adjustReferenceCell(o,e,t);var s=o.row,a=o.col,l=i.rows,c=i.columns,u=Math.max(0,i._szClient.height-i.columnHeaders.height),h=m;switch(t){case h.NextCell:case h.NextEditableCell:(a=c.getNextCell(a,t))==o.col&&(s=l.getNextCell(s,t))>o.row&&(a=c.getNextCell(0,t),a=c.getNextCell(a,t==h.NextCell?h.PrevCell:h.PrevEditableCell)),i.select(s,a);break;case h.PrevCell:case h.PrevEditableCell:(a=c.getNextCell(o.col,t))==o.col&&(s=l.getNextCell(s,t))<o.row&&(a=c.getNextCell(c.length-1,t),a=c.getNextCell(a,t==h.PrevCell?h.NextCell:h.NextEditableCell)),i.select(s,a);break;default:s=l.getNextCell(s,e,u),a=c.getNextCell(a,t,u),n?i.selection=i.anchorCursor?new f(r.row,r.col,s,a):new f(s,a,r.row2,r.col2):i.select(s,a)}},e.prototype._setSelectionMode=function(e){var t=this._g,n=t.rows,i=p;if(e==i.ListBox||this._mode==i.ListBox)for(var r=0;r<n.length;r++){var o=e==i.ListBox&&this._sel.containsRow(r);n[r]._setFlag(w.Selected,o,!0)}this._mode=e,this._xSel.clear(),n.length&&(o=this._sel,o=e!=i.None?new f(o.row,o.col):new f,this.select(o,!1,!0),t.invalidate())},e.prototype._expandSelection=function(){var e=this._g;if(e.expandSelectionOnCopyPaste&&e.selectionMode){var t=this.selection,n=e.cells,i=e.getMergedRange(n,t.topRow,t.leftCol,!1),r=e.getMergedRange(n,t.bottomRow,t.leftCol,!1),o=e.getMergedRange(n,t.topRow,t.rightCol,!1),s=e.getMergedRange(n,t.bottomRow,t.rightCol,!1);if(i||r||o||s){i=i||new f(t.topRow,t.leftCol),r=r||new f(t.bottomRow,t.leftCol),o=o||new f(t.topRow,t.rightCol),s=s||new f(t.bottomRow,t.rightCol);var a=new f(Math.min(i.topRow,r.topRow,o.topRow,s.topRow),Math.min(i.leftCol,r.leftCol,o.leftCol,s.leftCol),Math.max(i.bottomRow,r.bottomRow,o.bottomRow,s.bottomRow),Math.max(i.rightCol,r.rightCol,o.rightCol,s.rightCol));this.select(a,!1)}}},e.prototype._deselectRange=function(e){var t=this.extendedSelection;if(this.selection.contains(e)){var n=t.length;return this._sel=n?t[n-1]:new f,n&&t.removeAt(n-1),!0}for(var i=0;i<t.length;i++)if(t[i].contains(e))return t.removeAt(i),!0;return!1},e.prototype._showSelection=function(){var e=this._g,t=this._sel;e.anchorCursor?e.scrollIntoView(t.row2,t.col2):e.scrollIntoView(t.row,t.col)},e.prototype._adjustReferenceCell=function(e,t,n){var i=this._g,r=i.getMergedRange(i.cells,e.row,e.col);if(r&&!r.isSingleCell){var o=m;switch(t){case o.Next:case o.NextCell:case o.NextEditableCell:e.row=r.bottomRow;break;case o.Prev:case o.PrevCell:case o.PrevEditableCell:e.row=r.topRow}switch(n){case o.Next:case o.NextCell:case o.NextEditableCell:e.col=r.rightCol;break;case o.Prev:case o.PrevCell:case o.PrevEditableCell:e.col=r.leftCol}}},e}();!function(e){e[e.Visible=1]="Visible",e[e.AllowResizing=2]="AllowResizing",e[e.AllowDragging=4]="AllowDragging",e[e.AllowMerging=8]="AllowMerging",e[e.AllowSorting=16]="AllowSorting",e[e.AutoGenerated=32]="AutoGenerated",e[e.Collapsed=64]="Collapsed",e[e.ParentCollapsed=128]="ParentCollapsed",e[e.Selected=256]="Selected",e[e.ReadOnly=512]="ReadOnly",e[e.HtmlContent=1024]="HtmlContent",e[e.WordWrap=2048]="WordWrap",e[e.MultiLine=4096]="MultiLine",e[e.HasTemplate=8192]="HasTemplate",e[e.RowDefault=3]="RowDefault",e[e.ColumnDefault=23]="ColumnDefault"}(w||(w={}));var S,O,T,k,x=function(){function e(){this._pos=0,this._idx=-1,this._idxVis=-1,this._idxData=-1,this.gridChanged=new a.Event}return Object.defineProperty(e.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(e){if(e!=this.binding){var t=Object(a.asString)(e);if(this._binding=t?new a.Binding(t):null,!this._type&&this.grid&&this._binding){var n=this.grid.collectionView;if(n&&n.sourceCollection&&n.sourceCollection.length){var i=n.sourceCollection[0];this._type=Object(a.getType)(this._binding.getValue(i))}}this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(e){if(e!=this.sortMemberPath){var t=Object(a.asString)(e);this._bindingSort=t?new a.Binding(t):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataType",{get:function(){return this._type},set:function(e){e=Object(a.asEnum)(e,a.DataType,!0),this._type!=e&&(this._type=e,this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._inpType},set:function(e){this._inpType=Object(a.asString)(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(e){this._mask=Object(a.asString)(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLen},set:function(e){this._maxLen=Object(a.asNumber)(e,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!=e&&(this._align=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._fmt},set:function(e){this._fmt!=e&&(this._fmt=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map!=e&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),Object(a.isArray)(e)&&(e=new d(e,null,null)),this._map=Object(a.asType)(e,d,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMapEditor",{get:function(){return null!=this._mapEditor?this._mapEditor:o.DropDownList},set:function(e){e!=this._mapEditor&&(this._mapEditor=Object(a.asEnum)(e,o),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDropDown",{get:function(){return this.dataMapEditor==o.DropDownList},set:function(e){Object(a._deprecated)("showDropDown","dataMapEditor"),this.dataMapEditor=e?o.DropDownList:o.AutoComplete},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(e){this._ddCssClass=Object(a.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._getFlag(w.Visible)},set:function(e){this._setFlag(w.Visible,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return!!this._getFlag(w.Visible)&&(!this._getFlag(w.ParentCollapsed)||this instanceof H)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._idxVis:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._sz},set:function(e){e!=this._sz&&(this._sz=Object(a.asNumber)(e,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderSize",{get:function(){var e=0,t=this._list;return this.isVisible&&((null==(e=this._sz)||e<0)&&(e=t?t.defaultSize:0),t&&null!=t.minSize&&e<t.minSize&&(e=t.minSize),t&&null!=t.maxSize&&e>t.maxSize&&(e=t.maxSize),null!=this._szMin&&e<this._szMin&&(e=this._szMin),null!=this._szMax&&e>this._szMax&&(e=this._szMax)),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowResizing",{get:function(){return this._getFlag(w.AllowResizing)},set:function(e){this._setFlag(w.AllowResizing,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowDragging",{get:function(){return this._getFlag(w.AllowDragging)},set:function(e){this._setFlag(w.AllowDragging,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowMerging",{get:function(){return this._getFlag(w.AllowMerging)},set:function(e){this._setFlag(w.AllowMerging,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._getFlag(w.Selected)},set:function(e){if(!!e!=this.isSelected){var t=this.grid;if(t){var n=this instanceof j?new f(this.index,-1):new f(-1,this.index),i=new v(t?t.cells:null,n);t.onSelectionChanging(i)&&this._setFlag(w.Selected,e,!0)&&(t.refreshCells(!1,!0,!0),t.onSelectionChanged(i))}else this._setFlag(w.Selected,e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._getFlag(w.ReadOnly)},set:function(e){this._setFlag(w.ReadOnly,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._required},set:function(e){this._required=Object(a.asBoolean)(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._getFlag(w.HtmlContent)},set:function(e){this.isContentHtml!=e&&(this._setFlag(w.HtmlContent,e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._getFlag(w.WordWrap)},set:function(e){this._setFlag(w.WordWrap,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiLine",{get:function(){return this._getFlag(w.MultiLine)},set:function(e){this._setFlag(w.MultiLine,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(this._cssClass=Object(a.asString)(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassAll",{get:function(){return this._cssClassAll},set:function(e){e!=this._cssClassAll&&(this._cssClassAll=Object(a.asString)(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),e.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},e.prototype.onGridChanged=function(e){this.gridChanged.raise(this,e)},e.prototype._setList=function(e){e!=this._list&&(this._list=e,this.onGridChanged())},e.prototype._getFlag=function(e){return 0!=(this._f&e)},e.prototype._setFlag=function(e,t,n){return!!t!=this._getFlag(e)&&(this._f=t?this._f|e:this._f&~e,n||this.onPropertyChanged(),!0)},e}(),E=function(e){function t(n){var i=e.call(this)||this;return i._f=w.ColumnDefault,i._hash=t._ctr.toString(36),t._ctr++,Object(a.copy)(i,n),i}return u(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(e){null!=t._parseStarSize(e)?(this._szStar=e,this.onPropertyChanged()):(this._szStar=null,this.size=Object(a.asNumber)(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=Object(a.asNumber)(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=Object(a.asNumber)(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=Object(a.asBoolean)(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(Object(a.isBoolean)(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag(w.HasTemplate)))},Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(e){this._hdr!=e&&(this._hdr=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellTemplate",{get:function(){return this._tpl},set:function(e){e!=this._tpl&&(Object(a.assert)(null==e||Object(a.isString)(e)||Object(a.isFunction)(e),"cellTemplate should be a string or an ICellTemplateFunction."),this._tpl=e,this._setFlag(w.HasTemplate,null!=e&&""!=e),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){var e=this._edt;return e?e.control:null},set:function(e){e!=this.editor&&(this._edt&&(this._edt.dispose(),this._edt=null),null!=e&&(e=Object(a.asType)(e,a.Control),this._edt=new Z(this,e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._getFlag(w.AllowSorting)},set:function(e){this._setFlag(w.AllowSorting,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSort",{get:function(){var e=this.currentSortIndex;return e>-1?this.grid.collectionView.sortDescriptions[e].ascending?"+":"-":null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSortIndex",{get:function(){var e=this.grid?this.grid.collectionView:null,t=e?e.sortDescriptions:null,n=t&&t.length?this._getBindingSort():null;if(n)for(var i=0;i<t.length;i++)if(t[i].property==n)return i;return-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:a.Aggregate.None},set:function(e){(e=Object(a.asEnum)(e,a.Aggregate))!=this._agg&&(this._agg=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=Object(a.asString)(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getIsRequired=function(e){return null!=this._required?this._required:e&&null!=e.isRequired?e.isRequired:this.dataType==a.DataType.String?null!=this.dataMap||null!=this._mask&&this._mask.length>0:!e||e.dataType!=a.DataType.String||null!=e.dataMap||null!=e.mask&&e.mask.length>0},t.prototype.getAlignment=function(e){if(null!=this._align)return this._align;if(e&&null!=e.align)return e.align;if(!this._map)switch(this.dataType){case a.DataType.Boolean:return"center";case a.DataType.Number:return"right"}if(e&&!e.dataMap)switch(e.dataType){case a.DataType.Boolean:return"center";case a.DataType.Number:return"right"}return""},t.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},t._parseStarSize=function(e){if(Object(a.isString)(e)){var t=e.length;if(t>0&&"*"==e[t-1]){var n=1==t?1:parseFloat(e);if(n>0&&!isNaN(n))return n}}return null},t._ctr=0,t}(x),j=function(e){function t(t){var n=e.call(this)||this;return n._f=w.ColumnDefault,n._data=t,n}return u(t,e),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idxData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(e){this.size=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(x),A=function(e){function t(t){var n=e.call(this,t)||this;return n._level=-1,n.level=t instanceof a.CollectionViewGroup?t.level:-1,n.isReadOnly=!0,n}return u(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){Object(a.asInt)(e),e!=this._level&&(this._level=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var e=this.index<this._list.length-1?this._list[this.index+1]:null,n=Object(a.tryCast)(e,t),i=Object(a.tryCast)(e,H);return null!=e&&null==i&&(null==n||n.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._getFlag(w.Collapsed)},set:function(e){!!e!=this.isCollapsed&&null!=this._list&&this._setCollapsed(Object(a.asBoolean)(e))},enumerable:!0,configurable:!0}),t.prototype.getGroupHeader=function(){var e=this.grid,t=e.groupHeaderFormat||a.culture.FlexGrid.groupHeaderFormat,n=this.dataItem;if(n instanceof a.CollectionViewGroup&&t&&e.showGroups&&!e.childItemsPath){var i=n.groupDescription.propertyName,r=n.name,o=e.getColumn(i),s=this.isContentHtml;if(o){s=s||o.isContentHtml,o.header&&(i=o.header);var l=o.dataMap;l&&(r=l.getDisplayValue(r)),o.dataType==Object(a.getType)(r)&&(r=a.Globalize.format(r,o.format))}else i=Object(a.toHeaderCase)(i);var c=n.getAggregate(a.Aggregate.CntAll,null,e.collectionView);return Object(a.format)(t,{name:Object(a.escapeHtml)(i),value:s?r:Object(a.escapeHtml)(r),level:n.level,count:c})}return""},t.prototype._setCollapsed=function(e){var n=this,i=this.grid,r=i.rows,o=this.getCellRange(),s=new v(i.cells,new f(this.index,-1));i.onGroupCollapsedChanging(s)&&(i.deferUpdate((function(){r.deferUpdate((function(){n._setFlag(w.Collapsed,e,!0);for(var i=o.topRow+1;i<=o.bottomRow&&i>-1&&i<r.length;i++){r[i]._setFlag(w.ParentCollapsed,e,!0);var s=r[i];s instanceof t&&s.isCollapsed&&(i=s.getCellRange().bottomRow)}}))})),i.onGroupCollapsedChanged(s))},t.prototype.getCellRange=function(){for(var e=this._list,n=this.index,i=e.length-1,r=n+1;r<=i;r++){var o=e[r];if(o instanceof t&&o.level<=this.level){i=r-1;break}}return new f(n,0,i,this.grid.columns.length-1)},t}(j),I=function(e){function t(t,n){var i=e.call(this)||this;return i._frozen=0,i._lastFrozen=-1,i._firstVisible=-1,i._vlen=0,i._szDef=28,i._szTot=0,i._szCustom=!1,i._dirty=!1,i._g=Object(a.asType)(t,R),i._szDef=Object(a.asNumber)(n,!1,!0),i}return u(t,e),Object.defineProperty(t.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultSize",{get:function(){return this._szDef},set:function(e){this._szCustom=!0,this._szDef!=e&&(this._szDef=Object(a.asNumber)(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozen",{get:function(){return this._frozen},set:function(e){e!=this._frozen&&(this._frozen=Object(a.asNumber)(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.isFrozen=function(e){return e<this.frozen},Object.defineProperty(t.prototype,"minSize",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=Object(a.asNumber)(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=Object(a.asNumber)(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(t.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),t.prototype.getItemAt=function(e){if(this._dirty&&this._update(),e<=0&&this.length>0&&this[0].renderSize)return 0;for(var t,n,i=this.length,r=0,o=i-1;r<=o;)if((n=this[t=r+o>>>1])._pos>e&&t>0)o=t-1;else{if(!(n._pos+n.renderSize<=e&&t<i-1)){for(;t>0&&!this[t].renderSize;)t--;for(;t<i-1&&!this[t].renderSize;)t++;return t}r=t+1}return o},t.prototype.getNextCell=function(e,t,n){var i;switch(void 0===n&&(n=0),t){case m.Next:case m.NextCell:for(i=e+1;i<this.length;i++)if(this[i].renderSize>0)return i;break;case m.NextEditableCell:for(i=e+1;i<this.length;i++)if(this[i].renderSize>0&&!this[i].isReadOnly)return i;break;case m.Prev:case m.PrevCell:for(i=e-1;i>=0;i--)if(this[i].renderSize>0)return i;break;case m.PrevEditableCell:for(i=e-1;i>=0;i--)if(this[i].renderSize>0&&!this[i].isReadOnly)return i;break;case m.End:for(i=this.length-1;i>=0;i--)if(this[i].renderSize>0)return i;break;case m.Home:for(i=0;i<this.length;i++)if(this[i].renderSize>0)return i;break;case m.NextPage:return(i=this.getItemAt(this[e].pos+this[e].renderSize+n))<0?this.getNextCell(e,m.End,n):i==e&&i<this.length-1&&this[i+1].renderSize?i+1:i;case m.PrevPage:return(i=this.getItemAt(this[e].pos-n))<0?this.getNextCell(e,m.Home,n):i==e&&i>0&&this[i-1].renderSize?i-1:i}return e},t.prototype.canMoveElement=function(e,t,n){if(void 0===n&&(n=!0),t==e)return!1;if(e<0||e>=this.length||t>=this.length)return!1;if(n){t<0&&(t=this.length-1);for(var i=Math.min(e,t),r=Math.max(e,t),o=i;o<=r;o++)if(!this[o].allowDragging)return!1}return!(this[t]instanceof H)},t.prototype.moveElement=function(e,t,n){if(void 0===n&&(n=!0),this.canMoveElement(e,t,n)){var i=this[e];if(this.removeAt(e),t<0&&(t=this.length),this.insert(t,i),n){var r=this.frozen;e<r&&t>=r?this.frozen--:e>=r&&t<r&&this.frozen++}return!0}return!1},t.prototype.onCollectionChanged=function(t){void 0===t&&(t=a.NotifyCollectionChangedEventArgs.reset),this._dirty=!0,this._g.invalidate(),e.prototype.onCollectionChanged.call(this,t)},t.prototype.push=function(t){return t._setList(this),e.prototype.push.call(this,t)},t.prototype.splice=function(t,n){for(var i=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];for(var s=t;s<t+n&&s<this.length;s++){var a=this[s];a instanceof x&&a._setList(null)}return r.forEach((function(e){return e._setList(i)})),e.prototype.splice.apply(this,[t,n].concat(r))},t.prototype.beginUpdate=function(){this._update(),e.prototype.beginUpdate.call(this)},t.prototype._setDefaultSize=function(e){this._szCustom||(this.defaultSize=e,this._szCustom=!1)},t.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1,this._lastFrozen=-1,this._firstVisible=-1;for(var e=0,t=0,n=void 0,i=void 0,r=0;r<this.length;r++)(i=this[r])._idx=r,i._idxVis=e,i._pos=t,i._setList(this),(n=i.renderSize)>0&&(t+=n,e++,r<this._frozen&&(this._lastFrozen=r)),this._firstVisible<0&&i.visible&&(this._firstVisible=r);return this._vlen=e,this._szTot=t,!0}return!1},t}(a.ObservableArray),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.getColumn=function(e){var t=Object(a.isNumber)(e)?e:this.indexOf(e);return t>-1?this[t]:null},t.prototype.indexOf=function(t){if(t instanceof E)return e.prototype.indexOf.call(this,t);for(var n=0;n<this.length;n++)if(this[n].name==t)return n;for(n=0;n<this.length;n++)if(this[n].binding==t)return n;return-1},Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=Object(a.asString)(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._updateStarSizes=function(e){for(var t,n=!1,i=0,r=0;r<this.length;r++)(s=this[r]).isVisible&&(s._szStar?(i+=E._parseStarSize(s._szStar),t=s):e-=s.renderWidth);if(t){var o=e;for(r=0;r<this.length;r++){var s;if((s=this[r]).isVisible&&s._szStar){var a=s._sz;s==t&&o>0?a=o:o-=a=Math.max(0,Math.round(E._parseStarSize(s._szStar)/i*e)),a!=s._sz&&(s._sz=a,n=!0)}}return n&&(this._dirty=!0,this._update()),n}return!1},t}(I),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._maxLevel=-1,t}return u(t,e),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(e){e!=this.ariaLabel&&(this._ariaLabel=Object(a.asString)(e),this._g&&this._g.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),t.prototype._update=function(){var t=this;if(e.prototype._update.call(this)){var n=this.grid?this.grid.collectionView:null,i=n?n.items:null,r=0;return this._maxLevel=-1,this.forEach((function(e){e instanceof A&&e.level>t._maxLevel&&(t._maxLevel=e.level),e._idxData=-1;var n=e.dataItem;n&&i&&(e._idxData=n===i[r]?r:n===i[r+1]?++r:-1)})),!0}return!1},t}(I);Object(a._addCultureInfo)("FlexGrid",{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)",ariaLabels:{toggleDropDown:"Toggle Dropdown",toggleGroup:"Toggle Group"}}),function(e){e[e.None=0]="None",e[e.SingleColumn=1]="SingleColumn",e[e.MultiColumn=2]="MultiColumn"}(S||(S={})),function(e){e[e.None=0]="None",e[e.SingleColumn=1]="SingleColumn",e[e.ColumnRange=2]="ColumnRange",e[e.Both=3]="Both"}(O||(O={})),function(e){e[e.None=0]="None",e[e.Column=1]="Column",e[e.Row=2]="Row",e[e.All=3]="All"}(T||(T={})),function(e){e[e.Default=0]="Default",e[e.CSV=1]="CSV",e[e.QuoteAll=2]="QuoteAll",e[e.SkipMerged=4]="SkipMerged",e[e.Unformatted=8]="Unformatted",e[e.InvisibleRows=16]="InvisibleRows",e[e.InvisibleColumns=32]="InvisibleColumns",e[e.InvisibleCells=48]="InvisibleCells"}(k||(k={}));var D,R=function(e){function t(t,n){var i=e.call(this,t,null,!0)||this;i._szClient=new a.Size(0,0),i._szClientSB=new a.Size(0,0),i._offsetY=0,i._cssPage=0,i._ptScrl=new a.Point(0,0),i._cellPadLeft=3,i._cellPadHorz=3,i._cellPadVert=0,i._clipToScreen=!1,i._autoGenCols=!0,i._autoClipboard=!0,i._xOnCopyPaste=!0,i._autoScroll=!0,i._autoSearch=!1,i._caseSensitive=!1,i._readOnly=!1,i._indent=14,i._autoSizeMode=te.Both,i._autoHeights=!1,i._hdrVis=T.All,i._alSorting=S.SingleColumn,i._alPinning=O.None,i._alAddNew=!1,i._alDelete=!1,i._alResizing=ee.Columns,i._alDragging=ne.Columns,i._alMerging=D.None,i._ssHdr=T.None,i._shSort=!0,i._shGroups=!0,i._shMarquee=!1,i._shPlcHld=!1,i._altStep=1,i._shErr=!0,i._shDropDown=!0,i._valEdt=!0,i._deferResizing=!1,i._pSel=!0,i._pOutline=!0,i._stickyHdr=!1,i._anchorCursor=!1,i._copyHeaders=T.None,i._bigChecks=!1,i._vt=0,i._vtRows=0,i._vtCols=0,i._lazyRender=!0,i._refreshOnEdit=!0,i._reorderCells=!0,i.itemsSourceChanging=new a.Event,i.itemsSourceChanged=new a.Event,i.scrollPositionChanged=new a.Event,i.selectionChanging=new a.Event,i.selectionChanged=new a.Event,i.loadingRows=new a.Event,i.loadedRows=new a.Event,i.updatingLayout=new a.Event,i.updatedLayout=new a.Event,i.resizingColumn=new a.Event,i.resizedColumn=new a.Event,i.autoSizingColumn=new a.Event,i.autoSizedColumn=new a.Event,i.starSizedColumns=new a.Event,i.draggingColumn=new a.Event,i.draggingColumnOver=new a.Event,i.draggedColumn=new a.Event,i.pinningColumn=new a.Event,i.pinnedColumn=new a.Event,i.resizingRow=new a.Event,i.resizedRow=new a.Event,i.autoSizingRow=new a.Event,i.autoSizedRow=new a.Event,i.draggingRow=new a.Event,i.draggingRowOver=new a.Event,i.draggedRow=new a.Event,i.groupCollapsedChanging=new a.Event,i.groupCollapsedChanged=new a.Event,i.columnGroupCollapsedChanging=new a.Event,i.columnGroupCollapsedChanged=new a.Event,i.sortingColumn=new a.Event,i.sortedColumn=new a.Event,i.beginningEdit=new a.Event,i.prepareCellForEdit=new a.Event,i.cellEditEnding=new a.Event,i.cellEditEnded=new a.Event,i.rowEditStarting=new a.Event,i.rowEditStarted=new a.Event,i.rowEditEnding=new a.Event,i.rowEditEnded=new a.Event,i.rowAdded=new a.Event,i.deletingRow=new a.Event,i.deletedRow=new a.Event,i.copying=new a.Event,i.copied=new a.Event,i.pasting=new a.Event,i.pasted=new a.Event,i.pastingCell=new a.Event,i.pastedCell=new a.Event,i.formatItem=new a.Event((function(){i._clearCells()})),i.updatingView=new a.Event,i.updatedView=new a.Event,i._mappedColumns=null;var r=i.hostElement;Object(a.isIE)()&&(r.style.borderRadius="0");var o=i.getTemplate();return i.applyTemplate("wj-control wj-content wj-flexgrid",o,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),Object(a.setCss)(i._root.parentElement,{position:"relative",left:"0",top:"0",width:"100%",height:"100%",overflow:"hidden",maxWidth:"inherit",maxHeight:"inherit"}),Object(a.setCss)(i._root,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",maxWidth:"inherit",maxHeight:"inherit",overflow:"auto",webkitOverflowScrolling:"touch"}),Object(a.setCss)(i._eCt,{position:"absolute"}),Object(a.setCss)(i._eMarquee,{display:"none"}),Object(a.setCss)(i._eMarquee.firstChild,{width:"100%",height:"100%"}),Object(a.setCss)(i._fCt,{position:"absolute",left:"0",top:"0",overflow:"hidden",pointerEvents:"none"}),Object(a.setCss)(i._eFocus,{position:"fixed",left:"-32000px"}),Object(a.setCss)(i._eSz,{position:"relative",visibility:"hidden"}),[i._eRHdr,i._eCFtr,i._eCHdr,i._eBL,i._eTL].forEach((function(e){Object(a.setAttribute)(e,"aria-hidden",!0),Object(a.setCss)(e,{position:"absolute",overflow:"hidden",outline:"none"}),Object(a.setCss)(e.firstElementChild,{position:"relative"})})),[i._eFocus,i._eMarquee,i._fCt,i._eSz].forEach((function(e){Object(a.setAttribute)(e,"aria-hidden",!0)})),r.tabIndex=-1,i.deferUpdate((function(){var e=i._getDefaultRowHeight();i._rows=new P(i,e),i._cols=new M(i,4*e),i._hdrRows=new P(i,e),i._hdrCols=new M(i,Math.round(1.25*e)),i._ftrRows=new P(i,e);var t=h;i._gpTL=new b(i,t.TopLeft,i._hdrRows,i._hdrCols,i._eTLCt),i._gpCHdr=new b(i,t.ColumnHeader,i._hdrRows,i._cols,i._eCHdrCt),i._gpRHdr=new b(i,t.RowHeader,i._rows,i._hdrCols,i._eRHdrCt),i._gpCells=new b(i,t.Cell,i._rows,i._cols,i._eCt),i._gpBL=new b(i,t.BottomLeft,i._ftrRows,i._hdrCols,i._eBLCt),i._gpCFtr=new b(i,t.ColumnFooter,i._ftrRows,i._cols,i._eCFtrCt),i._hdrRows.push(new j),i._hdrCols.push(new E({align:"center"})),i._cf=new G,i._keyHdl=new ie(i),i._mouseHdl=new re(i),i._edtHdl=new Q(i),i._selHdl=new C(i),i._addHdl=new B(i),i._grpHdl=new L(i),i._mrgMgr=new V(i),i._bndSortConverter=i._sortConverter.bind(i),i._errorTip=new a.Tooltip({isContentHtml:!1,showDelay:0,cssClass:"wj-error-tip"}),Object(a.setAttribute)(i.cells.hostElement,"role","grid"),i.selectionMode=p.CellRange,i._root.tabIndex=-1,i.initialize(n)})),i.addEventListener(i._root,"scroll",(function(e){if(i._updateScrollPosition()||i._forceScrollUpdate){var t=i.activeEditor,n=t?Object(a.closest)(t,".wj-cell").className:null;i._forceScrollUpdate||i.finishEditing(!1)||i.finishEditing(!0),i._forceScrollUpdate=!1,i._updateContent(!0);var r=i.activeEditor;t&&r&&(r.value=t.value,Object(a.closest)(r,".wj-cell").className=n,i._setFocusNoScroll(r)),i.frozenColumns&&setTimeout((function(){var e=parseInt(i.columnHeaders.hostElement.style.left);Math.abs(e-i._ptScrl.x)>1&&i.invalidate()}))}})),i.addEventListener(r,"focus",(function(e){if(r.tabIndex>-1){var t=e.target;t instanceof HTMLElement&&t.tabIndex<0&&i._setFocus(!0)}}),!0),i}return u(t,e),t.prototype._handleResize=function(){this._rcBounds=null,e.prototype._handleResize.call(this)},Object.defineProperty(t.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(e){(e=Object(a.asEnum)(e,T))!=this._hdrVis&&(this._hdrVis=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(e){e!=this._stickyHdr&&(this._stickyHdr=Object(a.asBoolean)(e),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(e){this._pSel=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(e){this._pOutline=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorCursor",{get:function(){return this._anchorCursor},set:function(e){this._anchorCursor=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyHeaders",{get:function(){return this._copyHeaders},set:function(e){this._copyHeaders=Object(a.asEnum)(e,T)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazyRender",{get:function(){return this._lazyRender},set:function(e){this._lazyRender=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(e){this._vt=e,Object(a.isNumber)(e)?this._vtRows=this._vtCols=Object(a.asNumber)(e):e?Object(a.isArray)(e)&&2==e.length?(this._vtRows=Object(a.asNumber)(e[0]),this._vtCols=Object(a.asNumber)(e[1])):Object(a.assert)(!1,"virtualizationThreshold should be a number or an array with two numbers."):this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(e){this._autoGenCols=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(e){this._autoClipboard=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandSelectionOnCopyPaste",{get:function(){return this._xOnCopyPaste},set:function(e){this._xOnCopyPaste=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoScroll",{get:function(){return this._autoScroll},set:function(e){this._autoScroll=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSearch",{get:function(){return this._autoSearch},set:function(e){this._autoSearch=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){var e=t._getSerializableProperties(E),n=new E,i=[];return this.columns.forEach((function(t){var r={};e.forEach((function(e){var i=t[e];i!=n[e]&&Object(a.isPrimitive)(i)&&"size"!=e&&(r[e]=i)})),i.push(r)})),JSON.stringify({columns:i})},set:function(e){var t=this,n=JSON.parse(Object(a.asString)(e));Object(a.assert)(n,"Invalid columnLayout data."),this.columns.deferUpdate((function(){t.columns.clear(),t.initialize(n)}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._grpHdl.getGroupDefinitions()},set:function(e){this.columns.clear(),this._grpHdl.createColumnGroups(Object(a.asArray)(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){e!=this._readOnly&&(this._readOnly=Object(a.asBoolean)(e),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),Object(a.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigCheckboxes",{get:function(){return this._bigChecks},set:function(e){this._bigChecks=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(e){if((e=Object(a.asBoolean)(e,!0))!=this.isDisabled){var t=this._e;t&&(Object(a.enable)(t,!e),this.invalidate())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(e){if(Object(a.asBoolean)(e)!=this.imeEnabled&&this.finishEditing()){var t=this.containsFocus();this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),e&&(this._imeHdl=new N(this)),t&&this.focus()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(e){this._alResizing=Object(a.asEnum)(e,ee)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(e){this._deferResizing=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(e){this._autoSizeMode=Object(a.asEnum)(e,te)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoRowHeights",{get:function(){return this._autoHeights},set:function(e){this._autoHeights=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=Object(a.asBoolean)(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return Object(a.isBoolean)(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter},Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(e){Object(a.isBoolean)(e)&&(e=e?S.SingleColumn:S.None),this._alSorting=Object(a.asEnum)(e,S)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowPinning",{get:function(){return this._alPinning},set:function(e){e!=this._alPinning&&(Object(a.isBoolean)(e)&&(e=e?O.SingleColumn:O.None),this._alPinning=Object(a.asEnum)(e,O),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(e){e!=this._alAddNew&&(this._alAddNew=Object(a.asBoolean)(e),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(e){this._addHdl.newRowAtTop=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(e){e!=this._alDelete&&(this._alDelete=Object(a.asBoolean)(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(e){(e=Object(a.asEnum)(e,D))!=this._alMerging&&(this._alMerging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(e){(e=Object(a.asEnum)(e,T))!=this._ssHdr&&(this._ssHdr=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMarquee",{get:function(){return this._shMarquee},set:function(e){e!=this._shMarquee&&(this._shMarquee=Object(a.asBoolean)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showPlaceholders",{get:function(){return this._shPlcHld},set:function(e){this._shPlcHld=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSort",{get:function(){return this._shSort},set:function(e){e!=this._shSort&&(this._shSort=Object(a.asBoolean)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=Object(a.asBoolean)(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alternatingRowStep",{get:function(){return this._altStep},set:function(e){e!=this._altStep&&(this._altStep=Object(a.asInt)(e,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlternatingRows",{get:function(){return this._altStep>0},set:function(e){Object(a._deprecated)("showAlternatingRows","alternatingRowStep"),this.alternatingRowStep=e?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showErrors",{get:function(){return this._shErr},set:function(e){e!=this._shErr&&(this._clearCells(),this._shErr=Object(a.asBoolean)(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorTip",{get:function(){return this._errorTip},set:function(e){e!=this._errorTip&&(this._clearCells(),this._errorTip=Object(a.asType)(e,a.Tooltip,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this.itemValidator&&(this._itemValidator=Object(a.asFunction)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(e){this._valEdt=Object(a.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(e){e!=this._gHdrFmt&&(this._gHdrFmt=Object(a.asString)(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(e){(e=Object(a.asEnum)(e,ne))!=this._alDragging&&(this._alDragging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){if(e!=this._items){var t,n=new a.CancelEventArgs;this.onItemsSourceChanging(n)&&(this._cv&&((t=Object(a.tryCast)(this._cv,a.CollectionView))&&t.sortConverter==this._bndSortConverter&&(t.sortConverter=null),this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._cv=this._getCollectionView(e),this._lastCount=0,this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this),(t=Object(a.tryCast)(this._cv,a.CollectionView))&&!t.sortConverter&&(t.sortConverter=this._bndSortConverter)),this._bindGrid(!0),this._selHdl._setSelectionMode(this.selectionMode),this.onItemsSourceChanged(n))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editableCollectionView",{get:function(){return Object(a.tryCast)(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(e){e!=this._childItemsPath&&(Object(a.assert)(null==e||Object(a.isArray)(e)||Object(a.isString)(e),"childItemsPath should be an array or a string."),this._childItemsPath=e,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(e){e!=this.rowHeaderPath&&(e=Object(a.asString)(e),this._rowHdrPath=e?new a.Binding(e):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),t.prototype.getColumn=function(e){return this.columns.getColumn(e)},Object.defineProperty(t.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(e){this.rows.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(e){this.columns.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(e){e!=this._fzClone&&(Object(a.setText)(this._fCt,null),this._fzClone=Object(a.asBoolean)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(e){e!=this._sortRowIndex&&(this._sortRowIndex=Object(a.asNumber)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editColumnIndex",{get:function(){return this._editColIndex},set:function(e){e!=this._editColIndex&&(this._editColIndex=Object(a.asNumber)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(e){var n=this._root,i=-e.x;if(this.rightToLeft)switch(t._getRtlMode()){case"rev":i=n.scrollWidth-n.clientWidth+e.x;break;case"neg":i=e.x;break;default:i=-e.x}n.scrollLeft=i,n.scrollTop=-e.y,this._updateScrollPosition()&&(this._forceScrollUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=Object(a.getElementRect)(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollSize",{get:function(){return new a.Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellFactory",{get:function(){return this._cf},set:function(e){e!=this._cf&&(this._clearCells(),this._cf=Object(a.asType)(e,G,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=Object(a.asFunction)(e))},enumerable:!0,configurable:!0}),t.prototype.canEditCell=function(e,t){return this._edtHdl._allowEdit(e,t)},t.prototype.getCellData=function(e,t,n){return this.cells.getCellData(e,t,n)},t.prototype.getCellBoundingRect=function(e,t,n){return this.cells.getCellBoundingRect(e,t,n)},t.prototype.setCellData=function(e,t,n,i,r){return void 0===i&&(i=!0),void 0===r&&(r=!0),this.cells.setCellData(e,t,n,i,r)},t.prototype.hitTest=function(e,t){return Object(a.isNumber)(e)&&Object(a.isNumber)(t)&&(e=new a.Point(e,t)),Object(a.isBoolean)(t)&&t&&(this._rcBounds=null),new $(this,e)},t.prototype.getClipString=function(e,t,n,i){var r;return r=null==t||Object(a.isBoolean)(t)?t?k.CSV:k.Default:t,Object(a.assert)(Object(a.isNumber)(r),"Unexpected value for ClipStringOptions parameter."),this._edtHdl.getClipString(e,r,n,i)},t.prototype.setClipString=function(e,t){this._edtHdl.setClipString(e,t)},t.prototype.focus=function(e){this._setFocus(e)},t.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,e.prototype.dispose.call(this)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.finishEditing(),t){this._updateColumnTypes(),this.scrollPosition=this._ptScrl;var n=this._getDefaultRowHeight();this._rows._setDefaultSize(n),this._cols._setDefaultSize(4*n),this._hdrRows._setDefaultSize(n),this._hdrCols._setDefaultSize(Math.round(1.25*n)),this._ftrRows._setDefaultSize(n),clearTimeout(this._toInv),this._toInv=null}this.refreshCells(t);var i=this._e;i&&(this._szCtl=new a.Size(i.offsetWidth,i.offsetHeight))},t.prototype.refreshCells=function(e,t,n){this.isUpdating||(e?this._updateLayout():this._updateContent(t,n))},t.prototype.refreshRange=function(e){for(var t=e.topRow;t<=e.bottomRow;t++)for(var n=e.leftCol;n<=e.rightCol;n++){var i=this.cells.getCellElement(t,n);i&&this.cellFactory.updateCell(this.cells,t,n,i,i[b._INDEX_KEY].rng)}},t.prototype.autoSizeColumn=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=4),this.autoSizeColumns(e,e,t,n)},t.prototype.autoSizeColumns=function(e,n,i,r){var o=this;void 0===i&&(i=!1),void 0===r&&(r=4);var s=0,l=i?this.topLeftCells:this.columnHeaders,c=i?this.bottomLeftCells:this.columnFooters,u=i?this.rowHeaders:this.cells,h=this.viewRange;e=null==e?0:Object(a.asInt)(e),n=null==n?u.columns.length-1:Object(a.asInt)(n),h.row=Math.max(0,h.row-1e3),h.row2=Math.min(h.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate((function(){Object(a.setCss)(o._eCt,{width:o._gpCells.width});for(var i=Object(a.createElement)("<div "+t._WJS_MEASURE+'="true"/>',u.hostElement,{visibility:"hidden"}),d=o._getCanvasContext(),f=e;f<=n&&f>-1&&f<u.columns.length;f++){var p=u.columns[f];if(p.isVisible){if(s=0,o.autoSizeMode&te.Headers){for(var g=0;g<l.rows.length;g++)l.rows[g].isVisible&&(s=Math.max(o._getDesiredWidth(l,g,f,i),s));for(g=0;g<c.rows.length;g++)c.rows[g].isVisible&&(s=Math.max(o._getDesiredWidth(c,g,f,i),s))}if(o.autoSizeMode&te.Cells&&h.isValid)if(p._getQuickAutoSize())g=o._getWidestRow(u,h,f,d),s=Math.max(o._getDesiredWidth(u,g,f,i),s);else for(g=h.row;g<=h.row2&&g<u.rows.length;g++)u.rows[g].isVisible&&(s=Math.max(o._getDesiredWidth(u,g,f,i),s));s>0&&(p.width=s+r+2)}}o.cellFactory.disposeCell(i),Object(a.removeChild)(i)}))},t.prototype.autoSizeRow=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0),this.autoSizeRows(e,e,t,n)},t.prototype.autoSizeRows=function(e,n,i,r){var o=this;void 0===i&&(i=!1),void 0===r&&(r=0);var s=0,l=i?this.topLeftCells:this.rowHeaders,c=i?this.columnHeaders:this.cells;if(i=Object(a.asBoolean)(i),r=Object(a.asNumber)(r),e=null==e?0:Object(a.asInt)(e),n=null==n?c.rows.length-1:Object(a.asInt)(n),this.finishEditing()){Object(a.setCss)(this._eCt,{width:this._gpCells.width});var u=Object(a.createElement)("<div "+t._WJS_MEASURE+'="true"/>',c.hostElement,{visibility:"hidden"});this.rows.deferUpdate((function(){for(var t={},i=e;i<=n&&i>-1&&i<c.rows.length;i++)c.rows[i].isVisible&&(s=0,o.autoSizeMode&te.Headers&&(s=o._getDesiredRowHeight(l,i,u,t)),o.autoSizeMode&te.Cells&&(s=Math.max(o._getDesiredRowHeight(c,i,u,t),s)),s>0&&(c.rows[i].height=s+r))})),this.cellFactory.disposeCell(u),Object(a.removeChild)(u)}},Object.defineProperty(t.prototype,"treeIndent",{get:function(){return this._indent},set:function(e){e!=this._indent&&(this._indent=Object(a.asNumber)(e,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),t.prototype.collapseGroupsToLevel=function(e){var t=this;this.finishEditing()&&this.deferUpdate((function(){var n=t.rows;n.deferUpdate((function(){for(var t=0;t<n.length;t++){var i=n[t];i instanceof A&&(i.isCollapsed=i.level>=e)}}))}))},Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(e){(e=Object(a.asEnum)(e,p))!=this.selectionMode&&(this._selHdl.selectionMode=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(e){this._selHdl.selection=e},enumerable:!0,configurable:!0}),t.prototype.select=function(e,t){return void 0===t&&(t=!0),this._selHdl.select(e,t)},t.prototype.selectAll=function(){var e=this.rows.length,t=this.columns.length;return!(!e||!t)&&this.select(new f(0,0,e-1,t-1),!1)},t.prototype.getSelectedState=function(e,t){return this.cells.getSelectedState(e,t,null)},Object.defineProperty(t.prototype,"selectedRows",{get:function(){var e=this,t=this.selectionMode,n=this.rows.filter((function(e){return e.isSelected}));if(0==n.length&&t!=p.None){var i=[];this.selectedRanges.forEach((function(t){for(var n=t.topRow;n<=t.bottomRow&&n>-1&&n<e.rows.length;n++)i.indexOf(n)<0&&i.push(n)})),i.sort(),n=i.map((function(t){return e.rows[t]}))}return n},set:function(e){var t=this;Object(a.assert)(this.selectionMode==p.ListBox,"This property can be set only in ListBox mode."),e=Object(a.asArray)(e),this.deferUpdate((function(){for(var n=0,i=!0;n<t.rows.length;n++){var r=t.rows[n],o=e&&e.indexOf(r)>-1;o&&i&&(i=!1,t.select(n,t.selection.col)),r.isSelected=o}}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){var e=[];return this.selectedRows.forEach((function(t){t&&t.dataItem&&e.push(t.dataItem)})),e},set:function(e){var t=this;Object(a.assert)(this.selectionMode==p.ListBox,"This property can be set only in ListBox mode."),e=Object(a.asArray)(e),this.deferUpdate((function(){for(var n=0,i=!0;n<t.rows.length;n++){var r=t.rows[n],o=e&&e.indexOf(r.dataItem)>-1;o&&i&&(i=!1,t.select(n,t.selection.col)),r.isSelected=o}}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedRanges",{get:function(){var e=[this.selection];return this._selHdl.extendedSelection.forEach((function(t){e.push(t)})),e},set:function(e){if((e=Object(a.asArray)(e))&&e.length>0&&(this.select(e[0]),this.selectionMode==p.MultiRange)){var t=this._selHdl.extendedSelection;t.deferUpdate((function(){t.clear();for(var n=1;n<e.length;n++)t.push(e[n])}))}},enumerable:!0,configurable:!0}),t.prototype.scrollIntoView=function(e,t,n){(null==this._maxOffsetY||this._rows._dirty||this._cols._dirty)&&this._updateLayout();var i=this.scrollPosition,r=this._szClient,o=r.width,s=r.height-this._gpCFtr.rows.getTotalSize(),l=this.cells._getFrozenPos();if((e=Object(a.asInt)(e))>-1&&e<this._rows.length&&e>=this._rows.frozen){var c=this._rows[e],u=this._getCssPage(c.pos);if(u!=this._cssPage){for(var h=this._maxOffsetY,d=Math.round(h*u);d>c.pos;u-=.1)d=Math.round(h*u);this._offsetY=d}var f=c.pos-this._offsetY,p=f+c.renderSize;p>s-i.y&&(i.y=Math.max(-f,s-p)),f-l.y<-i.y&&(i.y=-(f-l.y)),u!=this._cssPage&&(this._cssPage=this._getCssPage(-i.y))}if((t=Object(a.asInt)(t))>-1&&t<this._cols.length&&t>=this._cols.frozen){var g=this._cols[t],m=g.pos+g.renderSize;m>-i.x+o&&(i.x=Math.max(-g.pos,o-m)),g.pos-l.x<-i.x&&(i.x=-(g.pos-l.x))}if(!i.equals(this._ptScrl))return this.scrollPosition=i,n&&(this._updateScrollPosition(),this.refresh()),!0;if(this._focus&&this._activeCell&&e>-1&&t>-1){var b=this._root,v=b.scrollWidth==b.clientWidth,y=b.scrollHeight==b.clientHeight;if(v||y){var _=this._activeCell.getBoundingClientRect(),w=innerWidth,C=innerHeight,S=_.right<0||_.left>w,O=_.bottom<0||_.top>C;i.x=pageXOffset+(_.left<0?_.left:_.right>w?_.right-w:0),i.y=pageYOffset+(_.top<0?_.top:_.bottom>C?_.bottom-C:0),S&&v&&O&&y?scrollTo(i.x,i.y):S&&v?scrollTo(i.x,document.documentElement.scrollLeft):O&&y&&scrollTo(document.documentElement.scrollTop,i.y)}}return!1},t.prototype.isRangeValid=function(e){return e&&e.isValid&&e.bottomRow<this.rows.length&&e.rightCol<this.columns.length},t.prototype.startEditing=function(e,t,n,i,r){return void 0===e&&(e=!0),this._edtHdl.startEditing(e,t,n,i,r)},t.prototype.finishEditing=function(e){return this._edtHdl.finishEditing(e)},Object.defineProperty(t.prototype,"activeCell",{get:function(){return this._activeCell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEditor",{get:function(){return this._edtHdl.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editRange",{get:function(){var e=this._edtHdl.editRange;return e?e.clone():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(e){e!=this._mrgMgr&&(this._mrgMgr=Object(a.asType)(e,V,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getMergedRange=function(e,t,n,i){return void 0===i&&(i=!0),this._mrgMgr?this._mrgMgr.getMergedRange(e,t,n,i):null},Object.defineProperty(t.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(e){this._keyHdl._kaTab=Object(a.asEnum)(e,J)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(e){this._keyHdl._kaEnter=Object(a.asEnum)(e,J)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveWhiteSpace",{get:function(){return Object(a.hasClass)(this.hostElement,t._WJS_WSPRE)},set:function(e){Object(a.toggleClass)(this.hostElement,t._WJS_WSPRE,Object(a.asBoolean)(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(e){e!=this._shDropDown&&(this._shDropDown=Object(a.asBoolean)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.toggleDropDownList=function(){return this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1),null!=this._edtHdl._lbx},Object.defineProperty(t,"defaultTypeWidth",{get:function(){return t._defTypeWidth},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanging=function(e){return this.itemsSourceChanging.raise(this,e),!e.cancel},t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onScrollPositionChanged=function(e){this.scrollPositionChanged.raise(this,e)},t.prototype.onSelectionChanging=function(e){return this.selectionChanging.raise(this,e),!e.cancel},t.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)},t.prototype.onLoadingRows=function(e){return this.loadingRows.raise(this,e),!e.cancel},t.prototype.onLoadedRows=function(e){this.loadedRows.raise(this,e),this._autoRowHeights()},t.prototype.onUpdatingLayout=function(e){return this.updatingLayout.raise(this,e),!e.cancel},t.prototype.onUpdatedLayout=function(e){this.updatedLayout.raise(this,e)},t.prototype.onResizingColumn=function(e){return this.resizingColumn.raise(this,e),!e.cancel},t.prototype.onResizedColumn=function(e){this.resizedColumn.raise(this,e),this._autoRowHeights()},t.prototype.onAutoSizingColumn=function(e){return this.autoSizingColumn.raise(this,e),!e.cancel},t.prototype.onAutoSizedColumn=function(e){this.autoSizedColumn.raise(this,e)},t.prototype.onStarSizedColumns=function(e){this.starSizedColumns.raise(this,e),this._autoRowHeights()},t.prototype.onDraggingColumn=function(e){return this.draggingColumn.raise(this,e),!e.cancel},t.prototype.onDraggingColumnOver=function(e){return this.draggingColumnOver.raise(this,e),!e.cancel},t.prototype.onDraggedColumn=function(e){this.draggedColumn.raise(this,e)},t.prototype.onPinningColumn=function(e){return this.pinningColumn.raise(this,e),!e.cancel},t.prototype.onPinnedColumn=function(e){this.pinnedColumn.raise(this,e)},t.prototype.onResizingRow=function(e){return this.resizingRow.raise(this,e),!e.cancel},t.prototype.onResizedRow=function(e){this.resizedRow.raise(this,e)},t.prototype.onAutoSizingRow=function(e){return this.autoSizingRow.raise(this,e),!e.cancel},t.prototype.onAutoSizedRow=function(e){this.autoSizedRow.raise(this,e)},t.prototype.onDraggingRow=function(e){return this.draggingRow.raise(this,e),!e.cancel},t.prototype.onDraggingRowOver=function(e){return this.draggingRowOver.raise(this,e),!e.cancel},t.prototype.onDraggedRow=function(e){this.draggedRow.raise(this,e)},t.prototype.onGroupCollapsedChanging=function(e){return this.groupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onGroupCollapsedChanged=function(e){this.groupCollapsedChanged.raise(this,e)},t.prototype.onColumnGroupCollapsedChanging=function(e){return this.columnGroupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onColumnGroupCollapsedChanged=function(e){this.columnGroupCollapsedChanged.raise(this,e)},t.prototype.onSortingColumn=function(e){return this.sortingColumn.raise(this,e),!e.cancel},t.prototype.onSortedColumn=function(e){this.sortedColumn.raise(this,e)},t.prototype.onBeginningEdit=function(e){return this.beginningEdit.raise(this,e),!e.cancel},t.prototype.onPrepareCellForEdit=function(e){this.prepareCellForEdit.raise(this,e)},t.prototype.onCellEditEnding=function(e){return this.cellEditEnding.raise(this,e),!e.cancel&&!e.stayInEditMode},t.prototype.onCellEditEnded=function(e){this.cellEditEnded.raise(this,e),this._autoRowHeights()},t.prototype.onRowEditStarting=function(e){return this.rowEditStarting.raise(this,e),!e.cancel},t.prototype.onRowEditStarted=function(e){this.rowEditStarted.raise(this,e)},t.prototype.onRowEditEnding=function(e){this.rowEditEnding.raise(this,e)},t.prototype.onRowEditEnded=function(e){this.rowEditEnded.raise(this,e),this._autoRowHeights()},t.prototype.onRowAdded=function(e){return this.rowAdded.raise(this,e),!e.cancel},t.prototype.onDeletingRow=function(e){return this.deletingRow.raise(this,e),!e.cancel},t.prototype.onDeletedRow=function(e){this.deletedRow.raise(this,e)},t.prototype.onCopying=function(e){return this.copying.raise(this,e),!e.cancel},t.prototype.onCopied=function(e){this.copied.raise(this,e)},t.prototype.onPasting=function(e){return this.pasting.raise(this,e),!e.cancel},t.prototype.onPasted=function(e){this.pasted.raise(this,e)},t.prototype.onPastingCell=function(e){return this.pastingCell.raise(this,e),!e.cancel},t.prototype.onPastedCell=function(e){this.pastedCell.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.onUpdatingView=function(e){return this.updatingView.raise(this,e),!e.cancel},t.prototype.onUpdatedView=function(e){this.updatedView.raise(this,e)},t.prototype._autoRowHeights=function(){var e=this;this._autoHeights&&(clearTimeout(this._toAutoHeights),this._toAutoHeights=setTimeout((function(){e._toAutoHeights=null,e.editRange||e.autoSizeRows()}),a.Control._REFRESH_INTERVAL))},t.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},t.prototype._getHasValidation=function(){return this._hasValidation},t.prototype._getError=function(e,t,n,i){if(Object(a.isFunction)(this.itemValidator)){if(e==this.cells)return this.itemValidator(t,n,i);if(e==this.rowHeaders)for(n=0;n<this.columns.length;n++)if(u=this.itemValidator(t,n,i))return u}var r=this._cv,o=r?r.getError:null;if(Object(a.isFunction)(o)){var s=e.rows,l=this.columns,c=s[t].dataItem;if(c&&!(c instanceof a.CollectionViewGroup))for(;t<s.length&&s[t].dataItem==c;t++){if(e==this.cells)return o(c,this._getBindingColumn(this.cells,t,l[n]).binding,i);if(e==this.rowHeaders)for(n=0;n<l.length;n++){var u;if(u=o(c,this._getBindingColumn(this.cells,t,l[n]).binding))return u}}}return null},t.prototype._setAria=function(e,t){Object(a.setAttribute)(this.cells.hostElement,"aria-"+e,t)},t.prototype._setFocus=function(e){if(this.hostElement&&(e||!this.containsFocus())){var t=Object(a.getActiveElement)(),n=this.activeEditor,i=this._activeCell,r=this._eFocus,o=this._root;n?Object(a.contains)(n,t)||(n.focus(),r.tabIndex=-1):i?Object(a.contains)(i,t)||t==this._root||(Object(a.isIE)()&&Object(a.hasClass)(i,"wj-group")&&(i=i.querySelector("."+G._WJC_COLLAPSE)||i),i.tabIndex=this._orgTabIndex,this._setFocusNoScroll(i),r.tabIndex=-1):Object(a.contains)(r,t)||t==o||(r.tabIndex=this._orgTabIndex,this._setFocusNoScroll(r)),this.containsFocus()||(r.tabIndex=this._orgTabIndex,this._setFocusNoScroll(r))}},t.prototype._setFocusNoScroll=function(e){if(Object(a.getActiveElement)()!=e){if(Object(a.supportsFocusOptions)())e.focus({preventScroll:!0});else{var t=this.scrollPosition,n=e.style,i=n.position;n.position="fixed",e.focus(),n.position=i,this.scrollPosition=t}this._fixScroll()}},t.prototype._getDefaultRowHeight=function(){var e=this.hostElement,t=this._eFocus,n=null;t.offsetHeight||(n=Object(a.createElement)('<div><div class="wj-cell">0</div></div>',document.body),e&&n.setAttribute("class",e.getAttribute("class")),t=n.children[0]);var i=t.offsetHeight;return(isNaN(i)||i<=6)&&(i=28),Object(a.removeChild)(n),i},t.prototype._getCollectionView=function(e){return Object(a.asCollectionView)(e)},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),t=getComputedStyle(this.hostElement);return e.font=t.fontSize+" "+t.fontFamily.split(",")[0],e},t.prototype._getWidestRow=function(e,t,n,i){for(var r=0,o=0,s=e.columns[n].dataType==a.DataType.Boolean,l=t.row;l<=t.row2;l++)if(e.rows[l].isVisible){var c=e.getCellData(l,n,!0),u=i.measureText(c).width,h=this.getMergedRange(e,l,n,!1);if(h&&h.columnSpan>1&&(u/=h.columnSpan),u>o&&(o=u,r=l),s)break}return r},t.prototype._getDesiredWidth=function(e,t,n,i){var r=this.getMergedRange(e,t,n,!1),o=i.style;return this.cellFactory.updateCell(e,t,n,i,r),o.width=o.top=o.left="",i.offsetWidth/(r&&r.columnSpan>1?r.columnSpan:1)},t.prototype._getDesiredHeight=function(e,t,n,i){var r=i.style,o=this.getMergedRange(e,t,n,!1),s=o?o.rowSpan:1;return this.cellFactory.updateCell(e,t,n,i,o),i.innerHTML.trim()||(i.innerHTML="&nbsp;"),r.height=r.top=r.left="",i.offsetHeight/s},t.prototype._getDesiredRowHeight=function(e,t,n,i){for(var r=0,o=this._getQuickAutoSize(),s=0;s<e.columns.length;s++){var l=e.columns[s];if(l.isVisible){var c=this.getMergedRange(e,t,s,!1),u=void 0;if(o){var h={ct:e.cellType,col:s,rng:c&&c.rowSpan>1?c.rowSpan:1,data:l.dataType!=a.DataType.Number||l.dataMap?e.getCellData(t,s,!0):"1"},d=JSON.stringify(h);null==(u=i[d])&&(u=this._getDesiredHeight(e,t,s,n),i[d]=u)}else u=this._getDesiredHeight(e,t,s,n);r=Math.max(u,r)}}return r},t.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},t.prototype._getDeleteColumnIndex=function(){return 0},t.prototype._getEditColumnIndex=function(){return null!=this._editColIndex?this._editColIndex:this.rowHeaders.columns.length-1},t.prototype._sortConverter=function(e,t,n,i){var r,o=this;if(i&&(this._mappedColumns=null,this._cv&&this._cv.sortDescriptions.forEach((function(e){(r=o.getColumn(e.property))&&r.dataMap&&(o._mappedColumns||(o._mappedColumns={}),o._mappedColumns[r.binding]=r.dataMap)})),this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(r=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&r.dataMap&&(this._mappedColumns[r.binding]=r.dataMap))),this._mappedColumns){var s=this._mappedColumns[e.property];s&&s.sortByDisplayValues&&(n=s.getDisplayValue(n))}return n},t.prototype._bindGrid=function(e){var t=this;if(this.finishEditing(),this.deferUpdate((function(){var n,i;if(t.autoGenerateColumns&&0==t._lastCount&&Object(a.hasItems)(t._cv)&&(e=!0),t.preserveSelectedState&&(n=t._getMap())&&t.rows.forEach((function(e){e.isSelected&&e.dataItem&&n.set(e.dataItem,!0)})),t.preserveOutlineState&&t.rows.maxGroupLevel>-1&&(i=t._getMap()))for(var r=0;r<t.rows.length;r++){var o=t.rows[r];if(o instanceof A&&o.isCollapsed&&o.dataItem){var s=o.dataItem;s instanceof a.CollectionViewGroup&&(s=s._path),i.set(s,!0)}}e&&t.columns.deferUpdate((function(){t._bindColumns()}));var l=new a.CancelEventArgs;t.onLoadingRows(l)&&(t.rows.deferUpdate((function(){t._bindRows()})),t.onLoadedRows(l)),t._selHdl.extendedSelection.clear();var c=0;if(n&&n.size&&t.rows.forEach((function(e){var t=e.dataItem;t&&n.has(t)&&(e.isSelected=!0,c++)})),0==c&&t._lastCount>0&&t.selectionMode==p.ListBox){var u=t.selection;for(r=u.topRow;r<=u.bottomRow&&r>-1&&r<t.rows.length;r++)t.rows[r].isSelected=!0}if(i&&i.size&&t.rows.deferUpdate((function(){t.rows.forEach((function(e){if(e instanceof A){var t=e.dataItem;t instanceof a.CollectionViewGroup&&(t=t._path),i.has(t)&&(e.isCollapsed=!0)}}))})),!t._lastCount){var h=t._cv;h&&h.items&&(t._lastCount=h.items.length)}})),!this.rows.length){var n=this._selHdl.selection;n.row=n.row2=-1}this._cv&&this._syncSelection(e&&!this._toInv)},t.prototype._getMap=function(){return window.Map?new Map:null},t.prototype._cvCollectionChanged=function(e,t){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else{var n=a.NotifyCollectionChangedAction;if(this.childItemsPath&&t.action!=n.Change)this._bindGrid(!1);else{switch(t.action){case n.Change:return void this.invalidate();case n.Add:if(t.index==this._cv.items.length-1){var i=this.rows.length;return this.rows[i-1]instanceof H&&i--,void this.rows.insert(i,new j(t.item))}Object(a.assert)(!1,"added item should be the last one.");break;case n.Remove:var r=this._findRow(t.item);if(r>-1)return this.rows.removeAt(r),void this._syncSelection();Object(a.assert)(!1,"removed item not found on grid.")}this._bindGrid(!1)}}},t.prototype._cvCurrentChanged=function(e,t){this._syncSelection()},t.prototype._syncSelection=function(e){if(this._cv&&this.selectionMode!=p.None){var t=this._selHdl.selection,n=t.row>-1&&t.row<this.rows.length?this.rows[t.row]:null,i=n?n.dataItem:null,r=this._cv;if(r instanceof a.CollectionView&&r.isUpdating)return;if(this.newRowAtTop&&n instanceof H)return;if(i instanceof a.CollectionViewGroup&&(i=null),i!=r.currentItem||e){var o=this.editableCollectionView;if(!this.childItemsPath||!o||!o.currentAddItem){var s=this._getRowIndex(r.currentPosition);s==t.row&&this.childItemsPath||(t=new f(s,t.col,s,t.col2),this.select(t,!1),this.selectionMode&&this.scrollIntoView(t.row,-1))}}}},t.prototype._getRowIndex=function(e){if(this._cv){var t=this.rows;if(e>-1){for(var n=this._cv.items[e];e<t.length;e++)if(t[e].dataItem===n)return e;return-1}if(1==t.length&&t[0]instanceof H)return 0;var i=this.selection.row,r=i>-1?t[i]:null;return r&&(r instanceof A||null==r.dataItem)?i:-1}return this.selection.row},t.prototype._getCvIndex=function(e){return e>-1&&e<this.rows.length?this.rows[e].dataIndex:-1},t.prototype._findRow=function(e){for(var t=0;t<this.rows.length;t++)if(this.rows[t].dataItem==e)return t;return-1},t.prototype._updateLayout=function(){var e=new a.CancelEventArgs;if(this.onUpdatingLayout(e)){var n=this._hdrVis&T.Row?this._hdrCols.getTotalSize():0,i=this._hdrVis&T.Column?this._hdrRows.getTotalSize():0,r=this._ftrRows.getTotalSize(),o=this._rows.getTotalSize()+r;o<1&&(o=1),this._heightReal=o,this._heightBrowser=Math.min(o,t._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,o-this._heightBrowser);var s=getComputedStyle(this._eFocus);this._cellPadVert=parseInt(s.paddingTop)+parseInt(s.paddingBottom),this._cellPadHorz=parseInt(s.paddingLeft)+parseInt(s.paddingRight),this._cellPadLeft=parseInt(this.rightToLeft?s.paddingRight:s.paddingLeft);var l=this._heightBrowser+i-r,c=this._gpCells.width,u=this._heightBrowser;!c&&this.rows.length&&(c=.1),!u&&this.columns.length&&(u=.1),this.rightToLeft?(Object(a.setCss)(this._eTL,{right:0,top:0,width:n,height:i}),Object(a.setCss)(this._eCHdr,{right:n,top:0,height:i}),Object(a.setCss)(this._eRHdr,{right:0,top:i,width:n}),Object(a.setCss)(this._eCt,{right:n,top:i,width:c,height:u}),Object(a.setCss)(this._fCt,{right:n,top:i}),Object(a.setCss)(this._eBL,{right:0,top:l,width:n,height:r}),Object(a.setCss)(this._eCFtr,{right:n,top:l,height:r})):(Object(a.setCss)(this._eTL,{left:0,top:0,width:n,height:i}),Object(a.setCss)(this._eCHdr,{left:n,top:0,height:i}),Object(a.setCss)(this._eRHdr,{left:0,top:i,width:n}),Object(a.setCss)(this._eCt,{left:n,top:i,width:c,height:u}),Object(a.setCss)(this._fCt,{left:n,top:i}),Object(a.setCss)(this._eBL,{left:0,top:l,width:n,height:r}),Object(a.setCss)(this._eCFtr,{left:n,top:l,height:r})),this._stickyHdr&&this._updateStickyHeaders();var h=this.frozenRows||this.frozenColumns?"3":"";Object(a.setCss)([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:h});var d=this._root,f=d.offsetWidth-d.clientWidth,p=d.offsetHeight-d.clientHeight;Object(a.setCss)(this._eSz,{width:n+f+this._gpCells.width,height:i+p+this._heightBrowser});var g=null;this.columns._updateStarSizes(d.clientWidth-n)&&(g=d.clientWidth,Object(a.setCss)(this._eCt,{width:this._gpCells.width}),this.onStarSizedColumns()),this._szClient=new a.Size(d.clientWidth-n,d.clientHeight-i),this._szClientSB=new a.Size(d.offsetWidth-n,d.offsetHeight-i),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),f=d.offsetWidth-d.clientWidth,p=d.offsetHeight-d.clientHeight,Object(a.setCss)(this._eSz,{width:n+f+this._gpCells.width,height:i+p+this._heightBrowser}),this._szClient=new a.Size(d.clientWidth-n,d.clientHeight-i),g&&g!=d.clientWidth&&this.columns._updateStarSizes(d.clientWidth-n)&&(Object(a.setCss)(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),Object(a.setCss)([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),Object(a.setCss)([this._eRHdr,this._fCt],{height:this._szClient.height}),r&&(l=Math.min(l,this._szClient.height+i-r),Object(a.setCss)([this._eBL,this._eCFtr],{top:l})),this.onUpdatedLayout(e)}},t.prototype._updateStickyHeaders=function(){var e=!1,n=0;if(this._stickyHdr){for(var i=0,r=null,o=this.hostElement;o;o=o.parentElement)if("inline"!=getComputedStyle(o).display){var s=o.getBoundingClientRect();null==r&&(r=s.top),i=Math.max(i,s.top)}n=-(r=Math.max(0,i-r-1)),e=r>0,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=e?-n+"px":"",Object(a.toggleClass)(this._eTL,t._WJS_STICKY,e),Object(a.toggleClass)(this._eCHdr,t._WJS_STICKY,e)},t.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var e=this._stickyHdr||this._clipToScreen;e!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=e,e?this.addEventListener(window,"scroll",this._scroll.bind(this),!0):this.removeEventListener(window,"scroll"))},t.prototype._getClipToScreen=function(){if(this.rows.length<=t._MIN_VIRT_ROWS)return!1;if(this._root.scrollHeight>this._root.clientHeight)return!1;for(var e=this.hostElement;e&&e!=document.documentElement;e=e.parentElement)if("auto"==getComputedStyle(e).overflow)return!1;return!0},t.prototype._scroll=function(e){var t=this;Object(a.contains)(e.target,this.hostElement)&&(this._clipToScreen&&(this._afClip&&cancelAnimationFrame(this._afClip),this._afClip=requestAnimationFrame((function(){t._afClip=null,t.finishEditing(),t._updateContent(!0)}))),this._stickyHdr&&(this._afSticky&&cancelAnimationFrame(this._afSticky),this._afSticky=requestAnimationFrame((function(){t._afSticky=null;var e=new a.CancelEventArgs;t.onUpdatingLayout(e)&&(t._updateStickyHeaders(),t.onUpdatedLayout(e))}))))},t.prototype._getCssPage=function(e){if(this._heightReal>this._heightBrowser){var t=this._szClient.height-this._gpCFtr.rows.getTotalSize();if(this._heightBrowser>t)return Object(a.clamp)(Math.round(e/(this._heightBrowser-t)*10)/10,0,1)}return 0},t.prototype._updateScrollPosition=function(){var e=this._root,n=e.scrollTop,i=e.scrollLeft;this.rightToLeft&&"rev"==t._getRtlMode()&&(i=e.scrollWidth-e.clientWidth-i);var r=new a.Point(-Math.abs(i),-n);return!this._ptScrl.equals(r)&&(this._ptScrl=r,this.onScrollPositionChanged(),!0)},t.prototype._updateContent=function(e,t){var n=this,i=this._root,r=this.hostElement,o=this.cells.hostElement,s=this._activeCell,l=Object(a.getActiveElement)(),c=Object(a.contains)(r,l),u=Object(a.closest)(l,".wj-flexgrid")==r?l:null,h=new a.CancelEventArgs;if(this.onUpdatingView(h)){Object(a.setAttribute)(o,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),this._hasValidation=Object(a.isFunction)(this._itemValidator)||this._cv&&Object(a.isFunction)(this._cv.getError);var d=!t&&this._errorTip&&this._errorTip._tips.length,f=this._getCssPage(-this._ptScrl.y);f!=this._cssPage&&(this._cssPage=f,this._offsetY=Math.round(this._maxOffsetY*f)),this._updateScrollPosition(),this._updateMarquee();var p=this._gpCells._updateContent(e,t,this._offsetY),g=this._hdrVis;g&T.Column&&(!t||this._ssHdr&g)&&(this._gpCHdr._updateContent(e,t,0),this.rightToLeft||(this._eCHdr.scrollLeft=0)),g&T.Row&&(!t||this._ssHdr&g)&&(this._gpRHdr._updateContent(e,t,this._offsetY),this._eRHdr.scrollTop=0),g&&!t&&this._gpTL._updateContent(e,t,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(e,t,0),this._gpCFtr._updateContent(e,t,0)),d&&this._errorTip&&this._errorTip._tips.length&&(clearTimeout(this._toErrorTips),this._toErrorTips=setTimeout((function(){n._errorTip.hide();for(var e=n._errorTip._tips,t=0;t<e.length;t++){var i=e[t].element;i.offsetHeight&&Object(a.hasClass)(i,"wj-state-invalid")||(n._errorTip.setTooltip(i,null),t--)}}),250)),this._useFrozenDiv()&&(this._updateFrozenCells(t),p&&Object(a.hasClass)(p,"wj-frozen")&&(p=null)),this._fCt.style.display=this._fCt.childElementCount?"":"none",this._activeCell=p,u&&(u!=i&&u!=this._eFocus&&Object(a.contains)(r,u)&&!Object(a.contains)(o,u)?(Object(a.getActiveElement)()!==u&&u.focus(),Object(a.isIE)()&&u instanceof HTMLInputElement&&!u.type.match(/checkbox|radio|range/i)&&u.setSelectionRange(u.selectionStart,u.selectionEnd)):this._setFocus(p!==s)),!u&&p&&(p.tabIndex=this.isDisabled?-1:this._orgTabIndex),s&&s!=p&&(s.tabIndex=-1),this._eFocus.tabIndex=null!=p||this.isDisabled?-1:this._orgTabIndex,c&&this.focus(),this._fixScroll(),this._rcBounds=null,this.onUpdatedView(h)}},t.prototype._fixScroll=function(){if(!this._updating){var e=this.hostElement,t=this._root?this._root.parentElement:null,n=this.rightToLeft;e&&(e.scrollTop&&(e.scrollTop=0),e.scrollLeft&&!n&&(e.scrollLeft=0)),t&&(t.scrollTop&&(t.scrollTop=0),t.scrollLeft&&!n&&(t.scrollLeft=0))}},t.prototype._clearCells=function(){for(var e in this)if("_"==e[0]){var t=this[e];t instanceof b&&t._clearCells()}this.invalidate()},t.prototype._useFrozenDiv=function(){return Object(a.isBoolean)(this._fzClone)?this._fzClone:Object(a.isIE)()||Object(a.isFirefox)()||Object(a.isSafari)()||Object(a.isMobile)()},t.prototype._updateFrozenCells=function(e){var t=this._fCt;if(this.frozenRows||this.frozenColumns){var n=this._eCt.querySelectorAll(".wj-frozen");if(e&&t.children.length==n.length){for(var i=0;i<n.length;i++)t.children[i].className=n[i].className;return}if(Object(a.setText)(t,null),!this.activeEditor){var r=this._errorTip,o=navigator.userAgent.indexOf("MSIE")>=0;for(i=0;i<n.length;i++){var s=n[i];if(Object(a.closest)(s,".wj-flexgrid")==this.hostElement){var l=s[b._INDEX_KEY];if(o){var c="input[type=checkbox]",u=s.querySelector(c);s=s.cloneNode(!0),u&&(s.querySelector(c).checked=u.checked)}else s=s.cloneNode(!0);if(s[b._INDEX_KEY]=l,r){var h=r.getTooltip(n[i]);h&&r.setTooltip(s,h)}t.appendChild(s)}}}}else Object(a.setText)(t,null)},t.prototype._updateMarquee=function(){var e=this._eMarquee,t=this._getMarqueeRect();if(t&&t.width&&t.height){var n=e.firstChild,i=e.offsetWidth-n.offsetWidth,r=e.offsetHeight-n.offsetHeight,o=this.cells.hostElement;Object(a.setCss)(e,{left:t.left+o.offsetLeft-i/2,top:t.top+o.offsetTop-r/2,width:t.width+i,height:t.height+r,display:""})}else e.style.display="none"},t.prototype._getMarqueeRect=function(){if(!this._shMarquee)return null;var e=this._selHdl.selection;if(!this.isRangeValid(e))return null;e=(e=(e=this.cells._getAdjustedSelection(e)).combine(this.getMergedRange(this.cells,e.topRow,e.leftCol))).combine(this.getMergedRange(this.cells,e.bottomRow,e.rightCol));var t=this.cells.getCellBoundingRect(e.topRow,e.leftCol,!0),n=this.cells.getCellBoundingRect(e.bottomRow,e.rightCol,!0);if(this.rows.frozen){var i=Math.min(this.rows.length,this.rows.frozen),r=this.cells.getCellBoundingRect(i-1,0,!0);e.topRow>=i&&t.top<r.bottom&&(t.top=r.bottom),e.bottomRow>=i&&n.bottom<r.bottom&&(n.height=r.bottom-n.top)}if(this.columns.frozen){var o=Math.min(this.columns.length,this.columns.frozen);r=this.cells.getCellBoundingRect(0,o-1,!0),this.rightToLeft?(e.leftCol>=o&&t.right>r.left&&(t.left=r.left-t.width),e.rightCol>=o&&n.left>r.left&&(n.left=r.left)):(e.leftCol>=o&&t.left<r.right&&(t.left=r.right),e.rightCol>=o&&n.right<r.right&&(n.width=r.right-n.left))}return this.rightToLeft?new a.Rect(n.left,t.top,t.right-n.left,n.bottom-t.top):new a.Rect(t.left,t.top,n.right-t.left,n.bottom-t.top)},t.prototype._bindColumns=function(){for(var e=this.columns,n=0;n<e.length;n++)e[n]._getFlag(w.AutoGenerated)&&(e.removeAt(n),n--);var i=this._cv,r=i?i.items:null;r&&r.length&&this.autoGenerateColumns&&this._getColumnTypes(r).forEach((function(n){var i=new E(n);i._setFlag(w.AutoGenerated,!0),i.name=i.binding,i.header=Object(a.toHeaderCase)(i.binding);var r=Object.getOwnPropertyDescriptor(n,i.binding);i.isReadOnly=r&&!r.writable&&!r.set;var o=t._defTypeWidth[i.dataType];if(null!=o){if(Object(a.isString)(o)){var s=Math.round(parseFloat(o));o=o.indexOf("*")>-1?s*e.defaultSize:s}Object(a.isNumber)(o)&&o>0&&(i.width=o)}e.push(i)})),this._updateColumnTypes()},t.prototype._getColumnTypes=function(e){return Object(a.getTypes)(e)},t.prototype._updateColumnTypes=function(){var e=this._cv;if(Object(a.hasItems)(e)){var t=e.items[0];this.columns.forEach((function(e){null==e.dataType&&e._binding&&(e.dataType=Object(a.getType)(e._binding.getValue(t)))}))}},t.prototype._getMapEditor=function(e,t){return!e.dataMap||e instanceof A?t.dataMap&&!t.editor?t.dataMapEditor:null:e.dataMapEditor},t.prototype._getBindingColumn=function(e,t,n){return n},t.prototype._getBindingColumns=function(){return this.columns},t.prototype._getRowHeaderPath=function(){return this._rowHdrPath},t.prototype._bindRows=function(){this.rows.clear();var e=this._cv;if(e&&e.items){var t=e.items,n=e.groups;if(this.childItemsPath)for(var i=0;i<t.length;i++)this._addNode(t,i,0);else if(null!=n&&n.length>0&&this.showGroups)for(i=0;i<n.length;i++)this._addGroup(n[i]);else for(i=0;i<t.length;i++)this._addBoundRow(t,i)}},t.prototype._addBoundRow=function(e,t){var n=new j(e[t]),i=this.rows;n._list=i,i[i.length++]=n},t.prototype._addGroupRow=function(e){this.rows.push(new A(e))},t.prototype._addNode=function(e,t,n){var i=e[t],r=this.childItemsPath,o=i[Object(a.isArray)(r)?r[n]:r],s=new A(i);if(s.level=n,this.rows.push(s),Object(a.isArray)(o))for(var l=0;l<o.length;l++)this._addNode(o,l,n+1)},t.prototype._addGroup=function(e){if(this._addGroupRow(e),e.isBottomLevel)for(var t=e.items,n=0;n<t.length;n++)this._addBoundRow(t,n);else for(n=0;n<e.groups.length;n++)this._addGroup(e.groups[n])},t._getSerializableProperties=function(e){var t=[];for(e=e.prototype;e!=Object.prototype;e=Object.getPrototypeOf(e))for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.set&&o.get&&"_"!=r[0]&&!r.match(/^(disabled|required|showDropDown)$/)&&t.push(r)}return t},t.prototype._hasColumnGroups=function(){return this._grpHdl.hasColumnGroups()},t.prototype._getColumnGroup=function(e,t){return this._grpHdl.getColumnGroup(e,t)},t.prototype._copy=function(e,t){var n=this;if("columns"==e){var i=Object(a.asArray)(t);return i.some((function(e){return null!=e.columns}))?this.columnGroups=i:(this.columns.clear(),i.forEach((function(e){var t=new E(e);n.columns.push(t)}))),!0}return!1},t.prototype._isInputElement=function(e){return e instanceof HTMLElement&&!Object(a.hasClass)(e,"wj-btn-glyph")&&("true"==e.contentEditable||null!=e.tagName.match(/^(INPUT|TEXTAREA|BUTTON|A|SELECT|OPTION|LABEL)$/i))},t.prototype._isNativeCheckbox=function(e){return e instanceof HTMLInputElement&&"checkbox"==e.type&&!e.disabled&&!e.readOnly&&Object(a.hasClass)(e,G._WJC_CHECKBOX)&&Object(a.closest)(e,".wj-flexgrid")==this.hostElement},t.prototype._wantsInput=function(e){return this._isInputElement(e)&&!this.activeEditor&&!this._isNativeCheckbox(e)&&!Object(a.hasClass)(e,"wj-grid-ime")&&Object(a.contains)(document.body,e)},t._getMaxSupportedCssHeight=function(){if(!t._maxCssHeight){var e=265e5;Object(a.isIE)()?e=15e5:Object(a.isFirefox)()&&(e=175e5),t._maxCssHeight=e}return t._maxCssHeight},t._getRtlMode=function(){if(!t._rtlMode){var e=Object(a.createElement)('<div dir="rtl"><div></div></div>');Object(a.setCss)(e,{visibility:"hidden",width:100,height:100,overflow:"auto"}),Object(a.setCss)(e.firstChild,{width:2e3,height:2e3}),document.body.appendChild(e);var n=e.scrollLeft;e.scrollLeft=-1e3;var i=e.scrollLeft;Object(a.removeChild)(e),t._rtlMode=i<0?"neg":n>0?"rev":"std"}return t._rtlMode},t._WJS_STICKY="wj-state-sticky",t._WJS_MEASURE="wj-state-measuring",t._WJS_UPDATING="wj-state-updating",t._WJS_WSPRE="wj-whitespace-pre",t._MIN_VIRT_ROWS=200,t._defTypeWidth=((i={})[a.DataType.Number]="0.714285714*",i),t.controlTemplate='<div><div wj-part="root"><div wj-part="cells" class="wj-cells"></div><div wj-part="marquee" class="wj-marquee"><div></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell">0</div><div wj-part="sz"></div></div>',t}(a.Control),N=function(){function e(t){this._updateImeFocusBnd=this._updateImeFocus.bind(this),this._cmpstartBnd=this._compositionstart.bind(this),this._keypressBnd=this._keypress.bind(this),this._g=t;var n=Object(a.createElement)('<textarea class="wj-grid-editor wj-form-control wj-grid-ime" aria-hidden="true"/>');Object(a.setCss)(n,e._cssHidden),Object(a.disableAutoComplete)(n),n.tabIndex=-1,this._tbx=n,t._root.appendChild(n),this._updateImeFocus();var i=t.hostElement,r=t.addEventListener.bind(t),o=this._updateImeFocusBnd;r(i,"blur",o,!0),r(i,"focus",o),r(i,"mousedown",o,!0),r(i,"mouseup",o,!0),r(n,"compositionstart",this._cmpstartBnd),Object(a.isiOS)()&&r(i,"keypress",this._keypressBnd),t.selectionChanged.addHandler(o,this),t.cellEditEnded.addHandler(this._cellEditEnded,this)}return e.prototype.dispose=function(){var e=this._g,t=e.hostElement,n=this._tbx,i=e.removeEventListener.bind(e),r=this._updateImeFocusBnd;i(t,"blur",r),i(t,"focus",r),i(t,"mousedown",r),i(t,"mouseup",r),i(t,"keypress",this._keypressBnd),i(n,"compositionstart",this._cmpstartBnd),e.selectionChanged.removeHandler(r),e.cellEditEnded.removeHandler(this._cellEditEnded),Object(a.removeChild)(n)},e.prototype._compositionstart=function(e){var t=this._g;if(!t.activeEditor){var n=t._selHdl.selection;if(t.startEditing(!1,n.row,n.col,!1,e)&&t.activeEditor&&"checkbox"!=t.activeEditor.type){var i=t.activeEditor,r=this._tbx,o=t.cells.hostElement,s=t.columns[(n=t.editRange).col].pos+o.offsetLeft,l=t.rows[n.row].pos+o.offsetTop,c=t.getCellBoundingRect(n.row,n.col),u=Object(a.closest)(i,".wj-cell");c.width=u.offsetWidth,c.height=u.offsetHeight,n.row<t.frozenRows&&(l+=t._root.scrollTop),n.col<t.frozenColumns&&(s+=t._root.scrollLeft);var h=u.querySelector(".wj-btn.wj-right");h&&(c.width-=h.offsetWidth),"minLength,maxLength,pattern".split(",").forEach((function(e){Object(a.setAttribute)(r,e,i.getAttribute(e))}));var d=i instanceof HTMLTextAreaElement;Object(a.setAttribute)(r,"wrap",d?"soft":"off");var f=getComputedStyle(u),p=f.paddingTop;if(n.rowSpan>1&&!d){var g=parseFloat(f.lineHeight);isNaN(g)&&(g=1.2*parseFloat(f.fontSize)),p=Math.max(0,(c.height-g)/2)+"px"}var m={position:"absolute",left:s,top:l,width:c.width-1,height:c.height-1,paddingTop:p,paddingLeft:f.paddingLeft,paddingRight:f.paddingRight,textAlign:f.textAlign,zIndex:u.style.zIndex};t.rightToLeft&&(m.right=parseInt(u.style.right)+parseInt(t.cells.hostElement.style.right),m.left=""),Object(a.setCss)(r,m),t._edtHdl._edt=r,r.select();var b=i.value;setTimeout((function(){"\u3000"!=r.value&&" "!=r.value||(r.value=b,Object(a.setSelectionRange)(r,b.length))}),20),i.value=""}}},e.prototype._cellEditEnded=function(){var t=this._tbx;t.value="",Object(a.setCss)(t,e._cssHidden)},e.prototype._keypress=function(e){e.defaultPrevented||e.target!=this._tbx||e.ctrlKey||e.altKey||e.metaKey||27==e.keyCode||this._g.activeEditor||(this._tbx.value="",this._compositionstart(e),e.stopPropagation())},e.prototype._updateImeFocus=function(){var e=this._g,t=this._tbx,n=Object(a.getActiveElement)();e.activeEditor||Object(a.closest)(n,".wj-flexgrid")!=e.hostElement||(this._enableIme()?n!=t&&(t.disabled=!1,t.select(),t.focus()):(t.disabled=!0,t.value="",t.blur(),e.focus()))},e.prototype._enableIme=function(){var e=this._g,t=e._selHdl.selection;if(!e.canEditCell(t.row,t.col))return!1;var n=t.isValid?e._getBindingColumn(e.cells,t.row,e.columns[t.col]):null;return!(!n||n.editor||n.dataType==a.DataType.Boolean)},e._cssHidden={position:"fixed",width:"1px",left:-32e3,top:-32e3,overflow:"hidden"},e}(),L=function(){function e(e){this._grid=e}return e.prototype.createColumnGroups=function(e){var t=this,n=this._grid;this._groupDefs=Object(a.asArray)(e),n.autoGenerateColumns=!1,n.columns.clear(),this._colGroups=[],e.forEach((function(e){t._colGroups.push(new F(e,null))}));var i=1;this._colGroups.forEach((function(e){t._addColumnGroup(e),i=Math.max(i,e._getMaxLevel())})),this._colGroups.forEach((function(e){e._expandRange(i)}));var r=n.columnHeaders.rows;r.clear();for(var o=0;o<=i;o++){var s=new j;r.splice(o,0,s),o<i&&(s.cssClassAll="wj-colgroup")}for(o=0;o<r.length;o++)for(var l=0;l<n.columns.length;l++){var c=this.getColumnGroup(o,l);if(c){var u=c.header||Object(a.toHeaderCase)(c.binding);n.columnHeaders.setCellData(o,l,u)}}},e.prototype._addColumnGroup=function(e){var t=this,n=this._grid;e._grid=n,e._rng.col=n.columns.length,0==e.columns.length?n.columns.push(e):e.columns.forEach((function(e){t._addColumnGroup(e)})),e._rng.col2=n.columns.length-1},e.prototype.hasColumnGroups=function(){return null!=this._colGroups&&this._colGroups.length>0},e.prototype.getGroupDefinitions=function(){return this._groupDefs},e.prototype.getColumnGroup=function(e,t){var n=this._grid;if(e<n.columnHeaders.rows.length&&t<n.columns.length)for(var i=this._colGroups;i;){for(var r=i,o=0;o<i.length;o++){var s=i[o],a=s._rng;if(a.containsColumn(t)){if(a.containsRow(e)||0==s.columns.length)return s;i=s.columns;break}}if(i==r)break}return null},e}(),F=function(e){function t(t,n){var i=e.call(this)||this;i._rng=new f(0,-1),i._cols=[],i._lvl=0,i._collapsed=!1,i._pGrp=n;for(var r=n;r;r=r._pGrp)i._lvl++;return i._rng.row=i._rng.row2=i._lvl,i.allowDragging=!1,Object(a.copy)(i,t),i}return u(t,e),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},set:function(e){var n=this;this._cols=[],e.forEach((function(e){var i=new t(e,n);n._cols.push(i)}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentGroup",{get:function(){return this._pGrp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapseTo",{get:function(){return this._collTo},set:function(e){this._collTo=Object(a.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._collapsed},set:function(e){var t=this;if(e!=this._collapsed){var n=this._grid;if(n){var i=new v(n.rowHeaders,this._rng,this);n.onColumnGroupCollapsedChanging(i)&&(this._collapsed=Object(a.asBoolean)(e),n.onColumnGroupCollapsedChanged(i))}else this._collapsed=Object(a.asBoolean)(e)}setTimeout((function(){t._updateCollapsedState()}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),t.prototype._updateCollapsedState=function(){var e=this._grid.columns,n=this._rng,i=this._collapsed;this._cols.forEach((function(e){e instanceof t&&(e._collapsed=i,e._updateCollapsedState())}));var r=n.rightCol;if(this.collapseTo)switch(this.collapseTo){case"$first":r=n.leftCol;break;case"$last":r=n.rightCol;break;default:var o=e.getColumn(this.collapseTo);o&&n.containsColumn(o.index)&&(r=o.index)}for(var s=n.leftCol;s<=n.rightCol;s++)e[s].visible=!i||s==r},t.prototype._getMaxLevel=function(){var e=this._lvl;return this.columns.forEach((function(t){e=Math.max(e,t._getMaxLevel())})),e},t.prototype._expandRange=function(e){var t=e-this._getMaxLevel();t>0&&(this._rng.row2+=t,this._cols.forEach((function(e){e._shiftRange(t)})));for(var n=this._grid.columns,i=this._rng,r=i.col;r<=i.col2;r++)n[r]._rng.row2=e},t.prototype._shiftRange=function(e){this._rng.row+=e,this._rng.row2+=e,this._cols.forEach((function(t){t._shiftRange(e)}))},t}(E),B=function(){function e(e){this._nrt=new H,this._g=e,this._keydownBnd=this._keydown.bind(this),this._attach()}return Object.defineProperty(e.prototype,"newRowAtTop",{get:function(){return this._top},set:function(e){if(e!=this.newRowAtTop){this._top=Object(a.asBoolean)(e),this.updateNewRowTemplate();var t=this._g;this._top&&t.selectionMode==p.ListBox&&(t.rows.forEach((function(e,t){e._setFlag(w.Selected,0==t,!0)})),t.select(0,t.selection.col))}},enumerable:!0,configurable:!0}),e.prototype.updateNewRowTemplate=function(){var e=this._g,t=e.editableCollectionView,n=e.rows,i=this._nrt,r=t&&t.canAddNew&&e.allowAddNew&&!e.isReadOnly,o=n.indexOf(i),s=this._top?0:n.length-1,a=!1;if(!r&&o>-1){var l=e.selection;l.row==o&&e.select(l.row-1,l.col),n.removeAt(o)}else r&&(o<0?a=!0:o!=s&&(n.removeAt(o),a=!0),a&&(this._top?n.insert(0,i):n.push(i)),i&&(i._ubv=null,i._setFlag(w.ParentCollapsed,!1),this._top&&e.selectionMode==p.ListBox||i._setFlag(w.Selected,!1)))},e.prototype._attach=function(){var e=this._g;e&&(e.beginningEdit.addHandler(this._beginningEdit,this),e.pastingCell.addHandler(this._beginningEdit,this),e.rowEditEnded.addHandler(this._rowEditEnded,this),e.loadedRows.addHandler(this.updateNewRowTemplate,this),e.hostElement.addEventListener("keydown",this._keydownBnd,!0))},e.prototype._detach=function(){var e=this._g;e&&(e.beginningEdit.removeHandler(this._beginningEdit),e.pastingCell.removeHandler(this._beginningEdit),e.rowEditEnded.removeHandler(this._rowEditEnded),e.loadedRows.removeHandler(this.updateNewRowTemplate),e.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},e.prototype._keydown=function(e){!e.defaultPrevented&&e.keyCode==a.Key.Escape&&null==this._g.activeEditor&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},e.prototype._beginningEdit=function(e,t){if(!t.cancel){var n=e.rows[t.row];if(n instanceof H){var i=e.editableCollectionView;if(i&&i.canAddNew)if(this._top){if(null==this._nrt.dataItem){var r=null,o=i.sourceCollection,s=i.newItemCreator;r=Object(a.isFunction)(s)?s():o&&o.length?new o[0].constructor:{},this._nrt.dataItem=r}}else{r=i.currentAddItem&&i.currentAddItem==n.dataItem?i.currentAddItem:i.addNew(),i.moveCurrentTo(r);var l=this._nrt.isSelected;this.updateNewRowTemplate(),l&&t.row>-1&&(e.rows[t.row].isSelected=!0),e.refresh(!0),e.onRowAdded(t)||i.cancelNew()}}}},e.prototype._rowEditEnded=function(e,t){var n=this,i=e.editableCollectionView,r=this._nrt.dataItem;if(i&&!this._committing)if(i.isAddingNew)i.commitNew();else if(r&&!t.cancel){this._committing=!0,this._nrt.dataItem=null;var o=i.addNew();for(var s in r)o[s]=r[s];e.onRowAdded(t)?i.commitNew():i.cancelNew(),setTimeout((function(){e.select(0,e.columns.firstVisibleIndex),n.updateNewRowTemplate()}),20),this._committing=!1}},e}(),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t}(j);!function(e){e[e.None=0]="None",e[e.Cells=1]="Cells",e[e.ColumnHeaders=2]="ColumnHeaders",e[e.RowHeaders=4]="RowHeaders",e[e.AllHeaders=6]="AllHeaders",e[e.All=7]="All"}(D||(D={}));var V=function(){function e(e){this._g=e}return e.prototype.getMergedRange=function(e,t,n,i){void 0===i&&(i=!0);var r=this._g,o=e.cellType,s=e.columns,l=e.rows,c=l[t],u=s[n];if(c instanceof H)return null;if(!(c instanceof j&&u instanceof E))return null;if(e==r.columnHeaders){var d=r._getColumnGroup(t,n);if(d){var p=d._rng,g=e.columns;return g.isFrozen(p.col)!=g.isFrozen(p.col2)&&(p=p.clone(),g.isFrozen(n)?p.col2=g.frozen-1:p.col=g.frozen),p}}if(r.showGroups&&!r.childItemsPath&&c instanceof A&&c.dataItem instanceof a.CollectionViewGroup&&o==h.Cell){if(p=new f(t,n),u.aggregate==a.Aggregate.None){for(;p.col>0&&s[p.col-1].aggregate==a.Aggregate.None&&p.col!=s.frozen;)p.col--;for(;p.col2<s.length-1&&s[p.col2+1].aggregate==a.Aggregate.None&&p.col2+1!=s.frozen;)p.col2++}for(;p.col<n&&!s[p.col].visible;)p.col++;return p.isSingleCell?null:p}var m=!1,b=h;switch(r.allowMerging){case D.None:m=!0;break;case D.Cells:m=o!=b.Cell;break;case D.ColumnHeaders:m=o!=b.ColumnHeader&&o!=b.TopLeft;break;case D.RowHeaders:m=o!=b.RowHeader&&o!=b.TopLeft;break;case D.AllHeaders:m=o==b.Cell}if(m)return null;if(s[n].allowMerging){p=new f(t,n);var v=e._vrb,y=0,_=l.length-1;t>=l.frozen?i&&(o==h.Cell||o==h.RowHeader)&&r._vtRows<l.length&&v&&(y=v.topRow,_=v.bottomRow):l.length>l.frozen&&(_=l.frozen-1);for(var w=t-1;w>=y&&this._mergeCell(e,w,n,t,n);w--)p.row=w;for(var C=t+1;C<=_&&this._mergeCell(e,t,n,C,n);C++)p.row2=C;for(;p.row<t&&!l[p.row].visible;)p.row++;if(!p.isSingleCell)return p}if(l[t].allowMerging){p=new f(t,n),v=e._vrb;var S=0,O=s.length-1;n>=s.frozen?i&&(o==h.Cell||o==h.ColumnHeader)&&r._vtCols<s.length&&v&&(S=v.leftCol,O=v.rightCol):O=s.frozen-1;for(var T=n-1;T>=S&&this._mergeCell(e,t,T,t,n);T--)p.col=T;for(var k=n+1;k<=O&&this._mergeCell(e,t,n,t,k);k++)p.col2=k;for(;p.col<n&&!s[p.col].visible;)p.col++;if(!p.isSingleCell)return p}return null},e.prototype._mergeCell=function(e,t,n,i,r){var o=e.rows[t],s=e.rows[i];if(!o||!s)return!1;if(o instanceof A||o instanceof H||s instanceof A||s instanceof H)return!1;if(t!=i&&e.rows.isFrozen(t)!=e.rows.isFrozen(i))return!1;if(n!=r&&e.columns.isFrozen(n)!=e.columns.isFrozen(r))return!1;if(t!=i){if(n>0&&(o.allowMerging&&this._mergeCell(e,t,n-1,t,n)||s.allowMerging&&this._mergeCell(e,i,n-1,i,n)))return!1;if(r<e.columns.length-1&&(o.allowMerging&&this._mergeCell(e,t,r,t,r+1)||s.allowMerging&&this._mergeCell(e,i,r,i,r+1)))return!1}return e.getCellData(t,n,!0)==e.getCellData(i,r,!0)},e}(),$=function(){function e(t,n){var i;if(this._row=-1,this._col=-1,this._edge=0,n instanceof Element){if(Object(a.closest)(n,".wj-flexgrid")!=t.hostElement)return;t=n,this._target=n}if(!(t instanceof Element)||t instanceof R){if(t instanceof R)this._target=t.hostElement,i=this._g=t;else{if(!(t instanceof b))throw"First parameter should be a FlexGrid or GridPanel.";this._target=t.hostElement,this._p=t,i=this._g=this._p.grid}n instanceof MouseEvent&&(this._target=n.target,"mousedown"==n.type&&(i._rcBounds=null)),n=Object(a.mouseToPage)(n),this._pt=n.clone();var r=i.controlRect,o=i._szClient,s=i.topLeftCells,l=i._eTL,c=i.headersVisibility,u=T,d=c&u.Row?s.columns.getTotalSize():0,f=c&u.Column?s.rows.getTotalSize():0,p=c&u.Column?f+l.offsetTop:0,g=i._eBL,m=g.offsetHeight;if(n.x-=r.left,n.y-=r.top,i.rightToLeft&&(n.x=r.width-n.x),this._p||n.x>=0&&n.y>=l.offsetTop&&o&&n.x<=o.width+d&&n.y<=o.height+f&&(this._p=n.y<p?n.x<d?i.topLeftCells:i.columnHeaders:n.y<g.offsetTop?n.x<d?i.rowHeaders:i.cells:n.x<d?i.bottomLeftCells:i.columnFooters),null!=this._p){var v=this._p.rows,y=this._p.columns,_=this._p.cellType,w=h,C=this._p._getFrozenPos(),S=_==w.TopLeft||_==w.ColumnHeader?f:_==w.BottomLeft||_==w.ColumnFooter?m:v.getTotalSize(),O=_==w.TopLeft||_==w.BottomLeft||_==w.RowHeader?d:y.getTotalSize();_==w.RowHeader||_==w.Cell?(n.y-=f,(n.y>C.y||C.y<=0)&&(n.y-=i._ptScrl.y,n.y+=this._p._getOffsetY())):_!=w.BottomLeft&&_!=w.ColumnFooter||(n.y-=g.offsetTop),_!=w.ColumnHeader&&_!=w.Cell&&_!=w.ColumnFooter||(n.x-=d,(n.x>C.x||C.x<=0)&&(n.x-=i._ptScrl.x)),_!=w.ColumnHeader&&_!=w.TopLeft||(n.y-=p-f),this._edge=0;var k=e._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(n.x-=(k=e._SZEDGE[1])/2),this._row=n.y>S?-1:v.getItemAt(n.y),this._col=n.x>O?-1:y.getItemAt(n.x),this._row<0||this._col<0)return void(this._p=null);if(this._col>-1){var x=y[this._col];n.x-x.pos<=k&&(this._edge|=1);var E=x.pos+x.renderSize-n.x;E<=k&&(this._edge|=4,E<=k/2&&(this._edge|=16))}if(this._row>-1){var j=v[this._row];n.y-j.pos<=k&&(this._edge|=2);var A=j.pos+j.renderSize-n.y;A<=k&&(this._edge|=8,A<=k/2&&(this._edge|=32))}}}else{var I=Object(a.closest)(t,".wj-cell"),M=I?I[b._INDEX_KEY]:null;M&&(this._target=t,this._row=M.row,this._col=M.col,this._rng=M.rng,this._p=M.panel,this._g=M.panel.grid)}}return Object.defineProperty(e.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellType",{get:function(){return this._p?this._p.cellType:h.None},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),e.prototype.getRow=function(){return this._p&&this._row>-1?this._p.rows[this._row]:null},Object.defineProperty(e.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),e.prototype.getColumn=function(e){var t=this._p,n=t&&this._col>-1?t.columns[this._col]:null;return n&&e&&(n=this._g._getBindingColumn(t,this._row,n)),n},Object.defineProperty(e.prototype,"range",{get:function(){return this._rng||(this._rng=new f(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeFarRight",{get:function(){return 0!=(16&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeFarBottom",{get:function(){return 0!=(32&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e._SZEDGE=[6,30],e}();function z(){return Object(a._getModule)("wijmo.input")}var G=function(){function e(){}return e.prototype.updateCell=function(t,n,i,r,s,l){var c=t.grid,u=c.rightToLeft,d=t.rows,p=t.columns,m=d[n],b=p[i],v=n,_=i,w=m instanceof A?m:null,C=m instanceof H?m:null,S=b.renderWidth,O=m.renderHeight,T=t.cellType,k="wj-cell",x="",E={display:""},j=h;0!=l&&r.firstElementChild&&(1==r.childNodes.length&&"checkbox"==r.firstElementChild.type||(r.textContent="")),s&&!s.isSingleCell&&(v=s.row2,_=s.col2,b=p[i=s.col],w=(m=d[n=s.row])instanceof A?m:null,O=($=s.getRenderSize(t)).height,S=$.width);var I=c._getBindingColumn(t,n,b),M=I.dataType||m.dataType,P=I.dataMap||m.dataMap,D=P&&T==j.Cell?c._getMapEditor(m,I):null,R=T==j.Cell&&(!w||c.childItemsPath),N=R&&D==o.RadioButtons,L=M==a.DataType.Boolean&&!P,F=b.pos,B=m.pos,V=c._ptScrl;if(c._useFrozenDiv()&&T==j.Cell&&!c.editRange)i<p.frozen&&v>=d.frozen?B+=V.y:n<d.frozen&&_>=p.frozen&&(F+=V.x);else{var $=c._szClient;v<d.frozen&&(B=Math.min(B,$.height),O=Math.min(O,Math.max(0,$.height-B)),B-=V.y),_<p.frozen&&(F=Math.min(F,$.width),S=Math.min(S,Math.max(0,$.width-F)),F-=V.x)}u?E.right=F+"px":E.left=F+"px",v>=d.frozen&&(B-=t._getOffsetY()),E.top=B+"px",E.width=S+"px",E.height=O+"px",E.zIndex="",(n<d.frozen||i<p.frozen)&&(E.zIndex=n<d.frozen&&i<p.frozen?2:1);var G=!1,Y=c.alternatingRowStep;if(!Y||s&&s.row!=s.row2||(G=m.visibleIndex%(Y+1)==0,1==Y&&(G=!G)),T==j.Cell)w&&(k+=" wj-group"),G&&(k+=" wj-alt"),(n<d.frozen||i<p.frozen)&&(k+=" wj-frozen"),C&&(k+=" wj-new"),m.cssClass&&(k+=" "+m.cssClass),I.cssClass&&(k+=" "+I.cssClass);else{k+=" wj-header",G&&(k+=" wj-header-alt");var J=!1;T!=j.ColumnHeader&&T!=j.TopLeft||c.allowResizing&ee.Columns&&(J=null!=c._mouseHdl._getResizeCol(t,_)),J||T!=j.RowHeader||c.allowResizing&ee.Rows&&(J=null!=c._mouseHdl._getResizeRow(t,v)),J&&(k+=" wj-big-header")}m.cssClassAll&&(k+=" "+m.cssClassAll),I.cssClassAll&&(k+=" "+I.cssClassAll);var Q=g,Z=t.getSelectedState(n,i,s);switch(Z!=Q.None&&T==j.Cell&&!L&&c.editRange&&c.editRange.contains(n,i)&&(Z=Q.None),Z){case Q.Active:k+=" wj-state-active";break;case Q.Cursor:k+=" wj-state-selected wj-state-active";break;case Q.Selected:k+=" wj-state-multi-selected"}v==d._lastFrozen&&(k+=" wj-frozen-row"),_==p._lastFrozen&&(k+=" wj-frozen-col"),(I.wordWrap||m.wordWrap)&&(k+=" wj-wrap"),(I.multiLine||m.multiLine)&&(k+=" wj-multiline");var te=I.getAlignment(m);te&&(x=" wj-align-"+te);var ie=T==j.ColumnHeader&&c._hasColumnGroups()?c._getColumnGroup(n,i):null;if(ie&&ie.align&&(x=" wj-align-"+ie.align),E.paddingLeft=E.paddingRight=E.paddingTop=E.paddingBottom="",T==j.Cell&&c.rows.maxGroupLevel>-1&&i==p.firstVisibleIndex&&c.treeIndent){var re=w?Math.max(0,w.level):d.maxGroupLevel+1,oe=Math.min(c.treeIndent*re+c._cellPadLeft,S-c._cellPadHorz)+"px";u?E.paddingRight=oe:E.paddingLeft=oe}if(S<=c._cellPadHorz&&(E.paddingLeft=E.paddingRight=0),0!=l){var se=t.getCellData(n,i,!1),ae=t.getCellData(n,i,!0);if(T==j.Cell&&i==p.firstVisibleIndex&&w&&w.hasChildren&&!W(c,n,i)){var le=q(w);ae=Object(a.escapeHtml)(ae)||w.getGroupHeader(),r.innerHTML=le.outerHTML+" "+ae,x=""}else if(T!=j.ColumnHeader||v!=c._getSortRowIndex()&&I==b)if(T!=j.RowHeader||i!=c._getEditColumnIndex()||ae)if(T!=j.Cell||M!=a.DataType.Boolean||P||w&&!Object(a.isBoolean)(se))if(T==j.Cell&&!N&&W(c,n,i)){var ce=I.inputType||m.inputType;if(ce||(ce=M!=a.DataType.Number||P?"text":"tel"),!P&&!I.mask&&!m.mask){var ue=t.getCellData(n,i,!1);if(Object(a.isNumber)(ue)){var he=I.format||m.format,de=ue.toString();if(he&&ue!=Math.round(ue)){var fe=de.indexOf("e")<0?de.match(/\.(\d+)/)[1].length:20;he=he.replace(/([a-z])(\d*)(.*)/gi,"$01"+fe+"$3")}ae=a.Globalize.formatNumber(ue,he,!0)}}r.innerHTML=(I.multiLine||m.multiLine)&&"checkbox"!=ce?'<textarea wrap="soft"></textarea>':'<input type="'+ce+'"/>';var pe=r.children[0];Object(a.addClass)(pe,"wj-grid-editor wj-form-control"),Object(a.disableAutoComplete)(pe),pe.value=I.isContentHtml||m.isContentHtml?Object(a.toPlainText)(ae):ae,pe.tabIndex=-1,pe.required=I.getIsRequired(m),Object(a.setAttribute)(pe,"aria-required",pe.required);var ge=I.maxLength||m.maxLength;ge&&(pe.maxLength=ge),pe.style.textAlign=I.getAlignment(m);var me=I.mask||m.mask;me&&new a._MaskProvider(pe,me),c.showPlaceholders&&(pe.placeholder=I.header),c._edtHdl._edt=pe}else{if(N){var be=[],ve=t.getCellData(n,i,!1);P.getDisplayValues(m.dataItem).forEach((function(e){var t=P.getKeyValue(e)==ve?" checked":"";be.push('<label><input type="radio" tabindex="-1"'+t+(c.isReadOnly||m.isReadOnly||b.isReadOnly?" disabled":"")+"><span>"+Object(a.escapeHtml)(e)+"</span></label>")})),r.innerHTML=be.join(" "),k+=" "+e._WJC_RADIOMAP}var ye=R?I._tpl:null;if(ye){var _e=e._tplCtx;_e.value=se,_e.text=ae,_e.item=m.dataItem,_e.row=m,_e.col=I;var we=Object(a.isString)(ye)?Object(a.evalTemplate)(ye,_e):ye(_e,r);null==we||N||(r.innerHTML=we)}else N||(T==j.Cell&&(m.isContentHtml||I.isContentHtml)?r.innerHTML=ae:r.textContent=ae||"");if(ie&&ie.collapseTo){var Ce=ie._rng;if(Ce&&Ce.columnSpan>1){var Se=ie.isCollapsed;r.innerHTML='<div role="button" class="'+e._WJC_COLLAPSE+'">'+X(Se?"plus":"minus")+"</div>&nbsp;"+r.innerHTML,Se&&Object(a.addClass)(r,"wj-state-collapsed")}}}else{var Oe=r.firstChild;c._isNativeCheckbox(Oe)||(r.innerHTML='<label><input type="checkbox" class="'+e._WJC_CHECKBOX+'" tabindex="-1"/><span></span></label>',Oe=r.querySelector("input")),Object(a.setChecked)(Oe,se),Oe.disabled=!c.canEditCell(n,i),Oe.disabled&&(Oe.style.cursor="default"),c.editRange&&c.editRange.contains(n,i)&&(c._edtHdl._edt=Oe)}else{var Te=c.editableCollectionView,ke=Te?Te.currentEditItem:null;r.innerHTML=ke&&m.dataItem==ke?X("pencil"):m instanceof H?X("asterisk"):""}else{r.innerHTML=Object(a.escapeHtml)(ae);var xe=I.currentSort;xe&&c.showSort&&(k+=" wj-sort-"+("+"==xe?"asc":"desc"),r.innerHTML+="&nbsp;"+function(e){var t=X("+"==e.currentSort?"up":"down"),n=e.grid.collectionView;if(n&&n.sortDescriptions.length>1){var i=e.currentSortIndex;i>-1&&(t+='<span class="wj-sort-index">'+(i+1)+"</span>")}return t}(I)),c.allowPinning&&Object(a.contains)(c.hostElement,r)&&K(r,i<c.frozenColumns)}if(D==o.DropDownList&&c.showDropDown&&c.canEditCell(n,i)&&z()){var Ee=U();r.insertBefore(Ee,r.firstChild),W(c,n,i)&&(k+=" wj-hasdropdown")}}if(T==j.RowHeader||T==j.ColumnHeader){var je=T==j.RowHeader?!w&&!C&&m.allowDragging&&0!=(c.allowDragging&ne.Rows):b.allowDragging&&0!=(c.allowDragging&ne.Columns);Object(a.setAttribute)(r,"draggable",je?"true":null)}r.className!=(k+=x)&&(r.className=k);var Ae=r.style;for(var Ie in E)Ae[Ie]!==E[Ie]&&(Ae[Ie]=E[Ie]);if(c._edtHdl._edt&&c._edtHdl._edt.parentElement==r){var Me=c._root,Pe=Me.getBoundingClientRect(),De=r.getBoundingClientRect(),Re=Pe.top+Me.clientHeight-De.top,Ne=Pe.left+Me.clientWidth-De.left;De.height>Re&&(r.style.height=Re+"px"),De.width>Ne&&(r.style.width=Ne+"px")}if((T==j.Cell||T==j.RowHeader)&&c._getShowErrors()){var Le=c._getError(t,n,i);c._edtHdl._setCellError(r,Le)}if(c.itemFormatter&&c.itemFormatter(t,n,i,r),c.formatItem.hasHandlers){var Fe=e._fmtRng;Fe?Fe.setRange(n,i,v,_):Fe=e._fmtRng=new f(n,i,v,_);var Be=new y(t,Fe,r);c.onFormatItem(Be)}},e.prototype.disposeCell=function(e){},e.prototype.getEditorValue=function(e){var t=e._edtHdl._edt;if(t instanceof HTMLInputElement&&"checkbox"==t.type)return t.checked;if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){var n=t.value,i=t.maxLength;return Object(a.isNumber)(i)&&i>-1&&n.length>i&&(n=n.substr(0,i)),n}return null},e._WJC_RADIOMAP="wj-radio-map",e._WJC_CHECKBOX="wj-cell-check",e._WJC_COLLAPSE="wj-elem-collapse",e._WJC_DROPDOWN="wj-elem-dropdown",e._WJC_PIN="wj-elem-pin",e._tplDdBtn=Y(e._WJC_DROPDOWN,"down"),e._tplCtx={row:null,col:null,value:null,text:null,item:null},e}();function W(e,t,n){return e.editRange&&e.editRange.contains(t,n)}function U(){var e=G._ddBtn;return e||(e=G._ddBtn=Object(a.createElement)(G._tplDdBtn),Object(a.setAriaLabel)(e,a.culture.FlexGrid.ariaLabels.toggleDropDown),Object(a.setAttribute)(e,"aria-expanded",!1)),e.cloneNode(!0)}function K(e,t){var n=Y(G._WJC_PIN,"pin"),i=Object(a.createElement)(n);Object(a.toggleClass)(i,"wj-state-pinned",t),Object(a.setAttribute)(i,"aria-pressed",t),e.insertBefore(i,e.firstChild)}function q(e){var t=G._WJC_COLLAPSE,n=(e.isCollapsed?"":"down-")+(e.grid.rightToLeft?"left":"right"),i=Object(a.createElement)('<button class="wj-btn wj-btn-glyph '+t+'" type="button" tabindex="-1">'+X(n)+"</button>");return Object(a.setAriaLabel)(i,a.culture.FlexGrid.ariaLabels.toggleGroup),Object(a.setAttribute)(i,"aria-expanded",!e.isCollapsed),i}function X(e){return'<span class="wj-glyph-'+e+'"></span>'}function Y(e,t){return'<button class="wj-btn wj-btn-glyph wj-right {cls}" type="button" tabindex="-1">{glyph}</button>'.replace("{cls}",e).replace("{glyph}",X(t))}var J,Q=function(){function e(e){var t=this;this._fullEdit=!1,this._list=null,this._g=e,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),this._evtChange=document.createEvent("HTMLEvents"),this._evtChange.initEvent("change",!0,!1),e.selectionChanging.addHandler((function(n,i){if(t.finishEditing()){var r=e._selHdl.selection.row;if(r!=i.row){var o=e.rows.length;(r>-1&&r<o?e.rows[r].dataItem:null)!=(i.row>-1&&i.row<o?e.rows[i.row].dataItem:null)&&t._commitRowEdits()}}else i.cancel=!0})),e.lostFocus.addHandler((function(){var e=Object(a.getActiveElement)();e&&"fixed"==getComputedStyle(e).position?t.finishEditing():t._commitRowEdits()}));var n=e.hostElement;e.addEventListener(n,"mousedown",(function(n){if(!n.defaultPrevented&&0==n.button&&!e._mouseHdl._szRowCol){var i=e.hitTest(n);i.cellType!=h.Cell&&i.cellType!=h.None&&(t.finishEditing()||t.finishEditing(!0))}}),!0),e.addEventListener(n,"compositionend",this._keypress.bind(this))}return e.prototype.startEditing=function(e,t,n,i,r){void 0===e&&(e=!0);var s=this._g,l=s._selHdl.selection;if(t=Object(a.asNumber)(t,!0,!0),n=Object(a.asNumber)(n,!0,!0),null==t&&(t=l.row),null==n&&(n=l.col),null==i&&(i=!0),!this._allowEdit(t,n))return!1;var c=s.getMergedRange(s.cells,t,n,!1);c||(c=new f(t,n));var u=s.rows[t].dataItem;if(s.scrollIntoView(c.row,c.col,!0),!s.select(c,!0))return!1;if(!s.rows[t]||u!=s.rows[t].dataItem)return!1;if(c.equals(this._rng))return!0;if(this.activeEditor&&!this.finishEditing())return!1;var h=new v(s.cells,c,r);if(!s.onBeginningEdit(h))return!1;var d=s.editableCollectionView,p=!1;d&&((p=(u=s.rows[t].dataItem)!=d.currentEditItem)&&s.onRowEditStarting(h),d.editItem(u),p&&(s.onRowEditStarted(h),this._edItem=u));var g=s.rows[t],m=s._getBindingColumn(s.cells,t,s.columns[n]),b=m.dataMap||g.dataMap,y=o.RadioButtons,_=g.dataMap&&g.dataMapEditor==y||m.dataMap&&m.dataMapEditor==y;if(this._fullEdit=Object(a.asBoolean)(e),this._rng=c,this._list=null,b&&!_&&!m.editor){var w=b.getDisplayValues(u);(m.isContentHtml||g.isContentHtml)&&(w=w.map((function(e){return Object(a.toPlainText)(e)}))),this._list=w}if(_){var C=s._activeCell||s.hostElement.querySelector(".wj-cell.wj-state-active");C&&(this._edt=C.querySelector("input"),this._updateRowHeaderCell(t))}else c.isSingleCell?this._updateEditorCell(t,n,p):s.refresh(!1);var S=this._edt;if(S){if("checkbox"==S.type||"radio"==S.type)this._fullEdit=!1;else if(i){var O=0,T=S.value.length,k=!1,x=a.culture.Globalize.numberFormat["%"]||"%",E=s.getCellData(t,n,!1);if(Object(a.isNumber)(E)?k=S.value.indexOf(x)>-1:null==E&&(k=/^p/i.test(m.format))&&S.value.indexOf(x)<0&&(S.value+=x),k){var j=S.value;for(O=0,T=j.length;T>0&&(j[T-1]==x||" "==j[T-1]);)T--;for(;O<T&&j[O]==x;)O++}r&&"keydown"==r.type&&r.keyCode==a.Key.Space&&(O=T),Object(a.setSelectionRange)(S,O,T),Object(a.isIE)()&&"right"==S.style.textAlign&&(S.style.paddingRight="1px")}s.onPrepareCellForEdit(h)}return null!=S&&!S.disabled&&!S.readOnly},e.prototype.finishEditing=function(e){var t=this._edt;if(!t)return this._removeListBox(),!0;var n=this._g,i=this._rng,r=new _(n.cells,i),o=n.containsFocus(),s=n.hostElement.querySelector(".wj-control.wj-state-focused");if(s){var l=a.Control.getControl(s);l&&l.onLostFocus(r)}if(r.cancel=e,!e&&n.validateEdits&&(p=this._getValidationError())){r.cancel=!0;var c=n.cells.getCellElement(i.row,i.col);c&&(this._setCellError(c,p),r.stayInEditMode=!0)}if(this._cstEdtValue=null,!n.onCellEditEnding(r)&&r.stayInEditMode)return o?setTimeout((function(){t.select()})):t.select(),this._fullEdit=!0,!1;if(!r.cancel){r.data=n.cells.getCellData(i.topRow,i.leftCol,!1);for(var u=this._cstEdtValue,h=u&&!Object(a.isUndefined)(u.value)?u.value:n.cellFactory.getEditorValue(n),d=i.topRow;d<=i.bottomRow&&d<n.rows.length;d++)for(var f=i.leftCol;f<=i.rightCol&&f<n.columns.length;f++){var p;if(!n.cells.setCellData(d,f,h,!0,!1)&&n.validateEdits&&(p=this._getValidationError(!0))){r.cancel=!0;var g=Object(a.closest)(t,".wj-cell");return g&&(this._setCellError(g,p),r.stayInEditMode=!0),!1}}t.value==this._edtValue&&t.dispatchEvent(this._evtChange)}this._edt=null,this._rng=null,this._list=null,this._edtValue=null,this._removeListBox();var m=Object(a.closest)(t,".wj-cell");return Object(a.contains)(m,Object(a.getActiveElement)())&&n._setFocusNoScroll(m),!r.cancel&&r.refresh&&n._refreshOnEdit?n.refresh(!1):this._updateEditorCell(i.row,i.col,!1),o&&n.focus(),n.onCellEditEnded(r),!0},e.prototype._setCustomEditorValue=function(e){this._cstEdtValue={value:e}},e.prototype._setCellError=function(e,t){""==t&&(t=null),Object(a.toggleClass)(e,"wj-state-invalid",null!=t);var n=this._g.errorTip;n?n.setTooltip(e,t):Object(a.setAttribute)(e,"title",t)},Object.defineProperty(e.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),e.prototype.getClipString=function(e,t,n,i){var r,o=this,s=this._g,a=s.selectionMode,l=[],c=0!=(t&k.CSV),u=c?"\r\n":"\n",h=c?",":"\t",d=0!=(t&k.InvisibleRows),f=p;if(!e&&a!=f.ListBox)for(var g=s.rows,m=0;m<g.length;m++)if(g[m].isSelected){a=f.ListBox;break}if(!e)switch(s._selHdl._expandSelection(),e=s.selection,a){case f.Row:case f.RowRange:case f.ListBox:e.col=0,e.col2=s.columns.length-1;break;case f.MultiRange:var b=s.selectedRanges;if(b.length>1){var v=this._sameCols(b),y=this._sameRows(b);if(v||y){(b=b.slice()).sort((function(e,t){return e.topRow-t.topRow||e.leftCol-t.leftCol}));for(var _=0;_<b.length;_++)for(var w=b[_],C=_+1;C<b.length;C++)w.contains(b[C])&&(b.splice(C,1),C--);if(v){var S=[];return b.forEach((function(e){S.push(o.getClipString(e,t,n,i)),n=!1})),S.join(u)}var O;if(y)return b.forEach((function(e){var r=o.getClipString(e,t,n,i).split(u);null==O?(O=r,i=!1):r.forEach((function(e,t){O[t]+=h+e}))})),O.join(u)}}}if(n&&(r=s.columnHeaders).rows.forEach((function(n,s){if(d||n.isVisible){var a=o._getRowClipString(r,s,e,t,i);l.push(a)}})),r=s.cells,a==f.ListBox)r.rows.forEach((function(n,s){if(n.isSelected&&(d||n.isVisible)){var a=o._getRowClipString(r,s,e,t,i);l.push(a)}}));else for(_=e.topRow;_<=e.bottomRow;_++)if(d||r.rows[_].isVisible){var T=this._getRowClipString(r,_,e,t,i);l.push(T)}return l.join(u)},e.prototype._getRowClipString=function(e,t,n,i,r){var o=[],s=e.rows[t],l=0!=(i&k.CSV),c=0!=(i&k.InvisibleColumns),u=0==(i&k.Unformatted),d=0!=(i&k.SkipMerged);if(s.isVisible){if(r)for(var f=e.cellType==h.ColumnHeader?e.grid.topLeftCells:e.grid.rowHeaders,p=0;p<f.columns.length;p++)if(c||f.columns[p].isVisible){var g=f.getCellData(t,p,!0);d&&this._skipMergedCell(e,n,t,p)&&(g=""),o.push(this._getCellClipString(g,i))}for(p=n.leftCol;p<=n.rightCol;p++)(c||e.columns[p].isVisible)&&(!(g=e.getCellData(t,p,u))&&s instanceof A&&p==e.columns.firstVisibleIndex&&(g=Object(a.toPlainText)(s.getGroupHeader())),d&&this._skipMergedCell(e,n,t,p)&&(g=""),o.push(this._getCellClipString(g,i)))}return o.join(l?",":"\t")},e.prototype._skipMergedCell=function(e,t,n,i){var r=e.grid.getMergedRange(e,n,i,!1);return!(!r||(t&&(r.row=Math.max(t.topRow,r.row),r.col=Math.max(t.leftCol,r.col)),r.row==n&&r.col==i))},e.prototype._getCellClipString=function(e,t){Object(a.isString)(e)||(e=Object(a.isDate)(e)?e.toJSON():null!=e?e.toString():""),e=e.replace(/\t/g," ");var n=0!=(t&k.QuoteAll);return(n=n||/\n|^"|"$/.test(e))||0==(t&k.CSV)||(n=e.indexOf(",")>-1),n&&(e='"'+(e=e.replace(/"/g,'""'))+'"'),e},e.prototype._sameRows=function(e){for(var t=e[0],n=1;n<e.length;n++)if(e[n].topRow!=t.topRow||e[n].bottomRow!=t.bottomRow)return!1;return!0},e.prototype._sameCols=function(e){for(var t=e[0],n=1;n<e.length;n++)if(e[n].leftCol!=t.leftCol||e[n].rightCol!=t.rightCol)return!1;return!0},e.prototype.setClipString=function(e,t){var n=this,i=this._g,r=i.editableCollectionView,o=null==t,s=p;if(o)switch(i._selHdl._expandSelection(),t=i.selection,i.selectionMode){case s.Row:case s.RowRange:case s.ListBox:t.col=0,t.col2=i.columns.length-1;break;case s.MultiRange:var l=i.selectedRanges;if(l.length>1)return r&&r.beginUpdate(),l.forEach((function(t){i.setClipString(e,t)})),r&&r.endUpdate(),void(i.selectedRanges=l)}t=Object(a.asType)(t,f);var c=this._parseClipString(Object(a.asString)(e));!o&&c.length>t.rowSpan&&(c=c.slice(0,t.rowSpan)),this._expandClipRows(c,t);var u=o?new f(t.topRow,t.leftCol,t.topRow+c.length-1,t.leftCol+c[0].length-1):t,h=new v(i.cells,u,e);if(!i.onPasting(h))return!1;u=new f(t.topRow,t.leftCol);var d=!1,g=0,m=t.topRow,b=i.rows,y=i.columns,_=this._deferPaste(t,c.length);if(i.deferUpdate((function(){var e=-1;r&&_&&(e=r.currentPosition,r.beginUpdate());for(var o=0;o<c.length&&m<b.length;o++,m++){var s=b[m];if(s.isVisible){var l=s.dataItem,p=r?r.currentEditItem:null;p&&l!=p&&(i.onRowEditEnding(h),i.onRowEditEnded(h)),l!=p&&(i.onRowEditStarting(h),i.onRowEditStarted(h)),s instanceof H&&r&&_&&(s.dataItem=r.addNew());for(var w=c[o],C=t.leftCol,S=0;S<w.length&&C<y.length;S++,C++){var O=y[C];if(O.isVisible){if(n._allowEdit(m,C)){var T=w[S],k=T.length;k>1&&'"'==T[0]&&'"'==T[k-1]&&T.indexOf("\n")>-1&&(T=T.substr(1,k-2));var x=O.maxLength||s.maxLength;x&&(T=T.substr(0,x));var E=new v(i.cells,new f(m,C),T);i.onPastingCell(E)&&(r&&(r.editItem(l),n._edItem=r.currentEditItem),i.setCellData(m,C,E.data)&&(i.onPastedCell(E),d=!0)),u.row2=Math.max(u.row2,m+g),u.col2=Math.max(u.col2,C)}}else S--}if(n._edItem&&r instanceof a.CollectionView){var j=new a.NotifyCollectionChangedEventArgs(a.NotifyCollectionChangedAction.Change,n._edItem,m);r.onCollectionChanged(j)}s instanceof H&&r&&_&&(s.dataItem=null,d?(m--,g++,r.commitNew()):r.cancelNew())}else o--}if(r)if(_)r.moveCurrentToPosition(e),r.endUpdate(!0);else{var A=r.currentAddItem;!A&&0==t.row&&i.newRowAtTop&&b[0]instanceof H&&(A=b[0].dataItem),A&&(r.editItem(A),n._edItem=A)}u.rowSpan>1&&0==u.topRow&&b[0]instanceof H&&(u.row=u.row2=0),i.select(u,!1)})),i.onPasted(h),d&&Object(a.closest)(i.hostElement,"form")){var w=document.createEvent("HTMLEvents"),C=Object(a.createElement)("<input>",i.hostElement);w.initEvent("change",!0,!1),C.dispatchEvent(w),Object(a.removeChild)(C)}},e.prototype._deferPaste=function(e,t){var n=this._g.rows;return t>1&&n.length>1&&n[0].dataItem!=n[1].dataItem},e.prototype._parseClipString=function(e){e=(e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).replace(/\n$/,"");var t=0,n=0,i=[];for(t=0;t<e.length;t++){var r='"'==e[t],o=!1,s=!1;for(n=t;n<e.length&&!s;n++){var a=e[n];switch(a){case'"':r&&(o=!o);break;case"\t":case"\n":o||(this._parseClipCell(i,e,t,n,"\n"==a),t=n,n==e.length-1&&(t=n+1),s=!0)}}if(n==e.length){this._parseClipCell(i,e,t,n,!1);break}}return 0==i.length&&i.push([""]),i},e.prototype._parseClipCell=function(e,t,n,i,r){e.length||e.push([]);var o=t.substr(n,i-n),s=o.length;s>2&&'"'==o[0]&&'"'==o[s-1]&&o.indexOf('""')>-1?o=(o=o.substr(1,s-2)).replace(/""/g,'"'):"\t"==o&&(o=""),e[e.length-1].push(o),r&&e.push([])},e.prototype._expandClipRows=function(e,t){for(var n=e.length,i=0,r=0;r<n;r++)i=Math.max(i,e[r].length);for(var o=this._g,s=0,a=0,l=t.topRow;l<=t.bottomRow;l++)o.rows[l].isVisible&&s++;for(var c=t.leftCol;c<=t.rightCol;c++)o.columns[c].isVisible&&a++;if((s>1||a>1)&&(1==s&&(s=n),1==a&&(a=i),a%i==0&&s%n==0)){for(c=i;c<a;c++)for(l=0;l<n;l++)e[l].push(e[l%n][c%i]);for(l=n;l<s;l++)e.push(e[l%n])}},e.prototype._updateEditorCell=function(e,t,n){var i=this._g,r=i.cells.getCellElement(e,t),o=i._useFrozenDiv()&&(e<i.frozenRows||t<i.frozenColumns);!r||o||i._hasPendingUpdates()?i.refresh(!1):i.onUpdatingView(new a.CancelEventArgs)&&(this._updateCell(r),(n||i._getHasValidation())&&this._updateRowHeaderCell(e),i.onUpdatedView())},e.prototype._updateRowHeaderCell=function(e){var t=this._g;if(t.headersVisibility&T.Row){var n=t.rowHeaders,i=t._getEditColumnIndex(),r=n.getCellElement(e,i);r&&this._updateCell(r)}},e.prototype._updateCell=function(e){var t=new $(e,null),n=R._WJS_UPDATING;t.panel&&(Object(a.addClass)(e,n),t.grid.cellFactory.updateCell(t.panel,t.row,t.col,e,t.range),Object(a.removeClass)(e,n))},e.prototype._getValidationError=function(e){var t=this._g,n="";if(t._getHasValidation()){var i=this._rng.row,r=this._rng.col,o=t.cellFactory.getEditorValue(t),s=t.getCellData(i,r,!1);if(e)n=t._getError(t.cells,i,r,!0);else{var a=t.activeEditor;a&&(n=a.validationMessage),!n&&t.setCellData(i,r,o,!0,!1)&&(n=t._getError(t.cells,i,r),t.setCellData(i,r,s,!1,!1))}}return n},e.prototype._allowEdit=function(e,t){var n=this._g;if(n.isReadOnly||n.selectionMode==p.None)return!1;if(n.collectionView&&!n.editableCollectionView)return!1;if(null!=e){if(e<0||e>=n.rows.length)return!1;var i=n.rows[e];if(!i||i.isReadOnly||!i.isVisible)return!1}if(null!=t){if(t<0||t>=n.columns.length)return!1;var r=n._getBindingColumn(n.cells,e,n.columns[t]);if(!r||r.isReadOnly||!r.isVisible)return!1}return!0},e.prototype._commitRowEdits=function(){var e=this._g;if(this.finishEditing()&&this._edItem){var t=e.editableCollectionView;if(t&&(t.currentEditItem||t.currentAddItem)){var n=new v(e.cells,e.selection);e.onRowEditEnding(n),t.commitEdit(),e.onRowEditEnded(n)}this._edItem=null}},e.prototype._keydown=function(e){var t=this._edt;switch(e.keyCode){case a.Key.F2:return this._fullEdit=!this._fullEdit,e.preventDefault(),!0;case a.Key.F4:return this._toggleListBox(e),e.preventDefault(),!0;case a.Key.Space:return!t||"checkbox"!=t.type||t.disabled||t.readOnly||(Object(a.setChecked)(t,t.indeterminate||!t.checked),this.finishEditing(),e.preventDefault()),!0;case a.Key.Enter:if(e.preventDefault(),t&&e.altKey){var n=e.target;if(n instanceof HTMLTextAreaElement&&"soft"==n.wrap){var i=n.value,r=n.selectionStart,o=n.selectionEnd;n.value=i.substr(0,r)+"\n"+i.substr(o),Object(a.setSelectionRange)(n,r+1)}return!0}return!this.finishEditing();case a.Key.Tab:return e.preventDefault(),!this.finishEditing();case a.Key.Escape:return e.preventDefault(),this.finishEditing(!0),!0;case a.Key.Up:case a.Key.Down:case a.Key.Left:case a.Key.Right:case a.Key.PageUp:case a.Key.PageDown:case a.Key.Home:case a.Key.End:if(this._lbx)return this._keydownListBox(e);if(e.altKey)switch(e.keyCode){case a.Key.Up:case a.Key.Down:return this._toggleListBox(e),e.preventDefault(),!0}if(!this._fullEdit&&this.finishEditing())return!1}return!0},e.prototype._keydownListBox=function(e){var t=!0;if(this._lbx)switch(e.keyCode){case a.Key.Up:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case a.Key.Down:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex++;break;case a.Key.Home:case a.Key.PageUp:this._lbx.selectedIndex=0;break;case a.Key.End:case a.Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:t=!1}return!!t&&(e.preventDefault(),!0)},e.prototype._keypress=function(e){if("AltLeft"!=e.code&&"AltRight"!=e.code){var t=this._edt,n=e.charCode||32,i=this._list;if(t&&"checkbox"!=t.type&&Object(a.getActiveElement)()==t&&i&&i.length>0&&n>=32){var r=t.selectionStart,o=t.value.substr(0,r);e.target==t&&e.charCode&&(o+=String.fromCharCode(e.charCode),r++);var s=this._findString(i,o,!0);if(s<0&&(s=this._findString(i,o,!1)),s>-1){var l=this._lbx;l&&(l.selectedIndex=s),t.value=i[s],Object(a.setSelectionRange)(t,r,t.value.length),t.dispatchEvent(this._evtInput),e.preventDefault&&e.preventDefault()}}}else e.preventDefault()},e.prototype._findString=function(e,t,n){n||(t=t.toLowerCase());for(var i=0;i<e.length;i++){var r=e[i];if(null!=r&&(r=r.toString(),n||(r=r.toLowerCase()),0==r.indexOf(t)))return i}return-1},e.prototype._toggleListBox=function(e,t){var n=this._g,i=n._selHdl.selection,r=n.isTouching;if(t||(t=i),this._lbx&&(this._removeListBox(),i.intersects(t)))return n.activeEditor?n.activeEditor.focus():n.containsFocus()||n.focus(),!0;var s=n.rows[t.row],a=n._getBindingColumn(n.cells,t.row,n.columns[t.col]),l=n._getMapEditor(s,a);if(!z()||l!=o.DropDownList)return!1;if(!this.startEditing(!0,t.row,t.col,!r,e))return!1;var c=this._lbx=this._createListBox();return c.showSelection(),r&&c.focus(),!0},e.prototype._createListBox=function(){var e=this,t=this._g,n=t.activeEditor,i=this._rng,r=t.rows[i.row],o=t._getBindingColumn(t.cells,i.row,t.columns[i.col]),s=o.isContentHtml||r.isContentHtml,c=o.dataMap||r.dataMap,u=o.dropDownCssClass||r.dropDownCssClass,h=document.createElement("div");this._removeListBox(),Object(a.addClass)(h,"wj-dropdown-panel wj-grid-listbox"),Object(a.addClass)(h,u);var d=n?n.value:t.getCellData(i.row,i.col,!0),f=new l.ListBox(h,{maxHeight:4*r.renderHeight,isContentHtml:s,itemsSource:c.getDisplayValues(r.dataItem),selectedValue:d});f.addEventListener(f.hostElement,"click",(function(){e._removeListBox(),t.focus(),e.finishEditing()})),f.lostFocus.addHandler((function(){e._removeListBox()})),f.selectedIndexChanged.addHandler((function(){var n=t.activeEditor;n&&(n.value=e._list[f.selectedIndex],n.dispatchEvent(e._evtInput),Object(a.setSelectionRange)(n,0,n.value.length))}));var p=t.cells.getCellElement(i.row,i.col);if(p){Object(a.showPopup)(h,p,!1,!1,!1);var g=p.querySelector("."+G._WJC_DROPDOWN);Object(a.setAttribute)(g,"aria-expanded",!0)}else Object(a.showPopup)(h,t.getCellBoundingRect(i.row,i.col)),h[a.Control._OWNR_KEY]=t.hostElement;return f},e.prototype._removeListBox=function(){var e=this._lbx;e&&(this._lbx=null,Object(a.hidePopup)(e.hostElement,(function(){e.dispose()})))},e}(),Z=function(){function e(e,t){this._col=Object(a.asType)(e,E),this._ctl=t,this._tbx=t.hostElement.querySelector("input"),Object(a.assert)(this._col instanceof E,"Invalid Column"),Object(a.assert)(this._ctl instanceof a.Control,"Invalid edit control"),Object(a.assert)(this._tbx instanceof HTMLInputElement,"Input element not found in editor");var n=this._ctl;this._prop=Object(a.isUndefined)(n.value)?Object(a.isUndefined)(n.checkedItems)?Object(a.isUndefined)(n.text)?null:"text":"checkedItems":"value",Object(a.assert)(null!=this._prop,"value, text properties not found in editor");var i=z();i&&(this._isDropDown=n instanceof i.DropDown,this._isComboBox=n instanceof i.ComboBox,this._isAutoComplete=n instanceof i.AutoComplete,this._isInputDateTime=n instanceof i.InputDateTime),this._updateFocusBnd=this._updateFocus.bind(this),this._keypressBnd=this._keypress.bind(this),this._keydownBnd=this._keydown.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._mousedownBnd=this._mousedown.bind(this),this._hideEditor(),this._updateFocus(),this._connect(),this._col.gridChanged.addHandler(this._connect,this)}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._ctl},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._disconnect(),this._isDropDown&&(this._isDropDown=!1),this._g=this._col=this._ctl=this._tbx=null},e.prototype._connect=function(){if(this._col.grid!=this._g){this._disconnect();var e=this._col.grid;if(e){var t=e.hostElement,n=e.addEventListener.bind(e),i=this._updateFocusBnd;this._g=e,n(t,"keydown",this._keydownBnd,!0),n(t,"keypress",this._keypressBnd,!0),n(t,"mousedown",this._mousedownBnd,!0),n(t,"mouseup",i,!0),n(t,"blur",i,!0),n(t,"focus",i),n(this._tbx,"compositionstart",this._cmpstartBnd),e.selectionChanged.addHandler(i,this),e.prepareCellForEdit.addHandler(this._prepareCellForEdit,this),e.cellEditEnding.addHandler(this._cellEditEnding,this),e.cellEditEnded.addHandler(this._cellEditEnded,this);var r=this._col;e.showDropDown&&this._isDropDown&&(r.cellTemplate||(r.cellTemplate=G._tplDdBtn+" ${text}"))}}},e.prototype._disconnect=function(){var e=this._g;if(e){var t=e.hostElement,n=e.removeEventListener.bind(e),i=this._updateFocusBnd;n(t,"keydown",this._keydownBnd),n(t,"keypress",this._keypressBnd),n(t,"mousedown",this._mousedownBnd),n(t,"mouseup",i),n(t,"blur",i),n(t,"focus",i),n(this._tbx,"compositionstart",this._cmpstartBnd),e.selectionChanged.removeHandler(i,this),e.prepareCellForEdit.removeHandler(this._prepareCellForEdit,this),e.cellEditEnding.removeHandler(this._cellEditEnding,this),e.cellEditEnded.removeHandler(this._cellEditEnded,this);var r=this._col,o=r.cellTemplate;Object(a.isString)(o)&&0==o.indexOf(G._tplDdBtn)&&(r.cellTemplate=null),this._g=null}},e.prototype._prepareCellForEdit=function(e,t){if(!t.cancel&&t.getColumn(!0)==this._col){var n=this.grid,i=this._ctl,r=this._tbx,o=this._prop,s=t.range,l=t.data,c=l?l.type:"",u=n.getCellData(s.row,s.col,"text"==o),h=!1;switch(this._isAutoComplete&&(i._oldText=""),null==u&&i.isRequired||(i[o]=u),c){case"keydown":case"mousedown":if((Object(a.isUndefined)(l.keyCode)||l.keyCode==a.Key.F4||l.altKey)&&(h=this._isDropDown,this._isComboBox&&(null==u||Object(a.isString)(u)))){var d=i.collectionView,f=-1;d&&(this._isAutoComplete&&(d.filter||i._rxHighlight)&&(i._rxHighlight=null,d.filter=null),i.selectedIndex=-1,f=u?i._findNext(u,1):-1),i.selectedIndex=f}}if(n.showPlaceholders&&!i.placeholder&&(r.placeholder=this._col.header),this._showEditor(),n._edtHdl._fullEdit=!0,l instanceof KeyboardEvent&&32==l.keyCode&&(Object(a.setSelectionRange)(r,r.value.length),l.preventDefault()),Object(a.isIE)())if("keypress"==c&&l.key)setTimeout((function(){r.value=l.key,Object(a.setSelectionRange)(r,1);var e=document.createEvent("HTMLEvents");e.initEvent("input",!0,!1),r.dispatchEvent(e)})),l.preventDefault();else if("compositionstart"==c){var p=r.value.length;Object(a.setSelectionRange)(r,p)}h&&(this._isInputDateTime&&i._setDropdown(i._ddDate),i.isDroppedDown=!0)}},e.prototype._cellEditEnding=function(e,t){if(!t.cancel&&t.getColumn(!0)==this._col){var n=this.grid,i=this._ctl,r=this._prop;if(this._isAutoComplete){var o=i.selectedIndex;if(Object(a.isNumber)(o)&&o<0){var s=i.collectionView;s&&1==s.items.length?i.selectedIndex=0:t.cancel=!0}}!t.cancel&&r&&n._edtHdl._setCustomEditorValue(i[r])}},e.prototype._cellEditEnded=function(e,t){this._hideEditor(),this._updateFocus()},e.prototype._cmpstart=function(e){var t=this;Object(a.isIE)()?setTimeout((function(){t._activateEditor(e)})):this._activateEditor(e)},e.prototype._keypress=function(e){e.defaultPrevented||this.grid.activeEditor||!Object(a.contains)(e.target,this._tbx)||e.ctrlKey||e.altKey||e.metaKey||27==e.keyCode||this._activateEditor(e)},e.prototype._keydown=function(e){if(!e.defaultPrevented&&Object(a.contains)(e.target,this._tbx))if(this.grid.activeEditor){if(e.keyCode==a.Key.Enter&&this._isDropDown){var t=this._ctl;t.isDroppedDown&&(t.isDroppedDown=!1,e.preventDefault(),e.stopImmediatePropagation())}}else if(this._isDropDown){var n=e.keyCode;switch(n){case a.Key.F4:case a.Key.Up:case a.Key.Down:(n==a.Key.F4||e.altKey)&&(this._activateEditor(e),e.preventDefault())}}},e.prototype._mousedown=function(e){if(!e.defaultPrevented&&0==e.button&&!e.shiftKey&&!e.ctrlKey&&!e.metaKey&&this._isDropDown&&Object(a.closestClass)(e.target,G._WJC_DROPDOWN)){var t=this.grid,n=t.hitTest(e);n.getColumn(!0)==this._col&&(t.select(n.range),this._activateEditor(e),e.preventDefault())}},e.prototype._activateEditor=function(e){var t=this.grid;if(!t.activeEditor){var n=t._selHdl.selection;if(n.isValid)return t.startEditing(!0,n.row,n.col,!0,e)}return!1},e.prototype._showEditor=function(){var t=this.grid,n=t.activeEditor,i=Object(a.closest)(n,".wj-cell");if(i){var r=this._tbx,o=this._ctl.hostElement;Object(a.setCss)(o,e._cssVisible),Object(a.toggleClass)(r,"wj-grid-ime",!1),i.innerHTML="",i.appendChild(o),t._edtHdl._edt=r,r.select(),r.focus(),n.value=""}},e.prototype._hideEditor=function(){var t=this.grid,n=this._ctl.hostElement,i=this._tbx;this._isDropDown&&(this._ctl.isDroppedDown=!1),i.setCustomValidity(""),i.blur(),i.value="",Object(a.setCss)(n,e._cssHidden),Object(a.toggleClass)(i,"wj-grid-ime",!0),t&&n.parentElement!=t._root&&t._root.appendChild(n)},e.prototype._updateFocus=function(){var e=this.grid;if(e&&!e.activeEditor){var t=e.hostElement,n=".wj-flexgrid",i=this._tbx;Object(a.closest)(Object(a.getActiveElement)(),n)==t&&(Object(a.closest)(i,n)!=t?this._hideEditor():e._selHdl.selection.col==this._col.index?(i.tabIndex=0,i.select(),i.focus()):i.tabIndex=-1)}},e._cssHidden={position:"fixed",left:-32e3,top:-32e3,width:"1px",height:"1px",overflow:"hidden",border:"none"},e._cssVisible={position:"absolute",left:0,top:0,width:"100%",height:"100%"},e}();!function(e){e[e.None=0]="None",e[e.MoveDown=1]="MoveDown",e[e.MoveAcross=2]="MoveAcross",e[e.Cycle=3]="Cycle",e[e.CycleOut=4]="CycleOut",e[e.CycleEditable=5]="CycleEditable"}(J||(J={}));var ee,te,ne,ie=function(){function e(e){this._kaTab=J.None,this._kaEnter=J.MoveDown,this._g=e;var t=e.hostElement;e.addEventListener(t,"keypress",this._keypress.bind(this)),e.addEventListener(t,"keydown",this._keydown.bind(this))}return e.prototype._keydown=function(e){var t=this._g,n=t._edtHdl,i=t.selection,r=e.ctrlKey||e.metaKey,o=e.shiftKey,s=e.altKey,l=e.target,c=e.char||e.key,u=!0;if(!r&&!s&&c&&1==c.length&&l.firstElementChild&&(" "!=c||!o)){var h=l.querySelectorAll("."+G._WJC_RADIOMAP+" label input");if(h&&h.length){for(var d=-1,g=0;g<h.length;g++)if(h[g].checked){d=g;break}for(c=c.toLowerCase(),g=0;g<h.length;g++){var b=h[(d+g+1)%h.length];if(" "==c||b.parentElement.textContent[0].toLowerCase()==c)return b.click(),void e.preventDefault()}}}if(!t._wantsInput(l)){var y=Object(a.tryCast)(t.rows[i.row],A),_=t.editableCollectionView,w=t._getKeyCode(e),C=m,S=p,O=e.defaultPrevented&&!(l instanceof HTMLInputElement);if((t.isRangeValid(i)&&!O||r&&65==w)&&(!t.activeEditor||!n._keydown(e)||t._isNativeCheckbox(t.activeEditor))){if(t.autoClipboard){if(r&&(67==w||45==w)){var k=new v(t.cells,i);if(t.onCopying(k)){var x=t.getClipString(null,!1,0!=(t.copyHeaders&T.Column),0!=(t.copyHeaders&T.Row))+"\r\n";t._eFocus.focus(),a.Clipboard.copy(x),t.onCopied(k)}return void e.stopPropagation()}if(r&&86==w||o&&45==w)return t.isReadOnly||a.Clipboard.paste((function(e){t.setClipString(e)})),void e.stopPropagation()}switch((o||r)&&"Space"==e.code&&(w=a.Key.Space),w){case a.Key.Space:if(o&&i.isValid)switch(t.selectionMode){case S.CellRange:case S.MultiRange:case S.Row:case S.RowRange:case S.ListBox:t.select(new f(i.row,0,i.row,t.columns.length-1),!1)}else if(r&&i.isValid)switch(t.selectionMode){case S.CellRange:case S.MultiRange:t.select(new f(0,i.col,t.rows.length-1,i.col),!1)}else(u=this._startEditing(!0,e))&&setTimeout((function(){var e=t.activeEditor;e&&(e.disabled||e.readOnly?t.finishEditing():"checkbox"==e.type&&(Object(a.setChecked)(e,e.indeterminate||!e.checked),t.finishEditing()))}));break;case 65:if(r)switch(t.selectionMode){case S.None:case S.Cell:break;default:t.selectAll()}else u=!1;break;case a.Key.Left:r||s?u=!1:i.isValid&&0==i.leftCol&&y&&!y.isCollapsed&&y.hasChildren?y.isCollapsed=!0:this._moveSel(C.None,r?C.Home:C.Prev,o);break;case a.Key.Right:r||e.altKey?u=!1:i.isValid&&0==i.leftCol&&y&&y.isCollapsed?y.isCollapsed=!1:this._moveSel(C.None,r?C.End:C.Next,o);break;case a.Key.Up:r?u=!1:e.altKey?u=n._toggleListBox(e):this._moveSel(C.Prev,C.None,o);break;case a.Key.Down:r?u=!1:e.altKey?u=n._toggleListBox(e):this._moveSel(C.Next,C.None,o);break;case a.Key.PageUp:if(this._moveSel(e.altKey?C.Home:C.PrevPage,C.None,o),t.rows.frozen&&t.selection.row<t.rows.frozen){var E=t.scrollPosition;E.y&&(t.scrollPosition=new a.Point(E.x,0))}break;case a.Key.PageDown:this._moveSel(e.altKey?C.End:C.NextPage,C.None,o);break;case a.Key.Home:this._moveSel(r?C.Home:C.None,C.Home,o);break;case a.Key.End:this._moveSel(r?C.End:C.None,C.End,o);break;case a.Key.Tab:u=this._performKeyAction(t.keyActionTab,o);break;case a.Key.Enter:u=this._performKeyAction(t.keyActionEnter,o),!o&&_&&null!=_.currentEditItem&&n._commitRowEdits();break;case a.Key.Escape:if(u=!1,_&&(_.currentAddItem||_.currentEditItem)){var j=new v(t.cells,t.selection);j.cancel=!0,t.onRowEditEnding(j),_.currentAddItem&&_.cancelNew(),_.currentEditItem&&_.cancelEdit(),t.onRowEditEnded(j),u=!0}t._mouseHdl.resetMouseState();break;case a.Key.Delete:case a.Key.Back:u=this._deleteSel(e);break;case a.Key.F2:u=this._startEditing(!0,e);break;case a.Key.F4:u=n._toggleListBox(e);break;default:u=!1}u&&(t.containsFocus()||t.focus(),e.preventDefault(),e.stopPropagation())}}},e.prototype._performKeyAction=function(e,t){var n=m;switch(e){case J.MoveDown:return this._moveSel(t?n.Prev:n.Next,n.None,!1),!0;case J.MoveAcross:return this._moveSel(n.None,t?n.Prev:n.Next,!1),!0;case J.Cycle:return this._moveSel(n.None,t?n.PrevCell:n.NextCell,!1),!0;case J.CycleEditable:return this._moveSel(n.None,t?n.PrevEditableCell:n.NextEditableCell,!1),!0;case J.CycleOut:var i=this._g.selection;return this._moveSel(n.None,t?n.PrevCell:n.NextCell,!1),!i.equals(this._g.selection)}return!1},e.prototype._keypress=function(e){var t=this,n=this._g;if(!n._wantsInput(e.target)&&!e.defaultPrevented){var i=n._edtHdl;if(n.activeEditor)i._keypress(e);else if(e.charCode>a.Key.Space&&"AltLeft"!=e.code&&"AltRight"!=e.code)if(this._startEditing(!1,e)&&n.activeEditor){var r=Object(a.getActiveElement)();if(r instanceof HTMLInputElement&&"checkbox"!=r.type||r instanceof HTMLTextAreaElement){var o=n._selHdl.selection,s=n.getCellData(o.row,o.col,!0),l=n.getCellData(o.row,o.col,!1),c=a.culture.Globalize.numberFormat["%"]||"%",u=String.fromCharCode(e.charCode),h=Object(a.isNumber)(l)&&s.indexOf(c)>-1||""==s&&r.value==c;r.value=u+(h?c:""),Object(a.setSelectionRange)(r,1),r.dispatchEvent(i._evtInput),i._keypress(e),i._edtValue=r.value!=s?r.value:null,e.preventDefault()}}else if(n.autoSearch){var d=!1;if(o=n._selHdl.selection,e.charCode>32||32==e.charCode&&this._search){e.preventDefault(),this._search+=String.fromCharCode(e.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout((function(){t._toSearch=null,t._search=""}),a.Control._SEARCH_DELAY);var f=this._findNext(o.row,o.col);f<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],f=this._findNext(o.row,o.col)),f>-1&&(d=!0,n.select(f,o.col))}d||(this._search="")}}},e.prototype._findNext=function(e,t){var n=this._g,i=n.rows.length;(e<0||1==this._search.length)&&e++;var r=this._search,o=n.caseSensitiveSearch;o||(r=r.toLowerCase());for(var s=0;s<i;s++){var a=(e+s)%i,l=n.getCellData(a,t,!0).trim();if(o||(l=l.toLowerCase()),0==l.indexOf(r))return a}return-1},e.prototype._moveSel=function(e,t,n){var i=this._g;i.selectionMode!=p.None&&i._selHdl.moveSelection(e,t,n)},e.prototype._deleteSel=function(e){var t=this,n=this._g,i=n.rows,r=n.editableCollectionView,o=n.selection,s=[],a=new f,l=new _(n.cells,a,e),c=p;if(!n._edtHdl._allowEdit())return!1;if(n.allowDelete&&(null==r||r.canRemove&&!r.isAddingNew&&!r.isEditingItem)&&0==(s=i.filter((function(e){return e.isSelected}))).length)switch(n.selectionMode){case c.CellRange:case c.MultiRange:var u=n._getDeleteColumnIndex();n.selectedRanges.forEach((function(e){if(e.leftCol==u&&e.rightCol==n.columns.length-1)for(var t=e.topRow;t>-1&&t<=e.bottomRow;t++){var r=i[t];s.indexOf(r)<0&&s.push(r)}}));break;case c.Row:o.topRow>-1&&s.push(i[o.topRow]);break;case c.RowRange:for(var h=o.topRow;h>-1&&h<=o.bottomRow;h++)s.push(i[h])}if(s.length>0){n.deferUpdate((function(){r&&r.beginUpdate();for(var e=s.length-1;e>=0;e--){var t=s[e];t instanceof H||(a.setRange(t.index,-1),n.onDeletingRow(l)&&(r&&t.dataItem?r.remove(t.dataItem):n.rows.removeAt(t.index),n.onDeletedRow(l)))}r&&r.endUpdate(!1)}));var d=o.topRow;for(d=Math.min(d,n.rows.length-1);d>0&&n.rows[d]instanceof H;)d--;return o.row=o.row2=d,n.select(o,!1),n.childItemsPath&&r&&r.refresh(),!0}return 0==s.length&&(n.deferUpdate((function(){var i=n.scrollPosition;r&&r.beginUpdate(),t._deleteRange(e,o),n.selectionMode==c.MultiRange&&n._selHdl.extendedSelection.forEach((function(n){t._deleteRange(e,n)})),n.select(o,!1),n.scrollPosition=i,r&&r.endUpdate(!1)})),!0)},e.prototype._deleteRange=function(e,t){for(var n=this._g,i=n.editableCollectionView,r=new f,o=new _(n.cells,r,e),s=t.row>t.row2?1:-1,a=t.row2;t.containsRow(a);a+=s){var l=n.rows[a];if(!l.isReadOnly)for(var c=t.leftCol;c<=t.rightCol;c++)if(!n._getBindingColumn(n.cells,a,n.columns[c]).getIsRequired(l)&&n.canEditCell(l.index,c)&&n.getCellData(a,c,!0)&&(r.setRange(a,c),o.cancel=!1,n.onBeginningEdit(o))){var u=l.dataItem,h=i?i.currentEditItem:null;h&&u!=h&&(n.onRowEditEnding(o),n.onRowEditEnded(o)),u!=h&&(n.onRowEditStarting(o),n.onRowEditStarted(o)),i&&(i.editItem(u),n._edtHdl._edItem=u),n.setCellData(a,c,"",!0,!1),n.onCellEditEnding(o),n.onCellEditEnded(o)}}},e.prototype._startEditing=function(e,t,n,i){return this._g._edtHdl.startEditing(e,n,i,!0,t)},e}();!function(e){e[e.None=0]="None",e[e.Columns=1]="Columns",e[e.Rows=2]="Rows",e[e.Both=3]="Both",e[e.ColumnsAllCells=4|e.Columns]="ColumnsAllCells",e[e.RowsAllCells=4|e.Rows]="RowsAllCells",e[e.BothAllCells=4|e.Both]="BothAllCells"}(ee||(ee={})),function(e){e[e.None=0]="None",e[e.Headers=1]="Headers",e[e.Cells=2]="Cells",e[e.Both=3]="Both"}(te||(te={})),function(e){e[e.None=0]="None",e[e.Columns=1]="Columns",e[e.Rows=2]="Rows",e[e.Both=3]="Both"}(ne||(ne={}));var re=function(){function e(e){var t=this,n=e.hostElement,i=e.addEventListener.bind(e),r=e.removeEventListener.bind(e);this._g=e,this._dvMarker=Object(a.createElement)('<div class="wj-marker">&nbsp;</div>'),i(n,"mousedown",(function(n){if(e._rcBounds=null,!n.defaultPrevented&&0==n.button){var l=n.target;if(!e.containsFocus()){var c=l instanceof HTMLElement&&l.tabIndex>-1?l:e._eFocus;e._setFocusNoScroll(c)}setTimeout((function(){n.defaultPrevented||e.focus()}));var u=Object(a.closestClass)(l,"wj-flexgrid");if(u&&u!=e.hostElement||!e.activeEditor&&e._isInputElement(l)&&!t._hasRadioMap(n)&&!e._isNativeCheckbox(l)){var d=e.hitTest(n),f=h;switch(d.cellType){case f.Cell:e.select(d.range,!1),l instanceof HTMLElement&&"root"!=l.getAttribute("wj-part")&&l.focus();break;case f.ColumnHeader:case f.ColumnFooter:e.scrollIntoView(-1,d.col);break;case f.RowHeader:e.scrollIntoView(d.row,-1)}return void(Object(a.isIE)()&&d.cellType!=f.Cell&&e._isInputElement(l)&&l.focus())}var p=document;r(p,"mousemove"),r(p,"mouseup"),i(p,"mousemove",o),i(p,"mouseup",s),t._isDown=!0,t._mousedown(n)}}));var o=function(e){t._mousemove(e)},s=function(e){t._isDown=!1,r(document,"mousemove"),r(document,"mouseup"),t._mouseup(e)};i(n,"mouseenter",(function(t){e._rcBounds=null})),i(n,"mousemove",this._hover.bind(this)),i(n,"dblclick",this._dblclick.bind(this)),i(n,"click",this._click.bind(this)),i(n,"selectstart",(function(t){e._isInputElement(t.target)||t.preventDefault()})),i(n,"wheel",(function(t){if(!t.defaultPrevented&&t.deltaY&&!t.ctrlKey&&!t.metaKey){var n=e._root,i=t.deltaY;if(n.scrollHeight>n.offsetHeight&&Object(a.closestClass)(t.target,"wj-flexgrid")==e.hostElement){switch(t.deltaMode){case 1:i=e.rows.defaultSize*(i<0?-1:1);break;case 2:i=n.clientHeight*(i<0?-1:1);break;case 0:default:Object(a.isSafari)()&&(i=Object(a.clamp)(i,-150,150))}e._eFocus.focus(),e.finishEditing(!1)&&(t.shiftKey?n.scrollLeft+=i:n.scrollTop+=i),t.preventDefault()}}})),i(n,"dragstart",this._dragstart.bind(this)),i(n,"dragover",this._dragover.bind(this)),i(n,"dragleave",this._dragover.bind(this)),i(n,"drop",this._drop.bind(this)),i(n,"dragend",this._dragend.bind(this))}return e.prototype.resetMouseState=function(){var e=this._g,t=e.hostElement;this._updating&&(this._updating=!1,e.endUpdate()),this._dragSrc&&Object(a.removeClass)(this._dragSrc,"wj-state-dragsrc"),this._showDragMarker(null),t&&(t.style.cursor=""),Object(a.isSafari)()&&this._szRowCol&&e.invalidate(),e.removeEventListener(document,"mousemove"),e.removeEventListener(document,"mouseup"),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelState=null,this._szRowCol=null,this._szArgs=null,e._rcBounds=null},e.prototype._mousedown=function(e){var t=this._g,n=e.target,i=t.hitTest(e),r=i.cellType,o=h,s=e.ctrlKey||e.metaKey;if(this._selDown=t.selection,this._ignoreClick=!1,i.panel==t.cells){if(Object(a.closestClass)(n,G._WJC_DROPDOWN)){var l=t.hitTest(n);return t._edtHdl._toggleListBox(e,l.range),e.preventDefault(),void(this._ignoreClick=!0)}var c=t.editRange;if(c&&c.contains(i.range))return}var u=Object(a.getActiveElement)();if(n!=u||!t._isInputElement(n))if(r!=o.None)if(this._htDown=i,this._eMouse=e,null==this._szRowCol){var d=t.allowResizing,f=ee;if((r==o.RowHeader||r==o.TopLeft)&&i.edgeBottom&&d&f.Rows&&this._getResizeRowHt(i))this._ignoreClick=!0;else if((r==o.ColumnHeader||r==o.TopLeft)&&i.edgeRight&&d&f.Columns&&this._getResizeColHt(i))this._ignoreClick=!0;else{var g=t.allowDragging,m=ne;switch(r){case o.Cell:case o.RowHeader:s&&t.selectionMode==p.ListBox&&(this._lbSelState=t.rows[i.row].isSelected,Object(a.closest)(n,".wj-elem-collapse")&&(this._lbSelState=!1)),this._mouseSelect(e,e.shiftKey),r!=o.RowHeader||g&m.Rows||(e.preventDefault(),t.focus());break;case o.ColumnHeader:t.allowSorting||g&m.Columns||Object(a.closest)(n,"button")||this._mouseSelect(e,e.shiftKey)}}}else{var b=t._eFocus;u!=b&&(b.tabIndex=0,b.focus()),this._ignoreClick=!0,this._handleResizing(e)}else t.finishEditing(),n!=t._root&&n!=t._fCt&&t._edtHdl._commitRowEdits()},e.prototype._mousemove=function(e){if(this._htDown&&!e.defaultPrevented){if(0==e.buttons&&this._eMouse&&e.timeStamp-this._eMouse.timeStamp>600)return void this.resetMouseState();if(this._eMouse=e,this._szRowCol)this._handleResizing(e);else{var t=this._g,n=t.allowDragging,i=ne;switch(this._htDown.cellType){case h.Cell:this._mouseSelect(e,!0);break;case h.RowHeader:n&i.Rows||this._mouseSelect(e,!0);break;case h.ColumnHeader:n&i.Columns||t.allowSorting||this._mouseSelect(e,!0)}}}},e.prototype._mouseup=function(e){var t=this._g;if(!t.isTouching||!(this._dragSrc||e.target instanceof HTMLHtmlElement)){var n=t.hitTest(e),i=this._htDown;if(i&&!e.defaultPrevented&&(this._szArgs&&this._finishResizing(e),!this._szArgs&&n.panel==i.panel&&n.row==i.row&&n.col==i.col)){var r=n.getColumn();if(r&&(!r._getFlag(w.HasTemplate)||r.cellTemplate)){var o=n.target;if(o!=i.target&&o instanceof HTMLElement){if(i.target instanceof HTMLInputElement){var s=n.point,a=i.point;Math.abs(s.x-a.x)+Math.abs(s.y-a.y)<10&&(o=o.querySelector("input")||o)}var l=document.createEvent("Event");for(var c in l.initEvent("click",!0,!0),e)/Key$|X$|Y$|^button|^(x|y|which)$/.test(c)&&(l[c]=e[c]);o.dispatchEvent(l)}}}this.resetMouseState()}},e.prototype._click=function(e){if(this._ignoreClick&&(this._ignoreClick=!1,e.preventDefault()),!e.defaultPrevented){var t=this._g,n=e.target,i=Object(a.tryCast)(n,HTMLInputElement);if(!i&&t.bigCheckboxes&&(i=n.querySelector("input."+G._WJC_CHECKBOX)),i!=t.activeEditor&&t._isNativeCheckbox(i)){if((o=t.hitTest(n)).panel==t.cells){var r=t.getCellData(o.row,o.col,!1);t.startEditing(!1,o.row,o.col,!1,e)?(t.activeEditor.checked=!r,t.finishEditing(),t.focus()):i.checked=r}return}if(this._hasRadioMap(e))return void this._handleClick(e);if(t.rows.maxGroupLevel>-1&&Object(a.closestClass)(n,G._WJC_COLLAPSE)){var o=t.hitTest(n),s=t.rows[o.row];if(o.panel==t.cells&&s instanceof A)return void(e.ctrlKey||e.metaKey?t.collapseGroupsToLevel(s.isCollapsed?s.level+1:s.level):s.isCollapsed=!s.isCollapsed)}if(!(e.ctrlKey||e.metaKey||e.shiftKey||t.activeEditor)&&(o=t.hitTest(n)).panel==t.cells){var l=t._selHdl.selection;if(l.equals(this._selDown)&&o.range.contains(l))return void t.startEditing(!0,null,null,!0,e)}this._handleClick(e)}},e.prototype._handleClick=function(e){var t=this._g,n=e.target,i=t.hitTest(n),r=i.panel;if(!e.defaultPrevented&&i.grid==t){if(r==t.cells&&this._hasRadioMap(e)){var o=n instanceof HTMLInputElement?n:n.querySelector("input");return void(o instanceof HTMLInputElement&&!o.disabled&&o.parentElement instanceof HTMLLabelElement&&t.startEditing(!1,i.row,i.col,!1)&&(t.setCellData(i.row,i.col,o.parentElement.textContent),t.finishEditing()))}if(!t._isInputElement(n)){if(r==t.topLeftCells){switch(t.selectionMode){case p.None:case p.Cell:break;default:t.selectAll()}return}if(r==t.columnHeaders){if(t.allowPinning&&Object(a.closestClass)(n,G._WJC_PIN))this._clickPin(e,i);else if(Object(a.closestClass)(e.target,G._WJC_COLLAPSE)){var s=t._getColumnGroup(i.row,i.col);s&&(s.isCollapsed=!s.isCollapsed)}else n instanceof HTMLSpanElement&&n.parentElement instanceof HTMLLabelElement&&(n=n.parentElement.querySelector("input")),n instanceof HTMLInputElement||this._clickSort(e,i),t.focus();return}if(r==t.cells){if(i.row<0)return void this._clickSort(e,i);if(Object(a.closestClass)(n,G._WJC_COLLAPSE)){var l=t.rows[i.row];return void(l instanceof A&&(e.ctrlKey?t.collapseGroupsToLevel(l.isCollapsed?l.level+1:l.level):l.isCollapsed=!l.isCollapsed))}Object(a.closestClass)(n,G._WJC_DROPDOWN)&&t._edtHdl._toggleListBox(e,i.range)}}}},e.prototype._hasRadioMap=function(e){var t=e.target;if(t instanceof HTMLInputElement||t instanceof HTMLLabelElement){var n=Object(a.closestClass)(t,G._WJC_RADIOMAP);return Object(a.closestClass)(n,"wj-flexgrid")==this._g.hostElement}},e.prototype._clickSort=function(e,t){var n=this._g,i=n.allowSorting,r=n.collectionView,o=r?r.sortDescriptions:null,s=e.ctrlKey||e.metaKey,l=e.shiftKey;if(r&&r.canSort&&i!=S.None){var c=t.panel.columns[t.col],u=n._getBindingColumn(t.panel,t.row,c),h=u?u._getBindingSort():null;if(u.allowSorting&&h){if(c==u){var d=n.getMergedRange(t.panel,t.row,t.col,!1);if(d&&d.columnSpan>1)return}var f=new v(t.panel,t.range,e);if(n.onSortingColumn(f)){n._edtHdl._commitRowEdits();for(var p=-1,g=0;g<o.length;g++)if(o[g].property==h){p=g;break}o.deferUpdate((function(){if(s&&l)o.clear();else if(p<0){i!=S.MultiColumn&&o.clear();var e=new a.SortDescription(h,!0);o.push(e)}else s?o.splice(p,1):(e=new a.SortDescription(h,!o[p].ascending),o.splice(p,1,e))})),n.onSortedColumn(f)}}}},e.prototype._clickPin=function(e,t){var n=this._g,i=n.columns,r=i.frozen,o=n.allowPinning;o==O.Both&&(o=e.shiftKey?O.ColumnRange:O.SingleColumn);var s=new v(n.cells,t.range);n.onPinningColumn(s)&&(o==O.SingleColumn&&(t.col>=r?(i.moveElement(t.col,r,!1),i.frozen++):(i.moveElement(t.col,r-1,!1),i.frozen--)),o==O.ColumnRange&&(i.frozen=t.col+1!=r?t.col+1:0),n.onPinnedColumn(s))},e.prototype._dblclick=function(e){var t,n=this._g,i=n.hitTest(e),r=i.cellType,o=n.selection,s=i.range;if(!e.defaultPrevented){var a=n.allowResizing,l=ee,c=h;if(i.edgeRight&&a&l.Columns){if(r==c.ColumnHeader||r==c.Cell&&4&a){e.ctrlKey&&o.containsColumn(i.col)&&(s=o);for(var u=s.leftCol;u<=s.rightCol;u++)n.columns[u].allowResizing&&(t=new v(n.cells,new f(-1,u)),n.onAutoSizingColumn(t)&&n.onResizingColumn(t)&&(this._ignoreClick=!0,n.autoSizeColumn(u),n.onResizedColumn(t),n.onAutoSizedColumn(t),e.preventDefault()))}else r==c.TopLeft&&i.panel.columns[i.col].allowResizing&&(t=new v(i.panel,new f(-1,i.col)),n.onAutoSizingColumn(t)&&n.onResizingColumn(t)&&(this._ignoreClick=!0,n.autoSizeColumn(i.col,!0),n.onAutoSizedColumn(t),n.onResizedColumn(t),e.preventDefault()));this.resetMouseState()}else if(i.edgeBottom&&a&l.Rows){if(r==c.RowHeader||r==c.Cell&&4&a){e.ctrlKey&&o.containsRow(i.row)&&(s=o);for(var d=s.topRow;d<=s.bottomRow;d++)n.rows[d].allowResizing&&(t=new v(n.cells,new f(d,-1)),n.onAutoSizingRow(t)&&n.onResizingRow(t)&&(this._ignoreClick=!0,n.autoSizeRow(d),n.onResizedRow(t),n.onAutoSizedRow(t),e.preventDefault()))}else r==c.TopLeft&&i.getRow().allowResizing&&(t=new v(i.panel,new f(i.row,-1)),n.onAutoSizingRow(t)&&n.onResizingRow(t)&&(this._ignoreClick=!0,n.autoSizeRow(i.row,!0),n.onResizedRow(t),n.onAutoSizedRow(t),e.preventDefault()));this.resetMouseState()}}},e.prototype._hover=function(e){if(!this._isDown){var t=this._g,n=t.hitTest(e),i="";return this._szRowCol=this._getResizeColHt(n)||this._getResizeRowHt(n),this._szRowCol instanceof E?i="col-resize":this._szRowCol instanceof j&&(i="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,t.hostElement.style.cursor=i,n}return null},e.prototype._getResizeColHt=function(e){var t,n=this._g.allowResizing,i=e.cellType;return n&ee.Columns&&(i==h.ColumnHeader||i==h.TopLeft||i==h.Cell&&4&n)&&(e.edgeRight&&(t=e.getColumn()),e.edgeFarRight&&(t=this._getResizeCol(e.panel,e.col)||e.getColumn()),e.edgeLeft&&(t=this._getResizeCol(e.panel,e.col,!0))),t&&t.allowResizing?t:null},e.prototype._getResizeRowHt=function(e){var t,n=this._g.allowResizing,i=e.cellType;return n&ee.Rows&&(i==h.RowHeader||i==h.TopLeft||i==h.Cell&&4&n)&&(e.edgeBottom&&(t=e.getRow()),e.edgeFarBottom&&(t=this._getResizeRow(e.panel,e.row)||e.getRow()),e.edgeTop&&(t=this._getResizeRow(e.panel,e.row,!0))),t&&t.allowResizing?t:null},e.prototype._getResizeCol=function(e,t,n){void 0===n&&(n=!1);var i=this._g,r=e.columns;if(n){for(var o=t-1;o>=0;o--)if((s=r[o]).isVisible)return this._asResizable(s);if(r==i.columns&&0!=(i.headersVisibility&T.Row))for(o=(r=i.rowHeaders.columns).length-1;o>=0;o--)if((s=r[o]).isVisible)return this._asResizable(s);return null}for(o=t+1;o<r.length;o++)if((s=r[o]).isVisible)return this._asResizable(s);if(t==r.length-1&&r==i.rowHeaders.columns)for(r=i.columns,o=0;o<r.length;o++){var s;if((s=r[o]).isVisible)return this._asResizable(s)}return null},e.prototype._getResizeRow=function(e,t,n){void 0===n&&(n=!1);var i=this._g,r=e.rows;if(n){for(var o=t-1;o>=0;o--)if((s=r[o]).isVisible)return this._asResizable(s);if(r==i.rows&&0!=(i.headersVisibility&T.Column))for(o=(r=i.columnHeaders.rows).length-1;o>=0;o--)if((s=r[o]).isVisible)return this._asResizable(s);return null}for(o=t+1;o<r.length;o++)if((s=r[o]).isVisible)return this._asResizable(s);if(t==r.length-1&&r==i.columnHeaders.rows)for(r=i.rows,o=0;o<r.length;o++){var s;if((s=r[o]).isVisible)return this._asResizable(s)}return null},e.prototype._asResizable=function(e){return 0==e.renderSize&&e.allowResizing?e:null},e.prototype._mouseSelect=function(e,t){var n=this,i=this._g;if(e&&this._htDown&&this._htDown.panel&&i.selectionMode!=p.None){var r=new $(this._htDown.panel,e);this._handleSelection(r,t),!Object(a.isIE9)()&&e.button>=0&&e.target!=i._root&&((r=new $(i,e)).panel||setTimeout((function(){n._isDown&&n._eMouse&&n._mouseSelect(n._eMouse,t)}),100))}},e.prototype._handleResizing=function(t){"mousedown"==t.type&&(Object(a.isSafari)()?Object(a.setAttribute)(t.target,"draggable",null):t.preventDefault());var n=this._szRowCol;if(n instanceof E){var i=this._g,r=Object(a.mouseToPage)(t).x,o=Math.round(Math.max(e._SZ_MIN,this._szStart+(r-this._htDown.point.x)*(i.rightToLeft?-1:1)));if(n.renderSize!=o){if(null==this._szArgs){var s=i.rowHeaders.columns.indexOf(n)>-1?i.rowHeaders:i.cells;this._szArgs=new v(s,new f(-1,n.index))}this._szArgs.cancel=!1,i.onResizingColumn(this._szArgs)&&(i.deferResizing?this._showResizeMarker(o):n.width=o)}}var l=this._szRowCol;if(l instanceof j){i=this._g;var c=Object(a.mouseToPage)(t).y;o=Math.round(Math.max(e._SZ_MIN,this._szStart+(c-this._htDown.point.y))),l.renderSize!=o&&(null==this._szArgs&&(s=i.columnHeaders.rows.indexOf(l)>-1?i.columnHeaders:i.cells,this._szArgs=new v(s,new f(l.index,-1))),this._szArgs.cancel=!1,i.onResizingRow(this._szArgs)&&(i.deferResizing?this._showResizeMarker(o):l.height=o))}},e.prototype._dragstart=function(e){var t=this._g,n=this._htDown,i=ne;if(n){if(this._dragSrc=null,this._htDrag=null,!this._szRowCol){var r=new v(n.panel,n.range);if(n.cellType==h.ColumnHeader&&t.allowDragging&i.Columns&&n.col>-1&&t.columns[n.col].allowDragging)t.onDraggingColumn(r)?this._dragSrc=e.target:e.preventDefault();else if(n.cellType==h.RowHeader&&t.allowDragging&i.Rows&&n.row>-1&&t.rows[n.row].allowDragging){var o=t.rows[n.row];o instanceof A||o instanceof H||(t.onDraggingRow(r)?this._dragSrc=e.target:e.preventDefault())}else n.cellType==h.TopLeft&&t.allowDragging&i.Columns&&n.col>-1&&t.topLeftCells.columns[n.col].allowDragging&&(t.onDraggingColumn(r)?this._dragSrc=e.target:e.preventDefault())}this._dragSrc&&e.dataTransfer&&!e.defaultPrevented&&(this._htDrag=n,Object(a._startDrag)(e.dataTransfer,"move"),e.stopPropagation(),Object(a.addClass)(this._dragSrc,"wj-state-dragsrc"),t.beginUpdate(),this._updating=!0)}},e.prototype._dragend=function(e){this._dragSrc=null,this._htDrag=null,this.resetMouseState()},e.prototype._dragover=function(e){var t=this._g,n=this._hitTest(e),i=this._dragSrc?this._htDrag:null,r=h,o=!1;if(i&&n.cellType==i.cellType){var s=new v(n.panel,n.range,i);n.cellType==r.ColumnHeader?(s.cancel=!t.columns.canMoveElement(i.col,n.col),o=t.onDraggingColumnOver(s)):n.cellType==r.RowHeader?(s.cancel=!t.rows.canMoveElement(i.row,n.row),o=t.onDraggingRowOver(s)):n.cellType==r.TopLeft&&(s.cancel=!t.topLeftCells.columns.canMoveElement(i.col,n.col),o=t.onDraggingColumnOver(s))}if(o?(e.dataTransfer.dropEffect="move",e.preventDefault(),e.stopPropagation(),this._showDragMarker(n)):this._showDragMarker(null),i&&t.autoScroll){var l=t.controlRect,c=t.scrollPosition,u=a.Control._DRAG_SCROLL_EDGE,d=a.Control._DRAG_SCROLL_STEP;i.panel==t.columnHeaders?(e.pageX-l.left<u&&(c.x+=d),l.right-e.pageX<u&&(c.x-=d)):i.panel==t.rowHeaders&&(e.pageY-l.top<u&&(c.y+=d),l.bottom-e.pageY<u&&(c.y-=d)),c.equals(t._ptScrl)||(t.scrollPosition=c,t._rcBounds=null)}},e.prototype._drop=function(e){var t=this._g,n=this._hitTest(e),i=this._dragSrc?this._htDrag:null,r=h;if(i&&n.cellType==i.cellType){var o=t.selection,s=new v(n.panel,n.range,i);n.cellType==r.ColumnHeader?(t.columns.moveElement(i.col,n.col),t.select(o.row,n.col),t.onDraggedColumn(s)):n.cellType==r.RowHeader?(t.rows.moveElement(i.row,n.row),t.select(n.row,o.col),t.onDraggedRow(s)):n.cellType==r.TopLeft&&(t.topLeftCells.columns.moveElement(i.col,n.col),t.onDraggedColumn(s))}this.resetMouseState()},e.prototype._hitTest=function(e){var t=this._g;return t._rcBounds=null,t.hitTest(e)},e.prototype._showResizeMarker=function(e){var t,n=this._g,i=n._ptScrl,r=this._szArgs.panel.cellType,o=h,s=this._dvMarker,l=n.cells.hostElement;s.parentElement!=l&&l.appendChild(s),this._szRowCol instanceof E?(t={left:this._szRowCol.pos+e-1,top:-1e3,right:"",bottom:0,width:3,height:""},r!=o.TopLeft&&r!=o.RowHeader||(t.left-=n._eTL.offsetWidth+i.x),r==o.Cell&&this._szRowCol.index<n.frozenColumns&&(t.left-=i.x),n.rightToLeft&&(t.left=l.clientWidth-t.left-t.width)):(t={left:-1e3,top:this._szRowCol.pos+e-1,right:0,bottom:"",width:"",height:3},r!=o.TopLeft&&r!=o.ColumnHeader||(t.top-=n._eTL.offsetHeight+i.y),r==o.Cell&&this._szRowCol.index<n.frozenRows&&(t.top-=i.y)),Object(a.setCss)(s,t)},e.prototype._showDragMarker=function(e){var t=this._dvMarker;if(e&&e.panel){if(!e.range.equals(this._rngTarget)){this._rngTarget=e.range;var n=e.panel.hostElement;t.parentElement!=n&&n.appendChild(t);var i=this._g,r=i._ptScrl,o=h,s={left:0,top:0,width:6,height:6,right:"",bottom:""};switch(e.cellType){case o.TopLeft:case o.ColumnHeader:var l=e.panel.columns[e.col];s.left=l.pos-s.width/2,s.height=e.panel.height,this._htDown&&e.col>this._htDown.col&&(s.left+=l.renderWidth),e.cellType==o.ColumnHeader&&e.col<i.frozenColumns&&(s.left-=r.x),i.rightToLeft&&(s.left=t.parentElement.clientWidth-s.left-s.width);break;case o.RowHeader:var c=e.getRow();s.top=c.pos-s.height/2,s.width=e.panel.width,e.row>this._htDown.row&&(s.top+=c.renderHeight),e.row<i.frozenRows&&(s.top-=r.y)}Object(a.setCss)(t,s)}}else Object(a.removeChild)(t),this._rngTarget=null},e.prototype._finishResizing=function(t){var n=this._g,i=n.selection,r=this._szArgs,o=this._eMouse&&this._eMouse.ctrlKey,s=h;if(r&&!r.cancel){if(r.col>-1){var l=r.col,c=Object(a.mouseToPage)(t).x,u=Math.round(Math.max(e._SZ_MIN,this._szStart+(c-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(r.panel.columns[l].width=Math.round(u),n.onResizedColumn(r),o&&this._htDown.cellType==s.ColumnHeader&&i.containsColumn(l))for(var d=i.leftCol;d<=i.rightCol;d++)n.columns[d].allowResizing&&d!=l&&(r=new v(n.cells,new f(-1,d)),n.onResizingColumn(r)&&(n.columns[d].size=n.columns[l].size,n.onResizedColumn(r)));t.preventDefault()}if(r.row>-1){var p=r.row,g=Object(a.mouseToPage)(t).y;if(u=Math.round(Math.max(e._SZ_MIN,this._szStart+(g-this._htDown.point.y))),r.getRow().height=Math.round(u),n.onResizedRow(r),o&&this._htDown.cellType==s.RowHeader&&i.containsRow(p))for(var m=i.topRow;m<=i.bottomRow;m++)n.rows[m].allowResizing&&m!=p&&(r=new v(n.cells,new f(m,-1)),n.onResizingRow(r)&&(n.rows[m].size=n.rows[p].size,n.onResizedRow(r)));t.preventDefault()}}},e.prototype._handleSelection=function(e,t){var n=this._g,i=n._selHdl.selection,r=new f(e.row,e.col),o=h,s=p;if(r.isValid)if(null==this._lbSelState){switch(e.cellType){case o.RowHeader:r.col=0,r.col2=n.columns.length-1;break;case o.ColumnHeader:switch(n.selectionMode){case s.Row:case s.Cell:r.row=r.row2=i.row,t=!1;break;default:r.row=0,r.row2=n.rows.length-1}}if(t&&(n.anchorCursor?(r.row=i.row,r.col=i.col):(r.row2=i.row2,r.col2=i.col2),!r.isValid)){var a=this._htDown;a&&(r=new f(a.row,a.col))}if(n.selectionMode==p.MultiRange){var l=n._mouseHdl._eMouse,c=n._selHdl,u=c.selection,d=c.extendedSelection;l&&(l.ctrlKey||l.metaKey)?!t&&c._deselectRange(r)?c.selection.isValid&&(r=null):u.isValid&&!u.intersects(r)&&(e.panel!=n.cells?this._splitRange(u):[u.clone()]).forEach((function(e){d.push(e)})):d.clear()}if(r)switch(n.select(r,!1),e.cellType){case o.RowHeader:n.scrollIntoView(e.row,-1);break;case o.ColumnHeader:n.scrollIntoView(-1,e.col);break;default:n.scrollIntoView(e.row,e.col)}else{var g=new v(n.cells,new f(e.row,e.col));n.onSelectionChanging(g),n.onSelectionChanged(g),n.invalidate()}}else n.rows[e.row].isSelected=!this._lbSelState,n.scrollIntoView(e.row,e.col)},e.prototype._splitRange=function(e){var t=this._g,n=t.columns.length,i=t.rows.length,r=[];if(e.columnSpan==n)for(var o=e.topRow;o<=e.bottomRow;o++)r.push(new f(o,0,o,n-1));else if(e.rowSpan==i)for(var s=e.leftCol;s<=e.rightCol;s++)r.push(new f(0,s,i-1,s));else r.push(e.clone());return r},e._SZ_MIN=0,e}();Object(a._registerModule)("wijmo.grid",c)},lUod:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return f}));var i=n("1OyB"),r=n("vuIU"),o=n("fXoL"),s=function(){function e(t,n){Object(i.a)(this,e),this.open=t,this.close=n||t}return Object(r.a)(e,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),e}(),a={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=(e||"").trim();if(0===n.length)return[];var i=n.split(/\s+/).map((function(e){return e.split(":")})).map((function(e){var n=t[e[0]]||e;return new s(n[0],n[1])})),r=i.filter((function(e){return e.isManual()}));if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}function c(e,t){var n=l(t.triggers),i=t.target;if(1===n.length&&n[0].isManual())return Function.prototype;var r=[],o=[],s=function(){o.forEach((function(e){return r.push(e())})),o.length=0};return n.forEach((function(n){var a=n.open===n.close,l=a?t.toggle:t.show;a||o.push((function(){return e.listen(i,n.close,t.hide)})),r.push(e.listen(i,n.open,(function(){return l(s)})))})),function(){r.forEach((function(e){return e()}))}}function u(e,t){return t.outsideClick?e.listen("document","click",(function(e){t.target&&t.target.contains(e.target)||t.targets&&t.targets.some((function(t){return t.contains(e.target)}))||t.hide()})):Function.prototype}function h(e,t){return t.outsideEsc?e.listen("document","keyup.esc",(function(e){t.target&&t.target.contains(e.target)||t.targets&&t.targets.some((function(t){return t.contains(e.target)}))||t.hide()})):Function.prototype}var d,f="undefined"!=typeof window&&window||{},p=f.document;function g(e){d=e}function m(){return void 0===f||(void 0===f.__theme?d?"bs3"===d:"bs3"===(d=function(){if("undefined"==typeof document)return null;var e=document.createElement("span");e.innerText="test bs version",document.body.appendChild(e),e.classList.add("d-none");var t=e.getBoundingClientRect();return document.body.removeChild(e),t&&0===t.top?"bs4":"bs3"}()):"bs4"!==f.__theme)}function b(e){return function(e,t){var n=" __".concat(t,"Value");Object.defineProperty(e,t,{get:function(){return this[n]},set:function(e){var i=this[n];this[n]=e,i!==e&&this[t+"Change"]&&this[t+"Change"].emit(e)}})}}var v=function(){function e(){Object(i.a)(this,e)}return Object(r.a)(e,null,[{key:"reflow",value:function(e){}},{key:"getStyles",value:function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=f),t.getComputedStyle(e)}}]),e}(),y={},_="undefined"==typeof console||!("warn"in console);function w(e){!Object(o.W)()||_||e in y||(y[e]=!0,console.warn(e))}},ls82:function(e,t,n){var i=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n,i){var r=Object.create((t&&t.prototype instanceof u?t:u).prototype),o=new C(i||[]);return r._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=y(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=l(e,t,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),r}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}e.wrap=a;var c={};function u(){}function h(){}function d(){}var f={};f[r]=function(){return this};var p=Object.getPrototypeOf,g=p&&p(p(S([])));g&&g!==t&&n.call(g,r)&&(f=g);var m=d.prototype=u.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function v(e,t){var i;this._invoke=function(r,o){function s(){return new t((function(i,s){!function i(r,o,s,a){var c=l(e[r],e,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,a)}))}a(c.arg)}(r,o,i,s)}))}return i=i?i.then(s,s):s()}}function y(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,c;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=m.constructor=d,d.constructor=h,d[s]=h.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(v.prototype),v.prototype[o]=function(){return this},e.AsyncIterator=v,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new v(a(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(m),m[s]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;w(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},mrSG:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return u}));var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function s(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(t){o(t)}}function a(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}},n6bG:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.d(t,"a",(function(){return i}))},n6yW:function(e,t,n){"use strict";var i={};function r(e){var t=i[e];return t?t.lastIndex=0:i[e]=t=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)","g"),t}e.exports={add:function(e,t){var n=e.className;n.length?r(t).test(n)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(r(t)," ").trim()}}},nKjQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("mrSG"),r=n("UfhM"),o=n("JIr8"),s=n("vkgz"),a=n("XNiG"),l=n("LRne"),c=n("AytR"),u=n("fXoL"),h=n("tk/3"),d=c.a.apiBaseUrl+"/api/worksheet",f=function(){function e(e,t){var n=this;this.http=e,this.authService=t,this._worksheets=new a.a,this.worksheets$=this._worksheets.asObservable(),this.authService.isAuthenticated$.pipe(Object(o.a)((function(e){return Object(l.a)(!1)}))).subscribe((function(e){return Object(i.b)(n,void 0,void 0,(function(){return Object(i.e)(this,(function(t){return e||this._worksheets.next([]),[2]}))}))}))}return e.prototype.loadWorksheets=function(){var e=this;return this.http.get(d+"/links",this.authService.getHttpHeaders()).pipe(Object(s.a)((function(t){return e._worksheets.next(t)})))},e.prototype.saveWorksheet=function(e){var t=this;return this.http.post(""+d,e,this.authService.getHttpHeaders()).pipe(Object(s.a)((function(){return t.loadWorksheets().toPromise()})))},e.prototype.getWorksheet=function(e,t){return this.http.get(d+"/"+e+"/"+t,this.authService.getHttpHeaders())},e.prototype.deleteWorksheet=function(e){var t=this;return this.http.delete(d+"/"+e,this.authService.getHttpHeaders()).pipe(Object(s.a)((function(){return t.loadWorksheets().toPromise()})))},e.prototype.getPermissions=function(e){return this.http.get(d+"/permissions/"+e,this.authService.getHttpHeaders())},e.prototype.grantPermission=function(e){return this.http.post(d+"/permission",e,this.authService.getHttpHeaders())},e.prototype.removeAppPermission=function(e,t){return this.http.request("delete",d+"/permission",{headers:this.authService.getHttpHeaders().headers,body:{userId:e,worksheetId:t}})},e.\u0275fac=function(t){return new(t||e)(u.Xb(h.a),u.Xb(r.a))},e.\u0275prov=u.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},nYR2:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("Ji7U"),r=n("LK+K"),o=n("1OyB"),s=n("vuIU"),a=n("7o/Q"),l=n("quSY");function c(e){return function(t){return t.lift(new u(e))}}var u=function(){function e(t){Object(o.a)(this,e),this.callback=t}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.callback))}}]),e}(),h=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e,i){var r;return Object(o.a)(this,n),(r=t.call(this,e)).add(new l.a(i)),r}return n}(a.a)},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}}},o0o1:function(e,t,n){e.exports=n("ls82")},ofXK:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return Fe})),n.d(t,"c",(function(){return Ve})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return Be})),n.d(t,"f",(function(){return He})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return we})),n.d(t,"l",(function(){return Se})),n.d(t,"m",(function(){return Te})),n.d(t,"n",(function(){return Me})),n.d(t,"o",(function(){return je})),n.d(t,"p",(function(){return Ae})),n.d(t,"q",(function(){return Ie})),n.d(t,"r",(function(){return Pe})),n.d(t,"s",(function(){return x})),n.d(t,"t",(function(){return g})),n.d(t,"u",(function(){return Ge})),n.d(t,"v",(function(){return ze})),n.d(t,"w",(function(){return f})),n.d(t,"x",(function(){return $e})),n.d(t,"y",(function(){return h})),n.d(t,"z",(function(){return _e})),n.d(t,"A",(function(){return d}));var i=n("uFwe"),r=n("ODXe"),o=n("vuIU"),s=n("Ji7U"),a=n("LK+K"),l=n("1OyB"),c=n("fXoL"),u=null;function h(){return u}function d(e){u||(u=e)}var f=function e(){Object(l.a)(this,e)},p=new c.s("DocumentToken"),g=function(){var e=function e(){Object(l.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(c.Jb)({factory:m,token:e,providedIn:"platform"}),e}();function m(){return Object(c.Xb)(v)}var b=new c.s("Location Initialized"),v=function(){var e=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this))._doc=e,i._init(),i}return Object(o.a)(n,[{key:"_init",value:function(){this.location=h().getLocation(),this._history=h().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return h().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){h().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){h().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){y()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){y()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(g);return e.\u0275fac=function(t){return new(t||e)(c.Xb(p))},e.\u0275prov=Object(c.Jb)({factory:_,token:e,providedIn:"platform"}),e}();function y(){return!!window.history.pushState}function _(){return new v(Object(c.Xb)(p))}function w(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function C(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function S(e){return e&&"?"!==e[0]?"?"+e:e}var O=function(){var e=function e(){Object(l.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(c.Jb)({factory:T,token:e,providedIn:"root"}),e}();function T(e){var t=Object(c.Xb)(p).location;return new x(Object(c.Xb)(g),t&&t.origin||"")}var k=new c.s("appBaseHref"),x=function(){var e=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e,i){var r;if(Object(l.a)(this,n),(r=t.call(this))._platformLocation=e,null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,r}return Object(o.a)(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return w(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+S(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+S(i));this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+S(i));this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(O);return e.\u0275fac=function(t){return new(t||e)(c.Xb(g),c.Xb(k,8))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac}),e}(),E=function(){var e=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e,i){var r;return Object(l.a)(this,n),(r=t.call(this))._platformLocation=e,r._baseHref="",null!=i&&(r._baseHref=i),r}return Object(o.a)(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=w(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+S(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+S(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(O);return e.\u0275fac=function(t){return new(t||e)(c.Xb(g),c.Xb(k,8))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac}),e}(),j=function(){var e=function(){function e(t,n){var i=this;Object(l.a)(this,e),this._subject=new c.p,this._urlChangeListeners=[],this._platformStrategy=t;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=C(I(r)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return Object(o.a)(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+S(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,I(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+S(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+S(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)})))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Xb(O),c.Xb(g))},e.normalizeQueryParams=S,e.joinWithSlash=w,e.stripTrailingSlash=C,e.\u0275prov=Object(c.Jb)({factory:A,token:e,providedIn:"root"}),e}();function A(){return new j(Object(c.Xb)(O),Object(c.Xb)(g))}function I(e){return e.replace(/\/index.html$/,"")}var M=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}({}),P=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),D=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),R=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),N=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),L=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function F(e,t){return G(Object(c.kb)(e)[c.bb.DateFormat],t)}function B(e,t){return G(Object(c.kb)(e)[c.bb.TimeFormat],t)}function H(e,t){return G(Object(c.kb)(e)[c.bb.DateTimeFormat],t)}function V(e,t){var n=Object(c.kb)(e),i=n[c.bb.NumberSymbols][t];if(void 0===i){if(t===L.CurrencyDecimal)return n[c.bb.NumberSymbols][L.Decimal];if(t===L.CurrencyGroup)return n[c.bb.NumberSymbols][L.Group]}return i}var $=c.nb;function z(e){if(!e[c.bb.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[c.bb.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function G(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function W(e){var t=e.split(":"),n=Object(r.a)(t,2);return{hours:+n[0],minutes:+n[1]}}var U=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,K={},q=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,X=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),Y=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),J=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function Q(e,t,n,i){var o=function(e){if(de(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=e.split("-").map((function(e){return+e})),o=Object(r.a)(i,3);return new Date(o[0],o[1]-1,o[2])}if(t=e.match(U))return function(e){var t=new Date(0),n=0,i=0,r=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var s=Number(e[4]||0)-n,a=Number(e[5]||0)-i,l=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,l,c),t}(t)}var s=new Date(e);if(!de(s))throw new Error('Unable to convert "'.concat(e,'" into a date'));return s}(e);t=function e(t,n){var i=function(e){return Object(c.kb)(e)[c.bb.LocaleId]}(t);if(K[i]=K[i]||{},K[i][n])return K[i][n];var r="";switch(n){case"shortDate":r=F(t,N.Short);break;case"mediumDate":r=F(t,N.Medium);break;case"longDate":r=F(t,N.Long);break;case"fullDate":r=F(t,N.Full);break;case"shortTime":r=B(t,N.Short);break;case"mediumTime":r=B(t,N.Medium);break;case"longTime":r=B(t,N.Long);break;case"fullTime":r=B(t,N.Full);break;case"short":var o=e(t,"shortTime"),s=e(t,"shortDate");r=Z(H(t,N.Short),[o,s]);break;case"medium":var a=e(t,"mediumTime"),l=e(t,"mediumDate");r=Z(H(t,N.Medium),[a,l]);break;case"long":var u=e(t,"longTime"),h=e(t,"longDate");r=Z(H(t,N.Long),[u,h]);break;case"full":var d=e(t,"fullTime"),f=e(t,"fullDate");r=Z(H(t,N.Full),[d,f])}return r&&(K[i][n]=r),r}(n,t)||t;for(var s,a=[];t;){if(!(s=q.exec(t))){a.push(t);break}var l=(a=a.concat(s.slice(1))).pop();if(!l)break;t=l}var u=o.getTimezoneOffset();i&&(u=he(i,u),o=function(e,t,n){var i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(he(t,i)-i))}(o,i));var h="";return a.forEach((function(e){var t=function(e){if(ue[e])return ue[e];var t;switch(e){case"G":case"GG":case"GGG":t=re(J.Eras,R.Abbreviated);break;case"GGGG":t=re(J.Eras,R.Wide);break;case"GGGGG":t=re(J.Eras,R.Narrow);break;case"y":t=ne(Y.FullYear,1,0,!1,!0);break;case"yy":t=ne(Y.FullYear,2,0,!0,!0);break;case"yyy":t=ne(Y.FullYear,3,0,!1,!0);break;case"yyyy":t=ne(Y.FullYear,4,0,!1,!0);break;case"M":case"L":t=ne(Y.Month,1,1);break;case"MM":case"LL":t=ne(Y.Month,2,1);break;case"MMM":t=re(J.Months,R.Abbreviated);break;case"MMMM":t=re(J.Months,R.Wide);break;case"MMMMM":t=re(J.Months,R.Narrow);break;case"LLL":t=re(J.Months,R.Abbreviated,D.Standalone);break;case"LLLL":t=re(J.Months,R.Wide,D.Standalone);break;case"LLLLL":t=re(J.Months,R.Narrow,D.Standalone);break;case"w":t=ce(1);break;case"ww":t=ce(2);break;case"W":t=ce(1,!0);break;case"d":t=ne(Y.Date,1);break;case"dd":t=ne(Y.Date,2);break;case"E":case"EE":case"EEE":t=re(J.Days,R.Abbreviated);break;case"EEEE":t=re(J.Days,R.Wide);break;case"EEEEE":t=re(J.Days,R.Narrow);break;case"EEEEEE":t=re(J.Days,R.Short);break;case"a":case"aa":case"aaa":t=re(J.DayPeriods,R.Abbreviated);break;case"aaaa":t=re(J.DayPeriods,R.Wide);break;case"aaaaa":t=re(J.DayPeriods,R.Narrow);break;case"b":case"bb":case"bbb":t=re(J.DayPeriods,R.Abbreviated,D.Standalone,!0);break;case"bbbb":t=re(J.DayPeriods,R.Wide,D.Standalone,!0);break;case"bbbbb":t=re(J.DayPeriods,R.Narrow,D.Standalone,!0);break;case"B":case"BB":case"BBB":t=re(J.DayPeriods,R.Abbreviated,D.Format,!0);break;case"BBBB":t=re(J.DayPeriods,R.Wide,D.Format,!0);break;case"BBBBB":t=re(J.DayPeriods,R.Narrow,D.Format,!0);break;case"h":t=ne(Y.Hours,1,-12);break;case"hh":t=ne(Y.Hours,2,-12);break;case"H":t=ne(Y.Hours,1);break;case"HH":t=ne(Y.Hours,2);break;case"m":t=ne(Y.Minutes,1);break;case"mm":t=ne(Y.Minutes,2);break;case"s":t=ne(Y.Seconds,1);break;case"ss":t=ne(Y.Seconds,2);break;case"S":t=ne(Y.FractionalSeconds,1);break;case"SS":t=ne(Y.FractionalSeconds,2);break;case"SSS":t=ne(Y.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=se(X.Short);break;case"ZZZZZ":t=se(X.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=se(X.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=se(X.Long);break;default:return null}return ue[e]=t,t}(e);h+=t?t(o,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),h}function Z(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,o=n));for(var s=String(e);s.length<t;)s="0"+s;return i&&(s=s.substr(s.length-t)),o+s}function te(e,t){return ee(e,3).substr(0,t)}function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,s){var a=ie(e,o);if((n>0||a>-n)&&(a+=n),e===Y.Hours)0===a&&-12===n&&(a=12);else if(e===Y.FractionalSeconds)return te(a,t);var l=V(s,L.MinusSign);return ee(a,t,l,i,r)}}function ie(e,t){switch(e){case Y.FullYear:return t.getFullYear();case Y.Month:return t.getMonth();case Y.Date:return t.getDate();case Y.Hours:return t.getHours();case Y.Minutes:return t.getMinutes();case Y.Seconds:return t.getSeconds();case Y.FractionalSeconds:return t.getMilliseconds();case Y.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(r,o){return oe(r,o,e,t,n,i)}}function oe(e,t,n,i,o,s){switch(n){case J.Months:return function(e,t,n){var i=Object(c.kb)(e),r=G([i[c.bb.MonthsFormat],i[c.bb.MonthsStandalone]],t);return G(r,n)}(t,o,i)[e.getMonth()];case J.Days:return function(e,t,n){var i=Object(c.kb)(e),r=G([i[c.bb.DaysFormat],i[c.bb.DaysStandalone]],t);return G(r,n)}(t,o,i)[e.getDay()];case J.DayPeriods:var a=e.getHours(),l=e.getMinutes();if(s){var u=function(e){var t=Object(c.kb)(e);return z(t),(t[c.bb.ExtraData][2]||[]).map((function(e){return"string"==typeof e?W(e):[W(e[0]),W(e[1])]}))}(t),h=function(e,t,n){var i=Object(c.kb)(e);z(i);var r=G([i[c.bb.ExtraData][0],i[c.bb.ExtraData][1]],t)||[];return G(r,n)||[]}(t,o,i),d=u.findIndex((function(e){if(Array.isArray(e)){var t=Object(r.a)(e,2),n=t[0],i=t[1],o=a>=n.hours&&l>=n.minutes,s=a<i.hours||a===i.hours&&l<i.minutes;if(n.hours<i.hours){if(o&&s)return!0}else if(o||s)return!0}else if(e.hours===a&&e.minutes===l)return!0;return!1}));if(-1!==d)return h[d]}return function(e,t,n){var i=Object(c.kb)(e),r=G([i[c.bb.DayPeriodsFormat],i[c.bb.DayPeriodsStandalone]],t);return G(r,n)}(t,o,i)[a<12?0:1];case J.Eras:return function(e,t){return G(Object(c.kb)(e)[c.bb.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}function se(e){return function(t,n,i){var r=-1*i,o=V(n,L.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case X.Short:return(r>=0?"+":"")+ee(s,2,o)+ee(Math.abs(r%60),2,o);case X.ShortGMT:return"GMT"+(r>=0?"+":"")+ee(s,1,o);case X.Long:return"GMT"+(r>=0?"+":"")+ee(s,2,o)+":"+ee(Math.abs(r%60),2,o);case X.Extended:return 0===i?"Z":(r>=0?"+":"")+ee(s,2,o)+":"+ee(Math.abs(r%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function ae(e){var t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}function le(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ce(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){var r;if(t){var o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();r=1+Math.floor((s+o)/7)}else{var a=ae(n.getFullYear()),l=le(n).getTime()-a.getTime();r=1+Math.round(l/6048e5)}return ee(r,e,V(i,L.MinusSign))}}var ue={};function he(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function de(e){return e instanceof Date&&!isNaN(e.valueOf())}var fe=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function pe(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}function ge(e){var t,n,i,r,o,s=Math.abs(e)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(i=s.search(/e/i))>0?(n<0&&(n=i),n+=+s.slice(i+1),s=s.substring(0,i)):n<0&&(n=s.length),i=0;"0"===s.charAt(i);i++);if(i===(o=s.length))t=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=Number(s.charAt(i))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}function me(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var i=e.digits,r=i.length-e.integerLen,o=Math.min(Math.max(t,r),n),s=o+e.integerLen,a=i[s];if(s>0){i.splice(Math.max(e.integerLen,s));for(var l=s;l<i.length;l++)i[l]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(var c=1;c<s;c++)i[c]=0}if(a>=5)if(s-1<0){for(var u=0;u>s;u--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);var h=0!==o,d=t+e.integerLen,f=i.reduceRight((function(e,t,n,i){return i[n]=(t+=e)<10?t:t-10,h&&(0===i[n]&&n>=d?i.pop():h=!1),t>=10?1:0}),0);f&&(i.unshift(f),e.integerLen++)}function be(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var ve=function e(){Object(l.a)(this,e)},ye=function(){var e=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this)).locale=e,i}return Object(o.a)(n,[{key:"getPluralCategory",value:function(e,t){switch($(t||this.locale)(e)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}]),n}(ve);return e.\u0275fac=function(t){return new(t||e)(c.Xb(c.w))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac}),e}();function _e(e,t){t=encodeURIComponent(t);var n,o=Object(i.a)(e.split(";"));try{for(o.s();!(n=o.n()).done;){var s=n.value,a=s.indexOf("="),l=-1==a?[s,""]:[s.slice(0,a),s.slice(a+1)],c=Object(r.a)(l,2),u=c[1];if(c[0].trim()===t)return decodeURIComponent(u)}}catch(h){o.e(h)}finally{o.f()}return null}var we=function(){var e=function(){function e(t,n,i,r){Object(l.a)(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return Object(o.a)(e,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Object(c.wb)(e.item)));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}},{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(c.qb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.u),c.Nb(c.v),c.Nb(c.n),c.Nb(c.G))},e.\u0275dir=c.Ib({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),Ce=function(){function e(t,n,i,r){Object(l.a)(this,e),this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}return Object(o.a)(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Se=function(){var e=function(){function e(t,n,i){Object(l.a)(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return Object(o.a)(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,i,r){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Ce(null,t._ngForOf,-1,-1),null===r?void 0:r),s=new Oe(e,o);n.push(s)}else if(null==r)t._viewContainer.remove(null===i?void 0:i);else if(null!==i){var a=t._viewContainer.get(i);t._viewContainer.move(a,r);var l=new Oe(e,a);n.push(l)}}));for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var s=this._viewContainer.get(r);s.context.index=r,s.context.count=o,s.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){Object(c.W)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.R),c.Nb(c.N),c.Nb(c.u))},e.\u0275dir=c.Ib({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),Oe=function e(t,n){Object(l.a)(this,e),this.record=t,this.view=n},Te=function(){var e=function(){function e(t,n){Object(l.a)(this,e),this._viewContainer=t,this._context=new ke,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return Object(o.a)(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){xe("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){xe("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.R),c.Nb(c.N))},e.\u0275dir=c.Ib({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),ke=function e(){Object(l.a)(this,e),this.$implicit=null,this.ngIf=null};function xe(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(c.wb)(t),"'."))}var Ee=function(){function e(t,n){Object(l.a)(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return Object(o.a)(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),je=function(){var e=function(){function e(){Object(l.a)(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object(o.a)(e,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=c.Ib({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e}(),Ae=function(){var e=function(){function e(t,n,i){Object(l.a)(this,e),this.ngSwitch=i,i._addCase(),this._view=new Ee(t,n)}return Object(o.a)(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.R),c.Nb(c.N),c.Nb(je,1))},e.\u0275dir=c.Ib({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e}(),Ie=function(){var e=function e(t,n,i){Object(l.a)(this,e),i._addDefault(new Ee(t,n))};return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.R),c.Nb(c.N),c.Nb(je,1))},e.\u0275dir=c.Ib({type:e,selectors:[["","ngSwitchDefault",""]]}),e}(),Me=function(){var e=function(){function e(t,n,i){Object(l.a)(this,e),this._ngEl=t,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return Object(o.a)(e,[{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=e.split("."),i=Object(r.a)(n,2),o=i[0],s=i[1];null!=(t=null!=t&&s?"".concat(t).concat(s):t)?this._renderer.setStyle(this._ngEl.nativeElement,o,t):this._renderer.removeStyle(this._ngEl.nativeElement,o)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem((function(e){return t._setStyle(e.key,null)})),e.forEachAddedItem((function(e){return t._setStyle(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._setStyle(e.key,e.currentValue)}))}},{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.n),c.Nb(c.v),c.Nb(c.G))},e.\u0275dir=c.Ib({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}(),Pe=function(){var e=function(){function e(t){Object(l.a)(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return Object(o.a)(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var r,o=Object(i.a)(n);try{for(o.s();!(r=o.n()).done;)if(-1===t.indexOf(r.value))return!0}catch(s){o.e(s)}finally{o.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.R))},e.\u0275dir=c.Ib({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.zb]}),e}();function De(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(c.wb)(e),"'"))}var Re=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Ne=new(function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),Le=new Re,Fe=function(){var e=function(){function e(t){Object(l.a)(this,e),this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return Object(o.a)(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(Object(c.sb)(t))return Ne;if(Object(c.rb)(t))return Le;throw De(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Zb())},e.\u0275pipe=c.Mb({name:"async",type:e,pure:!1}),e}(),Be=function(){var e=function(){function e(t){Object(l.a)(this,e),this.locale=t}return Object(o.a)(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return Q(t,n,r||this.locale,i)}catch(o){throw De(e,o.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.w))},e.\u0275pipe=c.Mb({name:"date",type:e,pure:!0}),e}(),He=function(){var e=function(){function e(t){Object(l.a)(this,e),this._locale=t}return Object(o.a)(e,[{key:"transform",value:function(t,n,i){if(function(e){return null==e||""===e||e!=e}(t))return null;i=i||this._locale;try{return function(e,t,n){return function(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a="",l=!1;if(isFinite(e)){var c=ge(e);s&&(c=pe(c));var u=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){var f=o.match(fe);if(null===f)throw new Error("".concat(o," is not a valid digit info"));var p=f[1],g=f[3],m=f[5];null!=p&&(u=be(p)),null!=g&&(h=be(g)),null!=m?d=be(m):null!=g&&h>d&&(d=h)}me(c,h,d);var b=c.digits,v=c.integerLen,y=c.exponent,_=[];for(l=b.every((function(e){return!e}));v<u;v++)b.unshift(0);for(;v<0;v++)b.unshift(0);v>0?_=b.splice(v,b.length):(_=b,b=[0]);var w=[];for(b.length>=t.lgSize&&w.unshift(b.splice(-t.lgSize,b.length).join(""));b.length>t.gSize;)w.unshift(b.splice(-t.gSize,b.length).join(""));b.length&&w.unshift(b.join("")),a=w.join(V(n,i)),_.length&&(a+=V(n,r)+_.join("")),y&&(a+=V(n,L.Exponential)+"+"+y)}else a=V(n,L.Infinity);return e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf}(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(var c=0;c<l.length;c++){var u=l.charAt(c);"0"===u?n.minFrac=n.maxFrac=c+1:"#"===u?n.maxFrac=c+1:n.posSuf+=u}var h=a.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var d=r.length-n.posPre.length-n.posSuf.length,f=o.indexOf("#");n.negPre=o.substr(0,f).replace(/'/g,""),n.negSuf=o.substr(f+d).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return Object(c.kb)(e)[c.bb.NumberFormats][t]}(t,M.Decimal),V(t,L.MinusSign)),t,L.Group,L.Decimal,n)}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error("".concat(e," is not a number"));return e}(t),i,n)}catch(r){throw De(e,r.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Nb(c.w))},e.\u0275pipe=c.Mb({name:"number",type:e,pure:!0}),e}(),Ve=function(){var e=function e(){Object(l.a)(this,e)};return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)},providers:[{provide:ve,useClass:ye}]}),e}(),$e="browser";function ze(e){return e===$e}var Ge=function(){var e=function e(){Object(l.a)(this,e)};return e.\u0275prov=Object(c.Jb)({token:e,providedIn:"root",factory:function(){return new We(Object(c.Xb)(p),window,Object(c.Xb)(c.o))}}),e}(),We=function(){function e(t,n,i){Object(l.a)(this,e),this.document=t,this.window=n,this.errorHandler=i,this.offset=function(){return[0,0]}}return Object(o.a)(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=this.document.getElementById(e)||this.document.getElementsByName(e)[0];t&&this.scrollToElement(t)}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.window||!this.window.scrollTo)return!1;var e=Ue(this.window.history)||Ue(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(t){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window.scrollTo}catch(e){return!1}}}]),e}();function Ue(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}},pLZG:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("Ji7U"),r=n("LK+K"),o=n("1OyB"),s=n("vuIU"),a=n("7o/Q");function l(e,t){return function(n){return n.lift(new c(e,t))}}var c=function(){function e(t,n){Object(o.a)(this,e),this.predicate=t,this.thisArg=n}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.predicate,this.thisArg))}}]),e}(),u=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e,i,r){var s;return Object(o.a)(this,n),(s=t.call(this,e)).predicate=i,s.thisArg=r,s.count=0,s}return Object(s.a)(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(a.a)},pQGM:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n("mrSG"),r=n("fXoL"),o=n("2Vo4"),s=n("LRne"),a=n("z6cu"),l=n("eIep"),c=n("JIr8"),u=(n("K3ix"),n("ZF+8")),h=n("TwVa"),d=n("iFvM"),f=n("HvV6"),p=n("j13F"),g=n("3cVM"),m=n("ZOsW"),b=n("3Pt+"),v=n("ofXK"),y=n("psEu"),_=["connectionEl"];function w(e,t){if(1&e){var n=r.Ub();r.Rb(0),r.Tb(1,"div",30),r.Tb(2,"label",31),r.Ec(3,"Schema"),r.Sb(),r.Tb(4,"div",8),r.Tb(5,"input",32),r.bc("ngModelChange",(function(e){return r.vc(n),r.dc().metaData.schemaName=e})),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",30),r.Tb(7,"label",33),r.Ec(8,"Object"),r.Sb(),r.Tb(9,"div",8),r.Tb(10,"input",34),r.bc("ngModelChange",(function(e){return r.vc(n),r.dc().metaData.objectName=e})),r.Sb(),r.Sb(),r.Sb(),r.Qb()}if(2&e){var i=r.dc();r.Bb(5),r.jc("ngModel",i.metaData.schemaName),r.Bb(5),r.jc("ngModel",i.metaData.objectName)}}function C(e,t){if(1&e&&r.Ec(0),2&e){var n=t.item;r.Hc("",n.schemaName,".",n.objectName,"")}}function S(e,t){if(1&e&&r.Ec(0),2&e){var n=t.item;r.Hc("",n.schemaName,".",n.objectName,"")}}function O(e,t){if(1&e){var n=r.Ub();r.Rb(0),r.Tb(1,"label",35),r.Ec(2,"Import data into"),r.Sb(),r.Tb(3,"ng-select",36),r.bc("change",(function(e){return r.vc(n),r.dc().onTableSelect(e)})),r.Cc(4,C,1,2,"ng-template",37),r.Cc(5,S,1,2,"ng-template",38),r.Sb(),r.Qb()}if(2&e){var i=r.dc();r.Bb(3),r.jc("items",i.tables)("searchFn",i.customSearchFn)}}function T(e,t){1&e&&(r.Tb(0,"span",39),r.Ec(1,"Key fields are required."),r.Sb())}function k(e,t){if(1&e&&(r.Tb(0,"span",40),r.Ec(1),r.ec(2,"number"),r.Sb()),2&e){var n=r.dc();r.Bb(1),r.Gc("",r.fc(2,1,n.rowsLoaded)," rows loaded")}}function x(e,t){if(1&e&&(r.Tb(0,"div",41),r.Tb(1,"div",42),r.Tb(2,"span",43),r.Ec(3,"Loading..."),r.Sb(),r.Sb(),r.Tb(4,"h5"),r.Ec(5),r.Sb(),r.Sb()),2&e){var n=r.dc();r.Bb(5),r.Fc(n.progressMessage)}}function E(e,t){if(1&e&&(r.Tb(0,"div",44),r.Tb(1,"alert",45),r.Tb(2,"strong"),r.Ec(3,"Error:"),r.Sb(),r.Ec(4),r.Sb(),r.Sb()),2&e){var n=r.dc();r.Bb(4),r.Gc(" Verify file format (",n.error,"). ")}}var j=function(){function e(e,t,n,i){this.sqlService=e,this.connectionsService=t,this.notificationService=n,this.dialogService=i,this.save=new r.p,this.dataTypes=Object.values(h.SQLDataTypes),this.createTable$=new o.a(!0),this.loading=!1,this.preprocessors=h.Preprocessors}return e.prototype.ngOnInit=function(){var e=this;this.metaData={objectId:0,objectName:null,schemaName:null,objectType:h.DbObjectType.Table,fields:[]},this.createTable$.subscribe((function(t){t?e.createNewTableColumns():e.createSelectedTableColumns()})),this.connections$=this.connectionsService.loadMyDbConnections(),this.connectionEl.changeEvent.pipe(Object(l.a)((function(){return e.sqlService.getObjects(e.connection)}))).subscribe((function(t){e.tables=t})),this.setData()},Object.defineProperty(e.prototype,"isValid",{get:function(){return Boolean(this.connection&&(this.metaData.schemaName&&this.metaData.objectName&&this.createTable$.value||!this.createTable$.value)&&this.metaData.fields.length)},enumerable:!1,configurable:!0}),e.prototype.onTableSelect=function(e){var t=this;this.loading=!0,this.sqlService.getMetaDataObject(this.connection,e.schemaName,e.objectName).subscribe((function(e){t.selectedTable=e,t.createSelectedTableColumns(),t.loading=!1}))},e.prototype.onConnectionChange=function(e){this.metaData.schemaName=e.defaultSchema},e.prototype.customSearchFn=function(e,t){return e=e.toLowerCase(),(t.schemaName.toLowerCase()+"."+t.objectName.toLowerCase()).includes(e)},e.prototype.import=function(){var e=this,t=this.createTable$.value;this.loading=!0,this.progressMessage=t?h.ProgressMessage.Create:h.ProgressMessage.Importing;var n=this.mappings.getItems(),r=Object(i.a)(Object(i.a)({},t?this.metaData:this.selectedTable),{fields:Object(d.o)(n),primaryKeys:Object(d.r)(n)});(t?this.sqlService.generateObject(this.connection,r):Object(s.a)(null)).pipe(Object(c.a)((function(t){var n=Object(d.l)(t)||"Failed to create new table";return e.notificationService.open({message:n,type:h.NotificationType.DANGER}),Object(a.a)(n)})),Object(l.a)((function(){return e.saveData()}))).subscribe((function(t){return e.importHandler(r,t)}),(function(t){return e.importErrorHandler(t)}))},e.prototype.previewData=function(){var e=this.dialogService.open(f.a,{class:"modal-w-90 full-height d-flex flex-column"}),t=this.mappings.getItems();e.config={data:p.b.getValuesFromJson(this.data,t),fields:t}},e.prototype.setData=function(){this.data=Array.isArray(this.config)?this.config:[this.config],this.rowsLoaded=this.data.length;try{this.sourceFields=Object.keys(this.data[0]).map((function(e){return Object(d.h)(e)})),this.metaData.fields=Object(d.o)(this.sourceFields),this.createTable$.value?this.createNewTableColumns():this.createSelectedTableColumns()}catch(e){this.data=null,this.sourceFields=null,this.metaData.fields=null,this.error=e.message}finally{this.loading=!1}},e.prototype.getSelectedTableTitle=function(){return this.selectedTable?this.selectedTable.schemaName+"."+this.selectedTable.objectName:"Select table"},e.prototype.importHandler=function(e,t){var n=this;if(t.savedItemsCount===t.itemsToSaveCount)this.notificationService.open({type:h.NotificationType.SUCCESS,message:Object(d.u)(t)}),setTimeout((function(){n.modalRef.hide(),n.loading=!1,n.progressMessage=null,n.save.emit({newTable:!!n.createTable$.value&&n.metaData})}),1e3);else{var i=t.savedItemsCount?"So far ":"";t.inserted&&(i+="Inserted: "+t.inserted.toLocaleString()+" "),t.updated&&(i+="Updated: "+t.updated.toLocaleString()+" "),t.deleted&&(i+="Deleted: "+t.deleted.toLocaleString()),this.progressMessage=h.ProgressMessage.Importing+" "+t.itemsToSaveCount.toLocaleString()+" rows. "+i}},e.prototype.importErrorHandler=function(e){this.loading=!1,this.progressMessage=null,console.error(e)},e.prototype.createSelectedTableColumns=function(){var e=this;if(this.selectedTable){var t=new Set(this.selectedTable.primaryKeys.map((function(e){return e.fieldName})));this.tableColumns=Object(d.b)(this.selectedTable.fields).map((function(n,i){var r=e.sourceFields?e.sourceFields.find((function(e){return e===n.fieldName})):null;return{fieldName:n.fieldName,dataType:n.dataType||h.SQLDataTypes.NVARCHAR,size:n.size,sourceField:r,isKey:t.has(n.fieldName),preprocessFunc:null,preprocessParams:null}}))}else this.tableColumns=[]},e.prototype.createNewTableColumns=function(){if(this.sourceFields){var e=p.b.getTypes(this.data);this.tableColumns=Object(d.b)(this.sourceFields).map((function(t,n){var i=e["col"+n];return{fieldName:t.fieldName,dataType:t.dataType||i.type||h.SQLDataTypes.NVARCHAR,size:t.size||i.size,sourceField:t.fieldName,isKey:t.isKey||Boolean(i.uniqueValues),preprocessFunc:null,preprocessParams:null}}))}},e.prototype.saveData=function(){var e=this,t=this.createTable$.value?this.metaData:this.selectedTable;return this.sqlService.mergeInData$(this.connection,t.schemaName+"."+t.objectName,this.sendData).pipe(Object(c.a)((function(t){var n="string"==typeof t.error?t.error:"Failed to Import";return e.notificationService.open({message:n,type:h.NotificationType.DANGER}),Object(a.a)(n)})))},Object.defineProperty(e.prototype,"sendData",{get:function(){var e=this.mappings.getItems(),t=e.map((function(e){return e.fieldName})),n=t.map((function(e,t){return e?t:-1})).filter((function(e){return-1!==e}));return{tableData:{fieldNames:t.filter((function(e){return e})),rows:p.b.getValuesFromJson(this.data,e).map((function(e){return e.filter((function(e,t){return n.includes(t)}))}))}}},enumerable:!1,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(r.Nb(u.f),r.Nb(u.a),r.Nb(u.e),r.Nb(u.b))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-save-object-explorer"]],viewQuery:function(e,t){var n;1&e&&(r.Ac(g.a,!0),r.Ac(_,!0)),2&e&&(r.rc(n=r.cc())&&(t.mappings=n.first),r.rc(n=r.cc())&&(t.connectionEl=n.first))},inputs:{modalRef:"modalRef",config:"config"},outputs:{save:"save"},decls:46,vars:29,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4","d-flex","flex-column","h-100","overflow-hidden"],[1,"row","m-0"],[1,"form-group","row","m-0"],["for","connection-name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["bindLabel","connectionName","bindValue","connectionName","placeholder","Select connection",3,"items","ngModel","ngModelChange","change"],["connectionEl",""],[1,"d-flex","w-50"],[4,"ngIf"],[1,"form-check","form-check-inline"],["type","checkbox","id","create-tabel",1,"form-check-input","mr-2",3,"checked","value","change"],["for","create-tabel",1,"form-check-label"],[1,"row","flex-fill","mx-0","flex-column","my-2","h-100","position-relative","overflow-hidden"],[1,"row","mx-0"],[1,"table-title"],["class","ml-2",4,"ngIf"],["class","ml-auto",4,"ngIf"],[1,"fields-container","d-flex","flex-fill","w-100"],[1,"fields-container","d-flex","flex-fill","w-100","h-100",3,"tableColumns","isNewTable","sourceFields"],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],["class","d-flex positin-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","button",1,"btn","btn-light",3,"disabled","click"],["type","button",1,"btn","btn-primary","ml-auto","mr-2",3,"disabled","click"],["type","button",1,"btn","btn-light",3,"click"],[1,"form-group","row","m-0","w-50"],["for","schema-name",1,"col-sm-4","col-form-label","text-right"],["type","text","id","schema-name","placeholder","Schema",1,"form-control",3,"ngModel","ngModelChange"],["for","object-name",1,"col-sm-4","col-form-label","text-right"],["type","text","id","object-name","placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],["for","object-name",1,"col-sm-3","col-form-label","text-right"],["placeholder","Select table",1,"col-sm-7",3,"items","searchFn","change"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"ml-2"],[1,"ml-auto"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"d-flex","positin-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["type","danger"]],template:function(e,t){1&e&&(r.Tb(0,"div",0),r.Tb(1,"h4",1),r.Ec(2,"Save to Database"),r.Sb(),r.Tb(3,"button",2),r.bc("click",(function(){return t.modalRef.hide()})),r.Tb(4,"span",3),r.Ec(5,"\xd7"),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",4),r.Tb(7,"div",5),r.Tb(8,"div",6),r.Tb(9,"label",7),r.Ec(10,"Connection"),r.Sb(),r.Tb(11,"div",8),r.Tb(12,"ng-select",9,10),r.bc("ngModelChange",(function(e){return t.connection=e}))("change",(function(e){return t.onConnectionChange(e)})),r.ec(14,"async"),r.Sb(),r.Sb(),r.Sb(),r.Tb(15,"div",11),r.Cc(16,w,11,2,"ng-container",12),r.ec(17,"async"),r.Cc(18,O,6,2,"ng-container",12),r.ec(19,"async"),r.Sb(),r.Tb(20,"div",13),r.Tb(21,"input",14),r.bc("change",(function(e){return t.createTable$.next(e.target.checked)})),r.ec(22,"async"),r.ec(23,"async"),r.Sb(),r.Tb(24,"label",15),r.Ec(25,"Create New Table"),r.Sb(),r.Sb(),r.Sb(),r.Tb(26,"div",16),r.Tb(27,"div",17),r.Tb(28,"h5",18),r.Ec(29,"Fields Mappings"),r.Sb(),r.Cc(30,T,2,0,"span",19),r.ec(31,"async"),r.Cc(32,k,3,3,"span",20),r.Sb(),r.Tb(33,"div",21),r.Ob(34,"app-fields-mappings",22),r.ec(35,"async"),r.Sb(),r.Cc(36,x,6,1,"div",23),r.Cc(37,E,5,1,"div",24),r.Sb(),r.Sb(),r.Tb(38,"div",25),r.Tb(39,"div",26),r.Tb(40,"button",27),r.bc("click",(function(){return t.previewData()})),r.Ec(41,"Preview Data"),r.Sb(),r.Tb(42,"button",28),r.bc("click",(function(){return t.import()})),r.Ec(43,"Import"),r.Sb(),r.Tb(44,"button",29),r.bc("click",(function(){return t.modalRef.hide()})),r.Ec(45,"Cancel"),r.Sb(),r.Sb(),r.Sb()),2&e&&(r.Bb(12),r.jc("items",r.fc(14,15,t.connections$))("ngModel",t.connection),r.Bb(4),r.jc("ngIf",r.fc(17,17,t.createTable$)&&t.connection),r.Bb(2),r.jc("ngIf",!r.fc(19,19,t.createTable$)&&t.connection),r.Bb(3),r.jc("checked",r.fc(22,21,t.createTable$))("value",r.fc(23,23,t.createTable$)),r.Bb(9),r.jc("ngIf",!r.fc(31,25,t.createTable$)),r.Bb(2),r.jc("ngIf",t.rowsLoaded),r.Bb(2),r.jc("tableColumns",t.tableColumns)("isNewTable",r.fc(35,27,t.createTable$))("sourceFields",t.sourceFields),r.Bb(2),r.jc("ngIf",t.loading),r.Bb(1),r.jc("ngIf",t.error),r.Bb(3),r.jc("disabled",!t.data||!t.data.length),r.Bb(2),r.jc("disabled",!t.isValid))},directives:[m.a,b.i,b.l,v.m,g.a,b.b,m.d,m.c,y.a],pipes:[v.b,v.f],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.fields-container[_ngcontent-%COMP%]{height:calc(100% - 200px)}"]}),e}()},psEu:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var i=n("vuIU"),r=n("1OyB"),o=n("mrSG"),s=n("fXoL"),a=n("lUod"),l=n("ofXK");function c(e,t){if(1&e){var n=s.Ub();s.Tb(0,"button",2),s.bc("click",(function(){return s.vc(n),s.dc(2).close()})),s.Tb(1,"span",3),s.Ec(2,"\xd7"),s.Sb(),s.Tb(3,"span",4),s.Ec(4,"Close"),s.Sb(),s.Sb()}}function u(e,t){if(1&e&&(s.Tb(0,"div",1),s.Cc(1,c,5,0,"ng-template",0),s.hc(2),s.Sb()),2&e){var n=s.dc();s.Db("alert alert-"+n.type),s.jc("ngClass",n.classes),s.Bb(1),s.jc("ngIf",n.dismissible)}}var h=["*"],d=function(){var e=function e(){Object(r.a)(this,e),this.type="warning",this.dismissible=!1,this.dismissOnTimeout=void 0};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(s.Jb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),f=function(){var e=function(){function e(t,n){var i=this;Object(r.a)(this,e),this.changeDetection=n,this.type="warning",this.dismissible=!1,this.isOpen=!0,this.onClose=new s.p,this.onClosed=new s.p,this.classes="",this.dismissibleChange=new s.p,Object.assign(this,t),this.dismissibleChange.subscribe((function(e){i.classes=i.dismissible?"alert-dismissible":"",i.changeDetection.markForCheck()}))}return Object(i.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.dismissOnTimeout&&setTimeout((function(){return e.close()}),parseInt(this.dismissOnTimeout,10))}},{key:"close",value:function(){this.isOpen&&(this.onClose.emit(this),this.isOpen=!1,this.changeDetection.markForCheck(),this.onClosed.emit(this))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Nb(d),s.Nb(s.h))},e.\u0275cmp=s.Hb({type:e,selectors:[["alert"],["bs-alert"]],inputs:{type:"type",dismissible:"dismissible",isOpen:"isOpen",dismissOnTimeout:"dismissOnTimeout"},outputs:{onClose:"onClose",onClosed:"onClosed"},ngContentSelectors:h,decls:1,vars:1,consts:[[3,"ngIf"],["role","alert",3,"ngClass"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"sr-only"]],template:function(e,t){1&e&&(s.ic(),s.Cc(0,u,3,4,"ng-template",0)),2&e&&s.jc("ngIf",t.isOpen)},directives:[l.m,l.k],encapsulation:2,changeDetection:0}),Object(o.c)([Object(a.a)(),Object(o.f)("design:type",Object)],e.prototype,"dismissible",void 0),e}(),p=function(){var e=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[]}}}]),e}();return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(t){return new(t||e)},imports:[[l.c]]}),e}()},qGRI:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("mrSG"),r=n("fXoL"),o=n("OLrf"),s=n("TwVa"),a=n("FQei"),l=n("3Pt+"),c=n("ofXK");function u(e,t){if(1&e&&(r.Tb(0,"div"),r.Ec(1),r.Sb()),2&e){var n=r.dc(2);r.Bb(1),r.Fc(n.lookupError)}}function h(e,t){1&e&&(r.Tb(0,"div"),r.Ec(1,"User name or email is required."),r.Sb())}function d(e,t){if(1&e&&(r.Tb(0,"div",11),r.Cc(1,u,2,1,"div",12),r.Cc(2,h,2,0,"div",12),r.Sb()),2&e){var n=r.dc(),i=r.sc(5);r.Bb(1),r.jc("ngIf",n.lookupError),r.Bb(1),r.jc("ngIf",i.errors&&i.errors.required)}}function f(e,t){1&e&&r.Pb(0)}var p=function(e){return{permission:e}};function g(e,t){if(1&e&&(r.Tb(0,"tr"),r.Cc(1,f,1,0,"ng-container",13),r.Sb()),2&e){var n=t.$implicit;r.dc();var i=r.sc(26);r.Bb(1),r.jc("ngTemplateOutlet",i)("ngTemplateOutletContext",r.nc(2,p,n))}}function m(e,t){if(1&e&&(r.Tb(0,"option",19),r.Ec(1),r.Sb()),2&e){var n=t.$implicit,i=r.dc(2);r.jc("value",n),r.Bb(1),r.Fc(i.formatLabel(n))}}function b(e,t){if(1&e){var n=r.Ub();r.Tb(0,"td"),r.Ec(1),r.Sb(),r.Tb(2,"td"),r.Ec(3),r.Sb(),r.Tb(4,"td"),r.Ec(5),r.Sb(),r.Tb(6,"td"),r.Tb(7,"input",14),r.bc("change",(function(){r.vc(n);var e=t.permission;return r.dc().saveAppPermission(e)}))("ngModelChange",(function(e){return r.vc(n),t.permission.isAdmin=e})),r.Sb(),r.Sb(),r.Tb(8,"td"),r.Tb(9,"select",15),r.bc("ngModelChange",(function(e){return r.vc(n),t.permission.accessLevel=e}))("change",(function(){r.vc(n);var e=t.permission;return r.dc().saveAppPermission(e)})),r.Cc(10,m,2,2,"option",16),r.Sb(),r.Sb(),r.Tb(11,"td"),r.Tb(12,"button",17),r.bc("click",(function(){r.vc(n);var e=t.permission;return r.dc().removePermission(e)})),r.Ob(13,"i",18),r.Sb(),r.Sb()}if(2&e){var i=t.permission,o=r.dc();r.Bb(1),r.Fc(i.userName),r.Bb(2),r.Fc(i.firstName),r.Bb(2),r.Fc(i.lastName),r.Bb(2),r.lc("name","permission-isadmin-",i.userName,""),r.jc("ngModel",i.isAdmin)("disabled",o.isDisabled(i)),r.Bb(2),r.lc("name","permission-permission-",i.userName,""),r.jc("ngModel",i.accessLevel)("disabled",o.isDisabled(i)),r.Bb(1),r.jc("ngForOf",o.permissionLevels),r.Bb(2),r.jc("disabled",o.isDisabled(i))}}var v=function(){function e(e){this.authService=e,this.save=new r.p,this.remove=new r.p,this.formatLabel=a.formatCamelStr}return e.prototype.ngOnInit=function(){this.currentUser=this.authService.user.userName,this.permissionLevels=Object.values(this.PermissionEnum||s.AppAccessLevels)},e.prototype.lookupUser=function(){var e=this;this.authService.lookupUser(this.newUser).subscribe((function(t){if(e.lookupError=null,t)if(e.permissions.find((function(e){return e.userName===t.userName})))e.lookupError="User "+e.newUser+" already in permissions list";else{var n=Object(i.a)(Object(i.a)({},t),{isAdmin:!1,accessLevel:s.AppAccessLevels.NoAccess});e.save.emit(n)}else e.lookupError="UserName or Email - "+e.newUser+" not found"}))},e.prototype.removePermission=function(e){this.remove.emit(e)},e.prototype.saveAppPermission=function(e){this.save.emit(e)},e.prototype.isDisabled=function(e){return this.currentUser===e.userName||this.owner===e.userName},e.\u0275fac=function(t){return new(t||e)(r.Nb(o.b))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-permissions"]],inputs:{permissions:"permissions",owner:"owner",PermissionEnum:"PermissionEnum"},outputs:{save:"save",remove:"remove"},decls:27,vars:4,consts:[[1,"form-group","row","mx-0","mb-2"],["for","permission-user",1,"col-form-label","px-0"],[1,"mx-2"],["type","text","placeholder","Enter user name or email","name","user","required","","id","permission-user",1,"form-control",3,"ngModel","ngModelChange"],["user","ngModel"],["class","alert alert-danger py-1 px-2 m-0",4,"ngIf"],["type","button",1,"btn","btn-primary","align-self-start",3,"disabled","click"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["tableContent",""],[1,"alert","alert-danger","py-1","px-2","m-0"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","checkbox",1,"form-check-input","align-middle",3,"name","ngModel","disabled","change","ngModelChange"],[1,"form-control","form-control-sm",3,"ngModel","disabled","name","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-danger","btn-sm",3,"disabled","click"],[1,"fa","fa-remove"],[3,"value"]],template:function(e,t){if(1&e&&(r.Tb(0,"div",0),r.Tb(1,"label",1),r.Ec(2,"Add user to permissions list"),r.Sb(),r.Tb(3,"div",2),r.Tb(4,"input",3,4),r.bc("ngModelChange",(function(e){return t.newUser=e})),r.Sb(),r.Cc(6,d,3,2,"div",5),r.Sb(),r.Tb(7,"button",6),r.bc("click",(function(){return t.lookupUser()})),r.Ec(8,"Lookup User"),r.Sb(),r.Sb(),r.Tb(9,"table",7),r.Tb(10,"thead"),r.Tb(11,"tr"),r.Tb(12,"th",8),r.Ec(13,"UserName"),r.Sb(),r.Tb(14,"th",8),r.Ec(15,"First Name"),r.Sb(),r.Tb(16,"th",8),r.Ec(17,"Last Name"),r.Sb(),r.Tb(18,"th",8),r.Ec(19,"Is Admin"),r.Sb(),r.Tb(20,"th",8),r.Ec(21,"Access Level"),r.Sb(),r.Ob(22,"th"),r.Sb(),r.Sb(),r.Tb(23,"tbody"),r.Cc(24,g,2,4,"tr",9),r.Sb(),r.Sb(),r.Cc(25,b,14,11,"ng-template",null,10,r.Dc)),2&e){var n=r.sc(5);r.Bb(4),r.jc("ngModel",t.newUser),r.Bb(2),r.jc("ngIf",t.lookupError||n.invalid&&(n.dirty||n.touched)),r.Bb(1),r.jc("disabled",!t.newUser),r.Bb(17),r.jc("ngForOf",t.permissions)}},directives:[l.b,l.q,l.i,l.l,c.m,c.l,c.r,l.a,l.r,l.m,l.s],styles:[""]}),e}()},quSY:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("1OyB"),r=n("vuIU"),o=n("DH7j"),s=n("XoHu"),a=n("n6bG"),l=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),c=function(){var e,t=function(){function e(t){Object(i.a)(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return Object(r.a)(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,r=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(Object(a.a)(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(g){t=g instanceof l?u(g.errors):[g]}}if(Object(o.a)(c))for(var d=-1,f=c.length;++d<f;){var p=c[d];if(Object(s.a)(p))try{p.unsubscribe()}catch(g){t=t||[],g instanceof l?t=t.concat(u(g.errors)):t.push(g)}}if(t)throw new l(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();return t.EMPTY=((e=new t).closed=!0,e),t}();function u(e){return e.reduce((function(e,t){return e.concat(t instanceof l?t.errors:t)}),[])}},r9BC:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));var i=function(e){return e.Table="Table",e.View="View",e.Procedure="Procedure",e}({}),r=function(e){return e.In="IN",e.NotIn="NotIn",e.Equal="Equal",e.NotEqual="NotEqual",e.GreaterThan="GreaterThan",e.GreaterOrEqual="GreaterThanOrEqual",e.LessThan="LessThan",e.LessOrEqual="LessThanOrEqual",e.Like="Like",e.NotLike="NotLike",e}({}),o=function(e){return e.Inner="InnerJoin",e.Left="LeftJoin",e.Right="RightJoin",e.Full="FullJoin",e}({})},rN1o:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i={type:"material:flex-container",itemProperties:{fxLayout:"row",fxLayoutGap:"8px",width:"100%",height:"100%","min-height":"50px","min-width":"50px",isForm:!1,id:"form",fxLayoutAlign:"center|"},children:[{type:"bootstrap:text",itemProperties:{text:"Worksheet",width:"100%","text-style":"h1"}}]},r={type:"material:flex-container",itemProperties:{fxLayout:"row",fxLayoutGap:"8px",width:"100%",height:"100%","min-height":"50px","min-width":"50px"}}},rXEo:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("mrSG"),r=n("bU/s"),o=n("Czp8"),s=n("2Vo4"),a=n("fXoL"),l={light:{bg:"#fff","body-bg":"#e4e5e6","header-bg":"#f0f3f5","secondary-bg":"#fff","sidebar-bg":"#3C4B61",color:"#23282c","border-color":"#c8ced3","wj-alt":"#f7f7f7","form-input-bg":"#fff","form-input-color":"#5c6873","nav-link-color":"#73818f","secondary-color":"#c8ced3",opacity:.05,"sidebar-color":"#fff",hover:"#f0f3f5"},dark:{bg:"#3a4149","body-bg":"#2f353a","header-bg":"#343b41","secondary-bg":"#2f353a","sidebar-bg":"#3C4B61",color:"#e1e1e1","border-color":"#23282c","wj-alt":"#2f353a","form-input-bg":"#515b65","form-input-color":"#e4e7ea","nav-link-color":"#e4e7ea","secondary-color":"#73818f",opacity:.2,"sidebar-color":"#fff",hover:"#454a4e"}},c=function(){function e(){this._theme$=new s.a(o.a.variables.theme),this.theme$=this._theme$.asObservable(),this.initialSettings={requests:{},sidebar:{}},this.activeTheme="light";var e=o.a.variables.theme;e?this.toggleMode(e):this.setTheme()}return Object.defineProperty(e.prototype,"theme",{get:function(){return this.activeTheme},enumerable:!1,configurable:!0}),e.prototype.setSidebar=function(e,t){var n=this.getLocalSettings();n.sidebar[e]=t,localStorage.setItem("localSettings",JSON.stringify(n))},e.prototype.getSidebar=function(e){return this.getLocalSettings().sidebar[e]},e.prototype.toggleMode=function(e){this.activeTheme=e||("light"===this.activeTheme?"dark":"light"),o.a.setVariable("theme",this.activeTheme),this.setTheme()},e.prototype.setEditorsTheme=function(){var e=this;Array.from(document.getElementsByClassName("ace_editor")).forEach((function(t){Object(r.edit)(t).setTheme("dark"===e.activeTheme?"ace/theme/tomorrow_night":"")}))},e.prototype.getLocalSettings=function(){try{var e=localStorage.getItem("localSettings")||JSON.stringify(this.initialSettings);return JSON.parse(e)}catch(t){return console.error(t),Object(i.a)({},this.initialSettings)}},e.prototype.setTheme=function(){var e=l[this.activeTheme];Object.keys(e).forEach((function(t){return document.documentElement.style.setProperty("--"+t,e[t])})),this.setEditorsTheme(),this._theme$.next(this.activeTheme)},e.\u0275prov=a.Jb({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}()},rePB:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i}))},rnaD:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=function(e){return e.SUCCESS="success",e.INFO="info",e.WARNING="warning",e.DANGER="danger",e}({}),r=function(e){return e.Closed="closed",e.Opened="opened",e.Hidden="hidden",e}({}),o=function(e){return e.JSON="text/json",e.CSV="text/csv",e}({}),s=function(e){return e.OpenPage="Open Page",e.OpenPageInNewTab="Open Page In New Tab",e.OpenPageInDialog="Open Page In Dialog",e.RunFunction="Run Function",e}({})},s0Cq:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i={worksheets_logo:"assets/img/ca-logo-80x80.png",worksheets_icon:"assets/img/ca-logo.png"},r=["fa fa-send","fa fa-play","fa fa-picture-o","fa fa-area-chart","fa fa-bank","fa fa-beer","fa fa-automobile","fa fa-bag","fa fa-book","fa fa-bell","fa fa-camera","fa fa-calendar","fa fa-user","fa fa-globe","fa fa-gift","fa fa-group","fa fa-gear","fa fa-info","fa fa-money","fa fa-print","fa fa-registered","fa fa-share","fa fa-shopping-card","fa fa-tags","fa fa-tasks","fa fa-star","fa fa-univarsity","fa fa-file","fa fa-ticket","fa fa-television","fa fa-suitcase","fa fa-server","fa fa-map","fa fa-leptop","fa fa-home","fa fa-hashtag","fa fa-clock-o"]},s4An:function(e,t,n){"use strict";function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return i}))},sVev:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},tcrU:function(e,t,n){"use strict";n.r(t),n.d(t,"isMobile",(function(){return l})),n.d(t,"isiOS",(function(){return u})),n.d(t,"isFirefox",(function(){return d})),n.d(t,"isSafari",(function(){return p})),n.d(t,"isEdge",(function(){return m})),n.d(t,"isIE",(function(){return v})),n.d(t,"isIE9",(function(){return _})),n.d(t,"isIE10",(function(){return C})),n.d(t,"getEventOptions",(function(){return O})),n.d(t,"supportsFocusOptions",(function(){return k})),n.d(t,"_startDrag",(function(){return x})),n.d(t,"_getCalculatedArray",(function(){return P})),n.d(t,"Binding",(function(){return N})),n.d(t,"Event",(function(){return F})),n.d(t,"EventArgs",(function(){return B})),n.d(t,"CancelEventArgs",(function(){return H})),n.d(t,"PropertyChangedEventArgs",(function(){return V})),n.d(t,"RequestErrorEventArgs",(function(){return $})),n.d(t,"NotifyCollectionChangedAction",(function(){return D})),n.d(t,"NotifyCollectionChangedEventArgs",(function(){return W})),n.d(t,"SortDescription",(function(){return U})),n.d(t,"PageChangingEventArgs",(function(){return K})),n.d(t,"GroupDescription",(function(){return q})),n.d(t,"PropertyGroupDescription",(function(){return X})),n.d(t,"getVersion",(function(){return Y})),n.d(t,"setLicenseKey",(function(){return J})),n.d(t,"Key",(function(){return z})),n.d(t,"DataType",(function(){return G})),n.d(t,"tryCast",(function(){return Q})),n.d(t,"isPrimitive",(function(){return Z})),n.d(t,"isString",(function(){return ee})),n.d(t,"isNullOrWhiteSpace",(function(){return te})),n.d(t,"isNumber",(function(){return ne})),n.d(t,"isInt",(function(){return ie})),n.d(t,"isBoolean",(function(){return re})),n.d(t,"isFunction",(function(){return oe})),n.d(t,"isUndefined",(function(){return se})),n.d(t,"isDate",(function(){return ae})),n.d(t,"isArray",(function(){return le})),n.d(t,"isObject",(function(){return ce})),n.d(t,"isEmpty",(function(){return ue})),n.d(t,"getUniqueId",(function(){return he})),n.d(t,"mouseToPage",(function(){return de})),n.d(t,"getType",(function(){return fe})),n.d(t,"getTypes",(function(){return pe})),n.d(t,"changeType",(function(){return ge})),n.d(t,"toFixed",(function(){return me})),n.d(t,"format",(function(){return be})),n.d(t,"glbz",(function(){return ve})),n.d(t,"evalTemplate",(function(){return ye})),n.d(t,"clamp",(function(){return we})),n.d(t,"copy",(function(){return Ce})),n.d(t,"assert",(function(){return Se})),n.d(t,"_deprecated",(function(){return Oe})),n.d(t,"asString",(function(){return Te})),n.d(t,"asNumber",(function(){return ke})),n.d(t,"asInt",(function(){return xe})),n.d(t,"asBoolean",(function(){return Ee})),n.d(t,"asDate",(function(){return je})),n.d(t,"asFunction",(function(){return Ae})),n.d(t,"asArray",(function(){return Ie})),n.d(t,"asType",(function(){return Me})),n.d(t,"asEnum",(function(){return Pe})),n.d(t,"asCollectionView",(function(){return De})),n.d(t,"hasItems",(function(){return Re})),n.d(t,"toHeaderCase",(function(){return Ne})),n.d(t,"escapeHtml",(function(){return Le})),n.d(t,"escapeRegExp",(function(){return He})),n.d(t,"toPlainText",(function(){return Ve})),n.d(t,"hasClass",(function(){return $e})),n.d(t,"addClass",(function(){return ze})),n.d(t,"removeClass",(function(){return Ge})),n.d(t,"toggleClass",(function(){return We})),n.d(t,"setAttribute",(function(){return Ue})),n.d(t,"setChecked",(function(){return Ke})),n.d(t,"setAriaLabel",(function(){return qe})),n.d(t,"setSelectionRange",(function(){return Xe})),n.d(t,"disableAutoComplete",(function(){return Ye})),n.d(t,"removeChild",(function(){return Je})),n.d(t,"getActiveElement",(function(){return Qe})),n.d(t,"moveFocus",(function(){return Ze})),n.d(t,"saveFile",(function(){return et})),n.d(t,"getElement",(function(){return tt})),n.d(t,"createElement",(function(){return nt})),n.d(t,"setText",(function(){return it})),n.d(t,"contains",(function(){return rt})),n.d(t,"closest",(function(){return ot})),n.d(t,"closestClass",(function(){return st})),n.d(t,"enable",(function(){return at})),n.d(t,"getElementRect",(function(){return lt})),n.d(t,"setCss",(function(){return ct})),n.d(t,"animate",(function(){return ut})),n.d(t,"Point",(function(){return ht})),n.d(t,"Size",(function(){return dt})),n.d(t,"Rect",(function(){return ft})),n.d(t,"DateTime",(function(){return pt})),n.d(t,"httpRequest",(function(){return gt})),n.d(t,"_registerModule",(function(){return bt})),n.d(t,"_getModule",(function(){return vt})),n.d(t,"PrintDocument",(function(){return yt})),n.d(t,"Color",(function(){return _t})),n.d(t,"culture",(function(){return wt})),n.d(t,"Globalize",(function(){return Ct})),n.d(t,"_updateCulture",(function(){return St})),n.d(t,"_addCultureInfo",(function(){return Ot})),n.d(t,"_MaskProvider",(function(){return kt})),n.d(t,"_MaskElement",(function(){return xt})),n.d(t,"Aggregate",(function(){return Tt})),n.d(t,"getAggregate",(function(){return Et})),n.d(t,"ArrayBase",(function(){return jt})),n.d(t,"ObservableArray",(function(){return Pt})),n.d(t,"SortNulls",(function(){return Mt})),n.d(t,"CollectionView",(function(){return Dt})),n.d(t,"CollectionViewGroup",(function(){return Rt})),n.d(t,"controlBaseClass",(function(){return Nt})),n.d(t,"ControlBase",(function(){return Ht})),n.d(t,"Control",(function(){return Vt})),n.d(t,"Clipboard",(function(){return $t})),n.d(t,"_ClickRepeater",(function(){return zt})),n.d(t,"PopupPosition",(function(){return Ft})),n.d(t,"showPopup",(function(){return Gt})),n.d(t,"hidePopup",(function(){return Wt})),n.d(t,"Tooltip",(function(){return Xt})),n.d(t,"TooltipEventArgs",(function(){return Yt})),n.d(t,"_updateWme",(function(){return en}));var i,r=n("tcrU"),o=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s="undefined"!=typeof navigator?navigator.userAgent:"",a=null!=s.match(/iPad|iPhone|iPod|Android|webOS|BlackBerry|Windows Phone/i);function l(){return a}var c=null!=s.match(/iPad|iPhone|iPod/i);function u(){return c}var h=null!=s.match(/Firefox\//);function d(){return h}var f=null!=s.match(/^((?!Chrome|Android).)*safari/i);function p(){return f}var g=null!=s.match(/Edge\//);function m(){return g}var b=null!=s.match(/MSIE |Trident\/|Edge\//);function v(){return b}var y=!1;function _(){return y}var w=!1;function C(){return w}var S=!1;function O(e,t){return S?{capture:e,passive:t}:e}"undefined"!=typeof document&&document.addEventListener("test",(function(e){}),{get passive(){return S=!0,!0}});var T=!1;function k(){return T}function x(e,t){e.effectAllowed=t,d()&&e.setData("text","")}if("undefined"!=typeof document&&document.createElement("div").focus({get preventScroll(){return T=!0,!0}}),"undefined"!=typeof document&&document.doctype&&(navigator.appVersion.indexOf("MSIE 10")>-1&&(w=!0),navigator.appVersion.indexOf("MSIE 9")>-1&&(y=!0,document.addEventListener("mousemove",(function(e){if(1==e.which){var t=ot(e.target,".wj-control");if(t&&!t.style.cursor)for(var n=e.target;n;n=n.parentElement)if(n.attributes&&n.attributes.draggable)return n.dragDrop(),!1}})))),"undefined"!=typeof window){var E="requestAnimationFrame";if(!window[E]){var j=0;window[E]=function(e){var t=Date.now(),n=16-(t-j),i=n>0?n:0;return j=t+i,setTimeout((function(){e(j)}),i)},window.cancelAnimationFrame=clearTimeout}if(!window.atob){var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",I=new RegExp("[^"+A+"]");window.atob=function(e){var t,n,i,r,o=[],s=0,a=e.length;if(I.test(e)||/=/.test(e)&&(/=[^=]/.test(e)||/={3}/.test(e)))throw new Error("Invalid base64 data");for(a%4>0&&(a=(e+=Array(4-a%4+1).join("=")).length);s<a;){for(n=[],r=s;s<r+4;)n.push(A.indexOf(e.charAt(s++)));for(i=[((t=(n[0]<<18)+(n[1]<<12)+((63&n[2])<<6)+(63&n[3]))&255<<16)>>16,64===n[2]?-1:(65280&t)>>8,64===n[3]?-1:255&t],r=0;r<3;++r)(i[r]>=0||0===r)&&o.push(String.fromCharCode(i[r]))}return o.join("")},window.btoa=function(e){for(var t,n,i=[],r=0,o=e.length;r<o;)t=((n=[e.charCodeAt(r++),e.charCodeAt(r++),e.charCodeAt(r++)])[0]<<16)+((n[1]||0)<<8)+(n[2]||0),i.push(A.charAt((t&63<<18)>>18),A.charAt((258048&t)>>12),A.charAt(isNaN(n[1])?64:(4032&t)>>6),A.charAt(isNaN(n[2])?64:63&t));return i.join("")}}}var M="undefined"!=typeof window&&window.Symbol?Symbol("_getProxyTarget"):"\t_get\tProxy\tTarget\t";function P(e,t,n){var i=new WeakMap;if(!n){var r={};if(e.length){var o=e[0];for(var s in o){var a=typeof o[s];r[s]="string"==a?"":"number"==a?0:null}n=r}}return new Proxy(e,{get:function(e,r){if(r===M)return e;if("string"==typeof r||"number"==typeof r){var o=parseInt(r);if(!isNaN(o)){var s=e[o];if(s&&!s[M]){var a=i.get(s);a||(a=function(e,t,n){if(!e[M]){if(v())for(var i in t)e[i]=null;var r={get:function(e,i,r){if(i===M)return e;if("constructor"===i)return function(){return Object.assign({},n||{})};var o=t[i];if(o)switch(typeof o){case"function":return o(r);case"string":return function(e,t){var n=[t];return(new(Function.bind.apply(Function,[void 0].concat(["$"],["return "+e])))).apply(void 0,n)}(o,r)}return e[i]}};v()||(r.ownKeys=function(e){return Object.keys(e).concat(Object.keys(t))},r.getOwnPropertyDescriptor=function(e,n){return n in t?{enumerable:!0,configurable:!0,writable:!1}:Reflect.getOwnPropertyDescriptor(e,n)}),e=new Proxy(e,r)}return e}(s,t,n),i.set(s,a)),s=a}return s}}return Reflect.get(e,r)}})}var D,R,N=function(){function e(e){this.path=e}return Object.defineProperty(e.prototype,"path",{get:function(){return this._path},set:function(e){this._path=e,this._parts=e?e.split("."):[];for(var t=0;t<this._parts.length;t++){var n=this._parts[t],i=n.indexOf("[");i>-1&&(this._parts[t]=n.substr(0,i),this._parts.splice(++t,0,parseInt(n.substr(i+1))))}this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),e.prototype.getValue=function(e){if(e){if(this._key)return e[this._key];if(this._path&&this._path in e)return e[this._path];for(var t=0;t<this._parts.length&&e;t++)e=e[this._parts[t]]}return e},e.prototype.setValue=function(e,t){if(e){if(this._path in e)return void(e[this._path]=t);for(var n=0;n<this._parts.length-1;n++)if(null==(e=e[this._parts[n]]))return;e[this._parts[this._parts.length-1]]=t}},e}(),L=function(e,t){this.handler=e,this.self=t},F=function(){function e(e){this._handlers=[],this._handlersChanged=e}return e.prototype.addHandler=function(e,t){e=Ae(e),this._handlers.push(new L(e,t)),oe(this._handlersChanged)&&this._handlersChanged()},e.prototype.removeHandler=function(e,t){var n=!1;e=Ae(e);for(var i=0;i<this._handlers.length;i++){var r=this._handlers[i];if(!(r.handler!=e&&null!=e||r.self!=t&&null!=t)&&(this._handlers.splice(i,1),n=!0,e&&t))break}n&&oe(this._handlersChanged)&&this._handlersChanged()},e.prototype.removeAllHandlers=function(){var e=this._handlers.length>0;this._handlers.length=0,e&&oe(this._handlersChanged)&&this._handlersChanged()},e.prototype.raise=function(e,t){void 0===t&&(t=B.empty);for(var n=this._handlers,i=0;i<n.length;i++){var r=n[i];r.handler.call(r.self,e,t),n[i]!==r&&i--}},Object.defineProperty(e.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),e}(),B=function(){function e(){}return e.empty=new e,e}(),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cancel=!1,t}return o(t,e),t}(B),V=function(e){function t(t,n,i){var r=e.call(this)||this;return r._name=t,r._oldVal=n,r._newVal=i,r}return o(t,e),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(B),$=function(e){function t(t,n){var i=e.call(this)||this;return i._xhr=t,i._msg=n,i}return o(t,e),Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._msg},set:function(e){this._msg=e},enumerable:!0,configurable:!0}),t}(H);(R=D||(D={}))[R.Add=0]="Add",R[R.Remove=1]="Remove",R[R.Change=2]="Change",R[R.Reset=3]="Reset";var z,G,W=function(e){function t(t,n,i){void 0===t&&(t=D.Reset),void 0===n&&(n=null),void 0===i&&(i=-1);var r=e.call(this)||this;return r.action=t,r.item=n,r.index=i,r}return o(t,e),t.reset=new t(D.Reset),t}(B),U=function(){function e(e,t){this._bnd=new N(e),this._asc=t}return Object.defineProperty(e.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),e}(),K=function(e){function t(t){var n=e.call(this)||this;return n.newPageIndex=t,n}return o(t,e),t}(H),q=function(){function e(){}return e.prototype.groupNameFromItem=function(e,t){return""},e.prototype.namesMatch=function(e,t){return e===t},e}(),X=function(e){function t(t,n){var i=e.call(this)||this;return i._bnd=new N(t),i._converter=n,i}return o(t,e),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),t.prototype.groupNameFromItem=function(e,t){return this._converter?this._converter(e,this.propertyName):this._bnd.getValue(e)},t.prototype.namesMatch=function(e,t){return e===t},t}(q);function Y(){return"5.20202.724"}function J(e){Vt._licKey=e}function Q(e,t){return null==e?null:ee(t)?oe(e.implementsInterface)&&e.implementsInterface(t)?e:null:e instanceof t?e:null}function Z(e){return ee(e)||ne(e)||re(e)||ae(e)}function ee(e){return"string"==typeof e}function te(e){return!e||!/\S/.test(e)}function ne(e){return"number"==typeof e}function ie(e){return ne(e)&&e==Math.round(e)}function re(e){return"boolean"==typeof e}function oe(e){return"function"==typeof e}function se(e){return void 0===e}function ae(e){return(e instanceof Date||"[object Date]"===Object.prototype.toString.call(e))&&!isNaN(e.getTime())}function le(e){return e instanceof Array||Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)}function ce(e){return null!=e&&"object"==typeof e&&!ae(e)&&!le(e)}function ue(e){for(var t in e)return!1;return!0}function he(e){for(var t=e,n=0;null!=document.getElementById(t);n++)t=e+n;return t}function de(e){if(e instanceof ht)return e;if(e&&e.touches&&e.touches.length>0&&(e=e.touches[0]),ne(e.clientX)&&ne(e.clientY))return new ht(e.clientX+pageXOffset,e.clientY+pageYOffset);throw"Mouse or touch event expected."}function fe(e){return ne(e)?G.Number:re(e)?G.Boolean:ae(e)?G.Date:ee(e)?G.String:le(e)?G.Array:G.Object}function pe(e){var t=[];if(e&&e.length>0){var n=e[0];for(var i in n)for(var r=null,o=0;o<e.length&&o<1e3&&null==r;o++)if(Z(r=e[o][i])){var s=Object.getOwnPropertyDescriptor(e[o],i);t.push({binding:i,dataType:fe(r),isReadOnly:s&&!s.writable&&!s.set})}}return t}function ge(e,t,n){if(null!=e){if(ee(e))switch(t){case G.Number:var i=Ct.parseFloat(e,n);return isNaN(i)?e:i;case G.Date:var r=Ct.parseDate(e,n);return r||n||!e||(r=new Date(e)),r&&isFinite(r.getTime())?r:e;case G.Boolean:switch(e.toLowerCase()){case"true":return!0;case"false":return!1}return e}if(t==G.String)return Ct.format(e,n)}return e}function me(e,t,n){if(n){var i=(r=e.toString()).indexOf(".");r.indexOf("e")<0&&i>-1&&(r=r.substr(0,i+1+t),e=parseFloat(r))}else{var r=e.toFixed(t);e=parseFloat(r)}return e}function be(e,t,n){if((e=Te(e)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var i=JSON.parse(e);if(ee(i.count)){var r=t[i.count],o=i.when;if(ne(r)&&ce(o)){var s=o[r]||o.other;ee(s)&&(e=s)}}}catch(e){}return e.replace(/\{(.*?)(:(.*?))?\}/g,(function(e,i,r,o){var s=e;return i&&"{"!=i[0]&&t&&(s=new N(i).getValue(t),o&&(s=Ct.format(s,o)),n&&(s=n(t,i,o,s))),null==s?"":s}))}function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[],i=-1;return e[0].forEach((function(t,r){if(r>0&&r!=i){var o=e[r],s=t.match(/^:([a-z][0-9]*\b)/i)||t.match(/^:'(.+?)'/)||t.match(/^:"(.+?)"/);s?(o=Ct.format(o,s[1]),t=t.substr(s[0].length)):":"==t&&r<e.length-1&&(ne(o)||ae(o))&&(o=Ct.format(o,e[r+1]),t="",i=r+1),n.push(o)}t&&n.push(t)})),n.join("")}function ye(e,t){return v()?(e=e.replace(/:\${([^}]*)}/g,(function(e,n){return":"+_e(n,t)}))).replace(/\${([^}]*)}(:(([A-Za-z]\d*)|"([^"]+)"|'([^']+)'))?/g,(function(e,n,i,r,o,s,a){var l=_e(n,t);return r?Ct.format(l,o||s||a):l})):_e(e,t)}function _e(e,t){(t=t||{}).glbz=ve;var n=Object.keys(t),i=n.map((function(e){return t[e]}));return(v()?new(Function.bind.apply(Function,[void 0].concat(n,["return "+e]))):new(Function.bind.apply(Function,[void 0].concat(n,["return glbz`"+e+"`"])))).apply(void 0,i)}function we(e,t,n){return null!=e&&(null!=n&&e>n&&(e=n),null!=t&&e<t&&(e=t)),e}function Ce(e,t){if(t)for(var n in t)if("_"!=n[0]){Se(n in e,'Unknown property "'+n+'".');var i=t[n];e._copy&&e._copy(n,i)||(e[n]instanceof F?oe(i)&&e[n].addHandler(i):!ce(i)||"undefined"!=typeof Element&&i instanceof Element||!e[n]||"itemsSource"==n?e[n]=i:Ce(e[n],i))}return e}function Se(e,t){if(!e){t="** Assertion failed in Wijmo: "+t;var n=new Error;throw ee(n.stack)&&(t+=" "+n.stack),t}}function Oe(e,t){console.error('** WARNING: "'+e+'" has been deprecated; please use "'+t+'" instead.')}function Te(e,t){return void 0===t&&(t=!0),se(e)&&(e=null),Se(t&&null==e||ee(e),"String expected."),e}function ke(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),Se(t&&null==e||ne(e),"Number expected."),n&&e&&e<0)throw"Positive number expected.";return e}function xe(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),Se(t&&null==e||ie(e),"Integer expected."),n&&e&&e<0)throw"Positive integer expected.";return e}function Ee(e,t){return void 0===t&&(t=!1),Se(t&&null==e||re(e),"Boolean expected."),e}function je(e,t){if(void 0===t&&(t=!1),ee(e)){var n=ge(e,G.Date,"r");ae(n)&&(e=n)}return Se(t&&null==e||ae(e),"Date expected."),e}function Ae(e,t){return void 0===t&&(t=!0),Se(t&&null==e||oe(e),"Function expected."),e}function Ie(e,t){return void 0===t&&(t=!0),Se(t&&null==e||le(e),"Array expected."),e}function Me(e,t,n){return void 0===n&&(n=!1),e=Q(e,t),Se(n||null!=e,t+" expected."),e}function Pe(e,t,n){if(void 0===n&&(n=!1),null==e&&n)return null;var i=ee(e)?t[e]:e;return Se(null!=i,'Invalid enum value: "'+e+'"'),ne(i)?i:e}function De(e,t){if(void 0===t&&(t=!0),null==e&&t)return null;var n=Q(e,"ICollectionView");return null!=n?n:(le(e)||Se(!1,"Array or ICollectionView expected."),new Dt(e))}function Re(e){return null!=e&&null!=e.items&&e.items.length>0}function Ne(e){return e&&e.length?e[0].toUpperCase()+e.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function Le(e){return e&&ee(e)&&(e=e.replace(/[&<>"'\/]/g,(function(e){return Be[e]}))),null!=e?e.toString():""}!function(e){e[e.Back=8]="Back",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Delete=46]="Delete",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12"}(z||(z={})),function(e){e[e.Object=0]="Object",e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=3]="Boolean",e[e.Date=4]="Date",e[e.Array=5]="Array"}(G||(G={}));var Fe,Be={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function He(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function Ve(e){var t=Te(e);return t&&t.indexOf("<")>-1&&(Fe||(Fe=document.createElement("div")),Fe.innerHTML=t,t=Fe.textContent),t}function $e(e,t){if(e&&t){if(e instanceof HTMLElement&&e.classList&&!_())return e.classList.contains(t);if(e.getAttribute){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");return e&&n.test(e.getAttribute("class"))}}return!1}function ze(e,t){if(e&&t){if(e instanceof HTMLElement&&e.classList&&!_())return void(t.indexOf(" ")<0?e.classList.add(t):t.split(" ").forEach((function(t){e.classList.add(t)})));e.setAttribute&&t.split(" ").forEach((function(t){if(!$e(e,t)){var n=e.getAttribute("class");e.setAttribute("class",n?n+" "+t:t)}}))}}function Ge(e,t){if(e&&t){if(e instanceof HTMLElement&&e.classList&&!_())return void(t.indexOf(" ")<0?e.classList.remove(t):t.split(" ").forEach((function(t){e.classList.remove(t)})));e.setAttribute&&t.split(" ").forEach((function(t){if($e(e,t)){var n=new RegExp("((\\s|^)"+t+"(\\s|$))","g"),i=e.getAttribute("class");(i=i.replace(n," ").replace(/ +/g," ").trim())?e.setAttribute("class",i):e.removeAttribute("class")}}))}}function We(e,t,n){null==n&&(n=!$e(e,t)),n?ze(e,t):Ge(e,t)}function Ue(e,t,n,i){e&&(null!=n?i&&e.getAttribute(t)||e.setAttribute(t,n.toString()):e.removeAttribute(t))}function Ke(e,t){var n=null==t;e.checked=v()?t||n:t,e.indeterminate=n}function qe(e,t){Ue(e,"aria-label",t)}function Xe(e,t,n){if(void 0===n&&(n=t),Se(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),rt(document.body,e)&&!e.disabled&&e.offsetHeight){try{e.setSelectionRange(t,n,"backward")}catch(e){}try{return e.focus(),!0}catch(e){}}return!1}function Ye(e){var t="autocomplete",n=e.getAttribute(t);n&&"on"!=n||e.setAttribute(t,"off"),"autocorrect,autocapitalize,spellcheck".split(",").forEach((function(t){e.setAttribute(t,"spellcheck"==t?"false":"off")}))}function Je(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function Qe(){var e=document.activeElement;if(e){var t=e.shadowRoot;t&&t.activeElement&&(e=t.activeElement)}return e}function Ze(e,t){var n=function e(t){for(var n=[],i=t.querySelectorAll("input,select,textarea,button,a,div"),r=0;r<i.length;r++){var o=i[r];if(o.offsetHeight>0&&o.tabIndex>-1&&!o.disabled&&!ot(o,"[disabled],.wj-state-disabled")){if(o instanceof HTMLAnchorElement&&!o.hasAttribute("href"))continue;if(v()&&!o.hasAttribute("tabindex")){if(o instanceof HTMLDivElement)continue;var s=Vt.getControl(ot(o,".wj-flexgrid"));if(s&&0==s.keyActionTab)continue}!Vt.getControl(o)&&e(o).length||n.push(o)}}return n}(e),i=0;if(t){var r=n.indexOf(Qe());r>-1&&(i=(r+t+n.length)%n.length)}if(i<n.length){var o=n[i];return o.focus(),o instanceof HTMLInputElement&&o.select(),!0}return!1}function et(e,t,n){void 0===n&&(n="text/plain"),(n.match(/\bcsv\b/i)||t.match(/\.csv$/i))&&(e="\ufeff"+e);var i=new Blob([e],{type:n});if(oe(navigator.msSaveBlob))navigator.msSaveBlob(i,t);else{var r=URL.createObjectURL(i),o=nt('<a href="'+r+'" download="'+t+'"></a>',document.body,{display:"none"});o.click(),o.remove(),URL.revokeObjectURL(r)}}function tt(e){if(e instanceof Element)return e;if(ee(e))try{return document.querySelector(e)}catch(e){}return e&&e.jquery?e[0]:null}function nt(e,t,n){e=e.replace(/\bstyle\s*=\s*"/g,'_wj-style="');var i=document.createElement("div");if(i.innerHTML=e,e.indexOf("_wj-style")>-1)for(var r=i.querySelectorAll("[_wj-style]"),o=function(e){var t=r[e];t.getAttribute("_wj-style").split(";").forEach((function(e){var n=e.split(":");2==n.length&&(t.style[n[0].trim()]=n[1].trim())})),t.removeAttribute("_wj-style")},s=0;s<r.length;s++)o(s);return 1==i.children.length&&(i=i.children[0]),n&&ct(i,n),t&&(t=tt(t)).appendChild(i),i}function it(e,t){e.textContent=t||""}function rt(e,t,n){for(var i=t;i&&e;){if(i===e)return!0;i=(n?i[Vt._OWNR_KEY]:null)||i.parentNode||i.host}return!1}function ot(e,t){if(e){if(oe(e.closest))return e.closest(t);var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector||e.mozMatchesSelector;if(n)for(;e&&1===e.nodeType;e=e.parentElement||e.parentNode)if(n.call(e,t))return e}return null}function st(e,t){return ot(e,"."+t)}function at(e,t){var n=!t,i="disabled";We(e,"wj-state-disabled",n),Ue(e,i,n?i:null);for(var r=e.querySelectorAll("input,button"),o=0;o<r.length;o++)Ue(r[o],i,n?i:null)}function lt(e){var t=e.getBoundingClientRect();return new ft(t.left+pageXOffset,t.top+pageYOffset,t.width,t.height)}function ct(e,t){if(Se(ce(t),"css parameter should be an object"),e instanceof Array)for(var n=0;n<e.length;n++)ct(e[n],t);else if(e&&e.style){var i=e.style;for(var r in t){var o=t[r];"number"==typeof o&&r.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(o+="px"),i[r]!==o&&(i[r]=o)}}}function ut(e,t,n){null==t&&(t=Vt._ANIM_DEF_DURATION),null==n&&(n=Vt._ANIM_DEF_STEP),e=Ae(e),t=ke(t,!1,!0),n=ke(n,!1,!0);var i,r=Date.now(),o=setInterval((function(){var n=Math.min(1,(Date.now()-r)/t);n=Math.sin(n*Math.PI/2),n*=n,i&&cancelAnimationFrame(i),i=requestAnimationFrame((function(){i=null,e(n)})),n>=1&&clearInterval(o)}),n);return o}var ht=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=ke(e),this.y=ke(t)}return e.prototype.equals=function(t){return t instanceof e&&this.x==t.x&&this.y==t.y},e.prototype.clone=function(){return new e(this.x,this.y)},e}(),dt=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.width=ke(e),this.height=ke(t)}return e.prototype.equals=function(t){return t instanceof e&&this.width==t.width&&this.height==t.height},e.prototype.clone=function(){return new e(this.width,this.height)},e}(),ft=function(){function e(e,t,n,i){this.left=ke(e),this.top=ke(t),this.width=ke(n),this.height=ke(i)}return Object.defineProperty(e.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},e.prototype.clone=function(){return new e(this.left,this.top,this.width,this.height)},e.fromBoundingRect=function(t){return null!=t.left?new e(t.left,t.top,t.width,t.height):null!=t.x?new e(t.x,t.y,t.width,t.height):void Se(!1,"Invalid source rectangle.")},e.union=function(t,n){var i=Math.min(t.left,n.left),r=Math.min(t.top,n.top);return new e(i,r,Math.max(t.right,n.right)-i,Math.max(t.bottom,n.bottom)-r)},e.intersection=function(t,n){var i=Math.max(t.left,n.left),r=Math.max(t.top,n.top);return new e(i,r,Math.min(t.right,n.right)-i,Math.min(t.bottom,n.bottom)-r)},e.prototype.contains=function(t){return t instanceof ht?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof e?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void Se(!1,"Point or Rect expected.")},e.prototype.inflate=function(t,n){return new e(this.left-t,this.top-n,this.width+2*t,this.height+2*n)},e}(),pt=function(){function e(){}return e.addDays=function(e,t){return(e=new Date(e.getTime())).setDate(e.getDate()+t),e},e.addMonths=function(e,t){return(e=new Date(e.getTime())).setMonth(e.getMonth()+t),e},e.addYears=function(e,t){return(e=new Date(e.getTime())).setFullYear(e.getFullYear()+t),e},e.addHours=function(e,t){return(e=new Date(e.getTime())).setHours(e.getHours()+t),e},e.addMinutes=function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e},e.addSeconds=function(e,t){return(e=new Date(e.getTime())).setSeconds(e.getSeconds()+t),e},e.weekFirst=function(t,n){return void 0===n&&(n=Ct.getFirstDayOfWeek()),e.addDays(t,-(t.getDay()-n))},e.weekLast=function(t,n){return void 0===n&&(n=Ct.getFirstDayOfWeek()),t=e.weekFirst(t,n),e.addDays(t,6)},e.monthFirst=function(t){return e.addDays(t,1-t.getDate())},e.monthLast=function(t){return t=e.monthFirst(t),t=e.addMonths(t,1),e.addDays(t,-1)},e.yearFirst=function(e){return new Date(e.getFullYear(),0,1)},e.yearLast=function(e){return new Date(e.getFullYear(),11,31)},e.sameDate=function(e,t){return ae(e)&&ae(t)&&e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()},e.sameTime=function(e,t){return ae(e)&&ae(t)&&e.getHours()==t.getHours()&&e.getMinutes()==t.getMinutes()&&e.getSeconds()==t.getSeconds()&&e.getMilliseconds()==t.getMilliseconds()},e.equals=function(e,t){return ae(e)&&ae(t)&&e.getTime()==t.getTime()},e.fromDateTime=function(t,n){return t||n?(t||(t=n),n||(n=t),e.newDate(t.getFullYear(),t.getMonth(),t.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())):null},e.toFiscal=function(t,n){var i=wt.Globalize.calendar;return le(i.fiscalYearOffsets)?e.addMonths(t,-i.fiscalYearOffsets[n?0:1]):t},e.fromFiscal=function(t,n){var i=wt.Globalize.calendar;return le(i.fiscalYearOffsets)?e.addMonths(t,+i.fiscalYearOffsets[n?0:1]):t},e.newDate=function(e,t,n,i,r,o,s){if(null==e||null==t||null==n){var a=new Date;null==e&&(e=a.getFullYear()),null==t&&(t=a.getMonth()),null==n&&(n=a.getDate())}null==i&&(i=0),null==r&&(r=0),null==o&&(o=0),null==s&&(s=0);var l=new Date(e,t,n,i,r,o,s),c=l.getFullYear();return e<100&&c>=1900&&l.setFullYear(l.getFullYear()-1900),l},e.clone=function(t){return e.fromDateTime(t,t)},e}();function gt(e,t){var n=t||{},i=n.method?Te(n.method).toUpperCase():"GET",r=null==n.async||Ee(n.async),o=n.data;if(null!=o&&"GET"==i){var s=[];for(var a in o){var l=o[a];ae(l)&&(l=l.toJSON()),s.push(a+"="+encodeURI(l))}if(s.length){var c=e.indexOf("?")<0?"?":"&";e+=c+s.join("&")}o=null}var u=new XMLHttpRequest;u.URL_DEBUG=e;var h=!1;if(null==o||ee(o)||(h=ce(o),o=JSON.stringify(o)),u.onload=function(){4==u.readyState&&(u.status<300?n.success&&Ae(n.success)(u):n.error&&Ae(n.error)(u),n.complete&&Ae(n.complete)(u))},u.onerror=function(){if(!oe(n.error))throw"HttpRequest Error: "+u.status+" "+u.statusText;n.error(u)},u.open(i,e,r,n.user,n.password),n.user&&n.password&&u.setRequestHeader("Authorization","Basic "+btoa(n.user+":"+n.password)),h&&u.setRequestHeader("Content-Type","application/json"),n.requestHeaders)for(var d in n.requestHeaders)u.setRequestHeader(d,n.requestHeaders[d]);return ne(n.timeout)&&(u.timeout=n.timeout),oe(n.beforeSend)&&n.beforeSend(u),u.send(o),u}var mt={};function bt(e,t){if(mt[e]=t,"wijmo"===e){var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;n&&(n.wijmo=t)}}function vt(e){return mt[e]}var yt=function(){function e(e){this._copyCss=!0,null!=e&&Ce(this,e)}return Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){this._title=Te(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"copyCss",{get:function(){return this._copyCss},set:function(e){this._copyCss=Ee(e)},enumerable:!0,configurable:!0}),e.prototype.addCSS=function(e){this._css||(this._css=[]),this._css.push(e)},e.prototype.append=function(e){var t=this._getDocument();ee(e)?t.write(e):e instanceof HTMLElement?t.write(e.outerHTML):Se(!1,"child should be an HTML element or a string.")},e.prototype.print=function(e){var t=this;this._iframe&&(this._close(),setTimeout((function(){var n=t._iframe.contentWindow,i="onafterprint"in n&&!d();i&&(n.onafterprint=function(){t._afterPrint(e)}),v()&&null==n.document.body||!document.queryCommandSupported("print")?(n.focus(),n.print()):n.document.execCommand("print",!0,null),i||t._afterPrint(e)}),100))},e.prototype._afterPrint=function(e){document.body.removeChild(this._iframe),this._iframe=null,oe(e)&&e()},e.prototype._getDocument=function(){if(!this._iframe){var e=this._iframe=document.createElement("iframe");ze(e,"wj-printdocument"),ct(e,{position:"fixed",left:32e3,top:32e3}),document.body.appendChild(e)}return this._iframe.contentDocument},e.prototype._close=function(){var e=this._getDocument();if(e.close(),e.title=null!=this.title?this.title:document.title,e.title&&e.title.trim()||(e.title="\xa0"),this._copyCss){for(var t=document.head.querySelectorAll("LINK"),n=0;n<t.length;n++){var i=t[n];if(i.href.match(/\.css$/i)&&i.rel.match(/stylesheet/i)){var r=gt(i.href,{async:!1});this._addStyle(r.responseText)}}var o=document.head.querySelectorAll("STYLE");for(n=0;n<o.length;n++)this._addStyle(o[n].textContent)}if(this._css)for(n=0;n<this._css.length;n++){var s=e.createElement("style");r=gt(this._css[n],{async:!1}),s.textContent=r.responseText,e.head.appendChild(s)}},e.prototype._addStyle=function(e){var t=this._getDocument(),n=t.createElement("style");n.textContent=e,t.head.appendChild(n)},e}(),_t=function(){function e(e){this._r=0,this._g=0,this._b=0,this._a=1,e&&this._parse(e)}return Object.defineProperty(e.prototype,"r",{get:function(){return this._r},set:function(e){this._r=we(ke(e),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this._g},set:function(e){this._g=we(ke(e),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this._b},set:function(e){this._b=we(ke(e),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this._a},set:function(e){this._a=we(ke(e),0,1)},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.r==t.r&&this.g==t.g&&this.b==t.b&&this.a==t.a},e.prototype.toString=function(){var e=Math.round(100*this.a);return e>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+e/100+")"},e.fromRgba=function(t,n,i,r){void 0===r&&(r=1);var o=new e(null);return o.r=Math.round(we(ke(t),0,255)),o.g=Math.round(we(ke(n),0,255)),o.b=Math.round(we(ke(i),0,255)),o.a=we(ke(r),0,1),o},e.fromHsb=function(t,n,i,r){void 0===r&&(r=1);var o=e._hsbToRgb(we(ke(t),0,1),we(ke(n),0,1),we(ke(i),0,1));return e.fromRgba(o[0],o[1],o[2],r)},e.fromHsl=function(t,n,i,r){void 0===r&&(r=1);var o=e._hslToRgb(we(ke(t),0,1),we(ke(n),0,1),we(ke(i),0,1));return e.fromRgba(o[0],o[1],o[2],r)},e.fromString=function(t){var n=new e(null);return n._parse(Te(t))?n:null},e.prototype.getHsb=function(){return e._rgbToHsb(this.r,this.g,this.b)},e.prototype.getHsl=function(){return e._rgbToHsl(this.r,this.g,this.b)},e.interpolate=function(t,n,i){i=we(ke(i),0,1);var r=e._rgbToHsl(t.r,t.g,t.b),o=e._rgbToHsl(n.r,n.g,n.b),s=1-i,a=t.a*s+n.a*i,l=[r[0]*s+o[0]*i,r[1]*s+o[1]*i,r[2]*s+o[2]*i],c=e._hslToRgb(l[0],l[1],l[2]);return e.fromRgba(c[0],c[1],c[2],a)},e.toOpaque=function(t,n){if(1==(t=ee(t)?e.fromString(t):Me(t,e)).a)return t;n=null==n?e.fromRgba(255,255,255,1):ee(n)?e.fromString(n):Me(n,e);var i=t.a,r=1-i;return e.fromRgba(t.r*i+n.r*r,t.g*i+n.g*r,t.b*i+n.b*r)},e.prototype._parse=function(t){if("transparent"==(t=t.toLowerCase()))return this._r=this._g=this._b=this._a=0,!0;if(t&&0!=t.indexOf("#")&&0!=t.indexOf("rgb")&&0!=t.indexOf("hsl")){var n=document.createElement("div");n.style.color=t;var i=n.style.color;i!=t||(i=window.getComputedStyle(n).color)||(document.body.appendChild(n),i=window.getComputedStyle(n).color,Je(n)),t=i.toLowerCase()}if(0==t.indexOf("#"))return 4==t.length?(this.r=parseInt(t[1]+t[1],16),this.g=parseInt(t[2]+t[2],16),this.b=parseInt(t[3]+t[3],16),this.a=1,!0):7==t.length&&(this.r=parseInt(t.substr(1,2),16),this.g=parseInt(t.substr(3,2),16),this.b=parseInt(t.substr(5,2),16),this.a=1,!0);if(0==t.indexOf("rgb")){var r=t.indexOf("("),o=t.indexOf(")");if(r>-1&&o>-1&&(s=t.substr(r+1,o-(r+1)).split(",")).length>2)return this.r=parseInt(s[0]),this.g=parseInt(s[1]),this.b=parseInt(s[2]),this.a=s.length>3?parseFloat(s[3]):1,!0}var s;if(0==t.indexOf("hsl")&&(r=t.indexOf("("),o=t.indexOf(")"),r>-1&&o>-1&&(s=t.substr(r+1,o-(r+1)).split(",")).length>2)){var a=parseInt(s[0])/360,l=parseInt(s[1]),c=parseInt(s[2]);s[1].indexOf("%")>-1&&(l/=100),s[2].indexOf("%")>-1&&(c/=100);var u=e._hslToRgb(a,l,c);return this.r=u[0],this.g=u[1],this.b=u[2],this.a=s.length>3?parseFloat(s[3]):1,!0}return!1},e._hslToRgb=function(t,n,i){var r,o,s;if(Se(t>=0&&t<=1&&n>=0&&n<=1&&i>=0&&i<=1,"bad HSL values"),0==n)r=o=s=i;else{var a=i<.5?i*(1+n):i+n-i*n,l=2*i-a;r=e._hue2rgb(l,a,t+1/3),o=e._hue2rgb(l,a,t),s=e._hue2rgb(l,a,t-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s)]},e._hue2rgb=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},e._rgbToHsl=function(e,t,n){Se(e>=0&&e<=255&&t>=0&&t<=255&&n>=0&&n<=255,"bad RGB values"),e/=255,t/=255,n/=255;var i,r,o=Math.max(e,t,n),s=Math.min(e,t,n),a=(o+s)/2;if(o==s)i=r=0;else{var l=o-s;switch(r=a>.5?l/(2-o-s):l/(o+s),o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return[i,r,a]},e._rgbToHsb=function(t,n,i){Se(t>=0&&t<=255&&n>=0&&n<=255&&i>=0&&i<=255,"bad RGB values");var r=e._rgbToHsl(t,n,i);return e._hslToHsb(r[0],r[1],r[2])},e._hsbToRgb=function(t,n,i){var r=e._hsbToHsl(t,n,i);return e._hslToRgb(r[0],r[1],r[2])},e._hsbToHsl=function(e,t,n){Se(e>=0&&e<=1&&t>=0&&t<=1&&n>=0&&n<=1,"bad HSB values");var i=we(n*(2-t)/2,0,1),r=1-Math.abs(2*i-1),o=we(r>0?n*t/r:t,0,1);return Se(!isNaN(i)&&!isNaN(o),"bad conversion to HSL"),[e,o,i]},e._hslToHsb=function(e,t,n){Se(e>=0&&e<=1&&t>=0&&t<=1&&n>=0&&n<=1,"bad HSL values");var i=we(1==n?1:(2*n+t*(1-Math.abs(2*n-1)))/2,0,1),r=we(i>0?2*(i-n)/i:t,0,1);return Se(!isNaN(i)&&!isNaN(r),"bad conversion to HSB"),[e,r,i]},e}(),wt="undefined"!=typeof window&&window.wijmo&&window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n %","n %"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}},Ct=function(){function e(){}return e.format=function(t,n,i,r){return ee(t)?t:ne(t)?(n=n||(t==Math.round(t)?"n0":"n2"),e.formatNumber(t,n,i,r)):ae(t)?e.formatDate(t,n=n||"d"):null!=t?t.toString():""},e.formatNumber=function(t,n,i,r){t=ke(t),n=Te(n);var o,s=wt.Globalize.numberFormat,a=e._parseNumericFormat(n),l=a.spec,c=a.prec,u=s["."]||".",h=s[","]||",",d=s["-"]||"-";if(null==c&&(c="c"==l?s.currency.decimals:"e"==l?6:"r"==l?12:t==Math.round(t)?0:2),a.scale&&(t/=Math.pow(10,a.scale)),"d"==l||"x"==l){for(o=Math.round(Math.abs(t)).toString("d"==l?10:16);o.length<c;)o="0"+o;return t<0&&(o=d+o),"X"==a.specRaw?o.toUpperCase():o}switch("p"==l&&(t=me(t=e._shiftDecimal(t,2),c,r)),r&&"p"!=l&&"e"!=l&&(t=me(t,c,!0)),l){case"e":o=t.toExponential(c),"E"==a.specRaw&&(o=o.replace("e","E"));break;case"c":case"p":o=e._toFixedStr(Math.abs(t),c);break;default:o=e._toFixedStr(t,c)}if((i||"g"==l||"r"==l)&&o.indexOf(".")>-1&&(o=o.replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")),"."!=u&&(o=o.replace(".",u)),"-"!=d&&(o=o.replace("-",d)),h&&("n"==l||"c"==l||"p"==l||"F"==a.specRaw||"G"==a.specRaw)){var f=o.indexOf(u),p=/\B(?=(\d\d\d)+(?!\d))/g;o=f>-1?o.substr(0,f).replace(p,h)+o.substr(f):o.replace(p,h)}if("c"==l){var g=s.currency.pattern[t<0?0:1],m=a.curr||s.currency.symbol;"\u200b"==m&&(m=""),o=g.replace("n",o).replace("$",m)}if("p"==l){var b=s["%"]||"%";o=(g=s.percent.pattern[t<0?0:1]).replace("n",o),"%"!=b&&(o=o.replace("%",b)),"-"!=d&&t<0&&(o=o.replace("-",d))}return a.prefix||a.suffix?a.prefix+o+a.suffix:o},e.formatDate=function(t,n){switch(t=je(t),n){case"r":case"R":return t.toUTCString();case"u":return t.toISOString().replace(/\.\d{3}/,"")}return n=e._expandFormat(n),e._parseDateFormat(n).map((function(i){return e._formatDatePart(t,n,i)})).join("")},e.parseInt=function(t,n){return Math.round(e.parseFloat(t,n))},e.parseFloat=function(t,n){var i=e._parseNumericFormat(n),r=i.prefix;r&&0==t.indexOf(r)&&(t=t.substring(r.length));var o=i.suffix;o&&t.lastIndexOf(o)==t.length-o.length&&(t=t.substring(0,t.length-o.length));var s=wt.Globalize.numberFormat,a=s["."]||".",l=s[","]||",",c=s["-"]||"-",u=s["%"]||"%",h=i.curr||s.currency.symbol||"$",d=t.indexOf(u)>-1,f=t.indexOf("(")>-1&&t.indexOf(")")>-1,p=0;if("x"==i.spec)p=parseInt(t,16);else{[h,u,"(",")"].forEach((function(e){t=t.replace(e,"")})),/\s/.test(l)&&(t=t.replace(/\s+/g,""));var g=(t=t.replace(new RegExp("\\"+l,"g"),"").replace(new RegExp("\\"+c,"g"),"-").replace(/(\+|\-)\s+/g,"$1").replace(a,".").trim()).length;!f&&g&&"-"==t[g-1]&&(f=!0,t=t.substring(0,g-1)),p=/^\s*(\+|\-)?\d*(\.\d*)?(\s*E(\+|\-)?\d+)?\s*$/i.test(t)?parseFloat(t):Number.NaN}return isNaN(p)||(f=f||p<0,p=Math.abs(p),d&&(p=e._shiftDecimal(p,-2)),f&&(p=-p),i.scale&&(p*=Math.pow(10,i.scale))),p},e.parseDate=function(t,n,i){if(!(t=Te(t)))return null;if("u"==n)return new Date(t);var r;if("R"==n||"r"==n){var o=t.match(/((\d+)\-(\d+)\-(\d+))?\s?((\d+):(\d+)(:(\d+))?)?/);return o[1]||o[5]?(r=o[1]?new Date(parseInt(o[2]),parseInt(o[3])-1,parseInt(o[4])):new Date,o[5]&&(r.setHours(parseInt(o[6])),r.setMinutes(parseInt(o[7])),r.setSeconds(o[8]?parseInt(o[9]):0))):r=new Date(t),isNaN(r.getTime())?null:r}n=e._expandFormat(n||"d");var s,a,l,c,u,h=wt.Globalize.calendar,d=e._CJK,f=new RegExp("(\\"+h["/"]+")|(\\"+h[":"]+")|(\\d+)|(["+d+"\\.]{2,})|(["+d+"]+)","gi"),p=t.match(f),g=e._parseDateFormat(n),m=0,b=-1,v=0,y=1,_=0,w=0,C=0,S=0,O=-1,T=-1;if(!(p&&p.length&&g&&g.length))return null;for(var k=0;k<g.length&&p;k++){var x=k-m,E=x>-1&&x<p.length?p[x]:"",j=g[k].length;switch(g[k]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":u=g[k];case"yyyy":case"yyy":case"yy":case"y":j>1&&E.length>j&&(p[x]=E.substr(j),E=E.substr(0,j),m++),b=parseInt(E),c=4==E.length;break;case"MMMM":case"MMM":l=!0;var A=E.toLowerCase();v=-1;for(var I=0;I<12;I++)if(0==h.months[I].toLowerCase().indexOf(A)){v=I;break}if(v>-1)break;case"MM":case"M":l=!0,j>1&&E.length>j&&(p[x]=E.substr(j),E=E.substr(0,j),m++),v=parseInt(E)-1;break;case"dddd":case"ddd":s=!0;break;case"dd":case"d":j>1&&E.length>j&&(p[x]=E.substr(j),E=E.substr(0,j),m++),y=parseInt(E),a=!0;break;case"hh":case"h":j>1&&E.length>j&&(p[x]=E.substr(j),E=E.substr(0,j),m++),_=12==(_=parseInt(E))?0:_;break;case"HH":j>1&&E.length>j&&(p[x]=E.substr(j),E=E.substr(0,j),m++),_=parseInt(E);break;case"H":_=parseInt(E);break;case"mm":case"m":j>1&&E.length>j&&(p[x]=E.substr(j),E=E.substr(0,j),m++),w=parseInt(E);break;case"ss":case"s":j>1&&E.length>j&&(p[x]=E.substr(j),E=E.substr(0,j),m++),C=parseInt(E);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":S=parseInt(E)/Math.pow(10,j-3);break;case"tt":case"t":E=E.toUpperCase(),_<12&&h.pm.indexOf(E)>-1&&(_+=12);break;case"q":case"Q":case"u":case"U":T=this.parseInt(E);break;case"ggg":case"gg":case"g":O=h.eras.length>1?e._getEra(E,h):-1;break;case"/":case":":if(E&&E!=h[g[k]])return null;break;case h["/"]:case h[":"]:if(E&&E!=g[k])return null;break;case"K":break;default:e._unquote(g[k]).trim()!=E.trim()&&m++}}if(l&&a&&(isNaN(_)&&(_=0),isNaN(w)&&(w=0),isNaN(C)&&(C=0)),v<0||v>11||isNaN(v)||y<1||y>31||isNaN(y)||_<0||_>=24||isNaN(_)||w<0||w>=60||isNaN(w)||C<0||C>=60||isNaN(C))return null;if(u){if(!l)return null;var M=wt.Globalize.calendar;if(le(M.fiscalYearOffsets)){var P=v-M.fiscalYearOffsets["E"==u[0]?0:1];b+=P>11?-1:P<0?1:0}}if(s&&!a)return null;if(!l&&T>=1&&T<=4&&(v=3*(T-1)),isNaN(b)||b<0)b=ae(i)?i.getFullYear():(new Date).getFullYear();else if(O>-1)b=b+h.eras[O].start.getFullYear()-1;else if(b<100&&!c){var D=ne(h.twoDigitYearMax)?h.twoDigitYearMax:2029;D>99&&(b+=b+2e3<=D?2e3:1900)}return(r=pt.newDate(b,v,y,_,w+0,C,S)).getMonth()!=v||r.getDate()!=y||isNaN(r.getTime())?null:r},e.getFirstDayOfWeek=function(){return wt.Globalize.calendar.firstDay||0},e.getNumberDecimalSeparator=function(){return wt.Globalize.numberFormat["."]||"."},e._toFixedStr=function(e,t){var n=e.toString(),i=n.indexOf("."),r=t-(n.length-i)+1,o=n.indexOf("e")>-1;return!o&&i>-1&&r>=0?n+Array(r+1).join("0"):(i>-1&&!o&&"5"==n[n.length-1]&&(e=+(Math.round(+(Math.abs(e)+"e"+t))+"e"+-t)*(e<0?-1:1)),e.toFixed(t))},e._unquote=function(e){return e.length>1&&e[0]==e[e.length-1]&&("'"==e[0]||'"'==e[0])?e.substr(1,e.length-2):e},e._parseNumericFormat=function(t){var n=e._numFormatInfo[t];if(!n){var i=t&&t.match(/(\"(.*?)\"\s*)?([a-z])\s*(\d*)\s*(,*)(\s*\"(.*?)\"\s*)?(.*)/i)||[],r=i[3]?i[3]:"n";n={prefix:i[2]||"",spec:r.toLowerCase(),specRaw:r,prec:i[4]?parseInt(i[4]):null,scale:i[5]?3*i[5].length:0,suffix:i[7]||"",curr:i[8]||null},e._numFormatInfo[t]=n}return n},e._parseDateFormat=function(t){var n=e._dateFormatParts[t];if(!n){if(n=[],t){var i=void 0,r=void 0;for(i=0;i>-1&&i<t.length;i++){var o=t[i];if(("'"==o||'"'==o)&&(r=t.indexOf(o,i+1))>-1)n.push(t.substring(i,r+1)),i=r;else if("\\"==o&&i<t.length-1)i++,n.push('"'+t[i]+'"');else{for(r=i+1;r<t.length&&t[r]==o;r++);n.push(t.substring(i,r)),i=r-1}}}e._dateFormatParts[t]=n}return n},e._formatDatePart=function(t,n,i){var r,o=wt.Globalize.calendar,s=0,a=0,l=0,c=i.length;switch(i){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":return a=(r="E"==i[0]?pt.toFiscal(t,!0):"e"==i[0]?pt.toFiscal(t,!1):t).getFullYear(),o.eras.length>1&&n.indexOf("g")>-1&&(s=e._getEra(t,o))>-1&&(a=ae((u=o.eras[s]).start)?a-u.start.getFullYear()+1:Math.abs(a)),e._zeroPad(i.length<3?a%100:3==i.length?a%1e3:a,i.length);case"MMMMM":return o.monthsAbbr[t.getMonth()][0];case"MMMM":return o.months[t.getMonth()];case"MMM":return o.monthsAbbr[t.getMonth()];case"MM":case"M":return e._zeroPad(t.getMonth()+1,c);case"dddd":return o.days[t.getDay()];case"ddd":return o.daysAbbr[t.getDay()];case"dd":return e._zeroPad(t.getDate(),2);case"d":return t.getDate().toString();case"hh":case"h":return e._zeroPad(e._h12(t),c);case"HH":case"H":return e._zeroPad(t.getHours(),c);case"mm":case"m":return e._zeroPad(t.getMinutes(),c);case"ss":case"s":return e._zeroPad(t.getSeconds(),c);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return l=t.getMilliseconds()*Math.pow(10,c-3),"f"==i[0]?e._zeroPad(l,c):l.toFixed(0);case"tt":return t.getHours()<12?o.am[0]:o.pm[0];case"t":return t.getHours()<12?o.am[1]:o.pm[1];case"q":case"Q":return(Math.floor(t.getMonth()/3)+1).toString();case"u":case"U":return r=pt.toFiscal(t,"U"==i),(Math.floor(r.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":if(o.eras.length>1&&(s=e._getEra(t,o))>-1){var u;if(ee(u=o.eras[s]))return u;switch(i){case"gg":return u.name[0];case"g":return u.symbol;default:return u.name}}return o.eras[0];case":":case"/":return o[i];case"K":var h=t.toString().match(/(\+|\-)(\d{2})(\d{2})/);return h?h[1]+h[2]+h[3]:"";case"zzz":case"zz":case"z":var d=-t.getTimezoneOffset(),f=void 0;switch(i){case"zzz":f=e.format(d/60,"d2",!1,!0)+o[":"]+e.format(d%60,"d2",!1,!0);break;case"zz":f=e.format(d/60,"d2",!1,!0);break;case"z":f=e.format(d/60,"d1",!1,!0)}return d>=0?"+"+f:f}return c>1&&i[0]==i[c-1]&&('"'==i[0]||"'"==i[0])?i.substr(1,c-2):i},e._getEra=function(e,t){if(t.eras){var n=t.eras.length;if(ae(e)){if(ee(t.eras[0]))return e.getFullYear()>=0?0:1;if(ae(t.eras[0].start)){for(var i=0;i<n;i++)if(e>=t.eras[i].start)return i;return n-1}}else if(ee(e)&&e.length>0)for(e=e.toLowerCase(),i=0;i<n;i++){var r=t.eras[i],o=r.name,s=r.symbol;if(o&&0==o.toLowerCase().indexOf(e)||s&&0==s.toLowerCase().indexOf(e))return i}}return-1},e._expandFormat=function(e){return wt.Globalize.calendar.patterns[e]||e},e._zeroPad=function(e,t){var n=e.toFixed(0),i=t-n.length+1;return i>0?Array(i).join("0")+n:n},e._h12=function(e){var t=wt.Globalize.calendar,n=e.getHours();return t.am&&t.am[0]&&0==(n%=12)&&(n=12),n},e._shiftDecimal=function(e,t){if(0==t||isNaN(e))return e;var n=e.toString();if(n.indexOf("e")>-1)return e*Math.pow(10,t);var i=Array(Math.abs(t)+1).join("0");t<0&&(n=i+n);var r=n.indexOf(".");return r<0&&(r=(n+=".").indexOf(".")),t>0&&(n+=i),r+=t,n=(n=n.replace(".","")).substr(0,r)+"."+n.substr(r),parseFloat(n)},e._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),e._numFormatInfo={},e._dateFormatParts={},e}();function St(e){wt=e}function Ot(e,t){wt[e]="undefined"!=typeof window&&window.wijmo.culture[e]||t}var Tt,kt=function(){function e(e,t,n){void 0===t&&(t=null),void 0===n&&(n="_"),this._promptChar="_",this._mskArr=[],this._full=!0,this._inputBnd=this._input.bind(this),this._keydownBnd=this._keydown.bind(this),this._keypressBnd=this._keypress.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._cmpendBnd=this._cmpend.bind(this),this.mask=Te(t),this.input=e,this.promptChar=Te(n,!1),this._connect(!0),this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1)}return Object.defineProperty(e.prototype,"input",{get:function(){return this._tbx},set:function(e){this._connect(!1),this._tbx=e,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._msk},set:function(e){e!=this._msk&&(this._msk=Te(e,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"promptChar",{get:function(){return this._promptChar},set:function(e){e!=this._promptChar&&(this._promptChar=Te(e,!1),Se(1==this._promptChar.length,"promptChar must be a string with length 1."),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),e.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},e.prototype.getRawValue=function(){var e=this._tbx?this._tbx.value:"";if(!this.mask)return e;for(var t="",n=0;n<this._mskArr.length&&n<e.length;n++)this._mskArr[n].literal||e[n]==this._promptChar||(t+=e[n]);return t},e.prototype.refresh=function(){this._parseMask(),this._valueChanged()},e.prototype._input=function(e){var t=this;this._msk&&!this._composing&&e!=this._evtInput&&(e.preventDefault(),e.stopImmediatePropagation(),setTimeout((function(){t._valueChanged(),t._tbx&&t._tbx.dispatchEvent(t._evtInput)})))},e.prototype._keydown=function(e){if(e.keyCode==z.Back){var t=this._tbx.selectionStart;if(t<=this._firstPos&&this._tbx.selectionEnd==t)return e.preventDefault(),void(this._backSpace=!1)}this._backSpace=e.keyCode==z.Back},e.prototype._keypress=function(e){e.ctrlKey||e.metaKey||e.altKey||this._composing||!this._preventKey(e.charCode)||e.preventDefault()},e.prototype._cmpstart=function(e){this._composing=!0},e.prototype._cmpend=function(e){var t=this;this._composing&&(this._composing=!1,setTimeout((function(){var e=t._tbx;e&&t._valueChanged()&&e.dispatchEvent(t._evtInput)})))},e.prototype._preventKey=function(e){if(e&&this._mskArr.length){var t=this._tbx,n=t.selectionStart,i=String.fromCharCode(e);if(n<this._firstPos&&Xe(t,n=this._firstPos),n>=this._mskArr.length)return!0;var r=this._mskArr[n];if(r.literal)this._validatePosition(n);else if(r.wildCard!=i&&!this._isCharValid(r.wildCard,i))return!0}return!1},e.prototype._connect=function(e){var t=this._tbx;t&&(Se(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),e?(this._autoComplete=t.autocomplete,this._spellCheck=t.spellcheck,t.autocomplete="off",t.spellcheck=!1,t.addEventListener("input",this._inputBnd,!0),t.addEventListener("keydown",this._keydownBnd,!0),t.addEventListener("keypress",this._keypressBnd,!0),t.addEventListener("compositionstart",this._cmpstartBnd,!0),t.addEventListener("compositionend",this._cmpendBnd,!0),t.addEventListener("blur",this._cmpendBnd,!0),this._valueChanged()):(t.autocomplete=this._autoComplete,t.spellcheck=this._spellCheck,t.removeEventListener("input",this._inputBnd,!0),t.removeEventListener("keydown",this._keydownBnd,!0),t.removeEventListener("keypress",this._keypressBnd,!0),t.removeEventListener("compositionstart",this._cmpstartBnd,!0),t.removeEventListener("compositionend",this._cmpendBnd,!0),t.removeEventListener("blur",this._cmpendBnd,!0)))},e.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var e=this._tbx,t=e.value.length<2,n=e.selectionStart,i=n>0?e.value[n-1]:"",r=e.value;return e.value=this._applyMask(),t&&(n=this._firstPos+1),n>0&&(n>0?e.value[n-1]:"")==this._promptChar&&i!=this.promptChar&&n--,n==r.length&&(n=this._matchEnd),this._validatePosition(n),r!=e.value},e.prototype._applyMask=function(){this._full=!0,this._matchEnd=0;var e=this._tbx.value;if(!this._msk)return e;if(!e&&!this._tbx.required)return e;var t="",n=0,i=this._promptChar;e=this._handleVagueLiterals(e);for(var r=0;r<this._mskArr.length;r++){var o=this._mskArr[r],s=o.literal;if(s&&s==e[n]&&n++,o.wildCard){if(s=i,e){for(var a=n;a<e.length;a++)if(this._isCharValid(o.wildCard,e[a])){switch(s=e[a],o.charCase){case">":s=s.toUpperCase();break;case"<":s=s.toLowerCase()}s!=i&&(this._matchEnd=t.length+1);break}n=a+1}s==i&&(this._full=!1)}t+=s}return t},e.prototype._handleVagueLiterals=function(e){if(e.length>this._mskArr.length+1)return e;var t=e.length-this._mskArr.length;if(0!=t&&e.length>1){for(var n=-1,i=this._tbx,r=i==Qe()?i.selectionStart:i.value.length,o=Math.max(0,r-t);o<this._mskArr.length;o++)if(this._mskArr[o].vague){n=o;break}if(n>-1)if(t<0){var s=Array(1-t).join(this._promptChar),a=n+t;a>-1&&(e=e.substr(0,a)+s+e.substr(a))}else{for(;n>0&&this._mskArr[n-1].literal;)n--;e=e.substr(0,n)+e.substr(n+t)}}return e},e.prototype._isCharValid=function(t,n){if(n==this._promptChar)return!0;switch(t){case"0":return this._isDigit(n);case"9":return this._isDigit(n)||" "==n;case"#":return this._isDigit(n)||" "==n||"+"==n||"-"==n;case"L":return this._isLetter(n);case"l":return this._isLetter(n)||" "==n;case"A":return this._isDigit(n)||this._isLetter(n);case"a":return this._isDigit(n)||this._isLetter(n)||" "==n;case"\uff19":return n>="\uff10"&&n<="\uff19";case"\uff2a":case"\uff27":return!("\uff27"==t&&e._X_DBCS_BIG_HIRA.indexOf(n)>-1)&&n>="\u3041"&&n<="\u309f";case"\uff2b":case"\uff2e":return!("\uff2e"==t&&e._X_DBCS_BIG_KATA.indexOf(n)>-1)&&n>="\u30a0"&&n<="\u30ff";case"\uff3a":return!(n>="\uff66"&&n<="\uff9f")&&(n<="!"||n>="\xff");case"H":return n>="!"&&n<="\xff"||n>="\uff66"&&n<="\uff9f";case"K":case"N":return!("N"==t&&e._X_SBCS_BIG_KATA.indexOf(n)>-1)&&n>="\uff66"&&n<="\uff9f"}return!1},e.prototype._isDigit=function(e){return e>="0"&&e<="9"},e.prototype._isLetter=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},e.prototype._validatePosition=function(e){var t=this._mskArr;if(this._backSpace)for(;e>0&&e<t.length&&t[e-1].literal;)e--;if(0==e||!this._backSpace)for(;e<t.length&&t[e].literal;)e++;Qe()==this._tbx&&Xe(this._tbx,e),this._backSpace=!1},e.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var e,t=this._msk,n="|",i=0;t&&i<t.length;i++)switch(t[i]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"\uff19":case"\uff2a":case"\uff27":case"\uff2b":case"\uff2e":case"\uff3a":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new xt(t[i],n));break;case".":case",":case":":case"/":case"$":switch(t[i]){case".":case",":e=wt.Globalize.numberFormat[t[i]];break;case":":case"/":e=wt.Globalize.calendar[t[i]];break;case"$":e=wt.Globalize.numberFormat.currency.symbol}for(var r=0;r<e.length;r++)this._mskArr.push(new xt(e[r]));break;case"<":case">":case"|":n=t[i];break;case"\\":i<t.length-1&&i++,this._mskArr.push(new xt(t[i]));break;default:this._mskArr.push(new xt(t[i]))}for(i=0;i<this._mskArr.length;i++){var o=this._mskArr[i];if(o.literal)for(r=0;r<i;r++){var s=this._mskArr[r];if(s.wildCard&&this._isCharValid(s.wildCard,o.literal)){o.vague=!0;break}}}},e._X_DBCS_BIG_HIRA="\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096",e._X_DBCS_BIG_KATA="\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6",e._X_SBCS_BIG_KATA="\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f",e}(),xt=function(e,t){t?(this.wildCard=e,this.charCase=t):this.literal=e};function Et(e,t,n){var i=0,r=0,o=0,s=0,a=null,l=null,c=null,u=n?new N(n):null;if((e=Pe(e,Tt))==Tt.CntAll)return t.length;for(var h=0;h<t.length;h++){var d=t[h];if(u&&(d=u.getValue(d)),e==Tt.First)return d;null!=d&&(i++,(null==a||d<a)&&(a=d),(null==l||d>l)&&(l=d),c=d,ne(d)&&!isNaN(d)?(r++,o+=d,s+=d*d):re(d)&&(r++,1==d&&(o++,s++)))}var f=0==r?0:o/r;switch(e){case Tt.Avg:return f;case Tt.Cnt:return i;case Tt.Max:return l;case Tt.Min:return a;case Tt.Rng:return l-a;case Tt.Sum:return o;case Tt.VarPop:return r<=1?0:s/r-f*f;case Tt.StdPop:return r<=1?0:Math.sqrt(s/r-f*f);case Tt.Var:return r<=1?0:(s/r-f*f)*r/(r-1);case Tt.Std:return r<=1?0:Math.sqrt((s/r-f*f)*r/(r-1));case Tt.Last:return c}throw"Invalid aggregate type."}!function(e){e[e.None=0]="None",e[e.Sum=1]="Sum",e[e.Cnt=2]="Cnt",e[e.Avg=3]="Avg",e[e.Max=4]="Max",e[e.Min=5]="Min",e[e.Rng=6]="Rng",e[e.Std=7]="Std",e[e.Var=8]="Var",e[e.StdPop=9]="StdPop",e[e.VarPop=10]="VarPop",e[e.CntAll=11]="CntAll",e[e.First=12]="First",e[e.Last=13]="Last"}(Tt||(Tt={}));var jt=function(e){function t(){var t=this;return At?t.length=0:t=e.call(this)||this,t}return o(t,e),t}(Array),At=!0;try{jt.prototype=Array.prototype,At=jt.prototype===Array.prototype}catch(R){At=!1}var It="undefined"!=typeof window?window.Symbol:null;!At&&It&&It.species&&Object.defineProperty(jt,It.species,{get:function(){return Array},enumerable:!1,configurable:!1});var Mt,Pt=function(e){function t(t){var n=e.call(this)||this;if(n._updating=0,n.collectionChanged=new F,t){t=Ie(t),n._updating++;for(var i=0;i<t.length;i++)n.push(t[i]);n._updating--}return n}return o(t,e),t.prototype.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=this.length,r=0;r<t.length;r++)i=e.prototype.push.call(this,t[r]),this._updating||this._raiseCollectionChanged(D.Add,t[r],i-1);return i},t.prototype.pop=function(){var t=e.prototype.pop.call(this);return this._raiseCollectionChanged(D.Remove,t,this.length),t},t.prototype.splice=function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var o,s=D,a=this._raiseCollectionChanged.bind(this);return n&&i.length?(o=e.prototype.splice.apply(this,[t,n].concat(i)),1==n&&1==i.length?a(s.Change,i[0],t):a()):i.length?(o=e.prototype.splice.apply(this,[t,0].concat(i)),1==i.length?a(s.Add,i[0],t):a()):(o=e.prototype.splice.call(this,t,n),1==n?a(s.Remove,o[0],t):a()),o},t.prototype.slice=function(t,n){return e.prototype.slice.call(this,t,n)},t.prototype.indexOf=function(t,n){return e.prototype.indexOf.call(this,t,n)},t.prototype.sort=function(t){var n=e.prototype.sort.call(this,t);return this._raiseCollectionChanged(),n},t.prototype.insert=function(e,t){this.splice(e,0,t)},t.prototype.remove=function(e){var t=this.indexOf(e);return t>-1&&this.removeAt(t),t>-1},t.prototype.removeAt=function(e){this.splice(e,1)},t.prototype.setAt=function(e,t){e>=this.length&&(this.length=e+1),this.splice(e,1,t)},t.prototype.clear=function(){this.length&&this.splice(0,this.length)},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this._raiseCollectionChanged()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},t.prototype.implementsInterface=function(e){return"INotifyCollectionChanged"==e},t.prototype.onCollectionChanged=function(e){void 0===e&&(e=W.reset),this.isUpdating||this.collectionChanged.raise(this,e)},t.prototype._raiseCollectionChanged=function(e,t,n){if(void 0===e&&(e=D.Reset),!this.isUpdating){var i=new W(e,t,n);this.onCollectionChanged(i)}},t}(jt);!function(e){e[e.Natural=0]="Natural",e[e.First=1]="First",e[e.Last=2]="Last"}(Mt||(Mt={}));var Dt=function(){function e(e,t){var n=this;this._idx=-1,this._filters=new Pt,this._srtDsc=new Pt,this._grpDesc=new Pt,this._newItem=null,this._edtItem=null,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._srtNulls=Mt.Last,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._refreshOnEdit=!0,this._trackChanges=!1,this._chgAdded=new Pt,this._chgRemoved=new Pt,this._chgEdited=new Pt,this.collectionChanged=new F,this.sourceCollectionChanging=new F,this.sourceCollectionChanged=new F,this.currentChanged=new F,this.currentChanging=new F,this.pageChanged=new F,this.pageChanging=new F,this._srtDsc.collectionChanged.addHandler((function(){n._srtDsc.forEach((function(e){Se(e instanceof U,"sortDescriptions array must contain SortDescription objects.")})),n.canSort&&n._commitAndRefresh()})),this._grpDesc.collectionChanged.addHandler((function(){n._grpDesc.forEach((function(e){Se(e instanceof q,"groupDescriptions array must contain GroupDescription objects.")})),n.canGroup&&n._commitAndRefresh()})),this._filters.collectionChanged.addHandler((function(){n._filters.forEach((function(e){Se(oe(e),"filters array must contain IPredicate functions.")})),n.canFilter&&n._commitAndRefresh()})),this.sourceCollection=e||new Pt,t&&this.deferUpdate((function(){Ce(n,t)})),null==this._keepCurrentItem&&(this._keepCurrentItem=!0)}return e.prototype._copy=function(e,t){switch(e){case"sortDescriptions":var n=this.sortDescriptions;return n.deferUpdate((function(){n.clear(),Ie(t).forEach((function(e){ee(e)?e=new U(e,!0):e instanceof U||!e.property||(e=new U(e.property,e.ascending)),n.push(e)}))})),!0;case"groupDescriptions":var i=this.groupDescriptions;return i.deferUpdate((function(){i.clear(),t.forEach((function(e){ee(e)&&(e=new X(e)),i.push(e)}))})),!0;case"currentItem":return this.currentItem=t,!0}return!1},Object.defineProperty(e.prototype,"calculatedFields",{get:function(){return this._calcFields},set:function(e){if(e&&!window.Proxy&&(console.warn("** Calculated fields require Proxy (see https://www.npmjs.com/package/proxy-polyfill)."),e=null),e!=this._calcFields){this._calcFields=e;var t=this._srcRaw;this._srcRaw=null,this.sourceCollection=t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(e){this._itemCreator=Ae(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(e){e!=this._srtCvt&&(this._srtCvt=Ae(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(e){e!=this._srtCmp&&(this._srtCmp=Ae(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(e){e!=this._stableSort&&(this._stableSort=Ee(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortNulls",{get:function(){return this._srtNulls},set:function(e){(e=Pe(e,Mt))!=this._srtNulls&&(this._srtNulls=e,this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortNullsFirst",{get:function(){return this.sortNulls!=Mt.Last},set:function(e){Oe("sortNullsFirst","sortNulls"),this.sortNulls=Ee(e)?Mt.First:Mt.Last},enumerable:!0,configurable:!0}),e.prototype.getAggregate=function(e,t,n){return Et(e,n?this._pgView:this._view,t)},Object.defineProperty(e.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(e){this._trackChanges=Ee(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=Ee(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),e.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear()},e.prototype.implementsInterface=function(e){switch(e){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(e.prototype,"getError",{get:function(){return this._getError},set:function(e){this._getError!=e&&(this._getError=Ae(e),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),e.prototype.onCollectionChanged=function(e){void 0===e&&(e=W.reset),e.action!=D.Change||this._committing||this._canceling||e.item==this.currentEditItem||e.item==this.currentAddItem||this._trackItemChanged(e.item),this._updating||this.collectionChanged.raise(this,e)},e.prototype._raiseCollectionChanged=function(e,t,n){void 0===e&&(e=D.Reset);var i=new W(e,t,n);this.onCollectionChanged(i)},e.prototype.onSourceCollectionChanging=function(e){return this.sourceCollectionChanging.raise(this,e),!e.cancel},e.prototype.onSourceCollectionChanged=function(e){this.sourceCollectionChanged.raise(this,e)},Object.defineProperty(e.prototype,"canFilter",{get:function(){return this._canFilter},set:function(e){this._canFilter=Ee(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canGroup",{get:function(){return this._canGroup},set:function(e){this._canGroup=Ee(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canSort",{get:function(){return this._canSort},set:function(e){this._canSort=Ee(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(e){this.moveCurrentTo(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentPosition",{get:function(){return this._idx},set:function(e){this.moveCurrentToPosition(ke(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},set:function(e){this._filter!=e&&(this._filter=Ae(e),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceCollection",{get:function(){return this._src},set:function(e){if(e!=this._srcRaw){if(!this.onSourceCollectionChanging(new H))return;var t=this.currentPosition;this.commitEdit(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._srcRaw=e,this._src=Ie(e,!1),this._calcFields&&(this._src=P(this._src,this._calcFields)),this._ncc=Q(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&t>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),e.prototype._sourceChanged=function(e,t){this._updating<=0&&this.refresh()},e.prototype.contains=function(e){return this._pgView.indexOf(e)>-1},e.prototype.moveCurrentTo=function(e){return this.moveCurrentToPosition(this._pgView.indexOf(e))},e.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},e.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},e.prototype.moveCurrentToPrevious=function(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)},e.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},e.prototype.moveCurrentToPosition=function(e){if(e>=-1&&e<this._pgView.length&&e!=this._idx){var t=new H;if(this.onCurrentChanging(t)){var n=this._pgView[e];this._edtItem&&n!=this._edtItem?this.commitEdit():this._newItem&&n!=this._newItem&&this.commitNew(),this._idx=e,this.onCurrentChanged()}}return this._idx==e},e.prototype.refresh=function(){this._newItem||this._edtItem||this._updating>0?this._pendingRefresh=!0:(this._performRefresh(),this.onCollectionChanged())},e.prototype._commitAndRefresh=function(){this.currentEditItem||this.currentAddItem?(this._pendingRefresh=!0,this.commitEdit()):this.refresh()},e.prototype._performRefresh=function(){if(this._updating>0)this._pendingRefresh=!0;else{this._pendingRefresh=!1;var e=this.currentItem;this._view=this._src?this._performFilter(this._src):[],this.canSort&&this._srtDsc.length>0&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=we(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var t=this._keepCurrentItem?this._pgView.indexOf(e):-1;t<0&&(t=Math.min(this._idx,this._pgView.length-1)),this._idx=t,this._digest=this._getGroupsDigest(this.groups)}},e.prototype._performSort=function(e){if(this._stableSort){var t=e.map((function(e,t){return{item:e,index:t}})),n=this._compareItems();t.sort((function(e,t){var i=n(e.item,t.item);return 0==i?e.index-t.index:i}));for(var i=0;i<e.length;i++)e[i]=t[i].item}else e.sort(this._compareItems())},e.prototype._compareItems=function(){var t=this,n=this._srtDsc,i=this._srtCvt,r=this._srtCmp,o=e._collator,s=!0,a=0;return function(e,l){for(var c=0;c<n.length;c++){var u=n[c],h=u._bnd.getValue(e),d=u._bnd.getValue(l);if(i&&(h=i(u,e,h,s),d=i(u,l,d,!1),s=!1),r&&null!=(a=r(h,d))){if(0!=a)return u.ascending?+a:-a}else{if(h!=h&&(h=null),d!=d&&(d=null),h!==d&&(null==h||null==d))switch(t._srtNulls){case Mt.First:return null==h?-1:1;case Mt.Last:return null==h?1:-1;default:return a=null==h?-1:1,u.ascending?+a:-a}if("string"==typeof h&&"string"==typeof d){if(o){if(0!=(a=o.compare(h,d)))return u.ascending?+a:-a;continue}var f=h.toLowerCase(),p=d.toLowerCase();f!=p&&(h=f,d=p)}if(0!=(a=h<d?-1:h>d?1:0))return u.ascending?+a:-a}}return 0}},e.prototype._performFilter=function(e){return this.canFilter&&(this._filter||this._filters.length)?e.filter(this._filterItem,this):e},e.prototype._filterItem=function(e){for(var t=!this._filter||this._filter(e),n=0;n<this._filters.length&&t;n++)t=this._filters[n](e);return t},e.prototype.onCurrentChanged=function(e){this.currentChanged.raise(this,e)},e.prototype.onCurrentChanging=function(e){return this.currentChanging.raise(this,e),!e.cancel},Object.defineProperty(e.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),e.prototype.beginUpdate=function(){this._updating++},e.prototype.endUpdate=function(e){void 0===e&&(e=!0),this._updating--,e&&(this._pendingRefresh=!0),this._updating<=0&&this._pendingRefresh&&this.refresh()},Object.defineProperty(e.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),e.prototype.deferUpdate=function(e,t){void 0===t&&(t=!0);try{this.beginUpdate(),e()}finally{this.endUpdate(t)}},Object.defineProperty(e.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(e){e!=this._canAddNew&&(this._canAddNew=Ee(e),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(e){this._canCancelEdit=Ee(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canRemove",{get:function(){return this._canRemove},set:function(e){this._canRemove=Ee(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),e.prototype.editItem=function(e){e!=this._edtItem&&this.moveCurrentTo(e)&&(this.commitEdit(),this._edtItem=e,this._edtClone={},this._extend(this._edtClone,this._edtItem))},e.prototype.commitEdit=function(){var e=this._edtItem,t=this._edtClone;if(null!=e){this._committing=!0;var n=this._getChangedFields(e,t),i=this._pendingRefresh;this._edtItem=null,this._edtClone=null;var r=this._pgView.indexOf(e),o=this._digest;if(this._needRefresh(n)&&this._refreshOnEdit&&this._performRefresh(),n&&this._trackItemChanged(e),this._pgView.indexOf(e)!=r||o!=this._digest||i?this._raiseCollectionChanged():this._raiseCollectionChanged(D.Change,e,r),this.commitNew(),this._committing=!1,this.sourceCollection instanceof Pt){this._updating++;var s=new W(D.Change,e);this.sourceCollection.onCollectionChanged(s),this._updating--}}},e.prototype.cancelEdit=function(){var e=this._edtItem;if(null!=e){if(this._edtItem=null,!this.canCancelEdit)return;var t=this._src.indexOf(e);t>=0&&this._edtClone&&(this._extend(this._src[t],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(D.Change,e,t),this._canceling=!1,this._pendingRefresh&&this._refreshOnEdit&&(this._performRefresh(),this._raiseCollectionChanged()))}},e.prototype.addNew=function(e,t){if(void 0===t&&(t=!1),this.commitEdit(),!this.canAddNew)return null;if(null==e){var n=this.sourceCollection;e=this.newItemCreator?this.newItemCreator():n&&n.length?new n[0].constructor:{}}if(null!=e){if(this._newItem=e,this._updating++,this._src.push(e),this._updating--,this._pgView!=this._src&&this._pgView.push(e),this.groups&&this.groups.length){var i=this.groups[this.groups.length-1];for(i.items.push(e);i.groups&&i.groups.length;)(i=i.groups[i.groups.length-1]).items.push(e)}this._raiseCollectionChanged(D.Add,e,this._pgView.length-1),this.moveCurrentTo(e),t&&this.commitNew()}return this._newItem},e.prototype.commitNew=function(){var e=this._newItem;if(null!=e){this._newItem=null;var t=this._pgView.indexOf(e),n=this._digest;if(this._refreshOnEdit&&this._performRefresh(),this._trackChanges){var i=this._chgEdited.indexOf(e);i>-1&&this._chgEdited.removeAt(i),this._chgAdded.indexOf(e)<0&&this._chgAdded.push(e)}this._pgView.indexOf(e)==t&&n==this._digest?this._raiseCollectionChanged(D.Change,e,t):this._raiseCollectionChanged()}},e.prototype.cancelNew=function(){var e=this._newItem;null!=e&&this.remove(e)},e.prototype.remove=function(e){var t=e==this._newItem;if(t&&(this._newItem=null),e==this._edtItem&&this.cancelEdit(),this.canRemove){var n=this._src.indexOf(e);if(n>-1){var i=this.currentItem;this._updating++,this._src.splice(n,1),this._updating--;var r=this._digest;if(this._refreshOnEdit)this._performRefresh();else{var o=this._pgView.indexOf(e);o>=0&&this._pgView.splice(o,1)}if(this._trackChanges){var s=this._chgAdded.indexOf(e);s>-1&&this._chgAdded.removeAt(s);var a=this._chgEdited.indexOf(e);a>-1&&this._chgEdited.removeAt(a),this._chgRemoved.indexOf(e)<0&&!t&&s<0&&this._chgRemoved.push(e)}this.sortDescriptions.length>0||this.pageSize>0&&this._pgIdx>-1||r!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(D.Remove,e,n),this.currentItem!==i&&this.onCurrentChanged()}}},e.prototype.removeAt=function(e){e=xe(e),this.remove(this._pgView[e])},e.prototype._trackItemChanged=function(e){if(this._trackChanges){var t=this.sourceCollection;if(t&&t.indexOf(e)>-1){var n=this._chgEdited.indexOf(e),i=D.Change;if(n<0&&this._chgAdded.indexOf(e)<0)this._chgEdited.push(e);else if(n>-1){var r=new W(i,e,n);this._chgEdited.onCollectionChanged(r)}else(n=this._chgAdded.indexOf(e))>-1&&(r=new W(i,e,n),this._chgAdded.onCollectionChanged(r))}}},e.prototype._extend=function(e,t,n){for(var i in void 0===n&&(n=2),t)try{var r=t[i];n>0&&ce(r)?(e[i]={},this._extend(e[i],r,n--)):e[i]=r}catch(e){}},e.prototype._getChangedFields=function(e,t){Se(null!=t&&null!=e,"Two objects expected.");var n={};for(var i in t)try{this._sameValue(e[i],t[i])||(n[i]=!0)}catch(e){}for(var i in e)try{this._sameValue(e[i],t[i])||(n[i]=!0)}catch(e){}var r=Object.keys(n);return r.length?r:null},e.prototype._needRefresh=function(e){if(this._pendingRefresh)return!0;if(!e)return!1;if(this._filter)return!0;for(var t=0;t<this._srtDsc.length;t++){var n=this._getBindingRoot(this._srtDsc[t].property);if(e.indexOf(n)>-1)return!0}for(t=0;t<this._grpDesc.length;t++){var i=this._grpDesc[t];if(!(i instanceof X))return!0;if(n=this._getBindingRoot(i.propertyName),e.indexOf(n)>-1)return!0}return!1},e.prototype._getBindingRoot=function(e){var t=e.indexOf(".");return t>-1?e.substr(0,t):e},e.prototype._sameContent=function(e,t){return null==this._getChangedFields(e,t)},e.prototype._sameValue=function(e,t){return!!(e===t||pt.equals(e,t)||ce(e)&&ce(t)&&null==this._getChangedFields(e,t))},Object.defineProperty(e.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(e){this._canChangePage=Ee(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSize",{get:function(){return this._pgSz},set:function(e){e!=this._pgSz&&(this._pgSz=xe(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),e.prototype.moveToFirstPage=function(){return this.moveToPage(0)},e.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},e.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},e.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},e.prototype.moveToPage=function(e){var t=we(e,0,this.pageCount-1);if(t!=this._pgIdx){if(!this.canChangePage)return;var n=new K(t);this.onPageChanging(n)&&(this._pgIdx=t,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():this.onCollectionChanged(),this.onPageChanged())}return this._pgIdx==e},e.prototype.onPageChanged=function(e){this.pageChanged.raise(this,e)},e.prototype.onPageChanging=function(e){return this.pageChanging.raise(this,e),!e.cancel},e.prototype._getFullGroup=function(e){var t=this._getGroupByPath(this._fullGroups,e.level,e._path);return null!=t&&(e=t),e},e.prototype._getGroupByPath=function(e,t,n){if(e)for(var i=0;i<e.length;i++){var r=e[i];if(r.level==t&&r._path==n)return r;if(r.level<t&&0==n.indexOf(r._path)&&null!=(r=this._getGroupByPath(r.groups,t,n)))return r}return null},e.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var e=this._pgSz*this._pgIdx,t=Math.min(e+this._pgSz,this._view.length);return this._view.slice(e,t)},e.prototype._createGroups=function(e){var t=this;if(!this._grpDesc||!this._grpDesc.length)return null;var n=[],i={},r=null;return e.forEach((function(e){for(var o=n,s=t._grpDesc.length,a="",l=0;l<s;l++){var c=t._grpDesc[l],u=c.groupNameFromItem(e,l),h=l==s-1;!(r=i[a])&&Z(u)&&(i[a]=r={});var d=t._getGroup(c,o,r,u,l,h);d._path=a+="/"+u,h&&d.items.push(e),o=d.groups}})),n},e.prototype._getGroupsDigest=function(e){for(var t="",n=0;null!=e&&n<e.length;n++){var i=e[n];t+="{"+i.name+":"+(i.items?i.items.length:"*"),i.groups.length>0&&(t+=",",t+=this._getGroupsDigest(i.groups)),t+="}"}return t},e.prototype._mergeGroupItems=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(!i._isBottomLevel)for(var r=this._mergeGroupItems(i.groups),o=0,s=r.length;o<s;o++)i._items.push(r[o]);for(o=0,s=i._items.length;o<s;o++)t.push(i._items[o])}return t},e.prototype._getGroup=function(e,t,n,i,r,o){var s;if(n&&Z(i)){if(s=n[i])return s}else for(var a=0;a<t.length;a++)if(e.namesMatch(t[a].name,i))return t[a];var l=new Rt(e,i,r,o);return t.push(l),n&&(n[i]=l),l},e._collator="undefined"!=typeof window&&window.Intl&&Intl.Collator?new Intl.Collator:null,e}(),Rt=function(){function e(e,t,n,i){this._gd=e,this._name=t,this._level=n,this._isBottomLevel=i,this._groups=[],this._items=[]}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),e.prototype.getAggregate=function(e,t,n){var i=Q(n,Dt);return Et(e,(i?i._getFullGroup(this):this).items,t)},e}(),Nt="undefined"!=typeof window&&window["wj-control-is-element"]?HTMLElement:Object,Lt=!1;try{Lt=((function(){}).prototype=Array.prototype)!==Array.prototype}catch(R){Lt=!0}var Ft,Bt=Lt||Nt!==Object,Ht=function(e){function t(){var t=this;return Bt&&(t=e.call(this)||this),t}return o(t,e),t}(Nt),Vt=function(e){function t(n,i,r){void 0===i&&(i=null),void 0===r&&(r=!1);var o=e.call(this)||this;o._listeners=[],o._pristine=!0,o._focus=!1,o._updating=0,o._fullUpdate=!1,o.gotFocus=new F,o.lostFocus=new F,o.invalidInput=new F,o.refreshing=new F,o.refreshed=new F,o._updateWme(),Se(null==t.getControl(n),"Element is already hosting a control.");var s=tt(n);Se(null!=s,"Cannot find the host element."),o._orgTabIndex=s.hasAttribute("tabindex")?s.tabIndex:0,o._orgOuter=s.outerHTML,o._orgTag=s.tagName,o._orgAtts=s.attributes,"INPUT"!=s.tagName&&"SELECT"!=s.tagName||(s=o._replaceWithDiv(s)),o._e=s,s[t._CTRL_KEY]=o;var a=o.addEventListener.bind(o);if(1==r){o._szCtl=new dt(s.offsetWidth,s.offsetHeight);var l=window.ResizeObserver,c=null;l&&(c=o._szObserver=new l((function(e){e.forEach((function(e){var n=t.getControl(e.target);n&&n._handleResize()}))}))),c?c.observe(s):a(window,"resize",o._handleResize.bind(o))}var u=o._handleFocusBlur.bind(o);a(s,"focus",u,!0),a(s,"blur",u,!0);var h=o._handleDisabled.bind(o);if(a(s,"mousedown",h,!0),a(s,"mouseup",h,!0),a(s,"click",h,!0),a(s,"dblclick",h,!0),a(s,"wheel",h,O(!0,!0)),a(s,"keydown",(function(e){o.isDisabled&&e.keyCode!=z.Tab&&e.preventDefault()})),null==t._touching&&(t._touching=!1,"ontouchstart"in window||"onpointerdown"in window)){var d=document,f=o._handleTouchStart,p=o._handleTouchEnd,g=O(!0,!0);"ontouchstart"in window?(d.addEventListener("touchstart",f,g),"touchend,touchcancel".split(",").forEach((function(e){d.addEventListener(e,p,g)}))):"onpointerdown"in window&&(d.addEventListener("pointerdown",f,g),"pointerup,pointercancel".split(",").forEach((function(e){d.addEventListener(e,p,g)})))}return o}return o(t,e),t.prototype.getTemplate=function(){for(var e=Object.getPrototypeOf(this);e;e=Object.getPrototypeOf(e)){var t=e.constructor.controlTemplate;if(t)return t}return null},t.prototype.applyTemplate=function(e,n,i,r){var o=this,s=this._e;e&&ze(s,e);var a=null;n&&(a=nt(n,s));for(var l=s.querySelectorAll("a.wj-btn"),c=0;c<l.length;c++){var u=l[c];Ue(u,"role","button",!0),Ue(u,"href","",!0),Ue(u,"draggable",!1,!0)}var h=s.querySelectorAll("button");for(c=0;c<h.length;c++)Ue(h[c],"type","button",!0);var d=s.querySelectorAll("input"),f=1==d.length?d[0]:null;if(f){var p=t._rxInputAtts;this._copyAttributes(f,s.attributes,p),this._copyAttributes(f,this._orgAtts,p)}if(f&&s.id){for(var g=s;g.parentElement;)g=g.parentElement;var m=g.querySelector('label[for="'+s.id+'"]');if(m instanceof HTMLLabelElement){var b=he(s.id+"_input");f.id=b,m.htmlFor=b}}if(f){var v=f.value,y=document.createEvent("HTMLEvents");y.initEvent("change",!0,!1),this.gotFocus.addHandler((function(){return v=f.value})),this.addEventListener(f,"focus",(function(){return v=f.value})),this.addEventListener(f,"input",(function(){o._pristine=!1,setTimeout((function(){return v=f.value}))})),this.addEventListener(s,"blur",(function(){o.containsFocus()||(o._pristine&&(o._pristine=!1,o._updateState()),v!=f.value&&(v=f.value,f.dispatchEvent(y)))}),!0)}if(f?s.tabIndex=-1:s.getAttribute("tabindex")||(s.tabIndex=0),this._updateState(),i)for(var _ in i){var w=i[_];if(this[_]=a.querySelector('[wj-part="'+w+'"]'),null==this[_]&&a.getAttribute("wj-part")==w&&(this[_]=a),null==this[_])throw'Missing template part: "'+w+'"';if(w==r){var C="name",S=s.attributes[C];S&&S.value&&this[_].setAttribute(C,S.value),(S=s.attributes[C="accesskey"])&&S.value&&(this[_].setAttribute(C,S.value),s.removeAttribute(C))}}return a},t.prototype.dispose=function(){if(this._e){for(var e=this._e.querySelectorAll(".wj-control"),n=0;n<e.length;n++){var i=t.getControl(e[n]);i&&i.dispose()}this._toInv&&(clearTimeout(this._toInv),this._toInv=null);var r=this._szObserver;for(var o in r&&r.disconnect(),this.removeEventListener(),this)o.length>2&&0==o.indexOf("on")&&(a=this[o[2].toLowerCase()+o.substr(3)])instanceof F&&a.removeAllHandlers();var s=this.collectionView;if(s instanceof Dt)for(var o in s){var a;(a=s[o])instanceof F&&a.removeHandler(null,this)}this._e.parentNode&&(this._e.outerHTML=this._orgOuter),this._e[t._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=this._szObserver=null}},t.getControl=function(e){var n=tt(e);return n?Me(n[t._CTRL_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightToLeft",{get:function(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir},enumerable:!0,configurable:!0}),t.prototype.focus=function(){var e=this._e;e&&(e.tabIndex>=0||!Ze(e,0))&&e.focus()},t.prototype.containsFocus=function(){return rt(this._e,Qe(),!0)},t.prototype.invalidate=function(e){var n=this;void 0===e&&(e=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||e,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout((function(){n.refresh(n._fullUpdate),n._toInv=null}),t._REFRESH_INTERVAL))},t.prototype.refresh=function(e){var t=this;void 0===e&&(e=!0),this.isUpdating||(this.onRefreshing(),setTimeout((function(){t.onRefreshed()}))),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1),this._updateState(),this._updateWme()},t.invalidateAll=function(e){e||(e=document.body);var n=e.children;if(n)for(var i=0;i<n.length;i++)t.invalidateAll(n[i]);var r=t.getControl(e);r&&r.invalidate()},t.refreshAll=function(e){if(e||(e=document.body),e.children)for(var n=0;n<e.children.length;n++)t.refreshAll(e.children[n]);var i=t.getControl(e);i&&i.refresh()},t.disposeAll=function(e){var n=t.getControl(e);if(n)n.dispose();else if(e.children)for(var i=0;i<e.children.length;i++)t.disposeAll(e.children[i])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(e){if((e=Ee(e,!0))!=this.isDisabled){var n=this._e;if(n){We(n,"wj-state-disabled",e),Ue(n,"disabled",e?"disabled":null),n.tabIndex=this.isDisabled||n.querySelector("input")?-1:this._orgTabIndex;for(var i=n.querySelectorAll("input,textarea,button,command,fieldset,keygen,optgroup,option,select"),r=0;r<i.length;r++){var o=i[r];if(!$e(o,"wj-btn"))if(e)o.tabIndex=-1;else{for(var s=!1,a=o;a&&!s;a=a.parentElement)t.getControl(ot(o,".wj-control")).isDisabled&&(s=!0);Ue(o,"tabindex",s?-1:null)}}}}},enumerable:!0,configurable:!0}),t.prototype.initialize=function(e){Ce(this,e)},t.prototype.addEventListener=function(e,t,n,i,r){if(e){null==i&&(i=!1),re(i)&&null==r&&(t.indexOf("touch")>-1||t.indexOf("wheel")>-1)&&(r=!1);var o=re(i)&&re(r)?O(i,r):i;e.addEventListener(t,n,o),this._listeners.push({target:e,type:t,fn:n,capture:i})}},t.prototype.removeEventListener=function(e,t,n,i){for(var r=0,o=0;o<this._listeners.length;o++){var s=this._listeners[o];null!=e&&e!=s.target||null!=t&&t!=s.type||null!=n&&n!=s.fn||null!=i&&i!=s.capture||(s.target.removeEventListener(s.type,s.fn,s.capture),this._listeners.splice(o,1),o--,r++)}return r},t.prototype.onGotFocus=function(e){this.gotFocus.raise(this,e)},t.prototype.onLostFocus=function(e){this.lostFocus.raise(this,e)},t.prototype.onInvalidInput=function(e){return this.invalidInput.raise(this,e),e.cancel&&this.focus(),this._updateState(),!e.cancel},t.prototype.onRefreshing=function(e){this.refreshing.raise(this,e)},t.prototype.onRefreshed=function(e){this.refreshed.raise(this,e)},t.prototype._getProductInfo=function(){return"B0C3,Control"},t.prototype._updateWme=function(){var e=this,n=this._getProductInfo(),i=t._toWme,r=en;oe(r)&&!i[n]&&(i[n]=setTimeout((function(){i[n]=null,r(e,t._licKey)}),t._REFRESH_INTERVAL))},t.prototype._hasPendingUpdates=function(){return null!=this._toInv},t.prototype._handleResize=function(){if(this._e.parentElement){var e=new dt(this._e.offsetWidth,this._e.offsetHeight);e.equals(this._szCtl)||(this._szCtl=e,(e.width||e.height)&&this.invalidate())}},t.prototype._handleFocusBlur=function(){var e=this;this._toFocus||(this._toFocus=setTimeout((function(){e._toFocus=null,e._updateFocusState()}),t._FOCUS_INTERVAL))},t.prototype._updateFocusState=function(){setTimeout((function(){for(var e=B.empty,n=document.body.querySelectorAll(".wj-state-focused"),i=0;i<n.length;i++)(a=t.getControl(n[i]))&&a._focus&&!a.containsFocus()&&(Ge(a._e,"wj-state-focus"),a._focus=!1,a._updateState(),a.onLostFocus(e));var r=Qe();if(r)for(var o=!0,s=r;s;){var a;(a=t.getControl(s))&&!a._focus&&a.containsFocus()&&(o&&(ze(s,"wj-state-focus"),o=!1),a._focus=!0,a._updateState(),a.onGotFocus(e)),s=s[t._OWNR_KEY]||s.parentNode}}))},t.prototype._updateState=function(){var e=this.hostElement;if(e){We(e,"wj-state-focused",this._focus),this._rtlDir="rtl"==getComputedStyle(e).direction,We(e,"wj-rtl",this._rtlDir);var t=e.querySelector("input");if(t instanceof HTMLInputElement){We(e,"wj-state-empty",0==t.value.length),We(e,"wj-state-readonly",t.readOnly);var n=t.validationMessage;We(e,"wj-state-invalid",!this._pristine&&null!=n&&n.length>0)}}},t.prototype._handleTouchStart=function(e){if(null==e.pointerType||"touch"==e.pointerType){t._toTouch&&(clearTimeout(t._toTouch),t._toTouch=null),t._touching=!0;var n=e.target,i=Qe();i&&!rt(i,n)&&t.getControl(ot(i,".wj-control"))&&n.focus()}},t.prototype._handleTouchEnd=function(e){if((null==e.pointerType||"touch"==e.pointerType)&&(t._toTouch=setTimeout((function(){t._toTouch=null,t._touching=!1}),900),document.querySelector("ion-app"))){var n=e.target;ot(n,".wj-dropdown-panel,.wj-dropdown")&&(n.focus(),e.stopPropagation(),e.stopImmediatePropagation())}},t.prototype._handleDisabled=function(e){(this.isDisabled||ot(e.target,".wj-state-disabled"))&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(e){var t=document.createElement("div");return e.parentElement.replaceChild(t,e),t.innerHTML=e.innerHTML,this._copyAttributes(t,e.attributes,/id|style|class/i),t},t.prototype._copyAttributes=function(e,t,n){if(e)for(var i=0;i<t.length;i++){var r=t[i].name;r.match(n)&&e.setAttribute(r,t[i].value)}},t.prototype._getKeyCode=function(e){var t=e.keyCode;if(this.rightToLeft)switch(t){case z.Right:t=z.Left;break;case z.Left:t=z.Right}return t},t._toWme={},t._REFRESH_INTERVAL=10,t._FOCUS_INTERVAL=5,t._ANIM_DEF_DURATION=400,t._ANIM_DEF_STEP=35,t._CLICK_DELAY=800,t._CLICK_REPEAT=75,t._CLIPBOARD_DELAY=100,t._POPUP_ZINDEX=1500,t._SEARCH_DELAY=500,t._HOVER_DELAY=400,t._LEAVE_DELAY=600,t._DRAG_SCROLL_EDGE=15,t._DRAG_SCROLL_STEP=20,t._CTRL_KEY="$WJ-CTRL",t._OWNR_KEY="$WJ-OWNR",t._SCRL_KEY="$WJ-SCRL",t._TTIP_KEY="$WJ-TTIP",t._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type|aria-.+/i,t}(Ht),$t=function(){function e(){}return e.copy=function(t){e._copyPaste(Te(t),null)},e.paste=function(t){t=Ae(t),e._copyPaste(null,t)},e._copyPaste=function(e,t){for(var n=Qe(),i=ot(n,".wj-control");i&&Vt.getControl(i);)i=i.parentElement;if(i=i||document.body){var r=!1,o=nt('<textarea class="wj-clipboard">',i,{position:"fixed",opacity:"0"});o.onkeydown=function(e){return e.preventDefault()},o.onchange=function(e){return e.stopImmediatePropagation()},ee(e)?(o.value=e,o.select(),document.execCommand("copy")&&(r=!0)):(o.select(),oe(t)&&document.execCommand("paste")&&(t(o.value),r=!0)),setTimeout((function(){n.focus({preventScroll:!0}),Je(o),!r&&oe(t)&&t(o.value)}),Vt._CLIPBOARD_DELAY)}},e}(),zt=function(){function e(e){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._clickBnd=this._click.bind(this),this.element=e,this._connect(!0)}return Object.defineProperty(e.prototype,"element",{get:function(){return this._e},set:function(e){this._connect(!1),this._e=Me(e,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=Ee(e)},enumerable:!0,configurable:!0}),e.prototype._connect=function(t){var n=this;this._e&&e._startEvents.forEach((function(e){t?n._e.addEventListener(e,n._mousedownBnd):n._e.removeEventListener(e,n._mousedownBnd)}))},e.prototype._clearTimeouts=function(){this._toRepeat&&(clearTimeout(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearTimeout(this._toDelay),this._toDelay=null)},e.prototype._mousedown=function(t){var n=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,e._stopEvents.forEach((function(e){document.addEventListener(e,n._mouseupBnd)})),this._clearTimeouts(),this._toDelay=setTimeout((function(){n._isDown&&(n._click(),n._toRepeat=setTimeout(n._clickBnd,Vt._CLICK_REPEAT))}),Vt._CLICK_DELAY))},e.prototype._mouseup=function(t){var n=this;this._isDown&&t&&"keydown"!=t.type&&this._clicked&&t.preventDefault(),e._stopEvents.forEach((function(e){document.removeEventListener(e,n._mouseupBnd)})),this._clearTimeouts(),this._isDown=!1,this._clicked=!1},e.prototype._click=function(){this._clicked=!0,this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._clickBnd,Vt._CLICK_REPEAT)))},e._startEvents=["mousedown","touchstart"],e._stopEvents=["mouseup","mouseout","keydown","touchend","touchcancel"],e}();function Gt(e,t,n,i,r,o){void 0===r&&(r=!0);var s=e.offsetHeight||e.offsetWidth,a=n;(re(n)||null==n)&&(a=n?Ft.AboveLeft:Ft.BelowLeft);var l=function(e){var t=document.body;if(e instanceof HTMLElement){if(!rt(document.body,e))return t;for(var n=e;n;n=n.parentElement){if("DIALOG"==n.tagName||"ION-CONTENT"==n.tagName||"fixed"==getComputedStyle(n).position){t=n;break}if(qt(n)){t=n.querySelector(".ui-dialog-content")||n;break}}}return t}(t);if(function(e,t){e.offsetHeight&&e.offsetWidth&&e.parentElement==t||(ct(e,{opacity:"0",position:"fixed",left:0,top:0,transform:"",display:""}),t.appendChild(e))}(e,l),function(e,t,n){if(t instanceof HTMLElement&&n){var i=n instanceof HTMLElement?n:t,r=getComputedStyle(i);1==new _t(r.backgroundColor).a&&ct(e,{color:r.color,backgroundColor:r.backgroundColor,fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,fontStyle:r.fontStyle})}}(e,t,r),Vt.refreshAll(e),d()?requestAnimationFrame((function(){Ut(e,t,a)})):Ut(e,t,a),t instanceof HTMLElement&&(e[Vt._OWNR_KEY]=t),!s){if(function(e,t,n){var i=t instanceof MouseEvent?t.target:t;if(i instanceof HTMLElement&&i.parentElement!=document.body){var r=Date.now(),o=i.getBoundingClientRect(),s=new Vt(document.createElement("div"));e[Vt._SCRL_KEY]=s,s.addEventListener(document,"scroll",(function(a){if(a.target!=e.parentElement&&Date.now()-r>100&&rt(document,i)&&!rt(e,a.target)&&(a.target!=document||null!=t&&"fixed"==e.style.position)){var l=i.getBoundingClientRect(),c=Math.abs(l.left-o.left),u=Math.abs(l.top-o.top);(c>1||u>1)&&(oe(n)&&n(),Kt(e,!0),s.dispose())}}),!0)}}(e,t,o),i)return ut((function(t){return e.style.opacity=t<1?t.toString():""}));e.style.opacity=""}return null}function Wt(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var i=null;return n?i=ut((function(n){e.style.opacity=(1-n).toString(),1==n&&(Kt(e,t),e.style.opacity="")})):Kt(e,t),i}function Ut(e,t,n){var i=function(e,t){return t instanceof MouseEvent?t.clientX<=0&&t.clientY<=0&&t.target instanceof HTMLElement?ft.fromBoundingRect(t.target.getBoundingClientRect()):new ft(t.pageX-pageXOffset,t.pageY-pageYOffset,0,0):t instanceof ht?new ft(t.x,t.y,0,0):t instanceof HTMLElement?ft.fromBoundingRect(t.getBoundingClientRect()):t&&null!=t.top&&null!=t.left?t:null}(0,t),r=function(e){var t=document.body,n=document.documentElement,i=e.parentElement,r=new ht(t.scrollLeft||pageXOffset,t.scrollTop||pageYOffset);if(i!=t){var o=i==t?n:e.offsetParent||i;if(o==t&&(o=i),o){var s=o.getBoundingClientRect();r=new ht(o.scrollLeft-s.left,o.scrollTop-s.top)}}if(i instanceof HTMLElement){var a=getComputedStyle(i);r.x-=parseFloat(a.borderLeftWidth),r.y-=parseFloat(a.borderTopWidth)}return r}(e),o=function(e,t,n,i){var r=document.documentElement,o=r.clientWidth,s=r.clientHeight,a=Ft;switch(n){case a.AboveLeft:case a.AboveRight:case a.BelowLeft:case a.BelowRight:if(t){var l=t.width;l&&(v()&&(l-=e.offsetWidth-e.clientWidth),e.style.minWidth=l+"px")}}var c=getComputedStyle(e),u=parseFloat(c.marginTop)+parseFloat(c.marginBottom),h=parseFloat(c.marginLeft)+parseFloat(c.marginRight),d=new dt(e.offsetWidth+h,e.offsetHeight+u),f=new ht((o-d.width)/2,Math.round((s-d.height)/2*.7));if(t){"rtl"==c.direction&&(n=function(e){var t=Ft;switch(e){case t.AboveLeft:return t.AboveRight;case t.AboveRight:return t.AboveLeft;case t.BelowLeft:return t.BelowRight;case t.BelowRight:return t.BelowLeft;case t.Left:return t.Right;case t.LeftTop:return t.RightTop;case t.LeftBottom:return t.RightBottom;case t.Right:return t.Left;case t.RightTop:return t.LeftTop;case t.RightBottom:return t.LeftBottom}return e}(n));var p=t.left,g=o-t.right;switch(f.x=t.left,n){case a.Above:case a.Below:f.x=t.left+(t.width-d.width)/2;break;case a.AboveLeft:case a.BelowLeft:f.x=t.left;break;case a.AboveRight:case a.BelowRight:f.x=t.right-d.width;break;case a.Left:case a.LeftTop:case a.LeftBottom:f.x=p>=d.width||p>=g?t.left-d.width:t.right;break;case a.RightTop:case a.RightBottom:case a.Right:f.x=g>=d.width||g>=p?t.right:t.left-d.width}var m=t.top,b=s-t.bottom;switch(n){case a.Above:case a.AboveLeft:case a.AboveRight:f.y=m>d.height||m>b?t.top-d.height:t.bottom;break;case a.Below:case a.BelowLeft:case a.BelowRight:f.y=b>d.height||b>m?t.bottom:t.top-d.height;break;case a.LeftTop:case a.RightTop:f.y=t.top;break;case a.LeftBottom:case a.RightBottom:f.y=t.bottom-d.height;break;case a.Left:case a.Right:f.y=t.bottom-d.height+(d.height-t.height)/2}}return f.x=Math.min(f.x,o-d.width),f.y=Math.min(f.y,s-d.height),f.x=Math.max(0,f.x)+i.x,f.y=Math.max(0,f.y)+i.y,f}(e,i,n,r),s={position:"absolute",zIndex:Vt._POPUP_ZINDEX};0==r.x?(s.left=o.x,s.top=o.y):s.transform="translate("+o.x+"px, "+o.y+"px)",ct(e,s)}function Kt(e,t){e.style.display="none",t&&e.parentElement&&setTimeout((function(){"none"==e.style.display&&(Je(e),oe(t)&&t())}),Vt._FOCUS_INTERVAL+50);var n=e[Vt._SCRL_KEY];n instanceof Vt&&n.dispose(),delete e[Vt._SCRL_KEY],delete e[Vt._OWNR_KEY]}function qt(e){var t=window.jQuery,n=oe(t)?t(e):null;return n&&oe(n.dialog)&&$e(e,"ui-dialog")}!function(e){e[e.Above=0]="Above",e[e.AboveRight=1]="AboveRight",e[e.RightTop=2]="RightTop",e[e.Right=3]="Right",e[e.RightBottom=4]="RightBottom",e[e.BelowRight=5]="BelowRight",e[e.Below=6]="Below",e[e.BelowLeft=7]="BelowLeft",e[e.LeftBottom=8]="LeftBottom",e[e.Left=9]="Left",e[e.LeftTop=10]="LeftTop",e[e.AboveLeft=11]="AboveLeft"}(Ft||(Ft={}));var Xt=function(){function e(e){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._mousemoveBnd=this._mousemove.bind(this),this._html=!0,this._gap=6,this._isAnimated=!1,this._position=Ft.Above,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new F,Ce(this,e)}return Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(e){this._position=Pe(e,Ft)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(e){this._isAnimated=Ee(e)},enumerable:!0,configurable:!0}),e.prototype.setTooltip=function(t,n,i){t=tt(t),n=this._getContent(n);var r=this._indexOf(t);r>-1&&(this._detach(t),this._tips.splice(r,1)),n&&(this._attach(t),this._tips.push({element:t,content:n,position:i}));var o=e._eTip;o&&o[Vt._TTIP_KEY]==t&&(n?this._setContent(n):this._hideAutoTip())},e.prototype.getTooltip=function(e){e=tt(e);for(var t=this._tips,n=0;n<t.length;n++)if(t[n].element==e)return t[n].content;return null},e.prototype.show=function(t,n,i,r){if(t=tt(t),n=this._getContent(n),t){null==r&&(r=this.position);var o=e._eTip;o||(ze(o=e._eTip=document.createElement("div"),"wj-tooltip"),o.style.visibility="none"),ze(o,this.cssClass),this._setContent(n),o[Vt._TTIP_KEY]=t;var s=new Yt(n,t);if(this.onPopup(s),s.content&&!s.cancel){this._setContent(s.content),i||(i=ft.fromBoundingRect(t.getBoundingClientRect()));var a=this.gap;if(a)switch(r){case Ft.Above:case Ft.AboveLeft:case Ft.AboveRight:case Ft.Below:case Ft.BelowLeft:case Ft.BelowRight:i=i.inflate(0,a);break;default:i=i.inflate(a,0)}Gt(o,i,r,this.isAnimated),document.addEventListener("mousedown",this._hideAutoTipBnd)}}},e.prototype.hide=function(){var t=e._eTip;t&&(Je(t),Ge(t,this.cssClass),t.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},e.prototype.dispose=function(){var e=this;this.isVisible&&this.hide();var t=this._tips;t.length&&(t.forEach((function(t){e._detach(t.element)})),t.splice(0,t.length)),this._clearTimeouts()},Object.defineProperty(e.prototype,"isVisible",{get:function(){var t=e._eTip;return null!=t&&null!=t.parentElement&&t.offsetWidth>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){this._html=Ee(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return this._cssClass},set:function(e){this._cssClass=Te(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return this._gap},set:function(e){this._gap=ke(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(e){this._showAtMouse=Ee(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDelay",{get:function(){return this._showDelay},set:function(e){this._showDelay=xe(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(e){this._hideDelay=xe(e)},enumerable:!0,configurable:!0}),e.prototype.onPopup=function(e){return this.popup&&this.popup.raise(this,e),!e.cancel},e.prototype._indexOf=function(e){for(var t=0;t<this._tips.length;t++)if(this._tips[t].element==e)return t;return-1},e.prototype._attach=function(e){e.addEventListener("mouseenter",this._showAutoTipBnd),e.addEventListener("mouseleave",this._hideAutoTipBnd),e.addEventListener("click",this._showAutoTipBnd),this.showAtMouse&&e.addEventListener("mousemove",this._mousemoveBnd)},e.prototype._detach=function(e){e.removeEventListener("mouseenter",this._showAutoTipBnd),e.removeEventListener("mouseleave",this._hideAutoTipBnd),e.removeEventListener("click",this._showAutoTipBnd),e.removeEventListener("mousemove",this._mousemoveBnd)},e.prototype._showAutoTip=function(e){var t=this;if(!e.defaultPrevented)if("click"!=e.type||Vt._touching){var n="mouseenter"==e.type?this._showDelay:0,i=this._hideDelay;this._clearTimeouts(),this._eMouse=e,this._toShow=setTimeout((function(){var n=t._indexOf(e.target);if(n>-1){var r=t._tips[n],o=t._eMouse,s=t._showAtMouse?new ft(o.clientX,o.clientY,0,0):null;t.show(r.element,r.content,s,r.position),i>0&&(t._toHide=setTimeout((function(){t.hide()}),i))}}),n)}else this._hideAutoTip()},e.prototype._mousemove=function(e){this._eMouse=e},e.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},e.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},e.prototype._getContent=function(e){if((e=Te(e))&&"#"==e[0]){var t=tt(e);t&&(e=t.innerHTML)}return e},e.prototype._setContent=function(t){var n=e._eTip;n&&(this._html?n.innerHTML=t:n.textContent=t)},e}(),Yt=function(e){function t(t,n){var i=e.call(this)||this;return i._content=Te(t),i._e=n,i}return o(t,e),Object.defineProperty(t.prototype,"tip",{get:function(){return Xt._eTip},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){this._content=Te(e)},enumerable:!0,configurable:!0}),t}(H);bt("wijmo",r);var Jt="The Wijmo license in this application ",Qt={evl:"Wijmo Evaluation Version ({version})",prd:Jt+"is not valid for the <b>{control}</b> control.",ver:Jt+"is not valid for the version in use. The license version is <b>{licVer}</b>; the product version is <b>{version}</b>.",dmn:Jt+"is not valid for the current domain. The license domain is <b>{licDomain}</b>; the current domain is <b>{domain}</b>.",exp:Jt+"has expired. The license expiration date is <b>{expDate:d}</b>.",lic:Jt+"is invalid.",mss:Jt+"is not set.",ctc:'Please <a target="_blank" rel="noopener" href="https://www.grapecity.com/licensing/wijmo">create a license</a> or contact GrapeCity: <a href="mailto:us.sales@grapecity.com">us.sales@grapecity.com</a>.',hdr:"Wijmo License",cls:"CLOSE"},Zt={};function en(e,t){var n=Vt._wme;if(!(n&&rt(document.body,n)&&n.offsetWidth&&n.offsetHeight))if(t){var i=tn(e);Zt[i]||(Zt[i]=!0,function(e,t,n,i){var r=function(e,t){try{var n=e.indexOf(t="#"+t);if(n>-1)return{prefix:e.substring(0,n),lic:JSON.parse(un(e.substr(n+t.length)))}}catch(e){}return null}(e,t.algorithmCode);if(!r)return i();var o=r.lic,s=r.prefix+"#"+t.algorithmCode;if(function(e){for(var t=0,n=5381,i=0,r=e.length-1;r>=0;r--){var o=e.charCodeAt(r);t=o+(t<<6)+(t<<16)-t,n=o+((n<<5)+n),i=o+((i<<5)-i)}var s=t^n^i;return s<0&&(s=~s),s.toString(16).toUpperCase()}(s+JSON.stringify(o.D))!=o.H)return i();var a=window.msCrypto||window.crypto,l=a?a.subtle:null;if(!l||!location.protocol.match(/^https/i))return n(o.D);var c={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},u={alg:"RS256",e:"AQAB",kty:"RSA",n:pn(t.publicKey)};u=window.msCrypto?gn(JSON.stringify(u)):u;try{mn(l.importKey("jwk",u,c,!1,["verify"])).then((function(e){var t=function(e){return String.fromCharCode.apply(null,new cn(e))}(fn(function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})))}(s+JSON.stringify(o.D))));mn(l.verify(c,e,fn(o.S),gn(t))).then((function(e){return e?n(o.D):i()}))}),(function(){return n(o.D)}))}catch(e){return n(o.D)}}(t,{algorithmCode:"B0",publicKey:"l6/zrbWoSbcLFwEetFh38rH3ErBZE9H+Cqix3R+wTlfA1wD5B+lUcCQn+EJ60I4RGrm0x1sFjkiLWwB0jAn6BWZv0W4WbqAKriOdeoivxDp1Wmjs3qkEDhvbsjPtfvwx2BHil6o+/tDrdMJQSGs18WZm2PoQLQuL+9VhZ4FNRHUQU3Jtioke/OZEGHJOdYVwvCGalzBad6QFOiVbDBQPePpS3++GJzOxN8SN/7lyS5/IdKiy3WJRaVGkB370+HbN6hKraDfUgReLX26yxRaKC/5aWnGAJ2NnWLoGyAGRcwT9dVjo4bcAZNrrA0U9JVKQxaSskhdv2p49XzJkltXx5w=="},(function(n){rn(e,t,n)}),(function(){rn(e,t,null)})),setTimeout((function(){delete Zt[i]}),50))}else rn(e,null,null)}function tn(e){return e._getProductInfo().split(",")[0]}function nn(e){return e._getProductInfo().split(",")[1]}function rn(e,t,n){var i=wt.Licensing||Qt,r=null;n?function(e,t){if(t.Exp){var n=t.Exp,i=new Date(parseInt(n.substr(0,4))||0,parseInt(n.substr(4,2))-1||0,parseInt(n.substr(6,2))||0);if(Math.ceil((i.valueOf()-Date.now())/864e5)<=0)return!1}return!0}(0,n)?function(e,t){var n=t.Anl?t.Anl.ver:null;return!n||parseInt(n.replace("v",""))+10>=parseInt("5.20202.724".split(".")[1])}(0,n)?function(e,t){if(an()||!t.Dms)return!0;for(var n=location.hostname,i=t.Dms.split(","),r=0;r<i.length;r++)if(on(n,i[r]))return!0;return!1}(0,n)?function(e,t){var n=tn(e);if(n&&n.length>=4)for(var i=0;i<t.Prd.length;i++)if(t.Prd[i].C.indexOf(n)>-1)return!0;return!1}(e,n)?sn(0,n)&&(r=i.evl):r=i.prd:r=i.dmn:r=i.ver:r=i.exp:r=t?i.lic:i.mss,r&&function(e,t,n){if(t=ln(e,t,n),!Zt[" "]&&!an()&&!sn(0,n)){Zt[" "]=!0;var i=wt.Licensing||Qt,r=nt('<div style="position:fixed;background:rgba(0,0,0,0.3);left:0;top:0;width:100%;height:100%;font-family: sans-serif;z-index:10000;"><div style="position:relative;overflow:auto;background:white;width:450px;padding:36pt;left:50%;top:50%;transform:translate(-50%,-50%)"><div><p style="font-size:150%;font-weight:bold">'+i.hdr+"</p><p>"+t+'</p></div><div style="text-align:right;margin-top:24pt"><button style="border:none;background:rgba(158,158,158,.2);padding:8px 16px">'+i.cls+"</button></div></div></div>",document.body);r.addEventListener("click",(function(e){e.target instanceof HTMLButtonElement&&Je(r)}))}if(!Vt._wme){var o=nt('<div><a href="'+("ja"==wt.Globalize.name?"https://www.grapecity.co.jp/developer/support/wijmo-license":"https://www.grapecity.com/licensing/wijmo")+'" target="_blank" rel="noopener">'+ln(e)+"</a></div>"),s={position:"fixed",display:"block",visibility:"visible",background:"rgba(240,240,240,.9)",padding:"8px 12px",margin:"6px",fontFamily:"sans-serif",fontSize:"14pt",fontWeight:"bold",zIndex:1e4,opacity:.8,height:"auto",width:"auto",transform:"none"};switch(Math.round(100*Math.random())%3){case 0:s.right=s.bottom=0;break;case 1:s.left=s.bottom=0;break;case 2:s.right=s.top=0}ct(o,s),document.body.appendChild(o),Vt._wme=o,(new Xt).setTooltip(o,t)}}(e,r+="<br/><br/>"+i.ctc,n)}function on(e,t){var n="^"+t.replace(/\./g,"\\.").replace(/\*/g,"(.*)")+"$",i=new RegExp(n,"i").test(e);return i||"*."!=t.substr(0,2)?i:on(e,t.substr(2))}function sn(e,t){return!!t&&t.Evl}function an(){var e=location,t=atob("Xih8bG9jYWxob3N0fGZpZGRsZS5qc2hlbGwubmV0fHJ1bi5wbG5rci5jb3xzLmNvZGVwZW4uaW98bnVsbC5qc2Jpbi5jb218Lio/LnN0YWNrYmxpdHouaW98MTI3LjAuMC4xfFt3LV0rLmxvY2FsfFt3LV0rfDo6MSkk");return"file:"==e.protocol||new RegExp(t,"i").test(e.hostname)}function ln(e,t,n){(!t||t.trim().length<15)&&(t=(wt.Licensing||Qt).evl),(!t||t.trim().length<15)&&(t=atob("V2lqbW8gRXZhbHVhdGlvbiBWZXJzaW9uICh7dmVyc2lvbn0p"));var i=null;if(n&&n.Exp){var r=n.Exp;i=new Date(parseInt(r.substr(0,4))||0,parseInt(r.substr(4,2))-1||0,parseInt(r.substr(6,2))||0)}return be(t,{version:"5.20202.724",domain:location.hostname,control:nn(e),licVer:n&&n.Anl?"5."+n.Anl.ver.replace("v","")+".*":null,licDomain:n?n.Dms:null,expDate:i})}var cn="undefined"==typeof window?null:window.Uint8Array||window.TypedArray;function un(e){if(!e)return"";var t=function(e){for(var t=e.split(""),n=t.length-5;n>=0;n--)hn(t,n+1,n+3,dn),hn(t,n,n+2,dn);return t.join("")}(e);t=function(e){return e.split("").reverse().join("")}(t);var n=Math.ceil(t.length/2);return function(e){for(var t=atob(e),n="",i=0;i<t.length;i++)n+="%"+("00"+t.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(n)}(t=(t=(t=t.substr(n)+t.substr(0,n)).replace("#","=")).replace("&","=="))}function hn(e,t,n,i){e.length>1&&e.splice(n,1,i(e.splice(t,1,i(e[n]))[0]))}function dn(e){return function(e,t){var n=e.charCodeAt(0);return n>=65&&n<=90?e.toLowerCase():n>=97&&n<=122?e.toUpperCase():n>=48&&n<=57?String.fromCharCode(48+(n-48+10-1)%10):e}(e)}function fn(e){for(var t=atob(e),n=t.length,i=new cn(n),r=0;r<n;r++)i[r]=t.charCodeAt(r);return i.buffer}function pn(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function gn(e){for(var t=new ArrayBuffer(e.length),n=new cn(t),i=0,r=e.length;i<r;i++)n[i]=e.charCodeAt(i);return t}function mn(e){return"oncomplete"in e&&(e.then=function(t,n){e.resolve=t,e.reject=n},e.oncomplete=function(t){e.resolve(e.result)},e.onerror=function(t){e.reject()}),e}},"tk/3":function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return q})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return C})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return H}));var i=n("Ji7U"),r=n("LK+K"),o=n("ODXe"),s=n("KQm4"),a=n("vuIU"),l=n("1OyB"),c=n("fXoL"),u=n("LRne"),h=n("HDdC"),d=n("bOdf"),f=n("pLZG"),p=n("lJxs"),g=n("ofXK"),m=function e(){Object(l.a)(this,e)},b=function e(){Object(l.a)(this,e)},v=function(){function e(t){var n=this;Object(l.a)(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var i=e.slice(0,t),r=i.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(o):n.headers.set(r,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var i=t[e],r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(e,r))}))}:this.headers=new Map}return Object(a.a)(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var i=("a"===e.op?this.headers.get(t):void 0)||[];i.push.apply(i,Object(s.a)(n)),this.headers.set(t,i);break;case"d":var r=e.value;if(r){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===r.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),y=function(){function e(){Object(l.a)(this,e)}return Object(a.a)(e,[{key:"encodeKey",value:function(e){return w(e)}},{key:"encodeValue",value:function(e){return w(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function _(e,t){var n=new Map;return e.length>0&&e.split("&").forEach((function(e){var i=e.indexOf("="),r=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],s=Object(o.a)(r,2),a=s[0],l=s[1],c=n.get(a)||[];c.push(l),n.set(a,c)})),n}function w(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var C=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(l.a)(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new y,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=_(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(e){var i=n.fromObject[e];t.map.set(e,Array.isArray(i)?i:[i])}))):this.map=null}return Object(a.a)(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var i=e.map.get(t.param)||[],r=i.indexOf(t.value);-1!==r&&i.splice(r,1),i.length>0?e.map.set(t.param,i):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function S(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function O(e){return"undefined"!=typeof Blob&&e instanceof Blob}function T(e){return"undefined"!=typeof FormData&&e instanceof FormData}var k=function(){function e(t,n,i,r){var o;if(Object(l.a)(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new v),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new C,this.urlWithParams=n}return Object(a.a)(e,[{key:"serializeBody",value:function(){return null===this.body?null:S(this.body)||O(this.body)||T(this.body)||"string"==typeof this.body?this.body:this.body instanceof C?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||T(this.body)?null:O(this.body)?this.body.type||null:S(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof C?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,l=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),c)),new e(n,i,o,{params:c,headers:l,reportProgress:a,responseType:r,withCredentials:s})}}]),e}(),x=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),E=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";Object(l.a)(this,e),this.headers=t.headers||new v,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},j=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(l.a)(this,n),(e=t.call(this,i)).type=x.ResponseHeader,e}return Object(a.a)(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(E),A=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(l.a)(this,n),(e=t.call(this,i)).type=x.Response,e.body=void 0!==i.body?i.body:null,e}return Object(a.a)(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(E),I=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),i.error=e.error||null,i}return n}(E);function M(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var P=function(){var e=function(){function e(t){Object(l.a)(this,e),this.handler=t}return Object(a.a)(e,[{key:"request",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof k)n=e;else{var o=void 0;o=r.headers instanceof v?r.headers:new v(r.headers);var s=void 0;r.params&&(s=r.params instanceof C?r.params:new C({fromObject:r.params})),n=new k(e,t,void 0!==r.body?r.body:null,{headers:o,params:s,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}var a=Object(u.a)(n).pipe(Object(d.a)((function(e){return i.handler.handle(e)})));if(e instanceof k||"events"===r.observe)return a;var l=a.pipe(Object(f.a)((function(e){return e instanceof A})));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return l.pipe(Object(p.a)((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return l.pipe(Object(p.a)((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return l.pipe(Object(p.a)((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return l.pipe(Object(p.a)((function(e){return e.body})))}case"response":return l;default:throw new Error("Unreachable: unhandled observe type ".concat(r.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new C).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,M(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,M(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,M(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Xb(m))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac}),e}(),D=function(){function e(t,n){Object(l.a)(this,e),this.next=t,this.interceptor=n}return Object(a.a)(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),R=new c.s("HTTP_INTERCEPTORS"),N=function(){var e=function(){function e(){Object(l.a)(this,e)}return Object(a.a)(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac}),e}(),L=/^\)\]\}',?\n/,F=function e(){Object(l.a)(this,e)},B=function(){var e=function(){function e(){Object(l.a)(this,e)}return Object(a.a)(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac}),e}(),H=function(){var e=function(){function e(t){Object(l.a)(this,e),this.xhrFactory=t}return Object(a.a)(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new h.a((function(n){var i=t.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((function(e,t){return i.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var r=e.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(e.responseType){var o=e.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var s=e.serializeBody(),a=null,l=function(){if(null!==a)return a;var t=1223===i.status?204:i.status,n=i.statusText||"OK",r=new v(i.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return a=new j({headers:r,status:t,statusText:n,url:o})},c=function(){var t=l(),r=t.headers,o=t.status,s=t.statusText,a=t.url,c=null;204!==o&&(c=void 0===i.response?i.responseText:i.response),0===o&&(o=c?200:0);var u=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){var h=c;c=c.replace(L,"");try{c=""!==c?JSON.parse(c):null}catch(d){c=h,u&&(u=!1,c={error:d,text:c})}}u?(n.next(new A({body:c,headers:r,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new I({error:c,headers:r,status:o,statusText:s,url:a||void 0}))},u=function(e){var t=l(),r=new I({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:t.url||void 0});n.error(r)},h=!1,d=function(t){h||(n.next(l()),h=!0);var r={type:x.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(r.total=t.total),"text"===e.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},f=function(e){var t={type:x.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return i.addEventListener("load",c),i.addEventListener("error",u),e.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",f)),i.send(s),n.next({type:x.Sent}),function(){i.removeEventListener("error",u),i.removeEventListener("load",c),e.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Xb(F))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac}),e}(),V=new c.s("XSRF_COOKIE_NAME"),$=new c.s("XSRF_HEADER_NAME"),z=function e(){Object(l.a)(this,e)},G=function(){var e=function(){function e(t,n,i){Object(l.a)(this,e),this.doc=t,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return Object(a.a)(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(g.z)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Xb(g.d),c.Xb(c.E),c.Xb(V))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac}),e}(),W=function(){var e=function(){function e(t,n){Object(l.a)(this,e),this.tokenService=t,this.headerName=n}return Object(a.a)(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Xb(z),c.Xb($))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac}),e}(),U=function(){var e=function(){function e(t,n){Object(l.a)(this,e),this.backend=t,this.injector=n,this.chain=null}return Object(a.a)(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(R,[]);this.chain=t.reduceRight((function(e,t){return new D(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Xb(b),c.Xb(c.t))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac}),e}(),K=function(){var e=function(){function e(){Object(l.a)(this,e)}return Object(a.a)(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:W,useClass:N}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:V,useValue:t.cookieName}:[],t.headerName?{provide:$,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)},providers:[W,{provide:R,useExisting:W,multi:!0},{provide:z,useClass:G},{provide:V,useValue:"XSRF-TOKEN"},{provide:$,useValue:"X-XSRF-TOKEN"}]}),e}(),q=function(){var e=function e(){Object(l.a)(this,e)};return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)},providers:[P,{provide:m,useClass:U},H,{provide:b,useExisting:H},B,{provide:F,useExisting:B}],imports:[[K.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}()},tyNb:function(e,t,n){"use strict";n.d(t,"a",(function(){return $e})),n.d(t,"b",(function(){return G})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return W})),n.d(t,"e",(function(){return $})),n.d(t,"f",(function(){return ln})),n.d(t,"g",(function(){return fn})),n.d(t,"h",(function(){return hn})),n.d(t,"i",(function(){return Tn})),n.d(t,"j",(function(){return pn})),n.d(t,"k",(function(){return U}));var i=n("rePB"),r=n("KQm4"),o=n("JX7q"),s=n("uFwe"),a=n("vuIU"),l=n("Ji7U"),c=n("LK+K"),u=n("1OyB"),h=n("ofXK"),d=n("fXoL"),f=n("LRne"),p=n("Cfvw"),g=n("2Vo4"),m=n("HDdC"),b=n("sVev"),v=n("itXk"),y=n("NXyV"),_=n("EY2u"),w=n("XNiG"),C=n("lJxs"),S=n("0EUg"),O=n("NJ9Y"),T=n("JIr8"),k=n("SxV6"),x=n("5+tZ"),E=n("vkgz"),j=n("7o/Q"),A=function(){function e(t,n,i){Object(u.a)(this,e),this.predicate=t,this.thisArg=n,this.source=i}return Object(a.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new I(e,this.predicate,this.thisArg,this.source))}}]),e}(),I=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i,r,s){var a;return Object(u.a)(this,n),(a=t.call(this,e)).predicate=i,a.thisArg=r,a.source=s,a.index=0,a.thisArg=r||Object(o.a)(a),a}return Object(a.a)(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(j.a),M=n("eIep"),P=n("IzEk"),D=n("JX91"),R=n("Kqap"),N=n("pLZG"),L=n("bOdf"),F=n("BFxc"),B=n("nYR2"),H=n("bHdf"),V=function e(t,n){Object(u.a)(this,e),this.id=t,this.url=n},$=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(u.a)(this,n),(r=t.call(this,e,i)).navigationTrigger=o,r.restoredState=s,r}return Object(a.a)(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(V),z=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i,r){var o;return Object(u.a)(this,n),(o=t.call(this,e,i)).urlAfterRedirects=r,o}return Object(a.a)(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(V),G=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i,r){var o;return Object(u.a)(this,n),(o=t.call(this,e,i)).reason=r,o}return Object(a.a)(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(V),W=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i,r){var o;return Object(u.a)(this,n),(o=t.call(this,e,i)).error=r,o}return Object(a.a)(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(V),U=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i,r,o){var s;return Object(u.a)(this,n),(s=t.call(this,e,i)).urlAfterRedirects=r,s.state=o,s}return Object(a.a)(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(V),K=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i,r,o){var s;return Object(u.a)(this,n),(s=t.call(this,e,i)).urlAfterRedirects=r,s.state=o,s}return Object(a.a)(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(V),q=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i,r,o,s){var a;return Object(u.a)(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=o,a.shouldActivate=s,a}return Object(a.a)(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(V),X=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i,r,o){var s;return Object(u.a)(this,n),(s=t.call(this,e,i)).urlAfterRedirects=r,s.state=o,s}return Object(a.a)(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(V),Y=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i,r,o){var s;return Object(u.a)(this,n),(s=t.call(this,e,i)).urlAfterRedirects=r,s.state=o,s}return Object(a.a)(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(V),J=function(){function e(t){Object(u.a)(this,e),this.route=t}return Object(a.a)(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Q=function(){function e(t){Object(u.a)(this,e),this.route=t}return Object(a.a)(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Z=function(){function e(t){Object(u.a)(this,e),this.snapshot=t}return Object(a.a)(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ee=function(){function e(t){Object(u.a)(this,e),this.snapshot=t}return Object(a.a)(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),te=function(){function e(t){Object(u.a)(this,e),this.snapshot=t}return Object(a.a)(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ne=function(){function e(t){Object(u.a)(this,e),this.snapshot=t}return Object(a.a)(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ie=function(){function e(t,n,i){Object(u.a)(this,e),this.routerEvent=t,this.position=n,this.anchor=i}return Object(a.a)(e,[{key:"toString",value:function(){var e=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(e,"')")}}]),e}(),re=function(){function e(t){Object(u.a)(this,e),this.params=t||{}}return Object(a.a)(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function oe(e){return new re(e)}function se(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function ae(e,t,n){var i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;for(var r={},o=0;o<i.length;o++){var s=i[o],a=e[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function le(e,t){var n,i=Object.keys(e),r=Object.keys(t);if(!i||!r||i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(!ce(e[n=i[o]],t[n]))return!1;return!0}function ce(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function ue(e){return Array.prototype.concat.apply([],e)}function he(e){return e.length>0?e[e.length-1]:null}function de(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function fe(e){return Object(d.rb)(e)?e:Object(d.sb)(e)?Object(p.a)(Promise.resolve(e)):Object(f.a)(e)}function pe(e,t,n){return n?function(e,t){return le(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!ve(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return ce(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,i,r){if(n.segments.length>r.length)return!!ve(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!ve(n.segments,r))return!1;for(var o in i.children){if(!n.children[o])return!1;if(!e(n.children[o],i.children[o]))return!1}return!0}var s=r.slice(0,n.segments.length),a=r.slice(n.segments.length);return!!ve(n.segments,s)&&!!n.children.primary&&t(n.children.primary,i,a)}(t,n,n.segments)}(e.root,t.root)}var ge=function(){function e(t,n,i){Object(u.a)(this,e),this.root=t,this.queryParams=n,this.fragment=i}return Object(a.a)(e,[{key:"toString",value:function(){return Ce.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=oe(this.queryParams)),this._queryParamMap}}]),e}(),me=function(){function e(t,n){var i=this;Object(u.a)(this,e),this.segments=t,this.children=n,this.parent=null,de(n,(function(e,t){return e.parent=i}))}return Object(a.a)(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Se(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),be=function(){function e(t,n){Object(u.a)(this,e),this.path=t,this.parameters=n}return Object(a.a)(e,[{key:"toString",value:function(){return je(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=oe(this.parameters)),this._parameterMap}}]),e}();function ve(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function ye(e,t){var n=[];return de(e.children,(function(e,i){"primary"===i&&(n=n.concat(t(e,i)))})),de(e.children,(function(e,i){"primary"!==i&&(n=n.concat(t(e,i)))})),n}var _e=function e(){Object(u.a)(this,e)},we=function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"parse",value:function(e){var t=new De(e);return new ge(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,i="/".concat(function e(t,n){if(!t.hasChildren())return Se(t);if(n){var i=t.children.primary?e(t.children.primary,!1):"",r=[];return de(t.children,(function(t,n){"primary"!==n&&r.push("".concat(n,":").concat(e(t,!1)))})),r.length>0?"".concat(i,"(").concat(r.join("//"),")"):i}var o=ye(t,(function(n,i){return"primary"===i?[e(t.children.primary,!1)]:["".concat(i,":").concat(e(n,!1))]}));return"".concat(Se(t),"/(").concat(o.join("//"),")")}(e.root,!0)),r=(t=e.queryParams,(n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(Te(e),"=").concat(Te(t))})).join("&"):"".concat(Te(e),"=").concat(Te(n))}))).length?"?".concat(n.join("&")):""),o="string"==typeof e.fragment?"#".concat(encodeURI(e.fragment)):"";return"".concat(i).concat(r).concat(o)}}]),e}(),Ce=new we;function Se(e){return e.segments.map((function(e){return je(e)})).join("/")}function Oe(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Te(e){return Oe(e).replace(/%3B/gi,";")}function ke(e){return Oe(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xe(e){return decodeURIComponent(e)}function Ee(e){return xe(e.replace(/\+/g,"%20"))}function je(e){return"".concat(ke(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(ke(e),"=").concat(ke(t[e]))})).join("")));var t}var Ae=/^[^\/()?;=#]+/;function Ie(e){var t=e.match(Ae);return t?t[0]:""}var Me=/^[^=?&#]+/,Pe=/^[^?&#]+/,De=function(){function e(t){Object(u.a)(this,e),this.url=t,this.remaining=t}return Object(a.a)(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new me(e,t)),n}},{key:"parseSegment",value:function(){var e=Ie(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new be(xe(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Ie(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=Ie(this.remaining);i&&this.capture(n=i)}e[xe(t)]=xe(n)}}},{key:"parseQueryParam",value:function(e){var t,n=(t=this.remaining.match(Me))?t[0]:"";if(n){this.capture(n);var i="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Pe);return t?t[0]:""}(this.remaining);r&&this.capture(i=r)}var o=Ee(n),s=Ee(i);if(e.hasOwnProperty(o)){var a=e[o];Array.isArray(a)||(e[o]=a=[a]),a.push(s)}else e[o]=s}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Ie(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r="primary");var o=this.parseChildren();t[r]=1===Object.keys(o).length?o.primary:new me([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Re=function(){function e(t){Object(u.a)(this,e),this._root=t}return Object(a.a)(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Ne(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Ne(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Le(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return Le(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function Ne(e,t){if(e===t.value)return t;var n,i=Object(s.a)(t.children);try{for(i.s();!(n=i.n()).done;){var r=Ne(e,n.value);if(r)return r}}catch(o){i.e(o)}finally{i.f()}return null}function Le(e,t){if(e===t.value)return[t];var n,i=Object(s.a)(t.children);try{for(i.s();!(n=i.n()).done;){var r=Le(e,n.value);if(r.length)return r.unshift(t),r}}catch(o){i.e(o)}finally{i.f()}return[]}var Fe=function(){function e(t,n){Object(u.a)(this,e),this.value=t,this.children=n}return Object(a.a)(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Be(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var He=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i){var r;return Object(u.a)(this,n),(r=t.call(this,e)).snapshot=i,Ke(Object(o.a)(r),e),r}return Object(a.a)(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Re);function Ve(e,t){var n=function(e,t){var n=new We([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Ue("",new Fe(n,[]))}(e,t),i=new g.a([new be("",{})]),r=new g.a({}),o=new g.a({}),s=new g.a({}),a=new g.a(""),l=new $e(i,r,s,a,o,"primary",t,n.root);return l.snapshot=n.root,new He(new Fe(l,[]),n)}var $e=function(){function e(t,n,i,r,o,s,a,l){Object(u.a)(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}return Object(a.a)(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(C.a)((function(e){return oe(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(C.a)((function(e){return oe(e)})))),this._queryParamMap}}]),e}();function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,i=0;if("always"!==t)for(i=n.length-1;i>=1;){var r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return Ge(n.slice(i))}function Ge(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}var We=function(){function e(t,n,i,r,o,s,a,l,c,h,d){Object(u.a)(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=h,this._resolve=d}return Object(a.a)(e,[{key:"toString",value:function(){var e=this.url.map((function(e){return e.toString()})).join("/"),t=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(e,"', path:'").concat(t,"')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=oe(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=oe(this.queryParams)),this._queryParamMap}}]),e}(),Ue=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,i){var r;return Object(u.a)(this,n),(r=t.call(this,i)).url=e,Ke(Object(o.a)(r),i),r}return Object(a.a)(n,[{key:"toString",value:function(){return qe(this._root)}}]),n}(Re);function Ke(e,t){t.value._routerState=e,t.children.forEach((function(t){return Ke(e,t)}))}function qe(e){var t=e.children.length>0?" { ".concat(e.children.map(qe).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Xe(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,le(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),le(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!le(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),le(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Ye(e,t){var n,i;return le(e.params,t.params)&&ve(n=e.url,i=t.url)&&n.every((function(e,t){return le(e.parameters,i[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||Ye(e.parent,t.parent))}function Je(e,t,n,i,o){if(0===n.length)return Ze(t.root,t.root,t,i,o);var s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new et(!0,0,e);var t=0,n=!1,i=e.reduce((function(e,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var s={};return de(i.outlets,(function(e,t){s[t]="string"==typeof e?e.split("/"):e})),[].concat(Object(r.a)(e),[{outlets:s}])}if(i.segmentPath)return[].concat(Object(r.a)(e),[i.segmentPath])}return"string"!=typeof i?[].concat(Object(r.a)(e),[i]):0===o?(i.split("/").forEach((function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))})),e):[].concat(Object(r.a)(e),[i])}),[]);return new et(n,t,i)}(n);if(s.toRoot())return Ze(t.root,new me([],{}),t,i,o);var a=function(e,t,n){if(e.isAbsolute)return new tt(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var i=n.snapshot._urlSegment;return new tt(i,i===t.root,0)}var r=Qe(e.commands[0])?0:1;return function(e,t,n){for(var i=e,r=t,o=n;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new tt(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),l=a.processChildren?rt(a.segmentGroup,a.index,s.commands):it(a.segmentGroup,a.index,s.commands);return Ze(a.segmentGroup,l,t,i,o)}function Qe(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ze(e,t,n,i,r){var o={};return i&&de(i,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new ge(n.root===e?t:function e(t,n,i){var r={};return de(t.children,(function(t,o){r[o]=t===n?i:e(t,n,i)})),new me(t.segments,r)}(n.root,e,t),o,r)}var et=function(){function e(t,n,i){if(Object(u.a)(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Qe(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(r&&r!==he(i))throw new Error("{outlets:{}} has to be the last command")}return Object(a.a)(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),tt=function e(t,n,i){Object(u.a)(this,e),this.segmentGroup=t,this.processChildren=n,this.index=i};function nt(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:"".concat(e)}function it(e,t,n){if(e||(e=new me([],{})),0===e.segments.length&&e.hasChildren())return rt(e,t,n);var i=function(e,t,n){for(var i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};r<e.segments.length;){if(i>=n.length)return o;var s=e.segments[r],a=nt(n[i]),l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!lt(a,l,s))return o;i+=2}else{if(!lt(a,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){var o=new me(e.segments.slice(0,i.pathIndex),{});return o.children.primary=new me(e.segments.slice(i.pathIndex),e.children),rt(o,0,r)}return i.match&&0===r.length?new me(e.segments,{}):i.match&&!e.hasChildren()?ot(e,t,n):i.match?rt(e,0,r):ot(e,t,n)}function rt(e,t,n){if(0===n.length)return new me(e.segments,{});var r=function(e){return"object"==typeof e[0]&&null!==e[0]&&e[0].outlets?e[0].outlets:Object(i.a)({},"primary",e)}(n),o={};return de(r,(function(n,i){null!==n&&(o[i]=it(e.children[i],t,n))})),de(e.children,(function(e,t){void 0===r[t]&&(o[t]=e)})),new me(e.segments,o)}function ot(e,t,n){for(var i=e.segments.slice(0,t),r=0;r<n.length;){if("object"==typeof n[r]&&null!==n[r]&&void 0!==n[r].outlets){var o=st(n[r].outlets);return new me(i,o)}if(0===r&&Qe(n[0]))i.push(new be(e.segments[t].path,n[0])),r++;else{var s=nt(n[r]),a=r<n.length-1?n[r+1]:null;s&&a&&Qe(a)?(i.push(new be(s,at(a))),r+=2):(i.push(new be(s,{})),r++)}}return new me(i,{})}function st(e){var t={};return de(e,(function(e,n){null!==e&&(t[n]=ot(new me([],{}),0,e))})),t}function at(e){var t={};return de(e,(function(e,n){return t[n]="".concat(e)})),t}function lt(e,t,n){return e==n.path&&le(t,n.parameters)}var ct=function(){function e(t,n,i,r){Object(u.a)(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}return Object(a.a)(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Xe(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var i=this,r=Be(t);e.children.forEach((function(e){var t=e.value.outlet;i.deactivateRoutes(e,r[t],n),delete r[t]})),de(r,(function(e,t){i.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,i=t.getContext(e.value.outlet);if(i){var r=Be(e),o=e.value.component?i.children:t;de(r,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var i=this,r=Be(t);e.children.forEach((function(e){i.activateRoutes(e,r[e.value.outlet],n),i.forwardEvent(new ne(e.value.snapshot))})),e.children.length&&this.forwardEvent(new ee(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(Xe(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(i.component){var s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ut(a.route)}else{var l=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),c=l?l.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=c,s.outlet&&s.outlet.activateWith(i,c),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function ut(e){Xe(e.value),e.children.forEach(ut)}var ht=function e(t,n){Object(u.a)(this,e),this.routes=t,this.module=n};function dt(e){return"function"==typeof e}function ft(e){return e instanceof ge}var pt=function e(t){Object(u.a)(this,e),this.segmentGroup=t||null},gt=function e(t){Object(u.a)(this,e),this.urlTree=t};function mt(e){return new m.a((function(t){return t.error(new pt(e))}))}function bt(e){return new m.a((function(t){return t.error(new gt(e))}))}function vt(e){return new m.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var yt=function(){function e(t,n,i,r,o){Object(u.a)(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(d.A)}return Object(a.a)(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(C.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Object(T.a)((function(t){if(t instanceof gt)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof pt)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(C.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Object(T.a)((function(e){if(e instanceof pt)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new me([],Object(i.a)({},"primary",e)):e;return new ge(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(C.a)((function(e){return new me([],e)}))):this.expandSegment(e,n,t,n.segments,i,!0)}},{key:"expandChildren",value:function(e,t,n){var i=this;return function(n,r){if(0===Object.keys(n).length)return Object(f.a)({});var o=[],s=[],a={};return de(n,(function(n,r){var l,c,u=(l=r,c=n,i.expandSegmentGroup(e,t,c,l)).pipe(Object(C.a)((function(e){return a[r]=e})));"primary"===r?o.push(u):s.push(u)})),f.a.apply(null,o.concat(s)).pipe(Object(S.a)(),Object(O.a)(),Object(C.a)((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,i,o,s){var a=this;return f.a.apply(void 0,Object(r.a)(n)).pipe(Object(C.a)((function(r){return a.expandSegmentAgainstRoute(e,t,n,r,i,o,s).pipe(Object(T.a)((function(e){if(e instanceof pt)return Object(f.a)(null);throw e})))})),Object(S.a)(),Object(k.a)((function(e){return!!e})),Object(T.a)((function(e,n){if(e instanceof b.a||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,i,o))return Object(f.a)(new me([],{}));throw new pt(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,i,r,o,s){return St(i)!==o?mt(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o):mt(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?bt(o):this.lineralizeSegments(n,o).pipe(Object(x.a)((function(n){var o=new me(n,{});return r.expandSegment(e,o,t,n,i,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,o){var s=this,a=_t(t,i,r),l=a.consumedSegments,c=a.lastChild,u=a.positionalParamSegments;if(!a.matched)return mt(t);var h=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?bt(h):this.lineralizeSegments(i,h).pipe(Object(x.a)((function(i){return s.expandSegment(e,t,n,i.concat(r.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,i){var r=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(C.a)((function(e){return n._loadedConfig=e,new me(i,{})}))):Object(f.a)(new me(i,{}));var o=_t(t,n,i),a=o.consumedSegments,l=o.lastChild;if(!o.matched)return mt(t);var c=i.slice(l);return this.getChildConfig(e,n,i).pipe(Object(x.a)((function(e){var n=e.module,i=e.routes,o=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some((function(n){return Ct(e,t,n)&&"primary"!==St(n)}))}(e,n,i)?{segmentGroup:wt(new me(t,function(e,t){var n={};n.primary=t;var i,r=Object(s.a)(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;""===o.path&&"primary"!==St(o)&&(n[St(o)]=new me([],{}))}}catch(a){r.e(a)}finally{r.f()}return n}(i,new me(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Ct(e,t,n)}))}(e,n,i)?{segmentGroup:wt(new me(e.segments,function(e,t,n,i){var r,o={},a=Object(s.a)(n);try{for(a.s();!(r=a.n()).done;){var l=r.value;Ct(e,t,l)&&!i[St(l)]&&(o[St(l)]=new me([],{}))}}catch(c){a.e(c)}finally{a.f()}return Object.assign(Object.assign({},i),o)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,a,c,i),l=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&l.hasChildren()?r.expandChildren(n,i,l).pipe(Object(C.a)((function(e){return new me(a,e)}))):0===i.length&&0===u.length?Object(f.a)(new me(a,{})):r.expandSegment(n,l,i,u,"primary",!0).pipe(Object(C.a)((function(e){return new me(a.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var i=this;return t.children?Object(f.a)(new ht(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(f.a)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(Object(x.a)((function(n){return n?i.configLoader.load(e.injector,t).pipe(Object(C.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new m.a((function(t){return t.error(se("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Object(f.a)(new ht([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var i,r=this,o=t.canLoad;return o&&0!==o.length?Object(p.a)(o).pipe(Object(C.a)((function(i){var r,o=e.get(i);if(function(e){return e&&dt(e.canLoad)}(o))r=o.canLoad(t,n);else{if(!dt(o))throw new Error("Invalid CanLoad guard");r=o(t,n)}return fe(r)}))).pipe(Object(S.a)(),Object(E.a)((function(e){if(ft(e)){var t=se('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}})),(i=function(e){return!0===e},function(e){return e.lift(new A(i,void 0,e))})):Object(f.a)(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],i=t.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(f.a)(n);if(i.numberOfChildren>1||!i.children.primary)return vt(e.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,i){var r=this.createSegmentGroup(e,t.root,n,i);return new ge(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return de(e,(function(e,i){if("string"==typeof e&&e.startsWith(":")){var r=e.substring(1);n[i]=t[r]}else n[i]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,i){var r=this,o=this.createSegments(e,t.segments,n,i),s={};return de(t.children,(function(t,o){s[o]=r.createSegmentGroup(e,t,n,i)})),new me(o,s)}},{key:"createSegments",value:function(e,t,n,i){var r=this;return t.map((function(t){return t.path.startsWith(":")?r.findPosParam(e,t,i):r.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var i=n[t.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return i}},{key:"findOrReturn",value:function(e,t){var n,i=0,r=Object(s.a)(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(i),o;i++}}catch(a){r.e(a)}finally{r.f()}return e}}]),e}();function _t(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(t.matcher||ae)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function wt(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new me(e.segments.concat(t.segments),t.children)}return e}function Ct(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function St(e){return e.outlet||"primary"}var Ot=function e(t){Object(u.a)(this,e),this.path=t,this.route=this.path[this.path.length-1]},Tt=function e(t,n){Object(u.a)(this,e),this.component=t,this.route=n};function kt(e,t,n){var i=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function xt(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Be(t);return e.children.forEach((function(e){Et(e,o[e.value.outlet],n,i.concat([e.value]),r),delete o[e.value.outlet]})),de(o,(function(e,t){return At(e,n.getContext(t),r)})),r}function Et(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){var l=jt(s,o,o.routeConfig.runGuardsAndResolvers);if(l?r.canActivateChecks.push(new Ot(i)):(o.data=s.data,o._resolvedData=s._resolvedData),xt(e,t,o.component?a?a.children:null:n,i,r),l){var c=a&&a.outlet&&a.outlet.component||null;r.canDeactivateChecks.push(new Tt(c,s))}}else s&&At(t,a,r),r.canActivateChecks.push(new Ot(i)),xt(e,null,o.component?a?a.children:null:n,i,r);return r}function jt(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ve(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ve(e.url,t.url)||!le(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ye(e,t)||!le(e.queryParams,t.queryParams);case"paramsChange":default:return!Ye(e,t)}}function At(e,t,n){var i=Be(e),r=e.value;de(i,(function(e,i){At(e,r.component?t?t.children.getContext(i):null:t,n)})),n.canDeactivateChecks.push(new Tt(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}var It=Symbol("INITIAL_VALUE");function Mt(){return Object(M.a)((function(e){return v.a.apply(void 0,Object(r.a)(e.map((function(e){return e.pipe(Object(P.a)(1),Object(D.a)(It))})))).pipe(Object(R.a)((function(e,t){var n=!1;return t.reduce((function(e,i,r){if(e!==It)return e;if(i===It&&(n=!0),!n){if(!1===i)return i;if(r===t.length-1||ft(i))return i}return e}),e)}),It),Object(N.a)((function(e){return e!==It})),Object(C.a)((function(e){return ft(e)?e:!0===e})),Object(P.a)(1))}))}function Pt(e,t){return null!==e&&t&&t(new te(e)),Object(f.a)(!0)}function Dt(e,t){return null!==e&&t&&t(new Z(e)),Object(f.a)(!0)}function Rt(e,t,n){var i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Object(f.a)(!0);var r=i.map((function(i){return Object(y.a)((function(){var r,o=kt(i,t,n);if(function(e){return e&&dt(e.canActivate)}(o))r=fe(o.canActivate(t,e));else{if(!dt(o))throw new Error("Invalid CanActivate guard");r=fe(o(t,e))}return r.pipe(Object(k.a)())}))}));return Object(f.a)(r).pipe(Mt())}function Nt(e,t,n){var i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Object(y.a)((function(){var r=t.guards.map((function(r){var o,s=kt(r,t.node,n);if(function(e){return e&&dt(e.canActivateChild)}(s))o=fe(s.canActivateChild(i,e));else{if(!dt(s))throw new Error("Invalid CanActivateChild guard");o=fe(s(i,e))}return o.pipe(Object(k.a)())}));return Object(f.a)(r).pipe(Mt())}))}));return Object(f.a)(r).pipe(Mt())}var Lt=function e(){Object(u.a)(this,e)},Ft=function(){function e(t,n,i,r,o,s){Object(u.a)(this,e),this.rootComponentType=t,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return Object(a.a)(e,[{key:"recognize",value:function(){try{var e=Vt(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new We([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Fe(n,t),r=new Ue(this.url,i);return this.inheritParamsAndData(r._root),Object(f.a)(r)}catch(o){return new m.a((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,i=ze(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,i=this,r=ye(t,(function(t,n){return i.processSegmentGroup(e,t,n)}));return n={},r.forEach((function(e){var t=n[e.value.outlet];if(t){var i=t.url.map((function(e){return e.toString()})).join("/"),r=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(i,"' and '").concat(r,"'."))}n[e.value.outlet]=e.value})),function(e){e.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)}))}(r),r}},{key:"processSegment",value:function(e,t,n,i){var r,o=Object(s.a)(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;try{return this.processSegmentAgainstRoute(a,t,n,i)}catch(l){if(!(l instanceof Lt))throw l}}}catch(c){o.e(c)}finally{o.f()}if(this.noLeftoversInUrl(t,n,i))return[];throw new Lt}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,i){if(e.redirectTo)throw new Lt;if((e.outlet||"primary")!==i)throw new Lt;var r,o=[],s=[];if("**"===e.path){var a=n.length>0?he(n).parameters:{};r=new We(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gt(e),i,e.component,e,Bt(t),Ht(t)+n.length,Wt(e))}else{var l=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Lt;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(t.matcher||ae)(n,e,t);if(!i)throw new Lt;var r={};de(i.posParams,(function(e,t){r[t]=e.path}));var o=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(t,e,n);o=l.consumedSegments,s=n.slice(l.lastChild),r=new We(o,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gt(e),i,e.component,e,Bt(t),Ht(t)+o.length,Wt(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),u=Vt(t,o,s,c,this.relativeLinkResolution),h=u.segmentGroup,d=u.slicedSegments;if(0===d.length&&h.hasChildren()){var f=this.processChildren(c,h);return[new Fe(r,f)]}if(0===c.length&&0===d.length)return[new Fe(r,[])];var p=this.processSegment(c,h,d,"primary");return[new Fe(r,p)]}}]),e}();function Bt(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Ht(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Vt(e,t,n,i,r){if(n.length>0&&function(e,t,n){return n.some((function(n){return $t(e,t,n)&&"primary"!==zt(n)}))}(e,n,i)){var o=new me(t,function(e,t,n,i){var r={};r.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;var o,a=Object(s.a)(n);try{for(a.s();!(o=a.n()).done;){var l=o.value;if(""===l.path&&"primary"!==zt(l)){var c=new me([],{});c._sourceSegment=e,c._segmentIndexShift=t.length,r[zt(l)]=c}}}catch(u){a.e(u)}finally{a.f()}return r}(e,t,i,new me(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return $t(e,t,n)}))}(e,n,i)){var a=new me(e.segments,function(e,t,n,i,r,o){var a,l={},c=Object(s.a)(i);try{for(c.s();!(a=c.n()).done;){var u=a.value;if($t(e,n,u)&&!r[zt(u)]){var h=new me([],{});h._sourceSegment=e,h._segmentIndexShift="legacy"===o?e.segments.length:t.length,l[zt(u)]=h}}}catch(d){c.e(d)}finally{c.f()}return Object.assign(Object.assign({},r),l)}(e,t,n,i,e.children,r));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var l=new me(e.segments,e.children);return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}function $t(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function zt(e){return e.outlet||"primary"}function Gt(e){return e.data||{}}function Wt(e){return e.resolve||{}}function Ut(e){return function(t){return t.pipe(Object(M.a)((function(t){var n=e(t);return n?Object(p.a)(n).pipe(Object(C.a)((function(){return t}))):Object(p.a)([t])})))}}var Kt=function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),qt=function(){var e=function e(){Object(u.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Hb({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&d.Ob(0,"router-outlet")},directives:function(){return[pn]},encapsulation:2}),e}();function Xt(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var i=e[n],r=Jt(t,i);Yt(i,r)}}function Yt(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. ").concat("The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&Xt(e.children,t)}function Jt(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Qt(e){var t=e.children&&e.children.map(Qt),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=qt),n}var Zt=new d.s("ROUTES"),en=function(){function e(t,n,i,r){Object(u.a)(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return Object(a.a)(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(C.a)((function(i){n.onLoadEndListener&&n.onLoadEndListener(t);var r=i.create(e);return new ht(ue(r.injector.get(Zt)).map(Qt),r)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(p.a)(this.loader.load(e)):fe(e()).pipe(Object(x.a)((function(e){return e instanceof d.y?Object(f.a)(e):Object(p.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),tn=function e(){Object(u.a)(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new nn,this.attachRef=null},nn=function(){function e(){Object(u.a)(this,e),this.contexts=new Map}return Object(a.a)(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new tn,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),rn=function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function on(e){throw e}function sn(e,t,n){return t.parse("/")}function an(e,t){return Object(f.a)(null)}var ln=function(){var e=function(){function e(t,n,i,r,o,s,a,l){var c=this;Object(u.a)(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new w.a,this.errorHandler=on,this.malformedUriErrorHandler=sn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:an,afterPreactivation:an},this.urlHandlingStrategy=new rn,this.routeReuseStrategy=new Kt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(d.A),this.console=o.get(d.Z);var h=o.get(d.C);this.isNgZoneEnabled=h instanceof d.C,this.resetConfig(l),this.currentUrlTree=new ge(new me([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new en(s,a,(function(e){return c.triggerEvent(new J(e))}),(function(e){return c.triggerEvent(new Q(e))})),this.routerState=Ve(this.currentUrlTree,this.rootComponentType),this.transitions=new g.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return Object(a.a)(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Object(N.a)((function(e){return 0!==e.id})),Object(C.a)((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Object(M.a)((function(e){var i,r,o,a=!1,l=!1;return Object(f.a)(e).pipe(Object(E.a)((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Object(M.a)((function(e){var i,r,o,s,a=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||a)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(f.a)(e).pipe(Object(M.a)((function(e){var i=t.transitions.getValue();return n.next(new $(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==t.transitions.getValue()?_.a:[e]})),Object(M.a)((function(e){return Promise.resolve(e)})),(i=t.ngModule.injector,r=t.configLoader,o=t.urlSerializer,s=t.config,function(e){return e.pipe(Object(M.a)((function(e){return function(e,t,n,i,r){return new yt(e,t,n,i,r).apply()}(i,r,o,e.extractedUrl,s).pipe(Object(C.a)((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Object(E.a)((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,i,r,o){return function(i){return i.pipe(Object(x.a)((function(i){return function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Ft(e,t,n,i,r,o).recognize()}(e,n,i.urlAfterRedirects,(s=i.urlAfterRedirects,t.serializeUrl(s)),r,o).pipe(Object(C.a)((function(e){return Object.assign(Object.assign({},i),{targetSnapshot:e})})));var s})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(E.a)((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Object(E.a)((function(e){var i=new U(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(i)})));if(a&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var l=e.extractedUrl,c=e.source,u=e.restoredState,h=e.extras,d=new $(e.id,t.serializeUrl(l),c,u);n.next(d);var p=Ve(l,t.rootComponentType).snapshot;return Object(f.a)(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:l,extras:Object.assign(Object.assign({},h),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),_.a})),Ut((function(e){var n=e.extras;return t.hooks.beforePreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})})),Object(E.a)((function(e){var n=new K(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(C.a)((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,i=e.currentSnapshot,r=t.rootContexts,o=n._root,xt(o,i?i._root:null,r,[o.value]))});var n,i,r,o})),function(e,t){return function(n){return n.pipe(Object(x.a)((function(n){var i=n.targetSnapshot,r=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===s.length?Object(f.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return Object(p.a)(e).pipe(Object(x.a)((function(e){return function(e,t,n,i,r){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(f.a)(!0);var s=o.map((function(o){var s,a=kt(o,t,r);if(function(e){return e&&dt(e.canDeactivate)}(a))s=fe(a.canDeactivate(e,t,n,i));else{if(!dt(a))throw new Error("Invalid CanDeactivate guard");s=fe(a(e,t,n,i))}return s.pipe(Object(k.a)())}));return Object(f.a)(s).pipe(Mt())}(e.component,e.route,n,t,i)})),Object(k.a)((function(e){return!0!==e}),!0))}(a,i,r,e).pipe(Object(x.a)((function(n){return n&&"boolean"==typeof n?function(e,t,n,i){return Object(p.a)(t).pipe(Object(L.a)((function(t){return Object(p.a)([Dt(t.route.parent,i),Pt(t.route,i),Nt(e,t.path,n),Rt(e,t.route,n)]).pipe(Object(S.a)(),Object(k.a)((function(e){return!0!==e}),!0))})),Object(k.a)((function(e){return!0!==e}),!0))}(i,s,e,t):Object(f.a)(n)})),Object(C.a)((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Object(E.a)((function(e){if(ft(e.guardsResult)){var n=se('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Object(E.a)((function(e){var n=new q(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Object(N.a)((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var i=new G(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(i),e.resolve(!1),!1}return!0})),Ut((function(e){if(e.guards.canActivateChecks.length)return Object(f.a)(e).pipe(Object(E.a)((function(e){var n=new X(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(M.a)((function(e){var i,r,o=!1;return Object(f.a)(e).pipe((i=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(Object(x.a)((function(e){var t=e.targetSnapshot,n=e.guards.canActivateChecks;if(!n.length)return Object(f.a)(e);var o=0;return Object(p.a)(n).pipe(Object(L.a)((function(e){return function(e,t,n,i){return function(e,t,n,i){var r=Object.keys(e);if(0===r.length)return Object(f.a)({});var o={};return Object(p.a)(r).pipe(Object(x.a)((function(r){return function(e,t,n,i){var r=kt(e,t,i);return fe(r.resolve?r.resolve(t,n):r(t,n))}(e[r],t,n,i).pipe(Object(E.a)((function(e){o[r]=e})))})),Object(F.a)(1),Object(x.a)((function(){return Object.keys(o).length===r.length?Object(f.a)(o):_.a})))}(e._resolve,e,t,i).pipe(Object(C.a)((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),ze(e,n).resolve),null})))}(e.route,t,i,r)})),Object(E.a)((function(){return o++})),Object(F.a)(1),Object(x.a)((function(t){return o===n.length?Object(f.a)(e):_.a})))})))}),Object(E.a)({next:function(){return o=!0},complete:function(){if(!o){var i=new G(e.id,t.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");n.next(i),e.resolve(!1)}}}))})),Object(E.a)((function(e){var n=new Y(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})))})),Ut((function(e){var n=e.extras;return t.hooks.afterPreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})})),Object(C.a)((function(e){var n,i,r,o=(r=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){var r=i.value;r._futureSnapshot=n.value;var o=function(t,n,i){return n.children.map((function(n){var r,o=Object(s.a)(i.children);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(l){o.e(l)}finally{o.f()}return e(t,n)}))}(t,n,i);return new Fe(r,o)}var a=t.retrieve(n.value);if(a){var l=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var i=0;i<t.children.length;++i)e(t.children[i],n.children[i])}(n,l),l}var c,u=new $e(new g.a((c=n.value).url),new g.a(c.params),new g.a(c.queryParams),new g.a(c.fragment),new g.a(c.data),c.outlet,c.component,c),h=n.children.map((function(n){return e(t,n)}));return new Fe(u,h)}(t.routeReuseStrategy,(n=e.targetSnapshot)._root,(i=e.currentRouterState)?i._root:void 0),new He(r,n));return Object.assign(Object.assign({},e),{targetRouterState:o})})),Object(E.a)((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,r=t.routeReuseStrategy,o=function(e){return t.triggerEvent(e)},Object(C.a)((function(e){return new ct(r,e.targetRouterState,e.currentRouterState,o).activate(i),e}))),Object(E.a)({next:function(){a=!0},complete:function(){a=!0}}),Object(B.a)((function(){if(!a&&!l){t.resetUrlToCurrentUrlTree();var i=new G(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(i),e.resolve(!1)}t.currentNavigation=null})),Object(T.a)((function(i){if(l=!0,(a=i)&&a.ngNavigationCancelingError){var r=ft(i.url);r||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new G(e.id,t.serializeUrl(e.extractedUrl),i.message);n.next(o),r?setTimeout((function(){var n=t.urlHandlingStrategy.merge(i.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var s=new W(e.id,t.serializeUrl(e.extractedUrl),i);n.next(s);try{e.resolve(t.errorHandler(i))}catch(c){e.reject(c)}}var a;return _.a})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),i="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,i,r,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Xt(e),this.config=e.map(Qt),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,r=t.fragment,o=t.preserveQueryParams,s=t.queryParamsHandling,a=t.preserveFragment;Object(d.W)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:r,u=null;if(s)switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}else u=o?this.currentUrlTree.queryParams:i||null;return null!==u&&(u=this.removeEmptyProps(u)),Je(l,this.currentUrlTree,e,u,c)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(d.W)()&&this.isNgZoneEnabled&&!d.C.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=ft(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return cn(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(ft(e))return pe(this.currentUrlTree,e,t);var n=this.parseUrl(e);return pe(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return null!=i&&(t[n]=i),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new z(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,i,r){var o,s,a,l=this.getTransition();if(l&&"imperative"!==t&&"imperative"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"hashchange"==t&&"popstate"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"popstate"==t&&"hashchange"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);r?(o=r.resolve,s=r.reject,a=r.promise):a=new Promise((function(e,t){o=e,s=t}));var c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,i){var r=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Xb(d.P),d.Xb(_e),d.Xb(nn),d.Xb(h.i),d.Xb(d.t),d.Xb(d.z),d.Xb(d.i),d.Xb(void 0))},e.\u0275prov=d.Jb({token:e,factory:e.\u0275fac}),e}();function cn(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}var un=function(){var e=function(){function e(t,n,i,r,o){Object(u.a)(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new w.a,null==i&&r.setAttribute(o.nativeElement,"tabindex","0")}return Object(a.a)(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"onClick",value:function(){var e={skipLocationChange:dn(this.skipLocationChange),replaceUrl:dn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(d.W)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:dn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:dn(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Nb(ln),d.Nb($e),d.Yb("tabindex"),d.Nb(d.G),d.Nb(d.n))},e.\u0275dir=d.Ib({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&d.bc("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[d.zb]}),e}(),hn=function(){var e=function(){function e(t,n,i){var r=this;Object(u.a)(this,e),this.router=t,this.route=n,this.locationStrategy=i,this.commands=[],this.onChanges=new w.a,this.subscription=t.events.subscribe((function(e){e instanceof z&&r.updateTargetUrlAndHref()}))}return Object(a.a)(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,i){if(0!==e||t||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var r={skipLocationChange:dn(this.skipLocationChange),replaceUrl:dn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(d.W)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:dn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:dn(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Nb(ln),d.Nb($e),d.Nb(h.j))},e.\u0275dir=d.Ib({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&d.bc("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(d.Wb("href",t.href,d.xc),d.Cb("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[d.zb]}),e}();function dn(e){return""===e||!!e}var fn=function(){var e=function(){function e(t,n,i,r,o,s){var a=this;Object(u.a)(this,e),this.router=t,this.element=n,this.renderer=i,this.cdr=r,this.link=o,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe((function(e){e instanceof z&&a.update()}))}return Object(a.a)(e,[{key:"ngAfterContentInit",value:function(){var e=this;Object(p.a)([this.links.changes,this.linksWithHrefs.changes,Object(f.a)(null)]).pipe(Object(H.a)()).subscribe((function(t){e.update(),e.subscribeToEachLinkOnChanges()}))}},{key:"subscribeToEachLinkOnChanges",value:function(){var e,t=this;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();var n=[].concat(Object(r.a)(this.links.toArray()),Object(r.a)(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter((function(e){return!!e})).map((function(e){return e.onChanges}));this.linkInputChangesSubscription=Object(p.a)(n).pipe(Object(H.a)()).subscribe((function(e){t.isActive!==t.isLinkActive(t.router)(e)&&t.update()}))}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.cdr.markForCheck(),e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Nb(ln),d.Nb(d.n),d.Nb(d.G),d.Nb(d.h),d.Nb(un,8),d.Nb(hn,8))},e.\u0275dir=d.Ib({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var i;1&e&&(d.Gb(n,un,!0),d.Gb(n,hn,!0)),2&e&&(d.rc(i=d.cc())&&(t.links=i),d.rc(i=d.cc())&&(t.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[d.zb]}),e}(),pn=function(){var e=function(){function e(t,n,i,r,o){Object(u.a)(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.p,this.deactivateEvents=new d.p,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}return Object(a.a)(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new gn(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Nb(nn),d.Nb(d.R),d.Nb(d.k),d.Yb("name"),d.Nb(d.h))},e.\u0275dir=d.Ib({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),gn=function(){function e(t,n,i){Object(u.a)(this,e),this.route=t,this.childContexts=n,this.parent=i}return Object(a.a)(e,[{key:"get",value:function(e,t){return e===$e?this.route:e===nn?this.childContexts:this.parent.get(e,t)}}]),e}(),mn=function e(){Object(u.a)(this,e)},bn=function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"preload",value:function(e,t){return t().pipe(Object(T.a)((function(){return Object(f.a)(null)})))}}]),e}(),vn=function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"preload",value:function(e,t){return Object(f.a)(null)}}]),e}(),yn=function(){var e=function(){function e(t,n,i,r,o){Object(u.a)(this,e),this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=new en(n,i,(function(e){return t.triggerEvent(new J(e))}),(function(e){return t.triggerEvent(new Q(e))}))}return Object(a.a)(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Object(N.a)((function(e){return e instanceof z})),Object(L.a)((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(d.A);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,i=[],r=Object(s.a)(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(e,o)):o.children&&i.push(this.processRoutes(e,o.children))}}catch(l){r.e(l)}finally{r.f()}return Object(p.a)(i).pipe(Object(H.a)(),Object(C.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(x.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Xb(ln),d.Xb(d.z),d.Xb(d.i),d.Xb(d.t),d.Xb(mn))},e.\u0275prov=d.Jb({token:e,factory:e.\u0275fac}),e}(),_n=function(){var e=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(u.a)(this,e),this.router=t,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return Object(a.a)(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof $?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof z&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof ie&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new ie(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Xb(ln),d.Xb(h.u),d.Xb(void 0))},e.\u0275prov=d.Jb({token:e,factory:e.\u0275fac}),e}(),wn=new d.s("ROUTER_CONFIGURATION"),Cn=new d.s("ROUTER_FORROOT_GUARD"),Sn=[h.i,{provide:_e,useClass:we},{provide:ln,useFactory:function(e,t,n,i,r,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,u=new ln(null,e,t,n,i,r,o,ue(s));if(l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),a.errorHandler&&(u.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(u.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){var d=Object(h.y)();u.events.subscribe((function(e){d.logGroup("Router Event: ".concat(e.constructor.name)),d.log(e.toString()),d.log(e),d.logGroupEnd()}))}return a.onSameUrlNavigation&&(u.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(u.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(u.relativeLinkResolution=a.relativeLinkResolution),u},deps:[_e,nn,h.i,d.t,d.z,d.i,Zt,wn,[function e(){Object(u.a)(this,e)},new d.D],[function e(){Object(u.a)(this,e)},new d.D]]},nn,{provide:$e,useFactory:function(e){return e.routerState.root},deps:[ln]},{provide:d.z,useClass:d.M},yn,vn,bn,{provide:wn,useValue:{enableTracing:!1}}];function On(){return new d.B("Router",ln)}var Tn=function(){var e=function(){function e(t,n){Object(u.a)(this,e)}return Object(a.a)(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Sn,jn(t),{provide:Cn,useFactory:En,deps:[[ln,new d.D,new d.L]]},{provide:wn,useValue:n||{}},{provide:h.j,useFactory:xn,deps:[h.t,[new d.r(h.a),new d.D],wn]},{provide:_n,useFactory:kn,deps:[ln,h.u,wn]},{provide:mn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:vn},{provide:d.B,multi:!0,useFactory:On},[An,{provide:d.d,multi:!0,useFactory:In,deps:[An]},{provide:Pn,useFactory:Mn,deps:[An]},{provide:d.b,multi:!0,useExisting:Pn}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[jn(t)]}}}]),e}();return e.\u0275mod=d.Lb({type:e}),e.\u0275inj=d.Kb({factory:function(t){return new(t||e)(d.Xb(Cn,8),d.Xb(ln,8))}}),e}();function kn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new _n(e,t,n)}function xn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new h.g(e,t):new h.s(e,t)}function En(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function jn(e){return[{provide:d.a,multi:!0,useValue:e},{provide:Zt,multi:!0,useValue:e}]}var An=function(){var e=function(){function e(t){Object(u.a)(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new w.a}return Object(a.a)(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(h.h,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),i=e.injector.get(ln),r=e.injector.get(wn);if(e.isLegacyDisabled(r)||e.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(r.initialNavigation,"'"));i.hooks.afterPreactivation=function(){return e.initNavigation?Object(f.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},i.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(wn),n=this.injector.get(yn),i=this.injector.get(_n),r=this.injector.get(ln),o=this.injector.get(d.g);e===o.components[0]&&(this.isLegacyEnabled(t)?r.initialNavigation():this.isLegacyDisabled(t)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Xb(d.t))},e.\u0275prov=d.Jb({token:e,factory:e.\u0275fac}),e}();function In(e){return e.appInitializer.bind(e)}function Mn(e){return e.bootstrapListener.bind(e)}var Pn=new d.s("Router Initializer")},u5sK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("mrSG"),r=n("bU/s"),o=n("eY+I");function s(e){var t=e.toString();return{caption:t,value:t,name:t,score:1}}function a(e){return function(t){var n=t.replace("$.","").split("/").filter((function(e){return e}));"/"!==t[t.length-1]&&n.splice(-1);var i=e()||{};return n&&(i=n.reduce((function(e,t){return e[t]}),i)),Array.isArray(i)?[]:Object.keys(i).map((function(e){return"$."+n.join("/")+(n.length?"/":"")+e}))}}r.require("ace/ext/language_tools").setCompleters([{identifierRegexps:[/[a-zA-Z_0-9\<\.\$\/]/],getCompletions:function(e,t,n,r,a){if("ace/mode/xml"===t.$modeId){var l=function(e){for(var t,n=null===(t=(e=e.replace(/<!--.*-->/g,"")).match(/"/g))||void 0===t?void 0:t.length,i="",r="",o=[],s="",a=!1,l=0,c=n&&Boolean(n%2),u="",h=c,d=e.length;!s&&d;){var f=e[--d];if(l)"<"===f?l--:e[d-1]+f!=="</"&&e[d-1]+f!=="/>"||(l++,d--);else if(c)e[d-1]+f==='="'&&(c=!1,d--);else switch(f){case">":if(a){d=0;break}a=!0;break;case"/":"<"!==e[d-1]&&">"!==e[d+1]||(l++,a=!1,r="",d--);break;case"<":var p=e[d+r.length+1];" "!==p&&">"!==p||(a?s=r:r&&(i=r),r="");break;case"\t":case"\n":case" ":r&&(h&&!u?u=r:c||i||o.push(r),r="");break;case'"':c=!c;break;default:r=f+r}}return{tag:i,properties:o,parent:s,property:u}}(t.getTextRange({start:{row:0,column:0},end:n})),c=o.d.getListOfComponents(),u=[];if(l.property)u=function(e,t,n){var i,r=o.c.get(e.tag+":"+e.property)||o.c.get(e.property);if(null==r?void 0:r.valuesFn)return r.valuesFn(n).map(s);if(null==r?void 0:r.values)return null==r?void 0:r.values.map(s);var a=t.find((function(t){return t.name===e.parent}));if(Array.isArray(null==a?void 0:a.children)){var l=null==a?void 0:a.children.find((function(t){return t.tag===e.tag})),c=null===(i=null==l?void 0:l.properties.find((function(t){return t.name===e.property})))||void 0===i?void 0:i.values;return c?c.map(s):[]}return[]}(l,c,r);else if(l.tag)u=function(e,t){if("page"===t.tag)return["title","description","code","design-code","design-query-url"].map((function(e){return{caption:e,value:e+'=""',name:e,score:1}}));var n=e.find((function(e){return t.tag===e.name}));if(n)return n.itemProperties.prototype.properties.map((function(e){return{value:e.name+'=""',name:e.name,caption:e.name,meta:e.description,score:2}}));if(null==(n=e.find((function(e){return t.parent===e.name})))?void 0:n.children){var r=n.children.find((function(e){return e.tag===t.tag})),s=r.properties.map((function(e){var t=e.name;return{caption:t,name:t,value:t+'=""',score:2,meta:e.label}}));return r.hasChildren&&(s=Object(i.g)(s,o.k.prototype.properties.map((function(e){var t=e.name;return{name:t,caption:t,meta:e.description,value:t+'=""',score:1}})))),s}return[]}(c,l).filter((function(e){return!l.properties.includes(e.name)}));else{var h=c.find((function(e){return e.name===l.parent})),d=null==h?void 0:h.children;u=!1===d?[]:Array.isArray(d)?d.map((function(e){var t=e.tag;return{caption:"<"+t+">",value:e.hasChildren?"<"+t+"></"+t+">":"<"+t+"/>",meta:"Child of "+h.name}})):function(e,t){return e.map((function(e){var n=function(e,t){return"string"!=typeof e?null:Array.from(e).reduce((function(e,n){return"\n"===n?e+n+new Array(t.column).join(" "):e+n}),"")}(e.defaultModel,t)||"<"+e.name+"></"+e.name+">";return{name:"<"+e.name+">",score:1,value:n,caption:"<"+e.name+">",meta:e.description}}))}(c,n)}a(null,u)}}}])},uFwe:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("BsWD");function r(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(i.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}},uh6x:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s}));var i=function(e){return e.JSON="application/json",e.XML="application/xml",e.TEXT="text/plain",e.FORM="application/x-www-form-urlencoded",e}({}),r=function(e){return e.None="None",e.Basic="Basic",e.Bearer="Bearer",e}({}),o=function(e){return e.RestRequest="RestRequest",e.JSPythonEditor="MultiRequest",e.DataEditor="JsonValue",e}({}),s=function(e){return e.PRE_REQUEST="preRequest",e.POST_REQUEST_SUCCESS="successResponse",e.POST_REQUEST_ERROR="errorResponse",e}({})},umNf:function(e,t,n){(function(e){ace.define("ace/theme/github",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-github",t.cssText='.ace-github .ace_gutter {background: #e8e8e8;color: #AAA;}.ace-github  {background: #fff;color: #000;}.ace-github .ace_keyword {font-weight: bold;}.ace-github .ace_string {color: #D14;}.ace-github .ace_variable.ace_class {color: teal;}.ace-github .ace_constant.ace_numeric {color: #099;}.ace-github .ace_constant.ace_buildin {color: #0086B3;}.ace-github .ace_support.ace_function {color: #0086B3;}.ace-github .ace_comment {color: #998;font-style: italic;}.ace-github .ace_variable.ace_language  {color: #0086B3;}.ace-github .ace_paren {font-weight: bold;}.ace-github .ace_boolean {font-weight: bold;}.ace-github .ace_string.ace_regexp {color: #009926;font-weight: normal;}.ace-github .ace_variable.ace_instance {color: teal;}.ace-github .ace_constant.ace_language {font-weight: bold;}.ace-github .ace_cursor {color: black;}.ace-github.ace_focus .ace_marker-layer .ace_active-line {background: rgb(255, 255, 204);}.ace-github .ace_marker-layer .ace_active-line {background: rgb(245, 245, 245);}.ace-github .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-github.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-github.ace_nobold .ace_line > span {font-weight: normal !important;}.ace-github .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-github .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-github .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-github .ace_gutter-active-line {background-color : rgba(0, 0, 0, 0.07);}.ace-github .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-github .ace_invisible {color: #BFBFBF}.ace-github .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-github .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e("../lib/dom").importCssString(t.cssText,t.cssClass)})),ace.require(["ace/theme/github"],(function(t){e&&(e.exports=t)}))}).call(this,n("YuTi")(e))},vkgz:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("JX7q"),r=n("Ji7U"),o=n("LK+K"),s=n("1OyB"),a=n("vuIU"),l=n("7o/Q");function c(){}var u=n("n6bG");function h(e,t,n){return function(i){return i.lift(new d(e,t,n))}}var d=function(){function e(t,n,i){Object(s.a)(this,e),this.nextOrObserver=t,this.error=n,this.complete=i}return Object(a.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new f(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),f=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e,r,o,a){var l;return Object(s.a)(this,n),(l=t.call(this,e))._tapNext=c,l._tapError=c,l._tapComplete=c,l._tapError=o||c,l._tapComplete=a||c,Object(u.a)(r)?(l._context=Object(i.a)(l),l._tapNext=r):r&&(l._context=r,l._tapNext=r.next||c,l._tapError=r.error||c,l._tapComplete=r.complete||c),l}return Object(a.a)(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(l.a)},vuIU:function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return r}))},w1tV:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n("1OyB"),r=n("vuIU"),o=n("ReuC"),s=n("foSv"),a=n("Ji7U"),l=n("LK+K"),c=n("XNiG"),u=n("HDdC"),h=n("7o/Q"),d=n("quSY");function f(){return function(e){return e.lift(new p(e))}}var p=function(){function e(t){Object(i.a)(this,e),this.connectable=t}return Object(r.a)(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var i=new g(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),e}(),g=function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(e,r){var o;return Object(i.a)(this,n),(o=t.call(this,e)).connectable=r,o}return Object(r.a)(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(h.a),m=function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(e,r){var o;return Object(i.a)(this,n),(o=t.call(this)).source=e,o.subjectFactory=r,o._refCount=0,o._isComplete=!1,o}return Object(r.a)(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d.a).add(this.source.subscribe(new v(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.a.EMPTY)),e}},{key:"refCount",value:function(){return f()(this)}}]),n}(u.a),b=function(){var e=m.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),v=function(e){Object(a.a)(n,e);var t=Object(l.a)(n);function n(e,r){var o;return Object(i.a)(this,n),(o=t.call(this,e)).connectable=r,o}return Object(r.a)(n,[{key:"_error",value:function(e){this._unsubscribe(),Object(o.a)(Object(s.a)(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),Object(o.a)(Object(s.a)(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(c.b);function y(){return new c.a}function _(){return function(e){return f()((t=y,function(e){var n;n="function"==typeof t?t:function(){return t};var i=Object.create(e,b);return i.source=e,i.subjectFactory=n,i})(e));var t}}},wuWQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("JGTj"),r=n("AytR"),o=n("OLrf"),s=n("z6cu"),a=n("LRne"),l=n("lJxs"),c=n("fXoL"),u=n("tk/3"),h=n("tyNb"),d=r.a.apiBaseUrl+"/api/app-definitions",f=function(){function e(e,t,n){this.httpClient=e,this.authService=t,this.router=n,this.source=i.b.APP,this._pages={}}return e.prototype.init=function(e,t){this.ownerName=e,this.appName=t},e.prototype.getAllLinks=function(){return this.httpClient.get(d+"/app-links/"+this.ownerName+"/"+this.appName,this.authService.getHttpHeaders())},e.prototype.getAppInfo=function(){return this.httpClient.get(d+"/app/"+this.ownerName+"/"+this.appName,this.authService.getHttpHeaders())},e.prototype.getAppContent=function(e){return this.httpClient.post(d+"/get-app-content",e,this.authService.getHttpHeaders())},e.prototype.getPageInfo=function(e){var t=this;if(!e)return Object(s.a)("Page not found.");var n=this.getPageUrl(this.ownerName,this.appName,e);return this._pages[n]?Object(a.a)(this._pages[n]):this.httpClient.get(n,this.authService.getHttpHeaders()).pipe(Object(l.a)((function(e){return t._pages[n]=e,e})))},e.prototype.navigate=function(e,t,n){var i=["/app",this.ownerName,this.appName];t&&i.push(t),this.router.navigate(i,{queryParams:n})},e.prototype.getPagePath=function(e,t){var n=["/app",this.ownerName,this.appName];return t&&n.push(t),n.join("/")},e.prototype.getPageUrl=function(e,t,n){return n=n.toLowerCase(),d+"/page/"+e+"/"+t+"/"+n},e.\u0275fac=function(t){return new(t||e)(c.Xb(u.a),c.Xb(o.b),c.Xb(h.f))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},wxzg:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var i=n("mrSG"),r=n("fXoL"),o=(n("K3ix"),n("ZF+8")),s=n("TwVa"),a=n("s0Cq"),l=n("FQei"),c=n("0CDM"),u=n("1ua0"),h=n("eIep"),d=n("S8xs"),f=n("3Pt+"),p=n("ofXK"),g=n("qGRI"),m=n("ZOsW");function b(e,t){1&e&&(r.Tb(0,"div"),r.Ec(1,"App name is required."),r.Sb())}function v(e,t){if(1&e&&(r.Tb(0,"div",42),r.Cc(1,b,2,0,"div",43),r.Sb()),2&e){r.dc();var n=r.sc(17);r.Bb(1),r.jc("ngIf",n.errors.required)}}function y(e,t){1&e&&(r.Tb(0,"div"),r.Ec(1,"App title is required."),r.Sb())}function _(e,t){if(1&e&&(r.Tb(0,"div",42),r.Cc(1,y,2,0,"div",43),r.Sb()),2&e){r.dc();var n=r.sc(25);r.Bb(1),r.jc("ngIf",n.errors.required)}}function w(e,t){1&e&&(r.Tb(0,"div"),r.Ec(1,"App logo is required."),r.Sb())}function C(e,t){if(1&e&&(r.Tb(0,"div",42),r.Cc(1,w,2,0,"div",43),r.Sb()),2&e){r.dc();var n=r.sc(33);r.Bb(1),r.jc("ngIf",n.errors.required)}}function S(e,t){if(1&e&&(r.Tb(0,"option",44),r.Ec(1),r.Sb()),2&e){var n=t.$implicit,i=r.dc();r.jc("value",n),r.Bb(1),r.Fc(i.formatLabel(n))}}function O(e,t){if(1&e&&(r.Tb(0,"option",44),r.Ec(1),r.Sb()),2&e){var n=t.$implicit;r.jc("value",n),r.Bb(1),r.Fc(n)}}function T(e,t){1&e&&(r.Tb(0,"label",55),r.Ec(1,"Key"),r.Sb())}function k(e,t){1&e&&(r.Tb(0,"label",55),r.Ec(1,"Value"),r.Sb())}function x(e,t){if(1&e){var n=r.Ub();r.Tb(0,"div",45),r.Tb(1,"div",46),r.Cc(2,T,2,0,"label",47),r.Tb(3,"input",48),r.bc("ngModelChange",(function(e){return r.vc(n),t.$implicit.key=e})),r.Sb(),r.Sb(),r.Tb(4,"div",49),r.Cc(5,k,2,0,"label",47),r.Tb(6,"input",50),r.bc("ngModelChange",(function(e){return r.vc(n),t.$implicit.value=e})),r.Sb(),r.Sb(),r.Tb(7,"div",51),r.Tb(8,"div",52),r.Tb(9,"button",53),r.bc("click",(function(){r.vc(n);var e=t.index;return r.dc().deleteSetting(e)})),r.Ob(10,"i",54),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&e){var i=t.$implicit,o=t.index;r.Bb(2),r.jc("ngIf",0===o),r.Bb(1),r.lc("name","setting-name-param-",o,""),r.jc("ngModel",i.key),r.Bb(2),r.jc("ngIf",0===o),r.Bb(1),r.lc("name","setting-value-param-",o,""),r.jc("ngModel",i.value)}}function E(e,t){if(1&e){var n=r.Ub();r.Tb(0,"button",69),r.bc("click",(function(e){r.vc(n);var t=r.dc().$implicit;return r.dc().openSqlConnectionForm(e,t)})),r.Ec(1,"Connection Details"),r.Sb()}}function j(e,t){1&e&&(r.Tb(0,"label",55),r.Ec(1,"Key"),r.Sb())}function A(e,t){1&e&&(r.Tb(0,"label",55),r.Ec(1,"Schema Name"),r.Sb())}function I(e,t){1&e&&(r.Tb(0,"label",55),r.Ec(1,"Name"),r.Sb())}function M(e,t){if(1&e){var n=r.Ub();r.Tb(0,"div",45),r.Tb(1,"div",70),r.Cc(2,j,2,0,"label",47),r.Tb(3,"input",71),r.bc("ngModelChange",(function(e){return r.vc(n),t.$implicit.key=e})),r.Sb(),r.Sb(),r.Tb(4,"div",72),r.Cc(5,A,2,0,"label",47),r.Tb(6,"input",73),r.bc("ngModelChange",(function(e){return r.vc(n),t.$implicit.schemaName=e})),r.Sb(),r.Sb(),r.Tb(7,"div",74),r.Cc(8,I,2,0,"label",47),r.Tb(9,"input",75),r.bc("ngModelChange",(function(e){return r.vc(n),t.$implicit.name=e})),r.Sb(),r.Sb(),r.Tb(10,"div",51),r.Tb(11,"div",52),r.Tb(12,"button",53),r.bc("click",(function(){r.vc(n);var e=t.index,i=r.dc().$implicit;return r.dc().deleteDbObject(i,e)})),r.Ob(13,"i",54),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&e){var i=t.$implicit,o=t.index;r.Bb(2),r.jc("ngIf",0===o),r.Bb(1),r.lc("name","connection-dbobject-key-",o,""),r.jc("ngModel",i.key),r.Bb(2),r.jc("ngIf",0===o),r.Bb(1),r.lc("name","connection-dbobject-sn-",o,""),r.jc("ngModel",i.schemaName),r.Bb(2),r.jc("ngIf",0===o),r.Bb(1),r.lc("name","connection-dbobject-name-",o,""),r.jc("ngModel",i.name)}}function P(e,t){if(1&e){var n=r.Ub();r.Tb(0,"accordion-group"),r.Tb(1,"div",56),r.Tb(2,"h4",57),r.Ec(3,"Connection"),r.Sb(),r.Tb(4,"div",58),r.Tb(5,"label",59),r.Ec(6,"Key:"),r.Sb(),r.Tb(7,"div",60),r.Tb(8,"input",61),r.bc("ngModelChange",(function(e){return r.vc(n),t.$implicit.key=e}))("click",(function(e){return r.vc(n),e.stopImmediatePropagation()})),r.Sb(),r.Sb(),r.Sb(),r.Tb(9,"div",62),r.Tb(10,"label",59),r.Ec(11,"Name:"),r.Sb(),r.Tb(12,"div",60),r.Tb(13,"ng-select",63),r.bc("ngModelChange",(function(e){return r.vc(n),t.$implicit.name=e}))("click",(function(e){return r.vc(n),e.stopImmediatePropagation()})),r.Sb(),r.Sb(),r.Sb(),r.Tb(14,"div",64),r.Cc(15,E,2,0,"button",65),r.Sb(),r.Sb(),r.Cc(16,M,14,9,"div",35),r.Tb(17,"div",66),r.Tb(18,"button",67),r.bc("click",(function(){r.vc(n);var e=t.index;return r.dc().deleteConnection(e)})),r.Ec(19,"Delete Connection"),r.Sb(),r.Tb(20,"button",68),r.bc("click",(function(){r.vc(n);var e=t.$implicit;return r.dc().addDbObject(e)})),r.Ec(21,"Add DB Object"),r.Sb(),r.Sb(),r.Sb()}if(2&e){var i=t.$implicit,o=t.index,s=r.dc();r.Bb(8),r.lc("name","connection-key-",o,""),r.jc("ngModel",i.key),r.Bb(5),r.lc("name","connection-name-",o,""),r.jc("items",s.dbConnections)("ngModel",i.name),r.Bb(2),r.jc("ngIf",i.name),r.Bb(1),r.jc("ngForOf",i.dbObjects)}}var D=function(){function e(e,t,n){this.appService=e,this.connectionsService=t,this.dialogService=n,this.icons=a.a,this.permissionLevels=Object.values(s.AppAccessLevels),this.actions=[s.ActionName.OpenPage,s.ActionName.OpenPageInDialog,s.ActionName.OpenPageInNewTab,s.ActionName.RunFunction],this.pageActions=[s.ActionName.OpenPage,s.ActionName.OpenPageInDialog,s.ActionName.OpenPageInNewTab],this.ActionName=s.ActionName,this.formatLabel=l.formatCamelStr,this.sidebarOptions=["opened","closed","hidden"],this.settings=[]}return e.prototype.ngOnInit=function(){var e=this;this.appInfo.appId?(this.settings=Object.entries(this.appInfo.settings).map((function(e){return{key:e[0],value:e[1]}})),this.appService.getAppPermissions(this.appInfo.appId).subscribe((function(t){e.permissions=t}))):(this.permissions=[],this.settings=[]),this.connectionsService.myConnections$.subscribe((function(t){return e.dbConnections=t})),this.connectionsService.loadMyDbConnections().toPromise()},e.prototype.getSettings=function(){return this.settings.reduce((function(e,t){return e[t.key]=t.value,e}),{})},e.prototype.addSetting=function(){this.settings.push({key:"",value:""})},e.prototype.addConnection=function(){this.appInfo.connectionConfigs.push({key:null,name:null,defaultSchema:null,dbObjects:[]})},e.prototype.addDbObject=function(e){e.dbObjects.push({key:null,name:null,schemaName:null})},e.prototype.deleteDbObject=function(e,t){e.dbObjects.splice(t,1)},e.prototype.deleteConnection=function(e){this.appInfo.connectionConfigs.splice(e,1)},e.prototype.onSavePermission=function(e){var t=this;this.appInfo.appId?this.saveAppPermission(e).then((function(n){t.updatePermissions(e)})):this.updatePermissions(e)},e.prototype.getPermissions=function(){var e=this;return this.permissions.map((function(t){return e.getPermissionToSave(t)}))},e.prototype.onRemovePermission=function(e){var t=this;if(this.appInfo.appId)this.appService.removeAppPermission(e.userId,this.appInfo.appId).subscribe((function(n){var i=t.permissions.indexOf(e);t.permissions.splice(i,1)}));else{var n=this.permissions.indexOf(e);this.permissions.splice(n,1)}},e.prototype.deleteSetting=function(e){this.settings.splice(e,1)},e.prototype.openSqlConnectionForm=function(e,t){var n=this;e.stopImmediatePropagation();var i=null==t?void 0:t.name,r=this.dialogService.open(u.b,{class:"modal-xl full-height"});r.config=i&&this.dbConnections.find((function(e){return e.connectionName===i}))||{},r.init.pipe(Object(h.a)((function(){return r.component.saved}))).subscribe((function(e){t&&(t.name=e.connectionName),n.connectionsService.loadMyDbConnections().toPromise()}))},e.prototype.updatePermissions=function(e){this.permissions.includes(e)||this.permissions.push(e)},e.prototype.saveAppPermission=function(e){if(this.appInfo.appId)return this.appService.saveAppPermission(this.getPermissionToSave(e)).toPromise()},e.prototype.getPermissionToSave=function(e){return{appId:this.appInfo.appId,granteeId:e.userId,isAdmin:e.isAdmin,accessLevel:e.accessLevel}},e.\u0275fac=function(t){return new(t||e)(r.Nb(c.a),r.Nb(o.a),r.Nb(o.b))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-app-info"]],inputs:{appInfo:"appInfo",pages:"pages",scripts:"scripts",shells:"shells"},decls:74,vars:16,consts:[["isAnimated","true","closeOthers","true"],["isOpen","true"],["accordion-heading","",1,"ml-4","my-2"],[1,"form-row","mx-0"],[1,"p-0","pr-1","col-sm-6","col-md-2"],[1,"form-group","mx-0","mb-2","flex-nowrap"],["for","app-owner",1,"col-form-label","px-0"],[1,"p-0","m-0"],["type","text","disabled","true","name","appinfo-owner","id","app-owner",1,"form-control",3,"ngModel","ngModelChange"],[1,"px-1","p-0","col-sm-6","col-md-3"],["for","app-name",1,"col","col-form-label","px-0"],["type","text","placeholder","Enter app name","name","appinfo-name","required","","id","app-name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","alert alert-danger py-1 px-2 m-0",4,"ngIf"],[1,"px-1","p-0","col-sm-6","col-md-4"],[1,"form-group","mb-2","flex-nowrap","mx-0"],["for","app-title",1,"col","col-form-label","px-0"],["type","text","placeholder","Enter app title","name","appinfo-title","required","","id","app-title",1,"form-control",3,"ngModel","ngModelChange"],["title","ngModel"],[1,"pl-1","p-0","col-sm-6","col-md-3"],["for","app-logo",1,"col-form-label","px-0"],["type","text","placeholder","Enter app logo","name","appinfo-logo","required","","id","app-logo",1,"form-control",3,"ngModel","ngModelChange"],["logo","ngModel"],[1,"p-0","col-12"],["for","app-description",1,"col-form-label","px-0"],[1,"p-0","m-0","w-100"],["rows","3","placeholder","Enter app description","id","app-description","name","appinfo-description",1,"form-control",3,"ngModel","ngModelChange"],[1,"p-0","col-sm-6","col-md-3"],["for","app-public-access",1,"col-form-label","px-0"],["id","app-public-access","name","appinfo-public-access",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"px-2","col-sm-6","col-md-3"],["for","app-shell-path",1,"col-form-label","px-0"],["id","app-shell-path","name","appinfo-shell-path",1,"form-control",3,"ngModel","ngModelChange"],[3,"owner","permissions","save","remove"],["class","row my-1 mx-0",4,"ngFor","ngForOf"],[1,"row","mx-0","mt-2"],[1,"btn","btn-light","btn-sm","col-auto","ml-auto",3,"click"],[4,"ngFor","ngForOf"],[1,"row","mx-0","my-1"],[1,"btn","btn-sm","btn-light","ml-auto",3,"click"],[1,"btn","btn-light","btn-sm","col-auto","ml-2",3,"click"],[1,"alert","alert-danger","py-1","px-2","m-0"],[4,"ngIf"],[3,"value"],[1,"row","my-1","mx-0"],[1,"col-sm-4","pl-0"],["class","col-auto col-form-label px-0",4,"ngIf"],["type","text","required","","placeholder","name",1,"form-control",3,"ngModel","name","ngModelChange"],[1,"col"],["type","text","placeholder","value",1,"form-control",3,"name","ngModel","ngModelChange"],[1,"d-flex","align-items-end"],[1,"d-flex","align-items-center","form-item"],["type","button",1,"btn","btn-light","btn-sm",3,"click"],[1,"fa","fa-remove","fa-lg"],[1,"col-auto","col-form-label","px-0"],["accordion-heading","",1,"ml-4","mr-0","my-2","row","align-items-center"],[1,"col-auto","px-0","my-0"],[1,"form-group","row","col-auto","col-md-4","m-0","align-items-center"],[1,"col-auto","col-form-label","py-0"],[1,"col","pl-0"],["type","text","required","","placeholder","Key",1,"form-control","form-control-sm",3,"ngModel","name","ngModelChange","click"],[1,"form-group","row","col-auto","col-md-4","m-0","mr-auto","align-items-center"],["placeholder","Db Object name","bindValue","connectionName","bindLabel","connectionName","require","",1,"ng-select-sm","w-100",3,"items","ngModel","name","ngModelChange","click"],[1,"form-group","row","col-auto","m-0","align-items-center"],["class","btn btn-sm btn-link",3,"click",4,"ngIf"],[1,"row","mx-0","mt-2","align-items-center"],[1,"btn","btn-link","mr-2",3,"click"],[1,"btn","btn-light","ml-auto","btn-sm",3,"click"],[1,"btn","btn-sm","btn-link",3,"click"],[1,"col-sm-3"],["type","text","required","","placeholder","Key",1,"form-control",3,"ngModel","name","ngModelChange"],[1,"col-sm-4"],["type","text","required","","placeholder","Schema Name",1,"form-control",3,"ngModel","name","ngModelChange"],[1,"col-sm"],["type","text","required","","placeholder","Name",1,"form-control",3,"ngModel","name","ngModelChange"]],template:function(e,t){if(1&e&&(r.Tb(0,"accordion",0),r.Tb(1,"accordion-group",1),r.Tb(2,"h4",2),r.Ec(3,"Main"),r.Sb(),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"label",6),r.Ec(8,"Owner"),r.Sb(),r.Tb(9,"div",7),r.Tb(10,"input",8),r.bc("ngModelChange",(function(e){return t.appInfo.ownerName=e})),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(11,"div",9),r.Tb(12,"div",5),r.Tb(13,"label",10),r.Ec(14,"Name"),r.Sb(),r.Tb(15,"div",7),r.Tb(16,"input",11,12),r.bc("ngModelChange",(function(e){return t.appInfo.appName=e})),r.Sb(),r.Cc(18,v,2,1,"div",13),r.Sb(),r.Sb(),r.Sb(),r.Tb(19,"div",14),r.Tb(20,"div",15),r.Tb(21,"label",16),r.Ec(22,"Title"),r.Sb(),r.Tb(23,"div",7),r.Tb(24,"input",17,18),r.bc("ngModelChange",(function(e){return t.appInfo.title=e})),r.Sb(),r.Cc(26,_,2,1,"div",13),r.Sb(),r.Sb(),r.Sb(),r.Tb(27,"div",19),r.Tb(28,"div",5),r.Tb(29,"label",20),r.Ec(30,"Logo"),r.Sb(),r.Tb(31,"div",7),r.Tb(32,"input",21,22),r.bc("ngModelChange",(function(e){return t.appInfo.logo=e})),r.Sb(),r.Cc(34,C,2,1,"div",13),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(35,"div",3),r.Tb(36,"div",23),r.Tb(37,"div",5),r.Tb(38,"label",24),r.Ec(39,"Description"),r.Sb(),r.Tb(40,"div",25),r.Tb(41,"textarea",26),r.bc("ngModelChange",(function(e){return t.appInfo.description=e})),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(42,"div",3),r.Tb(43,"div",27),r.Tb(44,"div",5),r.Tb(45,"label",28),r.Ec(46,"Public Access"),r.Sb(),r.Tb(47,"div",25),r.Tb(48,"select",29),r.bc("ngModelChange",(function(e){return t.appInfo.publicAccess=e})),r.Cc(49,S,2,2,"option",30),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(50,"div",31),r.Tb(51,"div",5),r.Tb(52,"label",32),r.Ec(53,"App Shell"),r.Sb(),r.Tb(54,"div",25),r.Tb(55,"select",33),r.bc("ngModelChange",(function(e){return t.appInfo.shellUri=e})),r.Cc(56,O,2,2,"option",30),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(57,"accordion-group"),r.Tb(58,"h4",2),r.Ec(59,"Permissions"),r.Sb(),r.Tb(60,"app-permissions",34),r.bc("save",(function(e){return t.onSavePermission(e)}))("remove",(function(e){return t.onRemovePermission(e)})),r.Sb(),r.Sb(),r.Tb(61,"accordion-group"),r.Tb(62,"h4",2),r.Ec(63,"Settings"),r.Sb(),r.Cc(64,x,11,6,"div",35),r.Tb(65,"div",36),r.Tb(66,"button",37),r.bc("click",(function(){return t.addSetting()})),r.Ec(67,"Add setting"),r.Sb(),r.Sb(),r.Sb(),r.Cc(68,P,22,7,"accordion-group",38),r.Tb(69,"div",39),r.Tb(70,"button",40),r.bc("click",(function(e){return t.openSqlConnectionForm(e)})),r.Ec(71,"Create a new connection"),r.Sb(),r.Tb(72,"button",41),r.bc("click",(function(){return t.addConnection()})),r.Ec(73,"Add connection"),r.Sb(),r.Sb(),r.Sb()),2&e){var n=r.sc(17),i=r.sc(25),o=r.sc(33);r.Bb(10),r.jc("ngModel",t.appInfo.ownerName),r.Bb(6),r.jc("ngModel",t.appInfo.appName),r.Bb(2),r.jc("ngIf",n.invalid&&(n.dirty||n.touched)),r.Bb(6),r.jc("ngModel",t.appInfo.title),r.Bb(2),r.jc("ngIf",i.invalid&&(i.dirty||i.touched)),r.Bb(6),r.jc("ngModel",t.appInfo.logo),r.Bb(2),r.jc("ngIf",o.invalid&&(o.dirty||o.touched)),r.Bb(7),r.jc("ngModel",t.appInfo.description),r.Bb(7),r.jc("ngModel",t.appInfo.publicAccess),r.Bb(1),r.jc("ngForOf",t.permissionLevels),r.Bb(6),r.jc("ngModel",t.appInfo.shellUri),r.Bb(1),r.jc("ngForOf",t.shells),r.Bb(4),r.jc("owner",t.appInfo.ownerName)("permissions",t.permissions),r.Bb(4),r.jc("ngForOf",t.settings),r.Bb(4),r.jc("ngForOf",t.appInfo.connectionConfigs)}},directives:[d.a,d.c,f.b,f.i,f.l,f.q,p.m,f.r,p.l,g.a,f.m,f.s,m.a],styles:[""]}),e}(),R=n("Uwcb"),N=function(){function e(e){this.dialogService=e,this.save=new r.p,this.delete=new r.p}return e.prototype.ngOnInit=function(){this.appInfo=this.config.appInfo,this.appInfo.appId||(this.config.shells=[R.a.appShell])},e.prototype.saveApp=function(){this.save.emit({appInfo:Object(i.a)(Object(i.a)({},this.appInfo),{settings:this.appInfoComponent.getSettings()}),permissionsToSave:this.appInfoComponent.getPermissions()}),this.modalRef.hide()},e.prototype.deleteApp=function(){var e=this;this.dialogService.confirmation("Delete App "+this.appInfo.appName+" of owner "+this.appInfo.ownerName+". Are You sure?").subscribe((function(t){t&&(e.delete.emit(e.appInfo.appId),e.modalRef.hide())}))},e.\u0275fac=function(t){return new(t||e)(r.Nb(o.b))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-app-config"]],viewQuery:function(e,t){var n;1&e&&r.Ac(D,!0),2&e&&r.rc(n=r.cc())&&(t.appInfoComponent=n.first)},inputs:{modalRef:"modalRef",config:"config"},outputs:{save:"save",delete:"delete"},decls:16,vars:5,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4","d-flex","flex-column","overflow-hidden"],[1,"h-100","d-block","overflow-auto",3,"appInfo","pages","scripts","shells"],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary","mr-2","ml-auto",3,"click"],["type","button",1,"btn","btn-light","mr-2",3,"click"]],template:function(e,t){1&e&&(r.Tb(0,"div",0),r.Tb(1,"h4",1),r.Ec(2),r.Sb(),r.Tb(3,"button",2),r.bc("click",(function(){return t.modalRef.hide()})),r.Tb(4,"span",3),r.Ec(5,"\xd7"),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",4),r.Ob(7,"app-app-info",5),r.Sb(),r.Tb(8,"div",6),r.Tb(9,"div",7),r.Tb(10,"button",8),r.bc("click",(function(){return t.deleteApp()})),r.Ec(11,"Delete App"),r.Sb(),r.Tb(12,"button",9),r.bc("click",(function(){return t.saveApp()})),r.Ec(13,"Save"),r.Sb(),r.Tb(14,"button",10),r.bc("click",(function(){return t.modalRef.hide()})),r.Ec(15,"Cancel"),r.Sb(),r.Sb(),r.Sb()),2&e&&(r.Bb(2),r.Gc("",t.appInfo.title||t.appInfo.appName," configuration"),r.Bb(5),r.jc("appInfo",t.appInfo)("pages",t.config.pages)("scripts",t.config.scripts)("shells",t.config.shells))},directives:[D],styles:["[_nghost-%COMP%] {\n      display: flex;\n      flex-direction: column;\n    }"]}),e}()},xOOu:function(e,t,n){e.exports=function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return r(t[s][1][e]||e)}),c,c.exports,e,t,n,i)}return n[s].exports}for(var o=!1,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,s,a,l,c=[],u=0,h=e.length,d=h,f="string"!==i.getTypeOf(e);u<e.length;)d=h-u,r=f?(t=e[u++],n=u<h?e[u++]:0,u<h?e[u++]:0):(t=e.charCodeAt(u++),n=u<h?e.charCodeAt(u++):0,u<h?e.charCodeAt(u++):0),s=(3&t)<<4|n>>4,a=1<d?(15&n)<<2|r>>6:64,l=2<d?63&r:64,c.push(o.charAt(t>>2)+o.charAt(s)+o.charAt(a)+o.charAt(l));return c.join("")},n.decode=function(e){var t,n,i,s,a,l,c=0,u=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&f--,e.charAt(e.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=r.uint8array?new Uint8Array(0|f):new Array(0|f);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(s=o.indexOf(e.charAt(c++)))>>4,n=(15&s)<<4|(a=o.indexOf(e.charAt(c++)))>>2,i=(3&a)<<6|(l=o.indexOf(e.charAt(c++))),d[u++]=t,64!==a&&(d[u++]=n),64!==l&&(d[u++]=i);return d}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var i=e("./external"),r=e("./stream/DataWorker"),o=e("./stream/DataLengthProbe"),s=e("./stream/Crc32Probe");function a(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}o=e("./stream/DataLengthProbe"),a.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var i=e("./utils"),r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var o=r,s=0+n;e^=-1;for(var a=0;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}(0|t,e,e.length):function(e,t,n,i){var o=r,s=0+n;e^=-1;for(var a=0;a<s;a++)e=e>>>8^o[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),o=e("./utils"),s=e("./stream/GenericWorker"),a=i?"uint8array":"array";function l(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,e.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function i(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}function r(e,t,n,r,s,u){var h,d,f=e.file,p=e.compression,g=u!==a.utf8encode,m=o.transformTo("string",u(f.name)),b=o.transformTo("string",a.utf8encode(f.name)),v=f.comment,y=o.transformTo("string",u(v)),_=o.transformTo("string",a.utf8encode(v)),w=b.length!==f.name.length,C=_.length!==v.length,S="",O="",T="",k=f.dir,x=f.date,E={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(E.crc32=e.crc32,E.compressedSize=e.compressedSize,E.uncompressedSize=e.uncompressedSize);var j=0;t&&(j|=8),g||!w&&!C||(j|=2048);var A=0,I=0;k&&(A|=16),"UNIX"===s?(I=798,A|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(f.unixPermissions,k)):(I=20,A|=function(e){return 63&(e||0)}(f.dosPermissions)),h=x.getUTCHours(),h<<=6,h|=x.getUTCMinutes(),h<<=5,h|=x.getUTCSeconds()/2,d=x.getUTCFullYear()-1980,d<<=4,d|=x.getUTCMonth()+1,d<<=5,d|=x.getUTCDate(),w&&(O=i(1,1)+i(l(m),4)+b,S+="up"+i(O.length,2)+O),C&&(T=i(1,1)+i(l(y),4)+_,S+="uc"+i(T.length,2)+T);var M="";return M+="\n\0",M+=i(j,2),M+=p.magic,M+=i(h,2),M+=i(d,2),M+=i(E.crc32,4),M+=i(E.compressedSize,4),M+=i(E.uncompressedSize,4),M+=i(m.length,2),M+=i(S.length,2),{fileRecord:c.LOCAL_FILE_HEADER+M+m+S,dirRecord:c.CENTRAL_FILE_HEADER+i(I,2)+M+i(y.length,2)+"\0\0\0\0"+i(A,4)+i(r,4)+m+S+y}}var o=e("../utils"),s=e("../stream/GenericWorker"),a=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,n,i){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,s),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,s.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=r(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=r(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+i(e.crc32,4)+i(e.compressedSize,4)+i(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=function(e,t,n,r,s){var a=o.transformTo("string",s(r));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(n,4)+i(a.length,2)+a}(this.dirRecords.length,this.bytesWritten-e,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!s.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){s.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new r(t.streamFiles,n,t.platform,t.encodeFileName),s=0;try{e.forEach((function(e,n){s++;var r=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),a=n.dir,l=n.date;n._compressWorker(r,n.options.compressionOptions||t.compressionOptions||{}).withStreamInfo("file",{name:e,dir:a,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=s}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.5.0",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./external"),o=e("./utf8"),s=(i=e("./utils"),e("./zipEntries")),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new r.Promise((function(t,n){var i=e.decompressed.getContentWorker().pipe(new a);i.on("error",(function(e){n(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new s(t);return n.load(e),n})).then((function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var o=0;o<i.length;o++)n.push(c(i[o]));return r.Promise.all(n)})).then((function(e){for(var i=e.shift(),r=i.files,o=0;o<r.length;o++){var s=r[o];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker");function o(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(o,r),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var i=e("readable-stream").Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),n&&n(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}e("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function i(e,t,n){var i,r,a=o.getTypeOf(t),h=o.extend(n||{},l);h.date=h.date||new Date,null!==h.compression&&(h.compression=h.compression.toUpperCase()),"string"==typeof h.unixPermissions&&(h.unixPermissions=parseInt(h.unixPermissions,8)),h.unixPermissions&&16384&h.unixPermissions&&(h.dir=!0),h.dosPermissions&&16&h.dosPermissions&&(h.dir=!0),h.dir&&(e=g(e)),h.createFolders&&(i=p(e))&&m.call(this,i,!0),n&&void 0!==n.binary||(h.binary=!("string"===a&&!1===h.binary&&!1===h.base64)),(t instanceof c&&0===t.uncompressedSize||h.dir||!t||0===t.length)&&(h.base64=!1,h.binary=!0,t="",h.compression="STORE",a="string"),r=t instanceof c||t instanceof s?t:d.isNode&&d.isStream(t)?new f(e,t):o.prepareContent(e,t,h.binary,h.optimizedBinaryString,h.base64);var b=new u(e,r,h);this.files[e]=b}var r=e("./utf8"),o=e("./utils"),s=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),h=e("./generate"),d=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:l.createFolders,e=g(e),this.files[e]||i.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(i)})),t},file:function(e,t,n){if(1!==arguments.length)return i.call(this,e=this.root+e,t,n),this;if(b(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(b(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=m.call(this,this.root+e),n=this.clone();return n.root=t.name,n},remove:function(e){var t=this.files[e=this.root+e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS"),t=h.generateWorker(this,n,n.comment||this.comment||"")}catch(e){(t=new s("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){"use strict";var i=e("./Uint8ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var i=e("./ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),o=e("./ArrayReader"),s=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new a(e):r.uint8array?new l(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new s(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../utils");function o(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(o,i),o.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,i),o.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(o,r),o.prototype.processChunk=function(e){e&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+e.data.length),r.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),a=e("../support"),l=e("../external"),c=null;if(a.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t,n){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=n,i.checkSupport(s),this._worker=e.pipe(new r(s)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return function(e,t){return new l.Promise((function(n,r){var o=[],a=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],r(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(l,function(e,t){var n,i=0,r=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(o),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,o),c);n(e)}catch(e){r(e)}o=[]})).resume()}))}(this,e)},on:function(e,t){var n=this;return this._worker.on(e,"data"===e?function(e){t.call(n,e.data,e.meta)}:function(){i.delay(t,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),o=e("./nodejsUtils"),s=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){s.call(this,"utf-8 decode"),this.leftOver=null}function u(){s.call(this,"utf-8 encode")}a[254]=a[254]=1,n.utf8encode=function(e){return r.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,i,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),o=s=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t}(e)},n.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,o,s=e.length,l=new Array(2*s);for(t=n=0;t<s;)if((r=e[t++])<128)l[n++]=r;else if(4<(o=a[r]))l[n++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&t<s;)r=r<<6|63&e[t++],o--;1<o?l[n++]=65533:r<65536?l[n++]=r:(l[n++]=55296|(r-=65536)>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(e=i.transformTo(r.uint8array?"uint8array":"array",e))},i.inherits(c,s),c.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}(t),l=t;s!==t.length&&(r.uint8array?(l=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(l=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,i.inherits(u,s),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var i=e("./support"),r=e("./base64"),o=e("./nodejsUtils"),s=e("set-immediate-shim"),a=e("./external");function l(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(t,i){n.checkSupport("blob");try{return new Blob([t],{type:i})}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(t),r.getBlob(i)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var i=[],r=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;r<o;)i.push(String.fromCharCode.apply(null,"array"===t||"nodebuffer"===t?e.slice(r,Math.min(r+n,o)):e.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=u.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=u.applyCanBeUsed.nodebuffer),r)for(;1<t;)try{return u.stringifyByChunk(e,i,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=h;var f={};f.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},f.array={string:h,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},f.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},f.nodebuffer={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:l},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return f[i][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&o.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){s((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,s,l){return a.Promise.resolve(t).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(l?t=r.decode(t):o&&!0!==s&&(t=function(e){return c(e,i.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./signature"),s=e("./zipEntry"),a=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=r.transformTo(a.uint8array?"uint8array":"array",e);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)this.reader.setIndex((t=this.files[e]).localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(0<i)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./compressedObject"),s=e("./crc32"),a=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i};e.setIndex(r)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||s(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||s(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function i(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),s=e("./utf8"),a=e("./compressedObject"),l=e("./stream/GenericWorker");i.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!i&&(t=t.pipe(new s.Utf8EncodeWorker)),!o&&i&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)i.prototype[c[h]]=u;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,s=new r(u),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}t.exports=function(e){1!==c.push(e)||i||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var i=e("immediate");function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){i((function(){var i;try{i=t(n)}catch(i){return o.reject(e,i)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}var s=p((function(){t(r,i)}));"error"===s.status&&i(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(r);return this.state!==l?h(n,this.state===a?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)f(e,i);else{e.state=a,e.outcome=t;for(var r=-1,s=e.queue.length;++r<s;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,l=-1,c=new this(r);++l<n;)u(e[l],l);return c;function u(e,r){t.resolve(e).then((function(e){s[r]=e,++a!==n||i||(i=!0,o.resolve(c,s))}),(function(e){i||(i=!0,o.reject(c,e))}))}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var i=-1,s=new this(r);++i<t;)this.resolve(e[i]).then((function(e){n||(n=!0,o.resolve(s,e))}),(function(e){n||(n=!0,o.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,n){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var i=e("./zlib/deflate"),r=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(s[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=i.deflateSetDictionary(this.strm,u)))throw new Error(s[n]);this._dict_set=!0}}function u(e,t){var n=new c(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}c.prototype.push=function(e,t){var n,s,a=this.strm,c=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,a.input="string"==typeof e?o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?new Uint8Array(e):e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(c),a.next_out=0,a.avail_out=c),1!==(n=i.deflate(a,s))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||this.onData("string"===this.options.to?o.buf2binstring(r.shrinkBuf(a.output,a.next_out)):r.shrinkBuf(a.output,a.next_out))}while((0<a.avail_in||0===a.avail_out)&&1!==n);return 4===s?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),!(a.avail_out=0))},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=c,n.deflate=u,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var i=e("./zlib/inflate"),r=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,l,c,h,d,f=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,f.input="string"==typeof e?o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?new Uint8Array(e):e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(p),f.next_out=0,f.avail_out=p),(n=i.inflate(f,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&g&&(d="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===u.call(g)?new Uint8Array(g):g,n=i.inflateSetDictionary(this.strm,d)),n===s.Z_BUF_ERROR&&!0===m&&(n=s.Z_OK,m=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==s.Z_STREAM_END&&(0!==f.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(f.output,f.next_out),c=f.next_out-l,h=o.buf2string(f.output,l),f.next_out=c,f.avail_out=p-c,c&&r.arraySet(f.output,f.output,l,c,0),this.onData(h)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(f.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=d,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,s;for(t=i=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),t=r=0,n=e.length;t<n;t++)s.set(o=e[t],r),r+=o.length;return s}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(e,t,n){"use strict";var i=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,r,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),o=s=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,o,a=t||e.length,c=new Array(2*a);for(n=i=0;n<a;)if((r=e[n++])<128)c[i++]=r;else if(4<(o=s[r]))c[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&n<a;)r=r<<6|63&e[n++],o--;1<o?c[i++]=65533:r<65536?c[i++]=r:(c[i++]=55296|(r-=65536)>>10&1023,c[i++]=56320|1023&r)}return l(c,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;o=o+(r=r+t[i++]|0)|0,--s;);r%=65521,o%=65521}return r|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,n){"use strict";var i,r=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),l=e("./messages"),c=-2,u=258,h=262,d=113;function f(e,t){return e.msg=l[t],t}function p(e){return(e<<1)-(4<e?9:0)}function g(e){for(var t=e.length;0<=--t;)e[t]=0}function m(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function y(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function _(e,t){var n,i,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,c=e.window,d=e.w_mask,f=e.prev,p=e.strstart+u,g=c[o+s-1],m=c[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+s]===m&&c[n+s-1]===g&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<p);if(i=u-(p-o),o=p-u,s<i){if(e.match_start=t,a<=(s=i))break;g=c[o+s-1],m=c[o+s]}}}while((t=f[t&d])>l&&0!=--r);return s<=e.lookahead?s:e.lookahead}function w(e){var t,n,i,o,l,c,u,d,f,p,g=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-h)){for(r.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=n=e.hash_size;i=e.head[--t],e.head[t]=g<=i?i-g:0,--n;);for(t=n=g;i=e.prev[--t],e.prev[t]=g<=i?i-g:0,--n;);o+=g}if(0===e.strm.avail_in)break;if(u=e.window,d=e.strstart+e.lookahead,p=void 0,(f=o)<(p=(c=e.strm).avail_in)&&(p=f),n=0===p?0:(c.avail_in-=p,r.arraySet(u,c.input,c.next_in,p,d),1===c.state.wrap?c.adler=s(c.adler,u,p,d):2===c.state.wrap&&(c.adler=a(c.adler,u,p,d)),c.next_in+=p,c.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(e.ins_h=e.window[l=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function C(e,t){for(var n,i;;){if(e.lookahead<h){if(w(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-h&&(e.match_length=_(e,n)),e.match_length>=3)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function S(e,t){for(var n,i,r;;){if(e.lookahead<h){if(w(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-h&&(e.match_length=_(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-3,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function O(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function k(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):f(e,c)}function x(e){var t=k(e);return 0===t&&function(e){e.window_size=2*e.w_size,g(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function E(e,t,n,i,o,s){if(!e)return c;var a=1;if(-1===t&&(t=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),o<1||9<o||8!==n||i<8||15<i||t<0||9<t||s<0||4<s)return f(e,c);8===i&&(i=9);var l=new T;return(e.state=l).strm=e,l.wrap=a,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,x(e)}i=[new O(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(w(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&b(e,!1),1)})),new O(4,4,8,4,C),new O(4,5,16,8,C),new O(4,6,32,32,C),new O(4,4,16,16,S),new O(8,16,32,32,S),new O(8,16,128,128,S),new O(8,32,128,256,S),new O(32,128,258,1024,S),new O(32,258,258,4096,S)],n.deflateInit=function(e,t){return E(e,t,8,15,8,0)},n.deflateInit2=E,n.deflateReset=x,n.deflateResetKeep=k,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},n.deflate=function(e,t){var n,r,s,l;if(!e||!e.state||5<t||t<0)return e?f(e,c):c;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return f(e,0===e.avail_out?-5:c);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,v(r,31),v(r,139),v(r,8),r.gzhead?(v(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),v(r,255&r.gzhead.time),v(r,r.gzhead.time>>8&255),v(r,r.gzhead.time>>16&255),v(r,r.gzhead.time>>24&255),v(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),v(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(v(r,255&r.gzhead.extra.length),v(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=a(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(v(r,0),v(r,0),v(r,0),v(r,0),v(r,0),v(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),v(r,3),r.status=d);else{var h=8+(r.w_bits-8<<4)<<8;h|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=d,y(r,h),0!==r.strstart&&(y(r,e.adler>>>16),y(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),m(e),s=r.pending,r.pending!==r.pending_buf_size));)v(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),m(e),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,v(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),m(e),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,v(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&m(e),r.pending+2<=r.pending_buf_size&&(v(r,255&e.adler),v(r,e.adler>>8&255),e.adler=0,r.status=d)):r.status=d),0!==r.pending){if(m(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&p(t)<=p(n)&&4!==t)return f(e,-5);if(666===r.status&&0!==e.avail_in)return f(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var _=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(w(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,s,a=e.window;;){if(e.lookahead<=u){if(w(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){s=e.strstart+u;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);e.match_length=u-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==_&&4!==_||(r.status=666),1===_||3===_)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===_&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(g(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),m(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(v(r,255&e.adler),v(r,e.adler>>8&255),v(r,e.adler>>16&255),v(r,e.adler>>24&255),v(r,255&e.total_in),v(r,e.total_in>>8&255),v(r,e.total_in>>16&255),v(r,e.total_in>>24&255)):(y(r,e.adler>>>16),y(r,65535&e.adler)),m(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==d&&666!==t?f(e,c):(e.state=null,t===d?f(e,-3):0):c},n.deflateSetDictionary=function(e,t){var n,i,o,a,l,u,h,d,f=t.length;if(!e||!e.state)return c;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return c;for(1===a&&(e.adler=s(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===a&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new r.Buf8(n.w_size),r.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),l=e.avail_in,u=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,w(n);n.lookahead>=3;){for(i=n.strstart,o=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--o;);n.strstart=i,n.lookahead=2,w(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=h,e.avail_in=l,n.wrap=a,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,b,v,y,_,w,C,S,O,T,k;T=e.input,r=(i=e.next_in)+(e.avail_in-5),k=e.output,s=(o=e.next_out)-(t-e.avail_out),a=o+(e.avail_out-257),l=(n=e.state).dmax,c=n.wsize,u=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,g=n.lencode,m=n.distcode,b=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{p<15&&(f+=T[i++]<<p,f+=T[i++]<<(p+=8),p+=8),y=g[f&b];t:for(;;){if(f>>>=_=y>>>24,p-=_,0==(_=y>>>16&255))k[o++]=65535&y;else{if(!(16&_)){if(0==(64&_)){y=g[(65535&y)+(f&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&y,(_&=15)&&(p<_&&(f+=T[i++]<<p,p+=8),w+=f&(1<<_)-1,f>>>=_,p-=_),p<15&&(f+=T[i++]<<p,f+=T[i++]<<(p+=8),p+=8),y=m[f&v];n:for(;;){if(f>>>=_=y>>>24,p-=_,!(16&(_=y>>>16&255))){if(0==(64&_)){y=m[(65535&y)+(f&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(C=65535&y,p<(_&=15)&&(f+=T[i++]<<p,(p+=8)<_&&(f+=T[i++]<<p,p+=8)),l<(C+=f&(1<<_)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=_,p-=_,(_=o-s)<C){if(u<(_=C-_)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(O=d,(S=0)===h){if(S+=c-_,_<w){for(w-=_;k[o++]=d[S++],--_;);S=o-C,O=k}}else if(h<_){if(S+=c+h-_,(_-=h)<w){for(w-=_;k[o++]=d[S++],--_;);if(S=0,h<w){for(w-=_=h;k[o++]=d[S++],--_;);S=o-C,O=k}}}else if(S+=h-_,_<w){for(w-=_;k[o++]=d[S++],--_;);S=o-C,O=k}for(;2<w;)k[o++]=O[S++],k[o++]=O[S++],k[o++]=O[S++],w-=3;w&&(k[o++]=O[S++],1<w&&(k[o++]=O[S++]))}else{for(S=o-C;k[o++]=k[S++],k[o++]=k[S++],k[o++]=k[S++],2<(w-=3););w&&(k[o++]=k[S++],1<w&&(k[o++]=k[S++]))}break}}break}}while(i<r&&o<a);i-=w=p>>3,f&=(1<<(p-=w<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=f,n.bits=p}},{}],49:[function(e,t,n){"use strict";var i=e("../utils/common"),r=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),l=-2;function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):l}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):l}function f(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,d(e))):l}function p(e,t){var n,i;return e?(i=new u,(e.state=i).window=null,0!==(n=f(e,t))&&(e.state=null),n):l}var g,m,b=!0;function v(e){if(b){var t;for(g=new i.Buf32(512),m=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,m,0,e.work,{bits:5}),b=!1}e.lencode=g,e.lenbits=9,e.distcode=m,e.distbits=5}function y(e,t,n,r){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),r>=s.wsize?(i.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(r<(o=s.wsize-s.wnext)&&(o=r),i.arraySet(s.window,t,n-r,o,s.wnext),(r-=o)?(i.arraySet(s.window,t,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}n.inflateReset=d,n.inflateReset2=f,n.inflateResetKeep=h,n.inflateInit=function(e){return p(e,15)},n.inflateInit2=p,n.inflate=function(e,t){var n,u,h,d,f,p,g,m,b,_,w,C,S,O,T,k,x,E,j,A,I,M,P,D,R=0,N=new i.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,h=e.output,d=e.next_in,u=e.input,m=n.hold,b=n.bits,_=p=e.avail_in,w=g=e.avail_out,M=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}if(2&n.wrap&&35615===m){N[n.check=0]=255&m,N[1]=m>>>8&255,n.check=o(n.check,N,2,0),b=m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(b-=4,I=8+(15&(m>>>=4)),0===n.wbits)n.wbits=I;else if(I>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<I,e.adler=n.check=1,n.mode=512&m?10:12,b=m=0;break;case 2:for(;b<16;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=o(n.check,N,2,0)),b=m=0,n.mode=3;case 3:for(;b<32;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}n.head&&(n.head.time=m),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,N[2]=m>>>16&255,N[3]=m>>>24&255,n.check=o(n.check,N,4,0)),b=m=0,n.mode=4;case 4:for(;b<16;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=o(n.check,N,2,0)),b=m=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(N[0]=255&m,N[1]=m>>>8&255,n.check=o(n.check,N,2,0)),b=m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(p<(C=n.length)&&(C=p),C&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,u,d,C,I)),512&n.flags&&(n.check=o(n.check,u,C,d)),p-=C,d+=C,n.length-=C),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break e;for(C=0;I=u[d+C++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I)),I&&C<p;);if(512&n.flags&&(n.check=o(n.check,u,C,d)),p-=C,d+=C,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break e;for(C=0;I=u[d+C++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I)),I&&C<p;);if(512&n.flags&&(n.check=o(n.check,u,C,d)),p-=C,d+=C,I)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}b=m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;b<32;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}e.adler=n.check=c(m),b=m=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=g,e.next_in=d,e.avail_in=p,n.hold=m,n.bits=b,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}switch(n.last=1&m,b-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6!==t)break;m>>>=2,b-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,b-=2;break;case 14:for(m>>>=7&b,b-=7&b;b<32;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,b=m=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(C=n.length){if(p<C&&(C=p),g<C&&(C=g),0===C)break e;i.arraySet(h,u,d,C,f),p-=C,d+=C,g-=C,f+=C,n.length-=C;break}n.mode=12;break;case 17:for(;b<14;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}if(n.nlen=257+(31&m),b-=5,n.ndist=1+(31&(m>>>=5)),b-=5,n.ncode=4+(15&(m>>>=5)),m>>>=4,b-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}n.lens[L[n.have++]]=7&m,m>>>=3,b-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M=a(0,n.lens,0,19,n.lencode,0,n.work,P={bits:n.lenbits}),n.lenbits=P.bits,M){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;k=(R=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,x=65535&R,!((T=R>>>24)<=b);){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}if(x<16)m>>>=T,b-=T,n.lens[n.have++]=x;else{if(16===x){for(D=T+2;b<D;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}if(m>>>=T,b-=T,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}I=n.lens[n.have-1],C=3+(3&m),m>>>=2,b-=2}else if(17===x){for(D=T+3;b<D;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}b-=T,I=0,C=3+(7&(m>>>=T)),m>>>=3,b-=3}else{for(D=T+7;b<D;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}b-=T,I=0,C=11+(127&(m>>>=T)),m>>>=7,b-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=I}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,M=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,P={bits:n.lenbits}),n.lenbits=P.bits,M){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,M=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P={bits:n.distbits}),n.distbits=P.bits,M){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=p&&258<=g){e.next_out=f,e.avail_out=g,e.next_in=d,e.avail_in=p,n.hold=m,n.bits=b,s(e,w),f=e.next_out,h=e.output,g=e.avail_out,d=e.next_in,u=e.input,p=e.avail_in,m=n.hold,b=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;k=(R=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,x=65535&R,!((T=R>>>24)<=b);){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}if(k&&0==(240&k)){for(E=T,j=k,A=x;k=(R=n.lencode[A+((m&(1<<E+j)-1)>>E)])>>>16&255,x=65535&R,!(E+(T=R>>>24)<=b);){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}m>>>=E,b-=E,n.back+=E}if(m>>>=T,b-=T,n.back+=T,n.length=x,0===k){n.mode=26;break}if(32&k){n.back=-1,n.mode=12;break}if(64&k){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&k,n.mode=22;case 22:if(n.extra){for(D=n.extra;b<D;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;k=(R=n.distcode[m&(1<<n.distbits)-1])>>>16&255,x=65535&R,!((T=R>>>24)<=b);){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}if(0==(240&k)){for(E=T,j=k,A=x;k=(R=n.distcode[A+((m&(1<<E+j)-1)>>E)])>>>16&255,x=65535&R,!(E+(T=R>>>24)<=b);){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}m>>>=E,b-=E,n.back+=E}if(m>>>=T,b-=T,n.back+=T,64&k){e.msg="invalid distance code",n.mode=30;break}n.offset=x,n.extra=15&k,n.mode=24;case 24:if(n.extra){for(D=n.extra;b<D;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break e;if(n.offset>(C=w-g)){if((C=n.offset-C)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}S=C>n.wnext?n.wsize-(C-=n.wnext):n.wnext-C,C>n.length&&(C=n.length),O=n.window}else O=h,S=f-n.offset,C=n.length;for(g<C&&(C=g),g-=C,n.length-=C;h[f++]=O[S++],--C;);0===n.length&&(n.mode=21);break;case 26:if(0===g)break e;h[f++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===p)break e;p--,m|=u[d++]<<b,b+=8}if(e.total_out+=w-=g,n.total+=w,w&&(e.adler=n.check=n.flags?o(n.check,h,w,f-w):r(n.check,h,w,f-w)),w=g,(n.flags?m:c(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}b=m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===p)break e;p--,m+=u[d++]<<b,b+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}b=m=0}n.mode=29;case 29:M=1;break e;case 30:M=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=f,e.avail_out=g,e.next_in=d,e.avail_in=p,n.hold=m,n.bits=b,(n.wsize||w!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&y(e,e.output,e.next_out,w-e.avail_out)?(n.mode=31,-4):(w-=e.avail_out,e.total_in+=_-=e.avail_in,e.total_out+=w,n.total+=w,n.wrap&&w&&(e.adler=n.check=n.flags?o(n.check,h,w,e.next_out-w):r(n.check,h,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==_&&0===w||4===t)&&0===M&&(M=-5),M)},n.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?l:((n.head=t).done=!1,0):l},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&r(1,t,i,0)!==n.check?-3:y(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):l},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,h,d){var f,p,g,m,b,v,y,_,w,C=d.bits,S=0,O=0,T=0,k=0,x=0,E=0,j=0,A=0,I=0,M=0,P=null,D=0,R=new i.Buf16(16),N=new i.Buf16(16),L=null,F=0;for(S=0;S<=15;S++)R[S]=0;for(O=0;O<l;O++)R[t[n+O]]++;for(x=C,k=15;1<=k&&0===R[k];k--);if(k<x&&(x=k),0===k)return c[u++]=20971520,c[u++]=20971520,d.bits=1,0;for(T=1;T<k&&0===R[T];T++);for(x<T&&(x=T),S=A=1;S<=15;S++)if(A<<=1,(A-=R[S])<0)return-1;if(0<A&&(0===e||1!==k))return-1;for(N[1]=0,S=1;S<15;S++)N[S+1]=N[S]+R[S];for(O=0;O<l;O++)0!==t[n+O]&&(h[N[t[n+O]]++]=O);if(v=0===e?(P=L=h,19):1===e?(P=r,D-=257,L=o,F-=257,256):(P=s,L=a,-1),S=T,b=u,j=O=M=0,g=-1,m=(I=1<<(E=x))-1,1===e&&852<I||2===e&&592<I)return 1;for(;;){for(y=S-j,w=h[O]<v?(_=0,h[O]):h[O]>v?(_=L[F+h[O]],P[D+h[O]]):(_=96,0),f=1<<S-j,T=p=1<<E;c[b+(M>>j)+(p-=f)]=y<<24|_<<16|w|0,0!==p;);for(f=1<<S-1;M&f;)f>>=1;if(0!==f?(M&=f-1,M+=f):M=0,O++,0==--R[S]){if(S===k)break;S=t[n+h[O]]}if(x<S&&(M&m)!==g){for(0===j&&(j=x),b+=T,A=1<<(E=S-j);E+j<k&&!((A-=R[E+j])<=0);)E++,A<<=1;if(I+=1<<E,1===e&&852<I||2===e&&592<I)return 1;c[g=M&m]=x<<24|E<<16|b-u|0}}return 0!==M&&(c[b+M]=S-j<<24|64<<16|0),d.bits=x,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var i=e("../utils/common");function r(e){for(var t=e.length;0<=--t;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);r(c);var u=new Array(60);r(u);var h=new Array(512);r(h);var d=new Array(256);r(d);var f=new Array(29);r(f);var p,g,m,b=new Array(30);function v(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function y(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function _(e){return e<256?h[e]:h[256+(e>>>7)]}function w(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,w(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function S(e,t,n){C(e,n[2*t],n[2*t+1])}function O(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function T(e,t,n){var i,r,o=new Array(16),s=0;for(i=1;i<=15;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=t;r++){var a=e[2*r+1];0!==a&&(e[2*r]=O(o[a]++,a))}}function k(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function x(e){8<e.bi_valid?w(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function E(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function j(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&E(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!E(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function A(e,t,n){var i,r,a,l,c=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],r=e.pending_buf[e.l_buf+c],c++,0===i?S(e,r,t):(S(e,(a=d[r])+256+1,t),0!==(l=o[a])&&C(e,r-=f[a],l),S(e,a=_(--i),n),0!==(l=s[a])&&C(e,i-=b[a],l)),c<e.last_lit;);S(e,256,t)}function I(e,t){var n,i,r,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,a&&(e.static_len-=s[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)j(e,o,n);for(r=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],j(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,j(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,s,a,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)p<(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)&&(o=p,g++),l[2*i+1]=o,c<i||(e.bl_count[o]++,s=0,f<=i&&(s=d[i-f]),e.opt_len+=(a=l[2*i])*(o+s),h&&(e.static_len+=a*(u[2*i+1]+s)));if(0!==g){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,g-=2}while(0<g);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)c<(r=e.heap[--n])||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),T(o,c,e.bl_count)}function M(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=t[2*(i+1)+1],++a<l&&r===s||(a<c?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=r,c=(a=0)===s?(l=138,3):r===s?(l=6,3):(l=7,4))}function P(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),i=0;i<=n;i++)if(r=s,s=t[2*(i+1)+1],!(++a<l&&r===s)){if(a<c)for(;S(e,r,e.bl_tree),0!=--a;);else 0!==r?(r!==o&&(S(e,r,e.bl_tree),a--),S(e,16,e.bl_tree),C(e,a-3,2)):a<=10?(S(e,17,e.bl_tree),C(e,a-3,3)):(S(e,18,e.bl_tree),C(e,a-11,7));o=r,c=(a=0)===s?(l=138,3):r===s?(l=6,3):(l=7,4)}}r(b);var D=!1;function R(e,t,n,r){C(e,0+(r?1:0),3),function(e,t,n,r){x(e),w(e,n),w(e,~n),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){D||(function(){var e,t,n,i,r,l=new Array(16);for(i=n=0;i<28;i++)for(f[i]=n,e=0;e<1<<o[i];e++)d[n++]=i;for(d[n-1]=i,i=r=0;i<16;i++)for(b[i]=r,e=0;e<1<<s[i];e++)h[r++]=i;for(r>>=7;i<30;i++)for(b[i]=r<<7,e=0;e<1<<s[i]-7;e++)h[256+r++]=i;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)c[2*e+1]=8,e++,l[8]++;for(;e<=255;)c[2*e+1]=9,e++,l[9]++;for(;e<=279;)c[2*e+1]=7,e++,l[7]++;for(;e<=287;)c[2*e+1]=8,e++,l[8]++;for(T(c,287,l),e=0;e<30;e++)u[2*e+1]=5,u[2*e]=O(e,5);p=new v(c,o,257,286,15),g=new v(u,s,0,30,15),m=new v(new Array(0),a,0,19,7)}(),D=!0),e.l_desc=new y(e.dyn_ltree,p),e.d_desc=new y(e.dyn_dtree,g),e.bl_desc=new y(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,k(e)},n._tr_stored_block=R,n._tr_flush_block=function(e,t,n,i){var r,o,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),I(e,e.l_desc),I(e,e.d_desc),s=function(e){var t;for(M(e,e.dyn_ltree,e.l_desc.max_code),M(e,e.dyn_dtree,e.d_desc.max_code),I(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(o=e.static_len+3+7>>>3)<=(r=e.opt_len+3+7>>>3)&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?R(e,t,n,i):4===e.strategy||o===r?(C(e,2+(i?1:0),3),A(e,c,u)):(C(e,4+(i?1:0),3),function(e,t,n,i){var r;for(C(e,t-257,5),C(e,n-1,5),C(e,i-4,4),r=0;r<i;r++)C(e,e.bl_tree[2*l[r]+1],3);P(e,e.dyn_ltree,t-1),P(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),A(e,e.dyn_ltree,e.dyn_dtree)),k(e),i&&x(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(d[n]+256+1)]++,e.dyn_dtree[2*_(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){C(e,2,3),S(e,256,c),function(e){16===e.bi_valid?(w(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},xbPD:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("Ji7U"),r=n("LK+K"),o=n("1OyB"),s=n("vuIU"),a=n("7o/Q");function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new c(e))}}var c=function(){function e(t){Object(o.a)(this,e),this.defaultValue=t}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.defaultValue))}}]),e}(),u=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(e,i){var r;return Object(o.a)(this,n),(r=t.call(this,e)).defaultValue=i,r.isEmpty=!0,r}return Object(s.a)(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(a.a)},xgIS:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("KQm4"),r=n("HDdC"),o=n("DH7j"),s=n("n6bG"),a=n("lJxs");function l(e,t,n,c){return Object(s.a)(n)&&(c=n,n=void 0),c?l(e,t,n).pipe(Object(a.a)((function(e){return Object(o.a)(e)?c.apply(void 0,Object(i.a)(e)):c(e)}))):new r.a((function(i){!function e(t,n,i,r,o){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,i,o),s=function(){return a.removeEventListener(n,i,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var l=t;t.on(n,i),s=function(){return l.off(n,i)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,i),s=function(){return c.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,h=t.length;u<h;u++)e(t[u],n,i,r,o)}r.add(s)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)}))}},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("HDdC"),r=n("ngJS"),o=n("jZKg");function s(e,t){return t?Object(o.a)(e,t):new i.a(Object(r.a)(e))}},yLV6:function(e,t,n){var i;!function(r,o,s,a){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],u=o.createElement("div"),h=Math.round,d=Math.abs,f=Date.now;function p(e,t,n){return setTimeout(w(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(m(e,n[t],n),!0)}function m(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function b(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}l="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var v=b((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&void 0===e[i[r]])&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),y=b((function(e,t){return v(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&l(i,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function C(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function S(e,t){return void 0===e?t:e}function O(e,t,n){m(E(t),(function(t){e.addEventListener(t,n,!1)}))}function T(e,t,n){m(E(t),(function(t){e.removeEventListener(t,n,!1)}))}function k(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function x(e,t){return e.indexOf(t)>-1}function E(e){return e.trim().split(/\s+/g)}function j(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function A(e){return Array.prototype.slice.call(e,0)}function I(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];j(r,s)<0&&i.push(e[o]),r[o]=s,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function M(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<c.length;){if((i=(n=c[o])?n+r:t)in e)return i;o++}}var P=1;function D(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var R="ontouchstart"in r,N=void 0!==M(r,"PointerEvent"),L=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],B=["clientX","clientY"];function H(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){C(e.options.enable,[e])&&n.handler(t)},this.init()}function V(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,s=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=$(t)),r>1&&!n.firstMultiple?n.firstMultiple=$(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=t.center=z(i);t.timeStamp=f(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=K(a,l),t.distance=U(a,l),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=W(t.deltaX,t.deltaY);var c,u,h=G(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=h.x,t.overallVelocityY=h.y,t.overallVelocity=d(h.x)>d(h.y)?h.x:h.y,t.scale=s?(c=s.pointers,U((u=i)[0],u[1],B)/U(c[0],c[1],B)):1,t.rotation=s?function(e,t){return K(t[1],t[0],B)+K(e[1],e[0],B)}(s.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,s=e.lastInterval||t,a=t.timeStamp-s.timeStamp;if(8!=t.eventType&&(a>25||void 0===s.velocity)){var l=t.deltaX-s.deltaX,c=t.deltaY-s.deltaY,u=G(a,l,c);i=u.x,r=u.y,n=d(u.x)>d(u.y)?u.x:u.y,o=W(l,c),e.lastInterval=t}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var p=e.element;k(t.srcEvent.target,p)&&(p=t.srcEvent.target),t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function $(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:h(e.pointers[n].clientX),clientY:h(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:z(t),deltaX:e.deltaX,deltaY:e.deltaY}}function z(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:h(n/t),y:h(i/t)}}function G(e,t,n){return{x:t/e||0,y:n/e||0}}function W(e,t){return e===t?1:d(e)>=d(t)?e<0?2:4:t<0?8:16}function U(e,t,n){n||(n=F);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function K(e,t,n){return n||(n=F),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}H.prototype={handler:function(){},init:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(D(this.element),this.evWin,this.domHandler)}};var q={mousedown:1,mousemove:2,mouseup:4};function X(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,H.apply(this,arguments)}_(X,H,{handler:function(e){var t=q[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},J={2:"touch",3:"pen",4:"mouse",5:"kinect"},Q="pointerdown",Z="pointermove pointerup pointercancel";function ee(){this.evEl=Q,this.evWin=Z,H.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(Q="MSPointerDown",Z="MSPointerMove MSPointerUp MSPointerCancel"),_(ee,H,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=Y[i],o=J[e.pointerType]||e.pointerType,s="touch"==o,a=j(t,e.pointerId,"pointerId");1&r&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):12&r&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,H.apply(this,arguments)}function ie(e,t){var n=A(e.touches),i=A(e.changedTouches);return 12&t&&(n=I(n.concat(i),"identifier",!0)),[n,i]}_(ne,H,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=ie.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var re={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function oe(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},H.apply(this,arguments)}function se(e,t){var n=A(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=A(e.changedTouches),a=[],l=this.target;if(o=n.filter((function(e){return k(e.target,l)})),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),12&t&&delete i[s[r].identifier],r++;return a.length?[I(o.concat(a),"identifier",!0),a]:void 0}function ae(){H.apply(this,arguments);var e=w(this.handler,this);this.touch=new oe(this.manager,e),this.mouse=new X(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function le(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ce.call(this,t)):12&e&&ce.call(this,t)}function ce(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function ue(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}_(oe,H,{handler:function(e){var t=re[e.type],n=se.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}),_(ae,H,{handler:function(e,t,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)le.call(this,t,n);else if(i&&ue.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var he=M(u.style,"touchAction"),de=void 0!==he,fe=function(){if(!de)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function pe(e,t){this.manager=e,this.set(t)}function ge(e){this.options=l({},this.defaults,e||{}),this.id=P++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function me(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function be(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ve(e,t){var n=t.manager;return n?n.get(e):e}function ye(){ge.apply(this,arguments)}function _e(){ye.apply(this,arguments),this.pX=null,this.pY=null}function we(){ye.apply(this,arguments)}function Ce(){ge.apply(this,arguments),this._timer=null,this._input=null}function Se(){ye.apply(this,arguments)}function Oe(){ye.apply(this,arguments)}function Te(){ge.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ke(e,t){return(t=t||{}).recognizers=S(t.recognizers,ke.defaults.preset),new xe(e,t)}function xe(e,t){var n;this.options=l({},ke.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(N?ee:L?oe:R?ae:X))(n,V),this.touchAction=new pe(this,this.options.touchAction),Ee(this,!0),m(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ee(e,t){var n,i=e.element;i.style&&(m(e.options.cssProps,(function(r,o){n=M(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}pe.prototype={set:function(e){"compute"==e&&(e=this.compute()),de&&this.manager.element.style&&fe[e]&&(this.manager.element.style[he]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,(function(t){C(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(x(e,"none"))return"none";var t=x(e,"pan-x"),n=x(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":x(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=x(i,"none")&&!fe.none,o=x(i,"pan-y")&&!fe["pan-y"],s=x(i,"pan-x")&&!fe["pan-x"];if(r&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!s||!o)return r||o&&6&n||s&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},ge.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ve(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=ve(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===j(t,e=ve(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=ve(e,this);var t=j(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+me(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+me(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!C(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(ye,ge,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:32}}),_(_e,ye,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,s=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===s?1:s<0?8:16,n=s!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return ye.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=be(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(we,ye,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),_(Ce,ge,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),_(Se,ye,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(Oe,ye,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _e.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=be(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(Te,ge,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||U(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ke.VERSION="2.0.7",ke.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Se,{enable:!1}],[we,{enable:!1},["rotate"]],[Oe,{direction:6}],[_e,{direction:6},["swipe"]],[Te],[Te,{event:"doubletap",taps:2},["tap"]],[Ce]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},xe.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof ge)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=j(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return m(E(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return m(E(e),(function(e){t?n[e]&&n[e].splice(j(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&Ee(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(ke,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:xe,Input:H,TouchAction:pe,TouchInput:oe,MouseInput:X,PointerEventInput:ee,TouchMouseInput:ae,SingleTouchInput:ne,Recognizer:ge,AttrRecognizer:ye,Tap:Te,Pan:_e,Swipe:Oe,Pinch:we,Rotate:Se,Press:Ce,on:O,off:T,each:m,merge:y,extend:v,assign:l,inherit:_,bindFn:w,prefixed:M}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=ke,void 0===(i=(function(){return ke}).call(t,n,t,e))||(e.exports=i)}(window,document)},"z+Ro":function(e,t,n){"use strict";function i(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return i}))},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("HDdC");function r(e,t){return new i.a(t?function(n){return t.schedule(o,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function o(e){e.subscriber.error(e.error)}},zShH:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i=n("mrSG"),r=n("fXoL"),o=n("xgIS"),s=n("Kj3r"),a=n("vkgz"),l=n("lJxs"),c=n("/uUt"),u=n("bU/s"),h=n("iFvM"),d=n("UShy"),f=n("3Pt+"),p=n("ofXK"),g=n("psEu"),m=["scriptsEl"];function b(e,t){if(1&e&&(r.Tb(0,"option",12),r.Ec(1),r.Sb()),2&e){var n=t.$implicit;r.jc("value",n),r.Bb(1),r.Fc(n)}}function v(e,t){1&e&&r.Ob(0,"i",13)}function y(e,t){1&e&&r.Ob(0,"i",14)}function _(e,t){if(1&e&&(r.Tb(0,"alert",15),r.Ec(1),r.Sb()),2&e){var n=r.dc();r.Bb(1),r.Fc(n.error)}}function w(e,t){if(1&e&&(r.Tb(0,"alert",16),r.Ec(1),r.Sb()),2&e){var n=r.dc();r.Bb(1),r.Fc(n.success)}}var C=function(){function e(){this.functionsChange=new r.p,this.scriptChange=new r.p,this.functions=[],this.loading=!1,this.interpreter=Object(d.a)()}return e.prototype.ngOnInit=function(){var e=this;this.scriptsEditor=Object(u.edit)(this.scriptsEl.nativeElement,{mode:"ace/mode/python",autoScrollEditorIntoView:!0,tabSize:2,useSoftTabs:!0,indentedSoftWrap:!0,theme:Object(h.i)(),value:this.scripts||""}),this.scriptsEditor.setOptions({enableBasicAutocompletion:!0,enableSnippets:!1,enableLiveAutocompletion:!0}),Object(o.a)(this.scriptsEditor,"change").pipe(Object(s.a)(500),Object(a.a)((function(){e.resetState(),e.scriptChange.emit(e.scriptsEditor.getValue())})),Object(l.a)((function(){return Object(h.t)(e.getValue())})),Object(c.a)()).subscribe((function(t){e.functions=t,e.functionsChange.emit(t)}))},e.prototype.ngOnChanges=function(e){var t=e.scripts;t.firstChange||t.currentValue===t.previousValue||this.scriptsEditor.setValue(t.currentValue||"",-1)},e.prototype.getValue=function(){return this.scriptsEditor.getValue()},e.prototype.testFunction=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t;return Object(i.e)(this,(function(n){switch(n.label){case 0:if(this.resetState(),this.loading=!0,e=this.scriptsEditor.getValue(),!this.interpreter.hasFunction(e,this.selectedFunction))return[3,5];n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this.interpreter.evaluate(e,Object(i.a)({},this.context),this.selectedFunction)];case 2:return n.sent(),this.success="Function "+this.selectedFunction+" evaluated successfully",[3,5];case 3:return t=n.sent(),this.error=t,[3,5];case 4:return this.loading=!1,[7];case 5:return[2]}}))}))},e.prototype.resetState=function(){this.error=null,this.success=null},e.prototype.getFuncs=function(){var e=this.scriptsEditor.getValue();if(e)return e.split("\n").map((function(e){var t=e.match(/(def\s)(.*)(\(\)):/);if(t)return t[2].replace(/ /g,"")})).filter((function(e){return Boolean(e)}))},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["app-jspython-script"]],viewQuery:function(e,t){var n;1&e&&r.Ac(m,!0),2&e&&r.rc(n=r.cc())&&(t.scriptsEl=n.first)},inputs:{context:"context",scripts:"scripts"},outputs:{functionsChange:"functionsChange",scriptChange:"scriptChange"},features:[r.zb],decls:14,vars:8,consts:[[1,"d-flex","h-100","flex-column"],[1,"form-group","row"],["for","jspy-functions",1,"col-form-label","col-auto"],["id","jspy-functions","name","jspy-functions",1,"form-control","col-3",3,"disabled","ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary","mx-2","align-self-baseline",3,"disabled","click"],["class","fa fa-spinner",4,"ngIf"],["class","fa fa-play",4,"ngIf"],["type","danger",4,"ngIf"],["type","success",4,"ngIf"],[1,"h-100"],["scriptsEl",""],[3,"value"],[1,"fa","fa-spinner"],[1,"fa","fa-play"],["type","danger"],["type","success"]],template:function(e,t){1&e&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"label",2),r.Ec(3,"Functions"),r.Sb(),r.Tb(4,"select",3),r.bc("change",(function(){return t.resetState()}))("ngModelChange",(function(e){return t.selectedFunction=e})),r.Cc(5,b,2,2,"option",4),r.Sb(),r.Tb(6,"button",5),r.bc("click",(function(){return t.testFunction()})),r.Cc(7,v,1,0,"i",6),r.Cc(8,y,1,0,"i",7),r.Ec(9," Test "),r.Sb(),r.Cc(10,_,2,1,"alert",8),r.Cc(11,w,2,1,"alert",9),r.Sb(),r.Ob(12,"div",10,11),r.Sb()),2&e&&(r.Bb(4),r.jc("disabled",!(t.functions&&t.functions.length))("ngModel",t.selectedFunction),r.Bb(1),r.jc("ngForOf",t.functions),r.Bb(1),r.jc("disabled",!t.selectedFunction||t.loading),r.Bb(1),r.jc("ngIf",t.loading),r.Bb(1),r.jc("ngIf",!t.loading),r.Bb(2),r.jc("ngIf",t.error),r.Bb(1),r.jc("ngIf",t.success))},directives:[f.r,f.i,f.l,p.l,p.m,f.m,f.s,g.a],styles:["alert[_ngcontent-%COMP%]     .alert{padding-top:.5rem;padding-bottom:.5rem;margin-bottom:0;border:none}"]}),e}()},zSvW:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a}));var i,r=n("TwVa"),o=function(e){return e.DATA_SAVE="data-save",e.STRUCTURE_LOAD="structure-load",e}({}),s=((i={})[o.STRUCTURE_LOAD]="Table structure is loading",i[o.DATA_SAVE]="Table data is saving",i),a={connectionId:0,connectionName:null,description:null,connectionType:r.ConnectionType.Schema,connectionConfig:null,publicAccess:r.PublicAccessLevels.NoAccess,isAdmin:!0,accessLevel:r.AppAccessLevels.NoAccess}},zUnb:function(e,t,n){"use strict";n.r(t),n("yLV6");var i=n("fXoL"),r=n("AytR"),o=n("tk/3"),s=n("3Pt+"),a=n("ODXe"),l=n("1OyB"),c=n("vuIU"),u=n("Ji7U"),h=n("LK+K"),d=n("jhN1"),f=n("R0Ic"),p=n("ReuC"),g=n("foSv"),m=n("uFwe"),b=n("KQm4");function v(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function y(e){switch(e.length){case 0:return new f.d;case 1:return e[0];default:return new f.h(e)}}function _(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],l=-1,c=null;if(i.forEach((function(e){var n=e.offset,i=n==l,u=i&&c||{};Object.keys(e).forEach((function(n){var i=n,a=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,s),a){case f.i:a=r[n];break;case f.a:a=o[n];break;default:a=t.normalizeStyleValue(n,i,a,s)}u[i]=a})),i||a.push(u),c=u,l=n})),s.length){var u="\n - ";throw new Error("Unable to animate due to the following errors:".concat(u).concat(s.join(u)))}return a}function w(e,t,n,i){switch(t){case"start":e.onStart((function(){return i(n&&C(n,"start",e))}));break;case"done":e.onDone((function(){return i(n&&C(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return i(n&&C(n,"destroy",e))}))}}function C(e,t,n){var i=n.totalTime,r=S(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),o=e._data;return null!=o&&(r._data=o),r}function S(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function O(e,t,n){var i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function T(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var k=function(e,t){return!1},x=function(e,t){return!1},E=function(e,t,n){return[]},j=v();(j||"undefined"!=typeof Element)&&(k=function(e,t){return e.contains(t)},x=function(){if(j||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:x}(),E=function(e,t,n){var i=[];if(n)i.push.apply(i,Object(b.a)(e.querySelectorAll(t)));else{var r=e.querySelector(t);r&&i.push(r)}return i});var A=null,I=!1;function M(e){A||(A=("undefined"!=typeof document?document.body:null)||{},I=!!A.style&&"WebkitAppearance"in A.style);var t=!0;return A.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&!(t=e in A.style)&&I&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in A.style),t}var P=x,D=k,R=E;function N(e){var t={};return Object.keys(e).forEach((function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]})),t}var L=function(){var e=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"validateStyleProperty",value:function(e){return M(e)}},{key:"matchesElement",value:function(e,t){return P(e,t)}},{key:"containsElement",value:function(e,t){return D(e,t)}},{key:"query",value:function(e,t,n){return R(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,i,r){return new f.d(n,i)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Jb({token:e,factory:e.\u0275fac}),e}(),F=function(){var e=function e(){Object(l.a)(this,e)};return e.NOOP=new L,e}();function B(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:H(parseFloat(t[1]),t[2])}function H(e,t){switch(t){case"s":return 1e3*e;default:return e}}function V(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var i,r=0,o="";if("string"==typeof e){var s=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};i=H(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(r=H(parseFloat(a),s[4]));var l=s[5];l&&(o=l)}else i=e;if(!n){var c=!1,u=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(u,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:i,delay:r,easing:o}}(e,t,n)}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var i in e)n[i]=e[i];else $(e,n);return n}function G(e,t,n){return n?t+":"+n+";":""}function W(e){for(var t="",n=0;n<e.style.length;n++){var i=e.style.item(n);t+=G(0,i,e.style.getPropertyValue(i))}for(var r in e.style)e.style.hasOwnProperty(r)&&!r.startsWith("_")&&(t+=G(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[r]));e.setAttribute("style",t)}function U(e,t,n){e.style&&(Object.keys(t).forEach((function(i){var r=ee(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]})),v()&&W(e))}function K(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=ee(t);e.style[n]=""})),v()&&W(e))}function q(e){return Array.isArray(e)?1==e.length?e[0]:Object(f.f)(e):e}var X=new RegExp("".concat("{{","\\s*(.+?)\\s*").concat("}}"),"g");function Y(e){var t=[];if("string"==typeof e){for(var n;n=X.exec(e);)t.push(n[1]);X.lastIndex=0}return t}function J(e,t,n){var i=e.toString(),r=i.replace(X,(function(e,i){var r=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),r=""),r.toString()}));return r==i?e:r}function Q(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Z=/-+([a-z0-9])/g;function ee(e){return e.replace(Z,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function te(e,t){return 0===e||0===t}function ne(e,t,n){var i=Object.keys(n);if(i.length&&t.length){var r=t[0],o=[];if(i.forEach((function(e){r.hasOwnProperty(e)||o.push(e),r[e]=n[e]})),o.length)for(var s=function(){var n=t[a];o.forEach((function(t){n[t]=re(e,t)}))},a=1;a<t.length;a++)s()}return t}function ie(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function re(e,t){return window.getComputedStyle(e)[t]}var oe=new Set(["true","1"]),se=new Set(["false","0"]);function ae(e,t){var n=oe.has(e)||se.has(e),i=oe.has(t)||se.has(t);return function(r,o){var s="*"==e||e==r,a="*"==t||t==o;return!s&&n&&"boolean"==typeof r&&(s=r?oe.has(e):se.has(e)),!a&&i&&"boolean"==typeof o&&(a=o?oe.has(t):se.has(t)),s&&a}}var le=new RegExp("s*".concat(":self","s*,?"),"g");function ce(e,t,n){return new ue(e).build(t,n)}var ue=function(){function e(t){Object(l.a)(this,e),this._driver=t}return Object(c.a)(e,[{key:"build",value:function(e,t){var n=new he(t);return this._resetContextStyleTimingState(n),ie(this,q(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,i=t.queryCount=0,r=t.depCount=0,o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var a=e,l=a.name;l.toString().split(/\s*,\s*/).forEach((function(e){a.name=e,o.push(n.visitState(a,t))})),a.name=l}else if(1==e.type){var c=n.visitTransition(e,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){var r=new Set,o=i||{};if(n.styles.forEach((function(e){if(de(e)){var t=e;Object.keys(t).forEach((function(e){Y(t[e]).forEach((function(e){o.hasOwnProperty(e)||r.add(e)}))}))}})),r.size){var s=Q(r.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,i,r,o=ie(this,q(e.animation),t);return{type:1,matchers:(n=e.expr,i=t.errors,r=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}var r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=r[1],s=r[2],a=r[3];t.push(ae(o,a)),"<"!=s[0]||"*"==o&&"*"==a||t.push(ae(a,o))}(e,r,i)})):r.push(n),r),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:fe(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return ie(n,e,t)})),options:fe(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,i=t.currentTime,r=0,o=e.steps.map((function(e){t.currentTime=i;var o=ie(n,e,t);return r=Math.max(r,t.currentTime),o}));return t.currentTime=r,{type:3,steps:o,options:fe(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,i=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return pe(V(e,t).duration,0,"");var i=e;if(i.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var r=pe(0,0,"");return r.dynamic=!0,r.strValue=i,r}return pe((n=n||V(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;var r=e.styles?e.styles:Object(f.g)({});if(5==r.type)n=this.visitKeyframes(r,t);else{var o=e.styles,s=!1;if(!o){s=!0;var a={};i.easing&&(a.easing=i.easing),o=Object(f.g)(a)}t.currentTime+=i.duration+i.delay;var l=this.visitStyle(o,t);l.isEmptyStep=s,n=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?e==f.a?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var i=!1,r=null;return n.forEach((function(e){if(de(e)){var t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(var o in t)if(t[o].toString().indexOf("{{")>=0){i=!0;break}}})),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(i){if(n._driver.validateStyleProperty(i)){var s,a,l,c=t.collectedStyles[t.currentQuerySelector],u=c[i],h=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(u.startTime,'ms" and "').concat(u.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(r,'ms"')),h=!1),o=u.startTime),h&&(c[i]={startTime:o,endTime:r}),t.options&&(s=t.errors,a=t.options.params||{},(l=Y(e[i])).length&&l.forEach((function(e){a.hasOwnProperty(e)||s.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,o=[],s=!1,a=!1,l=0,c=e.steps.map((function(e){var i=n._makeStyleAst(e,t),c=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(de(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(de(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(i.styles),u=0;return null!=c&&(r++,u=i.offset=c),a=a||u<0||u>1,s=s||u<l,l=u,o.push(u),i}));a&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");var u=e.steps.length,h=0;r>0&&r<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(u-1));var d=u-1,f=t.currentTime,p=t.currentAnimateTimings,g=p.duration;return c.forEach((function(e,r){var s=h>0?r==d?1:h*r:o[r],a=s*g;t.currentTime=f+p.delay+a,p.duration=a,n._validateStyleAst(e,t),e.offset=s,i.styles.push(e)})),i}},{key:"visitReference",value:function(e,t){return{type:8,animation:ie(this,q(e.animation),t),options:fe(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:fe(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:fe(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;var r=function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(le,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),o=Object(a.a)(r,2),s=o[0],l=o[1];t.currentQuerySelector=n.length?n+" "+s:s,O(t.collectedStyles,t.currentQuerySelector,{});var c=ie(this,q(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:c,originalSelector:e.selector,options:fe(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:V(e.timings,t.errors,!0);return{type:12,animation:ie(this,q(e.animation),t),timings:n,options:null}}}]),e}(),he=function e(t){Object(l.a)(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function de(e){return!Array.isArray(e)&&"object"==typeof e}function fe(e){var t;return e?(e=$(e)).params&&(e.params=(t=e.params)?$(t):null):e={},e}function pe(e,t,n){return{duration:e,delay:t,easing:n}}function ge(e,t,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var me=function(){function e(){Object(l.a)(this,e),this._map=new Map}return Object(c.a)(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,i=this._map.get(e);i||this._map.set(e,i=[]),(n=i).push.apply(n,Object(b.a)(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),be=new RegExp(":enter","g"),ve=new RegExp(":leave","g");function ye(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new _e).buildKeyframes(e,t,n,i,r,o,s,a,l,c)}var _e=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"buildKeyframes",value:function(e,t,n,i,r,o,s,a,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];l=l||new me;var u=new Ce(e,t,l,i,r,c,[]);u.options=a,u.currentTimeline.setStyles([o],null,u.errors,a),ie(this,n,u);var h=u.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(s).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([s],null,u.errors,a)}return h.length?h.map((function(e){return e.buildKeyframes()})):[ge(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var i=t.currentTimeline.currentTime,r=null!=n.duration?B(n.duration):null,o=null!=n.delay?B(n.delay):null;return 0!==r&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,r,o);i=Math.max(i,n.duration+n.delay)})),i}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),ie(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&((r=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=we);var s=B(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach((function(e){return ie(n,e,r)})),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?B(e.options.delay):0;e.steps.forEach((function(s){var a=t.createSubContext(e.options);o&&a.delayNextStep(o),ie(n,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)})),i.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(r),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return V(t.params?J(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());var r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*r),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(i+r),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?B(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=we);var s=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;var l=null;a.forEach((function(i,r){t.currentQueryIndex=r;var a=t.createSubContext(e.options,i);o&&a.delayNextStep(o),i===t.element&&(l=a.currentTimeline),ie(n,e.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,i=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),s=o*(t.currentQueryTotal-1),a=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var l=t.currentTimeline;a&&l.delayNextStep(a);var c=l.currentTime;ie(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}]),e}(),we={},Ce=function(){function e(t,n,i,r,o,s,a,c){Object(l.a)(this,e),this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=we,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Se(this._driver,n,0),a.push(this.currentTimeline)}return Object(c.a)(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var i=e,r=this.options;null!=i.duration&&(r.duration=B(i.duration)),null!=i.delay&&(r.delay=B(i.delay));var o=i.params;if(o){var s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach((function(e){t&&s.hasOwnProperty(e)||(s[e]=J(o[e],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,o=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=we,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new Oe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,i,r,o){var s=[];if(i&&s.push(this.element),e.length>0){e=(e=e.replace(be,"."+this._enterClassName)).replace(ve,"."+this._leaveClassName);var a=this._driver.query(this.element,e,1!=n);0!==n&&(a=n<0?a.slice(a.length+n,a.length):a.slice(0,n)),s.push.apply(s,Object(b.a)(a))}return r||0!=s.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),s}},{key:"params",get:function(){return this.options.params}}]),e}(),Se=function(){function e(t,n,i,r){Object(l.a)(this,e),this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return Object(c.a)(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||f.a,t._currentKeyframe[e]=f.a})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,i){var r=this;t&&(this._previousKeyframe.easing=t);var o=i&&i.params||{},s=function(e,t){var n,i={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){i[e]=f.a})):z(e,!1,i)})),i}(e,this._globalTimelineStyles);Object.keys(s).forEach((function(e){var t=J(s[e],o,n);r._pendingStyles[e]=t,r._localTimelineStyles.hasOwnProperty(e)||(r._backFill[e]=r._globalTimelineStyles.hasOwnProperty(e)?r._globalTimelineStyles[e]:f.a),r._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var i=t._styleSummary[n],r=e._styleSummary[n];(!i||r.time>i.time)&&t._updateStyle(n,r.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach((function(o,s){var a=z(o,!0);Object.keys(a).forEach((function(e){var i=a[e];i==f.i?t.add(e):i==f.a&&n.add(e)})),i||(a.offset=s/e.duration),r.push(a)}));var o=t.size?Q(t.values()):[],s=n.size?Q(n.values()):[];if(i){var a=r[0],l=$(a);a.offset=0,l.offset=1,r=[a,l]}return ge(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),Oe=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e,i,r,o,s,a){var c,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return Object(l.a)(this,n),(c=t.call(this,e,i,a.delay)).element=i,c.keyframes=r,c.preStyleProps=o,c.postStyleProps=s,c._stretchStartingKeyframe=u,c.timings={duration:a.duration,delay:a.delay,easing:a.easing},c}return Object(c.a)(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,i=t.duration,r=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=i+n,a=n/s,l=z(e[0],!1);l.offset=0,o.push(l);var c=z(e[0],!1);c.offset=Te(a),o.push(c);for(var u=e.length-1,h=1;h<=u;h++){var d=z(e[h],!1);d.offset=Te((n+d.offset*i)/s),o.push(d)}i=s,n=0,r="",e=o}return ge(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(Se);function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var ke=function e(){Object(l.a)(this,e)},xe=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"normalizePropertyName",value:function(e,t){return ee(e)}},{key:"normalizeStyleValue",value:function(e,t,n,i){var r="",o=n.toString().trim();if(Ee[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&i.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+r}}]),n}(ke),Ee=function(){return function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","))}();function je(e,t,n,i,r,o,s,a,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}var Ae={},Ie=function(){function e(t,n,i){Object(l.a)(this,e),this._triggerName=t,this.ast=n,this._stateStyles=i}return Object(c.a)(e,[{key:"match",value:function(e,t,n,i){return function(e,t,n,i,r){return e.some((function(e){return e(t,n,i,r)}))}(this.ast.matchers,e,t,n,i)}},{key:"buildStyles",value:function(e,t,n){var i=this._stateStyles["*"],r=this._stateStyles[e],o=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,i,r,o,s,a,l,c){var u=[],h=this.ast.options&&this.ast.options.params||Ae,d=this.buildStyles(n,s&&s.params||Ae,u),f=a&&a.params||Ae,p=this.buildStyles(i,f,u),g=new Set,m=new Map,b=new Map,v="void"===i,y={params:Object.assign(Object.assign({},h),f)},_=c?[]:ye(e,t,this.ast.animation,r,o,d,p,y,l,u),w=0;if(_.forEach((function(e){w=Math.max(e.duration+e.delay,w)})),u.length)return je(t,this._triggerName,n,i,v,d,p,[],[],m,b,w,u);_.forEach((function(e){var n=e.element,i=O(m,n,{});e.preStyleProps.forEach((function(e){return i[e]=!0}));var r=O(b,n,{});e.postStyleProps.forEach((function(e){return r[e]=!0})),n!==t&&g.add(n)}));var C=Q(g.values());return je(t,this._triggerName,n,i,v,d,p,_,C,m,b,w)}}]),e}(),Me=function(){function e(t,n){Object(l.a)(this,e),this.styles=t,this.defaultParams=n}return Object(c.a)(e,[{key:"buildStyles",value:function(e,t){var n={},i=$(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(i[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var r=e;Object.keys(r).forEach((function(e){var o=r[e];o.length>1&&(o=J(o,i,t)),n[e]=o}))}})),n}}]),e}(),Pe=function(){function e(t,n){var i=this;Object(l.a)(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){i.states[e.name]=new Me(e.style,e.options&&e.options.params||{})})),De(this.states,"true","1"),De(this.states,"false","0"),n.transitions.forEach((function(e){i.transitionFactories.push(new Ie(t,e,i.states))})),this.fallbackTransition=new Ie(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object(c.a)(e,[{key:"matchTransition",value:function(e,t,n,i){return this.transitionFactories.find((function(r){return r.match(e,t,n,i)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function De(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Re=new me,Ne=function(){function e(t,n,i){Object(l.a)(this,e),this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return Object(c.a)(e,[{key:"register",value:function(e,t){var n=[],i=ce(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=i}},{key:"_buildPlayer",value:function(e,t,n){var i=e.element,r=_(this._driver,this._normalizer,i,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[e],a=new Map;if(s?(n=ye(this._driver,t,s,"ng-enter","ng-leave",{},{},r,Re,o)).forEach((function(e){var t=O(a,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));a.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=i._driver.computeStyle(t,n,f.a)}))}));var l=n.map((function(e){var t=a.get(e.element);return i._buildPlayer(e,{},t)})),c=y(l);return this._playersById[e]=c,c.onDestroy((function(){return i.destroy(e)})),this.players.push(c),c}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,i){var r=S(t,"","","");return w(this._getPlayer(e),n,r,i),function(){}}},{key:"command",value:function(e,t,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,i[0]||{});else this.register(e,i[0])}}]),e}(),Le=[],Fe={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Be={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},He=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(l.a)(this,e),this.namespaceId=n;var i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=We(r),i){var o=$(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return Object(c.a)(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),Ve=new He("void"),$e=function(){function e(t,n,i){Object(l.a)(this,e),this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ye(n,this._hostClassName)}return Object(c.a)(e,[{key:"listen",value:function(e,t,n,i){var r,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var s=O(this._elementListeners,e,[]),a={name:t,phase:n,callback:i};s.push(a);var l=O(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(Ye(e,"ng-trigger"),Ye(e,"ng-trigger-"+t),l[t]=Ve),function(){o._engine.afterFlush((function(){var e=s.indexOf(a);e>=0&&s.splice(e,1),o._triggers[t]||delete l[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),s=new Ge(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Ye(e,"ng-trigger"),Ye(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,a={}));var l=a[t],c=new He(n,this.id),u=n&&n.hasOwnProperty("value");!u&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=Ve);var h="void"===c.value;if(h||l.value!==c.value){var d=O(this._engine.playersByElement,e,[]);d.forEach((function(e){e.namespaceId==i.id&&e.triggerName==t&&e.queued&&e.destroy()}));var f=o.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(Ye(e,"ng-animate-queued"),s.onStart((function(){Je(e,"ng-animate-queued")}))),s.onDone((function(){var t=i.players.indexOf(s);t>=0&&i.players.splice(t,1);var n=i._engine.playersByElement.get(e);if(n){var r=n.indexOf(s);r>=0&&n.splice(r,1)}})),this.players.push(s),d.push(s),s}if(!Ze(l.params,c.params)){var g=[],m=o.matchStyles(l.value,l.params,g),b=o.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush((function(){K(e,m),U(e,b)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,i){t._elementListeners.set(i,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,i=this._engine.driver.query(e,".ng-trigger",!0);i.forEach((function(e){if(!e.__ng_removed){var i=n._engine.fetchNamespacesByElement(e);i.size?i.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return i.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,i){var r=this,o=this._engine.statesByElement.get(e);if(o){var s=[];if(Object.keys(o).forEach((function(t){if(r._triggers[t]){var n=r.trigger(e,t,"void",i);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&y(s).onDone((function(){return r._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var i=new Set;n.forEach((function(n){var r=n.name;if(!i.has(r)){i.add(r);var o=t._triggers[r].fallbackTransition,s=t._engine.statesByElement.get(e)[r]||Ve,a=new He("void"),l=new Ge(t.id,r,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:r,transition:o,fromState:s,toState:a,player:l,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var r=!1;if(i.totalAnimations){var o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else for(var s=e;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{var a=e.__ng_removed;a&&a!==Fe||(i.afterFlush((function(){return n.clearElementCache(e)})),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Ye(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(i){var r=i.player;if(!r.destroyed){var o=i.element,s=t._elementListeners.get(o);s&&s.forEach((function(t){if(t.name==i.triggerName){var n=S(o,i.triggerName,i.fromState.value,i.toState.value);n._data=e,w(i.player,t.phase,n,t.callback)}})),r.markedForDestroy?t._engine.afterFlush((function(){r.destroy()})):n.push(i)}})),this._queue=[],n.sort((function(e,n){var i=e.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),ze=function(){function e(t,n,i){Object(l.a)(this,e),this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return Object(c.a)(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new $e(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var i=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(i);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return i.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=n[i[r]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&t.add(s)}}return t}},{key:"trigger",value:function(e,t,n,i){if(Ue(t)){var r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}},{key:"insertNode",value:function(e,t,n,i){if(Ue(t)){var r=t.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var s=this._fetchNamespace(e);s&&s.insertNode(t,n)}i&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ye(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Je(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,i){if(Ue(t)){var r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}},{key:"markElementAsRemoved",value:function(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,i,r){return Ue(t)?this._fetchNamespace(e).listen(t,n,i,r):function(){}}},{key:"_buildInstruction",value:function(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return y(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=Fe,n.namespaceId){this.destroyInnerAnimations(e);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++){var r=this.collectedEnterElements[i];Ye(r,"ng-star-inserted")}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var o=[];try{n=this._flushAnimations(o,t)}finally{for(var s=0;s<o.length;s++)o[s]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++){var l=this.collectedLeaveElements[a];this.processLeaveNode(l)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var c=this._whenQuietFns;this._whenQuietFns=[],n.length?y(n).onDone((function(){c.forEach((function(e){return e()}))})):c.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,i=new me,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach((function(e){u.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),i=0;i<t.length;i++)u.add(t[i])}));var h=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=Xe(d,this.collectedEnterElements),g=new Map,m=0;p.forEach((function(e,t){var n="ng-enter"+m++;g.set(t,n),e.forEach((function(e){return Ye(e,n)}))}));for(var v=[],_=new Set,w=new Set,C=0;C<this.collectedLeaveElements.length;C++){var S=this.collectedLeaveElements[C],T=S.__ng_removed;T&&T.setForRemoval&&(v.push(S),_.add(S),T.hasAnimation?this.driver.query(S,".ng-star-inserted",!0).forEach((function(e){return _.add(e)})):w.add(S))}var k=new Map,x=Xe(d,Array.from(_));x.forEach((function(e,t){var n="ng-leave"+m++;k.set(t,n),e.forEach((function(e){return Ye(e,n)}))})),e.push((function(){p.forEach((function(e,t){var n=g.get(t);e.forEach((function(e){return Je(e,n)}))})),x.forEach((function(e,t){var n=k.get(t);e.forEach((function(e){return Je(e,n)}))})),v.forEach((function(e){n.processLeaveNode(e)}))}));for(var E=[],j=[],A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(E.push(t),n.collectedEnterElements.length){var u=o.__ng_removed;if(u&&u.setForMove)return void t.destroy()}var d=!h||!n.driver.containsElement(h,o),f=k.get(o),p=g.get(o),m=n._buildInstruction(e,i,p,f,d);if(m.errors&&m.errors.length)j.push(m);else{if(d)return t.onStart((function(){return K(o,m.fromStyles)})),t.onDestroy((function(){return U(o,m.toStyles)})),void r.push(t);if(e.isFallbackTransition)return t.onStart((function(){return K(o,m.fromStyles)})),t.onDestroy((function(){return U(o,m.toStyles)})),void r.push(t);m.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),i.append(o,m.timelines),s.push({instruction:m,player:t,element:o}),m.queriedElements.forEach((function(e){return O(a,e,[]).push(t)})),m.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var i=l.get(t);i||l.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))}})),m.postStyleProps.forEach((function(e,t){var n=Object.keys(e),i=c.get(t);i||c.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))}))}}));if(j.length){var I=[];j.forEach((function(e){I.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return I.push("- ".concat(e,"\n"))}))})),E.forEach((function(e){return e.destroy()})),this.reportError(I)}var M=new Map,P=new Map;s.forEach((function(e){var t=e.element;i.has(t)&&(P.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,M))})),r.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){O(M,t,[]).push(e),e.destroy()}))}));var D=v.filter((function(e){return et(e,l,c)})),R=new Map;qe(R,this.driver,w,c,f.a).forEach((function(e){et(e,l,c)&&D.push(e)}));var N=new Map;p.forEach((function(e,t){qe(N,n.driver,new Set(e),l,f.i)})),D.forEach((function(e){var t=R.get(e),n=N.get(e);R.set(e,Object.assign(Object.assign({},t),n))}));var L=[],F=[],B={};s.forEach((function(e){var t=e.element,s=e.player,a=e.instruction;if(i.has(t)){if(u.has(t))return s.onDestroy((function(){return U(t,a.toStyles)})),s.disabled=!0,s.overrideTotalTime(a.totalTime),void r.push(s);var l=B;if(P.size>1){for(var c=t,h=[];c=c.parentNode;){var d=P.get(c);if(d){l=d;break}h.push(c)}h.forEach((function(e){return P.set(e,l)}))}var f=n._buildAnimation(s.namespaceId,a,M,o,N,R);if(s.setRealPlayer(f),l===B)L.push(s);else{var p=n.playersByElement.get(l);p&&p.length&&(s.parentPlayer=y(p)),r.push(s)}}else K(t,a.fromStyles),s.onDestroy((function(){return U(t,a.toStyles)})),F.push(s),u.has(t)&&r.push(s)})),F.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=y(t);e.setRealPlayer(n)}})),r.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var H=0;H<v.length;H++){var V=v[H],$=V.__ng_removed;if(Je(V,"ng-leave"),!$||!$.hasAnimation){var z=[];if(a.size){var G=a.get(V);G&&G.length&&z.push.apply(z,Object(b.a)(G));for(var W=this.driver.query(V,".ng-animating",!0),q=0;q<W.length;q++){var X=a.get(W[q]);X&&X.length&&z.push.apply(z,Object(b.a)(X))}}var Y=z.filter((function(e){return!e.destroyed}));Y.length?Qe(this,V,Y):this.processLeaveNode(V)}}return v.length=0,L.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),L}},{key:"elementContainsData",value:function(e,t){var n=!1,i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,i,r){var o=[];if(t){var s=this.playersByQueriedElement.get(e);s&&(o=s)}else{var a=this.playersByElement.get(e);if(a){var l=!r||"void"==r;a.forEach((function(e){e.queued||(l||e.triggerName==i)&&o.push(e)}))}}return(n||i)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||i&&i!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var i,r=this,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName,l=Object(m.a)(t.timelines);try{var c=function(){var e=i.value.element,l=e!==o,c=O(n,e,[]);r._getPreviousPlayers(e,l,s,a,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)}))};for(l.s();!(i=l.n()).done;)c()}catch(u){l.e(u)}finally{l.f()}K(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,i,r,o){var s=this,a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,d=t.timelines.map((function(t){var d=t.element;u.add(d);var p=d.__ng_removed;if(p&&p.removedBeforeQueried)return new f.d(t.duration,t.delay);var g,m,b=d!==l,v=(g=(n.get(d)||Le).map((function(e){return e.getRealPlayer()})),m=[],function e(t,n){for(var i=0;i<t.length;i++){var r=t[i];r instanceof f.h?e(r.players,n):n.push(r)}}(g,m),m).filter((function(e){return!!e.element&&e.element===d})),y=r.get(d),w=o.get(d),C=_(s.driver,s._normalizer,d,t.keyframes,y,w),S=s._buildPlayer(t,C,v);if(t.subTimeline&&i&&h.add(d),b){var O=new Ge(e,a,d);O.setRealPlayer(S),c.push(O)}return S}));c.forEach((function(e){O(s.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var i;if(e instanceof Map){if(i=e.get(t)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){var o=i.indexOf(n);i.splice(o,1)}0==i.length&&delete e[t]}return i}(s.playersByQueriedElement,e.element,e)}))})),u.forEach((function(e){return Ye(e,"ng-animating")}));var p=y(d);return p.onDestroy((function(){u.forEach((function(e){return Je(e,"ng-animating")})),U(l,t.toStyles)})),h.forEach((function(e){O(i,e,[]).push(p)})),p}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new f.d(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),Ge=function(){function e(t,n,i){Object(l.a)(this,e),this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new f.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return Object(c.a)(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return w(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){O(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function We(e){return null!=e?e:null}function Ue(e){return e&&1===e.nodeType}function Ke(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function qe(e,t,n,i,r){var o=[];n.forEach((function(e){return o.push(Ke(e))}));var s=[];i.forEach((function(n,i){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i.__ng_removed=Be,s.push(i))})),e.set(i,o)}));var a=0;return n.forEach((function(e){return Ke(e,o[a++])})),s}function Xe(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var i=new Set(t),r=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=r.get(t);if(o)return o;var s=t.parentNode;return o=n.has(s)?s:i.has(s)?1:e(s),r.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function Ye(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Je(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function Qe(e,t,n){y(n).onDone((function(){return e.processLeaveNode(t)}))}function Ze(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}function et(e,t,n){var i=n.get(e);if(!i)return!1;var r=t.get(e);return r?i.forEach((function(e){return r.add(e)})):t.set(e,i),n.delete(e),!0}var tt=function(){function e(t,n,i){var r=this;Object(l.a)(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new ze(t,n,i),this._timelineEngine=new Ne(t,n,i),this._transitionEngine.onRemovalComplete=function(e,t){return r.onRemovalComplete(e,t)}}return Object(c.a)(e,[{key:"registerTrigger",value:function(e,t,n,i,r){var o=e+"-"+i,s=this._triggerCache[o];if(!s){var a=[],l=ce(this._driver,r,a);if(a.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(e,t){return new Pe(e,t)}(i,l),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,i,s)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}},{key:"onRemove",value:function(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,i){if("@"==n.charAt(0)){var r=T(n),o=Object(a.a)(r,2);this._timelineEngine.command(o[0],t,o[1],i)}else this._transitionEngine.trigger(e,t,n,i)}},{key:"listen",value:function(e,t,n,i,r){if("@"==n.charAt(0)){var o=T(n),s=Object(a.a)(o,2);return this._timelineEngine.listen(s[0],t,s[1],r)}return this._transitionEngine.listen(e,t,n,i,r)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function nt(e,t){var n=null,i=null;return Array.isArray(t)&&t.length?(n=rt(t[0]),t.length>1&&(i=rt(t[t.length-1]))):t&&(n=rt(t)),n||i?new it(e,n,i):null}var it=function(){var e=function(){function e(t,n,i){Object(l.a)(this,e),this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;var r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r={}),this._initialStyles=r}return Object(c.a)(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&U(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(U(this._element,this._initialStyles),this._endStyles&&(U(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(K(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(K(this._element,this._endStyles),this._endStyles=null),U(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function rt(e){for(var t=null,n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];ot(r)&&((t=t||{})[r]=e[r])}return t}function ot(e){return"display"===e||"position"===e}var st=function(){function e(t,n,i,r,o,s,a){var c=this;Object(l.a)(this,e),this._element=t,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return c._handleCallback(e)}}return Object(c.a)(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=dt(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)","===e.charAt(n)&&0}(n),t="".concat(n,", ").concat(t)),ht(e,"",t),ut(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){at(this._element,this._name,"paused")}},{key:"resume",value:function(){at(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=lt(this._element,this._name);this._position=e*this._duration,ht(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),ut(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,i;this._destroyed||(this._destroyed=!0,this.finish(),t=this._name,(i=ct(n=dt(e=this._element,"").split(","),t))>=0&&(n.splice(i,1),ht(e,"",n.join(","))))}}]),e}();function at(e,t,n){ht(e,"PlayState",n,lt(e,t))}function lt(e,t){var n=dt(e,"");return n.indexOf(",")>0?ct(n.split(","),t):ct([n],t)}function ct(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function ut(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function ht(e,t,n,i){var r="animation"+t;if(null!=i){var o=e.style[r];if(o.length){var s=o.split(",");s[i]=n,n=s.join(",")}}e.style[r]=n}function dt(e,t){return e.style["animation"+t]}var ft=function(){function e(t,n,i,r,o,s,a,c){Object(l.a)(this,e),this.element=t,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=a,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+o,this._buildStyler()}return Object(c.a)(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new st(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(i){"offset"!=i&&(t[i]=n?e._finalStyles[i]:re(e.element,i))}))}this.currentSnapshot=t}}]),e}(),pt=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e,i){var r;return Object(l.a)(this,n),(r=t.call(this)).element=e,r._startingStyles={},r.__initialized=!1,r._styles=N(i),r}return Object(c.a)(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),Object(p.a)(Object(g.a)(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),Object(p.a)(Object(g.a)(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,Object(p.a)(Object(g.a)(n.prototype),"destroy",this).call(this))}}]),n}(f.d),gt=function(){function e(){Object(l.a)(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return Object(c.a)(e,[{key:"validateStyleProperty",value:function(e){return M(e)}},{key:"matchesElement",value:function(e,t){return P(e,t)}},{key:"containsElement",value:function(e,t){return D(e,t)}},{key:"query",value:function(e,t,n){return R(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return N(e)}));var i="@keyframes ".concat(t," {\n"),r="";n.forEach((function(e){r=" ";var t=parseFloat(e.offset);i+="".concat(r).concat(100*t,"% {\n"),r+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(t,": ").concat(n,";\n"))}})),i+="".concat(r,"}\n")})),i+="}\n";var o=document.createElement("style");return o.innerHTML=i,o}},{key:"animate",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var a=o.filter((function(e){return e instanceof ft})),l={};te(n,i)&&a.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return l[e]=t[e]}))}));var c=mt(t=ne(e,t,l));if(0==n)return new pt(e,c);var u="".concat("gen_css_kf_").concat(this._count++),h=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(h);var d=nt(e,t),f=new ft(e,t,u,n,i,r,c,d);return f.onDestroy((function(){return bt(h)})),f}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}();function mt(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}function bt(e){e.parentNode.removeChild(e)}var vt=function(){function e(t,n,i,r){Object(l.a)(this,e),this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return Object(c.a)(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:re(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),yt=function(){function e(){Object(l.a)(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_t().toString()),this._cssKeyframesDriver=new gt}return Object(c.a)(e,[{key:"validateStyleProperty",value:function(e){return M(e)}},{key:"matchesElement",value:function(e,t){return P(e,t)}},{key:"containsElement",value:function(e,t){return D(e,t)}},{key:"query",value:function(e,t,n){return R(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0,a=!s&&!this._isNativeImpl;if(a)return this._cssKeyframesDriver.animate(e,t,n,i,r,o);var l=0==i?"both":"forwards",c={duration:n,delay:i,fill:l};r&&(c.easing=r);var u={},h=o.filter((function(e){return e instanceof vt}));te(n,i)&&h.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var d=nt(e,t=ne(e,t=t.map((function(e){return z(e,!1)})),u));return new vt(e,t,c,d)}}]),e}();function _t(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var wt=n("ofXK"),Ct=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e,r){var o;return Object(l.a)(this,n),(o=t.call(this))._nextAnimationId=0,o._renderer=e.createRenderer(r.body,{id:"0",encapsulation:i.S.None,styles:[],data:{animation:[]}}),o}return Object(c.a)(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Object(f.f)(e):e;return Tt(this._renderer,null,t,"register",[n]),new St(t,this._renderer)}}]),n}(f.b);return e.\u0275fac=function(t){return new(t||e)(i.Xb(i.H),i.Xb(wt.d))},e.\u0275prov=i.Jb({token:e,factory:e.\u0275fac}),e}(),St=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e,i){var r;return Object(l.a)(this,n),(r=t.call(this))._id=e,r._renderer=i,r}return Object(c.a)(n,[{key:"create",value:function(e,t){return new Ot(this._id,e,t||{},this._renderer)}}]),n}(f.c),Ot=function(){function e(t,n,i,r){Object(l.a)(this,e),this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return Object(c.a)(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Tt(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function Tt(e,t,n,i,r){return e.setProperty(t,"@@".concat(n,":").concat(i),r)}var kt=function(){var e=function(){function e(t,n,i){Object(l.a)(this,e),this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return Object(c.a)(e,[{key:"createRenderer",value:function(e,t){var n=this,i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var r=this._rendererCache.get(i);return r||(r=new xt("",i,this.engine),this._rendererCache.set(i,r)),r}var o=t.id,s=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,e),t.data.animation.forEach((function t(i){Array.isArray(i)?i.forEach(t):n.engine.registerTrigger(o,s,e,i.name,i)})),new Et(this,s,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var i=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(e){var t=Object(a.a)(e,2);(0,t[0])(t[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Xb(i.H),i.Xb(tt),i.Xb(i.C))},e.\u0275prov=i.Jb({token:e,factory:e.\u0275fac}),e}(),xt=function(){function e(t,n,i){Object(l.a)(this,e),this.namespaceId=t,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return Object(c.a)(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,i){this.delegate.setStyle(e,t,n,i)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),Et=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e,i,r,o){var s;return Object(l.a)(this,n),(s=t.call(this,i,r,o)).factory=e,s.namespaceId=i,s}return Object(c.a)(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var i,r,o=this;if("@"==t.charAt(0)){var s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),l=t.substr(1),c="";if("@"!=l.charAt(0)){var u=(r=(i=l).indexOf("."),[i.substring(0,r),i.substr(r+1)]),h=Object(a.a)(u,2);l=h[0],c=h[1]}return this.engine.listen(this.namespaceId,s,l,c,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(xt),jt=function(){var e=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e,i,r){return Object(l.a)(this,n),t.call(this,e.body,i,r)}return n}(tt);return e.\u0275fac=function(t){return new(t||e)(i.Xb(wt.d),i.Xb(F),i.Xb(ke))},e.\u0275prov=i.Jb({token:e,factory:e.\u0275fac}),e}(),At=new i.s("AnimationModuleType"),It=[{provide:f.b,useClass:Ct},{provide:ke,useFactory:function(){return new xe}},{provide:tt,useClass:jt},{provide:i.H,useFactory:function(e,t,n){return new kt(e,t,n)},deps:[d.d,tt,i.C]}],Mt=[{provide:F,useFactory:function(){return"function"==typeof _t()?new yt:new gt}},{provide:At,useValue:"BrowserAnimations"}].concat(It),Pt=([{provide:F,useClass:L},{provide:At,useValue:"NoopAnimations"}].concat(It),function(){var e=function e(){Object(l.a)(this,e)};return e.\u0275mod=i.Lb({type:e}),e.\u0275inj=i.Kb({factory:function(t){return new(t||e)},providers:Mt,imports:[d.a]}),e}()),Dt=n("S8xs"),Rt=n("M0ag"),Nt=n("OLrf"),Lt=n("tyNb"),Ft=function(){function e(e){this.router=e}return e.prototype.ngOnInit=function(){this.router.events.subscribe((function(e){e instanceof Lt.c&&window.scrollTo(0,0)}))},e.\u0275fac=function(t){return new(t||e)(i.Nb(Lt.f))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&i.Ob(0,"router-outlet")},directives:[Lt.j],styles:["router-outlet[_ngcontent-%COMP%]     + * {\n      height: 100%;\n    }"]}),e}(),Bt=n("mrSG"),Ht=n("hAiv");function Vt(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"Field is required."),i.Sb())}function $t(e,t){if(1&e&&(i.Tb(0,"div",29),i.Cc(1,Vt,2,0,"div",30),i.Sb()),2&e){i.dc();var n=i.sc(20);i.Bb(1),i.jc("ngIf",n.errors.required)}}function zt(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"Password is required."),i.Sb())}function Gt(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"Password should be not less than 6 characters."),i.Sb())}function Wt(e,t){if(1&e&&(i.Tb(0,"div",29),i.Cc(1,zt,2,0,"div",30),i.Cc(2,Gt,2,0,"div",30),i.Sb()),2&e){i.dc();var n=i.sc(31);i.Bb(1),i.jc("ngIf",n.errors.required),i.Bb(1),i.jc("ngIf",n.errors.minlength)}}function Ut(e,t){1&e&&(i.Tb(0,"div",29),i.Tb(1,"div"),i.Ec(2,"Repeat password doesn't match."),i.Sb(),i.Sb())}var Kt=function(){return["/"]},qt=function(){function e(e,t,n){this.registrationService=e,this.route=t,this.router=n,this.form={password:null,repeatPassword:null,loginOrEMail:null}}return e.prototype.onSubmit=function(){var e=this;this.registrationService.resetPassword(Object(Bt.a)(Object(Bt.a)({},this.form),{RequestCode:this.route.snapshot.params.code})).subscribe((function(t){e.router.navigate(["/login"])}))},e.\u0275fac=function(t){return new(t||e)(i.Nb(Ht.a),i.Nb(Lt.a),i.Nb(Lt.f))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-reset-password-page"]],decls:50,vars:9,consts:[[1,"c-body"],[1,"main","d-flex","align-items-center"],[1,"container"],[1,"row"],[1,"col-md-8","mx-auto"],[1,"card","mb-0"],[1,"card-body","mx-4","mt-4","mb-0"],["resetForm","ngForm"],[1,"form-group","row","mt-4","mb-0"],["for","request-name",1,"col-form-label","px-0","col-sm-3"],[1,"col-sm-9","px-0"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-user"],["type","text","name","loginOrEMail","placeholder","Enter UserName or e-mail","required","",1,"form-control",3,"ngModel","ngModelChange"],["loginOrEMail","ngModel"],["class","alert alert-danger py-1 px-2 m-0 w-100",4,"ngIf"],[1,"form-group","row","my-0"],[1,"fa","fa-lock"],["type","password","minlength","6","name","password","placeholder","Password","autocomplete","new-password","required","",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],[1,"input-group","mb-4"],["type","password","name","repeatPassword","placeholder","Repeat password","autocomplete","new-password","required","",1,"form-control",3,"ngModel","ngModelChange"],["repeatPassword","ngModel"],[1,"card-footer","p-4"],[1,"row","m-0","px-4"],["type","button",1,"btn","btn-primary","ml-auto",3,"disabled","click"],["routerLinkActive","router-link-active",1,"btn","ml-2",3,"routerLink"],[1,"alert","alert-danger","py-1","px-2","m-0","w-100"],[4,"ngIf"]],template:function(e,t){if(1&e&&(i.Tb(0,"div",0),i.Tb(1,"main",1),i.Tb(2,"div",2),i.Tb(3,"div",3),i.Tb(4,"div",4),i.Tb(5,"div",5),i.Tb(6,"div",6),i.Tb(7,"form",null,7),i.Tb(9,"h1"),i.Ec(10,"Reset password"),i.Sb(),i.Tb(11,"div",8),i.Tb(12,"label",9),i.Ec(13,"UserName or e-mail"),i.Sb(),i.Tb(14,"div",10),i.Tb(15,"div",11),i.Tb(16,"div",12),i.Tb(17,"span",13),i.Ob(18,"i",14),i.Sb(),i.Sb(),i.Tb(19,"input",15,16),i.bc("ngModelChange",(function(e){return t.form.loginOrEMail=e})),i.Sb(),i.Cc(21,$t,2,1,"div",17),i.Sb(),i.Sb(),i.Sb(),i.Tb(22,"div",18),i.Tb(23,"label",9),i.Ec(24,"Enter new password"),i.Sb(),i.Tb(25,"div",10),i.Tb(26,"div",11),i.Tb(27,"div",12),i.Tb(28,"span",13),i.Ob(29,"i",19),i.Sb(),i.Sb(),i.Tb(30,"input",20,21),i.bc("ngModelChange",(function(e){return t.form.password=e})),i.Sb(),i.Cc(32,Wt,3,2,"div",17),i.Sb(),i.Sb(),i.Sb(),i.Tb(33,"div",18),i.Tb(34,"label",9),i.Ec(35,"Repeat password"),i.Sb(),i.Tb(36,"div",10),i.Tb(37,"div",22),i.Tb(38,"div",12),i.Tb(39,"span",13),i.Ob(40,"i",19),i.Sb(),i.Sb(),i.Tb(41,"input",23,24),i.bc("ngModelChange",(function(e){return t.form.repeatPassword=e})),i.Sb(),i.Cc(43,Ut,3,0,"div",17),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(44,"div",25),i.Tb(45,"div",26),i.Tb(46,"button",27),i.bc("click",(function(){return t.onSubmit()})),i.Ec(47,"Reset"),i.Sb(),i.Tb(48,"a",28),i.Ec(49,"Cancel"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&e){var n=i.sc(8),r=i.sc(20),o=i.sc(31),s=i.sc(42);i.Bb(19),i.jc("ngModel",t.form.loginOrEMail),i.Bb(2),i.jc("ngIf",r.invalid&&r.touched),i.Bb(9),i.jc("ngModel",t.form.password),i.Bb(2),i.jc("ngIf",o.invalid&&o.touched),i.Bb(9),i.jc("ngModel",t.form.repeatPassword),i.Bb(2),i.jc("ngIf",s.touched&&s.value!==o.value),i.Bb(3),i.jc("disabled",!n.valid||s.value!==o.value),i.Bb(2),i.jc("routerLink",i.mc(8,Kt))}},directives:[s.t,s.j,s.k,s.b,s.q,s.i,s.l,wt.m,s.f,Lt.h,Lt.g],styles:["i.fa[_ngcontent-%COMP%] {\n    width: 12px;\n  }"]}),e}(),Xt=n("TwVa"),Yt=n("ZF+8"),Jt=n("Xn/w"),Qt=n("XRfL"),Zt=n("c9YK");function en(e,t){if(1&e){var n=i.Ub();i.Tb(0,"app-register-form",11),i.bc("register",(function(e){return i.vc(n),i.dc().onRegistered(e)})),i.Sb()}}function tn(e,t){if(1&e){var n=i.Ub();i.Tb(0,"app-db-connection-config",12),i.bc("saved",(function(){return i.vc(n),i.dc().onSavedConnection()}))("skip",(function(){return i.vc(n),i.dc().onSavedConnection()})),i.Sb()}if(2&e){var r=i.dc();i.jc("config",r.connection)}}var nn=function(){function e(e,t,n,i){this.router=e,this.route=t,this.authService=n,this.dbConnectionsService=i,this.connection=null,this.isRegistered=!1,this.layoutConfig={icon:"worksheets_logo",smIcon:"worksheets_icon",appName:"Worksheets Systems",sidebar:Xt.SidebarState.Hidden}}return e.prototype.ngOnInit=function(){var e=this;this.route.queryParams.subscribe((function(t){e.dbCode=t.dbCode||"db-schema"}))},e.prototype.getConnectionType=function(){return this.dbCode?this.dbCode.startsWith("db-schema")?Xt.ConnectionType.Schema:this.dbCode.startsWith("private-sql")?Xt.ConnectionType.Database:this.dbCode.startsWith("managed-sql")?"Managed Sql":void 0:null},e.prototype.onRegistered=function(e){var t=this,n=e.userName;this.authService.login({userName:n,password:e.password}).subscribe((function(){var e=t.getConnectionType(),i=e===Xt.ConnectionType.Schema;t.dbConnectionsService.loadServerHosts().toPromise(),t.connection={connectionConfig:{databaseName:i?t.dbCode:null,userName:i?n:null,password:i?t.generatePassword():null},connectionId:null,connectionName:n+"_connection",connectionType:e,description:n+" "+Xt.ConnectionType[e],publicAccess:Xt.PublicAccessLevels.NoAccess,isAdmin:!0},t.isRegistered=!0}))},e.prototype.onSavedConnection=function(){var e=this.route.snapshot.queryParams.returnUrl;e?this.router.navigateByUrl(e):this.router.navigate(["/"])},e.prototype.generatePassword=function(){return"P@ss"+Math.random().toString(36).substr(2,8)+(10*Math.random()).toFixed()},e.\u0275fac=function(t){return new(t||e)(i.Nb(Lt.f),i.Nb(Lt.a),i.Nb(Nt.b),i.Nb(Yt.a))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-register-page"]],decls:14,vars:3,consts:[[3,"config"],["title","",1,"mb-0","ml-2","top-sub-header","w-md-down-50"],["header","",1,"ml-auto","d-flex"],["content","",1,"container","p-0"],[1,"app-body"],[1,"main","d-flex","align-items-center"],[1,"container","p-0"],[1,"row"],[1,"col-md-8","mx-auto"],[3,"register",4,"ngIf"],[3,"config","saved","skip",4,"ngIf"],[3,"register"],[3,"config","saved","skip"]],template:function(e,t){1&e&&(i.Tb(0,"app-layout",0),i.Tb(1,"h2",1),i.Ec(2,"WORKSHEET "),i.Tb(3,"span"),i.Ec(4,"SYSTEMS"),i.Sb(),i.Sb(),i.Ob(5,"div",2),i.Tb(6,"div",3),i.Tb(7,"div",4),i.Tb(8,"main",5),i.Tb(9,"div",6),i.Tb(10,"div",7),i.Tb(11,"div",8),i.Cc(12,en,1,0,"app-register-form",9),i.Cc(13,tn,1,1,"app-db-connection-config",10),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&e&&(i.jc("config",t.layoutConfig),i.Bb(12),i.jc("ngIf",!t.isRegistered),i.Bb(1),i.jc("ngIf",t.isRegistered))},directives:[Jt.a,wt.m,Qt.a,Zt.a],encapsulation:2}),e}(),rn=n("XNiG"),on=n("LRne"),sn=n("cp0P"),an=n("1G5W"),ln=n("JIr8"),cn=n("eIep"),un=n("lJxs"),hn=n("JGTj"),dn=n("wxzg"),fn=n("UfhM"),pn=n("0CDM"),gn=n("nKjQ"),mn=n("iFvM"),bn=n("Uwcb"),vn=n("cuhF"),yn=n("rN1o"),_n=n("1ua0"),wn=n("zSvW"),Cn=n("5sEi"),Sn=n("GXwU"),On=n("wuWQ");function Tn(e,t){if(1&e){var n=i.Ub();i.Tb(0,"div",26),i.Tb(1,"button",27),i.bc("click",(function(e){i.vc(n);var t=i.dc().$implicit;return i.dc().viewInCode(e,t)})),i.Ob(2,"i",28),i.Sb(),i.Tb(3,"button",29),i.bc("click",(function(e){i.vc(n);var t=i.dc().$implicit;return i.dc().openAppInfo(e,t)})),i.Ob(4,"i",30),i.Sb(),i.Sb()}}var kn=function(e,t){return["/app",e,t]};function xn(e,t){if(1&e&&(i.Tb(0,"a",18),i.Tb(1,"div",19),i.Ob(2,"img",20),i.Sb(),i.Tb(3,"div",19),i.Tb(4,"div",21),i.Tb(5,"div",22),i.Tb(6,"h5",23),i.Ec(7),i.Sb(),i.Ec(8),i.Sb(),i.Tb(9,"div",24),i.Ec(10),i.Sb(),i.Sb(),i.Sb(),i.Cc(11,Tn,5,0,"div",25),i.Sb()),2&e){var n=t.$implicit,r=i.dc();i.jc("routerLink",i.oc(7,kn,n.ownerName,n.appName)),i.Bb(2),i.jc("src",r.getIconSrc(n.logo||"worksheets_logo"),i.xc),i.Bb(5),i.Fc(n.title),i.Bb(1),i.Hc(" ",n.ownerName,"/",n.appName," "),i.Bb(2),i.Fc(n.description),i.Bb(1),i.jc("ngIf",n.isAdmin)}}function En(e,t){if(1&e){var n=i.Ub();i.Tb(0,"div",34),i.Tb(1,"button",35),i.bc("click",(function(e){i.vc(n);var t=i.dc().$implicit;return i.dc().openSqlConnectionForm(t),e.stopImmediatePropagation(),e.preventDefault()})),i.Ob(2,"i",30),i.Sb(),i.Sb()}}var jn=function(){return["/code"]},An=function(e){return{connection:e}};function In(e,t){if(1&e&&(i.Tb(0,"a",31),i.Tb(1,"div",19),i.Ob(2,"i",32),i.Sb(),i.Tb(3,"div",19),i.Tb(4,"div",22),i.Tb(5,"h5",23),i.Ec(6),i.Sb(),i.Ec(7),i.Sb(),i.Tb(8,"div",24),i.Ec(9),i.Sb(),i.Sb(),i.Cc(10,En,3,0,"div",33),i.Sb()),2&e){var n=t.$implicit;i.jc("routerLink",i.mc(6,jn))("queryParams",i.nc(7,An,n.connectionName)),i.Bb(6),i.Fc(n.connectionName),i.Bb(1),i.Gc("",n.connectionType," "),i.Bb(2),i.Fc(n.description),i.Bb(1),i.jc("ngIf",n.isAdmin)}}function Mn(e,t){if(1&e&&(i.Tb(0,"a",36),i.Tb(1,"div",19),i.Ob(2,"img",20),i.Sb(),i.Tb(3,"div",19),i.Tb(4,"div",22),i.Tb(5,"h5",23),i.Ec(6),i.Sb(),i.Sb(),i.Tb(7,"div"),i.Ec(8),i.Sb(),i.Sb(),i.Sb()),2&e){var n=t.$implicit,r=i.dc();i.jc("routerLink",n.path),i.Bb(2),i.jc("src",r.getIconSrc(n.icon),i.xc),i.Bb(4),i.Fc(n.title),i.Bb(2),i.Fc(n.description)}}var Pn=function(e,t){return["/",e,t]};function Dn(e,t){if(1&e&&(i.Tb(0,"a",37),i.Tb(1,"div",19),i.Tb(2,"div",22),i.Tb(3,"h5",23),i.Ec(4),i.Sb(),i.Ec(5),i.Sb(),i.Tb(6,"div"),i.Ec(7),i.Sb(),i.Sb(),i.Sb()),2&e){var n=t.$implicit;i.jc("routerLink",i.oc(4,Pn,n.ownerName,n.worksheetName)),i.Bb(4),i.Fc(n.worksheetName),i.Bb(1),i.Gc("",n.groupName," "),i.Bb(2),i.Fc(n.description)}}var Rn=function(){return["templates"]},Nn=function(){function e(e,t,n,i,r,o,s,a){this.appService=e,this.dbConnectionsService=t,this.worksheetsService=n,this.authService=i,this.dialogService=r,this.loginService=o,this.router=s,this.fromApi=a,this.layoutConfig={icon:"worksheets_logo",smIcon:"worksheets_icon",appName:"Worksheets Systems",sidebar:Xt.SidebarState.Hidden},this.getIconSrc=mn.p,this.defaultAppInfo=bn.b,this.devTools=[{title:"REST Client",description:"REST Client for testing and analyzing web apis. With advanced data visualization and analysis toolkit",icon:"assets/img/rc-logo-64x64.png",path:"/rest-client"},{title:"Data Viewer",icon:"assets/img/je-logo-64x64.png",path:"/json-editor",description:"Inspect json data in table format"},{title:"JSPython Editor",icon:"https://jspython.dev/img/logo.svg",path:"/rest-client/jspython-editor",description:"Run your Python scripts in browser or NodeJS environment"}],this.destroy=new rn.a}return e.prototype.ngOnInit=function(){var e=this;this.authService.isAuthenticated$.pipe(Object(an.a)(this.destroy),Object(ln.a)((function(e){return Object(on.a)(!1)}))).subscribe((function(t){e.isAuthenticated=t,e.defaultAppInfo.ownerName=t?e.authService.user.userName:null,t&&(e.appService.loadMyApps().toPromise(),e.dbConnectionsService.loadMyDbConnections().toPromise(),e.dbConnectionsService.loadServerHosts().toPromise(),e.worksheetsService.loadWorksheets().toPromise())})),this.dbConnectionsService.myConnections$.subscribe((function(t){e.connections=t}))},e.prototype.ngOnDestroy=function(){this.destroy.next(),this.destroy.complete()},e.prototype.createApp=function(){this.isAuthenticated?this.openAppForm():this.loginService.openDialog()},e.prototype.createWorksheet=function(){this.dialogService.open(vn.a,{class:"modal-w-90 full-height"}).config={worksheetName:"New Worksheet",uiModel:yn.a}},e.prototype.openSqlConnectionForm=function(e){this.dialogService.open(_n.b,{class:"modal-lg full-height"}).config=e||Object(Bt.a)({},wn.c)},e.prototype.viewInCode=function(e,t){e.stopImmediatePropagation(),e.preventDefault(),this.router.navigate(["/code",t.ownerName,t.appName])},e.prototype.openAppInfo=function(e,t){return Object(Bt.b)(this,void 0,void 0,(function(){var n;return Object(Bt.e)(this,(function(i){switch(i.label){case 0:return e.stopImmediatePropagation(),e.preventDefault(),this.fromApi.init(t.ownerName,t.appName),this.appService.appContentService=this.fromApi,[4,Object(sn.a)([this.appService.getAppInfo(),this.appService.getAllLinks()]).toPromise()];case 1:return n=i.sent(),this.openAppForm(n[0],n[1].filter((function(e){return e.contentType===hn.a.SHELL})).map((function(e){return Object(Cn.b)(e)}))),[2]}}))}))},e.prototype.importCsv=function(){var e=this,t=this.dialogService.open(Sn.a,{class:"modal-xl full-height",keyboard:!1});t.config={connections:this.connections},t.init.pipe(Object(cn.a)((function(){return t.component.import}))).subscribe((function(t){var n=t.metaData;e.router.navigate(["/sql-client",t.connection,n.schemaName,n.objectName])}))},e.prototype.openAppForm=function(e,t){var n=this;void 0===e&&(e=this.defaultAppInfo),void 0===t&&(t=null);var i=this.dialogService.open(dn.a,{class:"modal-xl full-height"});i.config={appInfo:Object(Bt.a)({},e),shells:t},i.init.pipe(Object(cn.a)((function(){return i.component.save})),Object(cn.a)((function(e){var t=e.appInfo,i=e.permissionsToSave;return n.appService.saveAppInfo(t).pipe(Object(un.a)((function(e){return Object(Bt.a)(Object(Bt.a)({},t),{appId:e,permissions:i})})))}))).subscribe((function(e){e.permissions&&e.permissions.forEach((function(t){return t.appId=e.appId,n.appService.saveAppPermission(t).toPromise()}))})),i.init.pipe(Object(cn.a)((function(){return i.component.delete.pipe(Object(cn.a)((function(e){return n.appService.deleteApp(e)})))}))).toPromise()},e.\u0275fac=function(t){return new(t||e)(i.Nb(pn.a),i.Nb(Yt.a),i.Nb(gn.a),i.Nb(fn.a),i.Nb(Yt.b),i.Nb(fn.b),i.Nb(Lt.f),i.Nb(On.a))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-home-page"]],decls:44,vars:11,consts:[[3,"config"],["title","",1,"mb-0","ml-2","top-sub-header","w-md-down-50"],["header","",1,"ml-auto","d-flex"],["content","",1,"container"],[1,"my-3","p-3","section","rounded","shadow-sm"],[1,"border-bottom","border-gray","pb-2","mb-0","row","px-3"],["class","row custom-app-item mb-2 border-bottom border-gray",3,"routerLink",4,"ngFor","ngForOf"],[1,"mt-3"],[1,"btn","btn-primary","mr-md-2",3,"click"],[1,"btn","btn-secondary",3,"routerLink"],["class","row mb-2 connection-item align-items-center border-bottom border-gray",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"btn","btn-light",3,"click"],["class","row custom-app-item align-items-center mb-2 border-bottom border-gray","target","_blank",3,"routerLink",4,"ngFor","ngForOf"],[1,"border-bottom","border-gray","pb-2","mb-0"],["class","row custom-app-item align-items-center  mb-2 border-bottom border-gray",3,"routerLink",4,"ngFor","ngForOf"],[1,"mt-2"],["disabled","",1,"btn","btn-primary"],[1,"row","custom-app-item","mb-2","border-bottom","border-gray",3,"routerLink"],[1,"col-auto"],[3,"src"],[1,"d-flex","flex-column","justify-content-center","h-100"],[1,"d-flex"],[1,"mr-2","mb-0"],[1,"small","text-muted"],["class","col-auto align-self-center ml-auto",4,"ngIf"],[1,"col-auto","align-self-center","ml-auto"],["title","Open in Code",1,"btn","btn-link",3,"click"],[1,"fa","fa-code","fa-lg"],["title","App settings",1,"btn","btn-link",3,"click"],[1,"fa","fa-cog","fa-lg"],[1,"row","mb-2","connection-item","align-items-center","border-bottom","border-gray",3,"routerLink","queryParams"],[1,"fa","fa-database"],["class","col-auto ml-auto",4,"ngIf"],[1,"col-auto","ml-auto"],[1,"btn","btn-link",3,"click"],["target","_blank",1,"row","custom-app-item","align-items-center","mb-2","border-bottom","border-gray",3,"routerLink"],[1,"row","custom-app-item","align-items-center","mb-2","border-bottom","border-gray",3,"routerLink"]],template:function(e,t){1&e&&(i.Tb(0,"app-layout",0),i.Tb(1,"h2",1),i.Ec(2,"WORKSHEET "),i.Tb(3,"span"),i.Ec(4,"SYSTEMS"),i.Sb(),i.Sb(),i.Ob(5,"div",2),i.Tb(6,"div",3),i.Tb(7,"div",4),i.Tb(8,"h3",5),i.Ec(9,"My Applications"),i.Sb(),i.Cc(10,xn,12,10,"a",6),i.ec(11,"async"),i.Tb(12,"div",7),i.Tb(13,"button",8),i.bc("click",(function(){return t.createApp()})),i.Ec(14,"Create New App"),i.Sb(),i.Tb(15,"a",9),i.Ec(16,"Browse AppGallery"),i.Sb(),i.Sb(),i.Sb(),i.Tb(17,"div",4),i.Tb(18,"h3",5),i.Ec(19,"SQL Connections"),i.Sb(),i.Cc(20,In,11,9,"a",10),i.Tb(21,"div",7),i.Tb(22,"button",11),i.bc("click",(function(){return t.openSqlConnectionForm()})),i.Ec(23,"New SQL Connection"),i.Sb(),i.Tb(24,"button",12),i.bc("click",(function(){return t.importCsv()})),i.Ec(25,"Import CSV"),i.Sb(),i.Sb(),i.Sb(),i.Tb(26,"div",4),i.Tb(27,"h3",5),i.Ec(28,"DEV Tools"),i.Sb(),i.Cc(29,Mn,9,4,"a",13),i.Sb(),i.Tb(30,"div",4),i.Tb(31,"h3",14),i.Ec(32,"My Worksheets"),i.Sb(),i.Cc(33,Dn,8,7,"a",15),i.ec(34,"async"),i.Tb(35,"div",16),i.Tb(36,"button",11),i.bc("click",(function(){return t.createWorksheet()})),i.Ec(37,"Create New Worksheet"),i.Sb(),i.Sb(),i.Sb(),i.Tb(38,"div",4),i.Tb(39,"h3",14),i.Ec(40,"Scheduled Tasks"),i.Sb(),i.Tb(41,"div",16),i.Tb(42,"button",17),i.Ec(43,"Create new task"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&e&&(i.jc("config",t.layoutConfig),i.Bb(10),i.jc("ngForOf",i.fc(11,6,t.appService.myApps$)),i.Bb(5),i.jc("routerLink",i.mc(10,Rn)),i.Bb(5),i.jc("ngForOf",t.connections),i.Bb(9),i.jc("ngForOf",t.devTools),i.Bb(4),i.jc("ngForOf",i.fc(34,8,t.worksheetsService.worksheets$)))},directives:[Jt.a,wt.l,Lt.h,wt.m],pipes:[wt.b],styles:[".custom-app-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{align-self:center;height:50px;width:auto}.connection-item[_ngcontent-%COMP%], .custom-app-item[_ngcontent-%COMP%]{color:var(--color);min-height:50px}.connection-item[_ngcontent-%COMP%]:hover, .custom-app-item[_ngcontent-%COMP%]:hover{text-decoration:none}.connection-item[_ngcontent-%COMP%]   i.fa-database[_ngcontent-%COMP%]{font-size:2rem;width:50px;height:50px;display:flex;align-items:center;justify-content:center;color:#386b99}.section[_ngcontent-%COMP%]{background:var(--bg)}"]}),e}(),Ln=n("psEu"),Fn=n("ZOsW");function Bn(e,t){if(1&e&&(i.Tb(0,"alert",6),i.Ec(1),i.Sb()),2&e){var n=i.dc();i.Bb(1),i.Gc(" ",n.error," ")}}function Hn(e,t){1&e&&(i.Tb(0,"div",37),i.Tb(1,"div",38),i.Tb(2,"span",39),i.Ec(3,"Loading..."),i.Sb(),i.Sb(),i.Tb(4,"h5"),i.Ec(5,"Clonning application..."),i.Sb(),i.Sb())}function Vn(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"App name is required."),i.Sb())}function $n(e,t){if(1&e&&(i.Tb(0,"div",40),i.Cc(1,Vn,2,0,"div",41),i.Sb()),2&e){i.dc();var n=i.sc(19);i.Bb(1),i.jc("ngIf",n.errors.required)}}function zn(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"App title is required."),i.Sb())}function Gn(e,t){if(1&e&&(i.Tb(0,"div",40),i.Cc(1,zn,2,0,"div",41),i.Sb()),2&e){i.dc();var n=i.sc(27);i.Bb(1),i.jc("ngIf",n.errors.required)}}function Wn(e,t){1&e&&(i.Tb(0,"label",48),i.Ec(1,"Key"),i.Sb())}function Un(e,t){1&e&&(i.Tb(0,"label",48),i.Ec(1,"Value"),i.Sb())}function Kn(e,t){if(1&e){var n=i.Ub();i.Tb(0,"div",43),i.Tb(1,"div",44),i.Cc(2,Wn,2,0,"label",45),i.Tb(3,"input",46),i.bc("ngModelChange",(function(e){return i.vc(n),t.$implicit.key=e})),i.Sb(),i.Sb(),i.Tb(4,"div",24),i.Cc(5,Un,2,0,"label",45),i.Tb(6,"input",47),i.bc("ngModelChange",(function(e){return i.vc(n),t.$implicit.value=e})),i.Sb(),i.Sb(),i.Sb()}if(2&e){var r=t.$implicit,o=t.index;i.Bb(2),i.jc("ngIf",0===o),i.Bb(1),i.lc("name","setting-name-param-",o,""),i.jc("ngModel",r.key),i.Bb(2),i.jc("ngIf",0===o),i.Bb(1),i.lc("name","setting-value-param-",o,""),i.jc("ngModel",r.value)}}function qn(e,t){if(1&e&&(i.Tb(0,"div",10),i.Tb(1,"div",11),i.Tb(2,"h4",12),i.Ec(3,"Settings"),i.Sb(),i.Sb(),i.Tb(4,"div",13),i.Cc(5,Kn,7,6,"div",42),i.Sb(),i.Sb()),2&e){var n=i.dc(2);i.Bb(5),i.jc("ngForOf",n.settings)}}function Xn(e,t){1&e&&(i.Tb(0,"label",48),i.Ec(1,"Key"),i.Sb())}function Yn(e,t){1&e&&(i.Tb(0,"label",48),i.Ec(1,"Connection"),i.Sb())}function Jn(e,t){1&e&&(i.Tb(0,"label",48),i.Ec(1,"Default Schema"),i.Sb())}function Qn(e,t){if(1&e){var n=i.Ub();i.Tb(0,"div",43),i.Tb(1,"div",54),i.Cc(2,Xn,2,0,"label",45),i.Tb(3,"input",46),i.bc("ngModelChange",(function(e){return i.vc(n),t.$implicit.key=e})),i.Sb(),i.Sb(),i.Tb(4,"div",24),i.Cc(5,Yn,2,0,"label",45),i.Tb(6,"ng-select",55),i.bc("ngModelChange",(function(e){return i.vc(n),t.$implicit.name=e}))("change",(function(e){i.vc(n);var r=t.$implicit;return i.dc(3).onConnectionChange(e,r)})),i.Sb(),i.Sb(),i.Tb(7,"div",44),i.Cc(8,Jn,2,0,"label",45),i.Tb(9,"input",56),i.bc("ngModelChange",(function(e){return i.vc(n),t.$implicit.defaultSchema=e})),i.Sb(),i.Sb(),i.Sb()}if(2&e){var r=t.$implicit,o=t.index,s=i.dc(3);i.Bb(2),i.jc("ngIf",0===o),i.Bb(1),i.lc("name","connection-key-",o,""),i.jc("ngModel",r.key),i.Bb(2),i.jc("ngIf",0===o),i.Bb(1),i.lc("name","connection-name-",o,""),i.jc("items",s.dbConnections)("ngModel",r.name),i.Bb(2),i.jc("ngIf",0===o),i.Bb(1),i.lc("name","connection-schema-",o,""),i.jc("ngModel",r.defaultSchema)}}function Zn(e,t){if(1&e){var n=i.Ub();i.Tb(0,"div",10),i.Tb(1,"div",11),i.Tb(2,"div",33),i.Tb(3,"h4",49),i.Ec(4,"Connections"),i.Sb(),i.Tb(5,"button",50),i.bc("click",(function(){return i.vc(n),i.dc(2).openSqlConnectionForm()})),i.Ec(6,"Create a new connection"),i.Sb(),i.Tb(7,"div",51),i.Tb(8,"input",52),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc(2).cloneData.copyData=e})),i.Sb(),i.Tb(9,"label",53),i.Ec(10,"Copy Data"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(11,"div",13),i.Cc(12,Qn,10,10,"div",42),i.Sb(),i.Sb()}if(2&e){var r=i.dc(2);i.Bb(8),i.jc("ngModel",r.cloneData.copyData),i.Bb(4),i.jc("ngForOf",r.cloneData.connections)}}function ei(e,t){if(1&e){var n=i.Ub();i.Tb(0,"form",7,8),i.bc("ngSubmit",(function(){i.vc(n);var e=i.sc(1);return i.dc().cloneApp(e)})),i.Cc(2,Hn,6,0,"div",9),i.Tb(3,"h3"),i.Tb(4,"small"),i.Ec(5,"Clone application"),i.Sb(),i.Ec(6),i.Sb(),i.Tb(7,"div",10),i.Tb(8,"div",11),i.Tb(9,"h4",12),i.Ec(10,"App Info"),i.Sb(),i.Sb(),i.Tb(11,"div",13),i.Tb(12,"div",14),i.Tb(13,"div",15),i.Tb(14,"div",16),i.Tb(15,"label",17),i.Ec(16,"Name"),i.Sb(),i.Tb(17,"div",18),i.Tb(18,"input",19,20),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().cloneData.appName=e})),i.Sb(),i.Cc(20,$n,2,1,"div",21),i.Sb(),i.Sb(),i.Sb(),i.Tb(21,"div",22),i.Tb(22,"div",16),i.Tb(23,"label",23),i.Ec(24,"Title"),i.Sb(),i.Tb(25,"div",24),i.Tb(26,"input",25,26),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().cloneData.title=e})),i.Sb(),i.Cc(28,Gn,2,1,"div",21),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(29,"div",14),i.Tb(30,"div",27),i.Tb(31,"div",28),i.Tb(32,"label",29),i.Ec(33,"Description"),i.Sb(),i.Tb(34,"div",30),i.Tb(35,"textarea",31),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().cloneData.description=e})),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Cc(36,qn,6,1,"div",32),i.Cc(37,Zn,13,2,"div",32),i.Tb(38,"div",33),i.Tb(39,"div",34),i.Tb(40,"button",35),i.bc("click",(function(){return i.vc(n),i.dc().setInitialForm()})),i.Ec(41,"Reset"),i.Sb(),i.Tb(42,"button",36),i.Ec(43,"Clone"),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&e){var r=i.sc(1),o=i.sc(19),s=i.sc(27),a=i.dc();i.Bb(2),i.jc("ngIf",a.clonning),i.Bb(4),i.Hc(" ",a.appInfo.ownerName,"/",a.appInfo.appName,""),i.Bb(12),i.jc("ngModel",a.cloneData.appName),i.Bb(2),i.jc("ngIf",o.invalid&&(o.dirty||o.touched)),i.Bb(6),i.jc("ngModel",a.cloneData.title),i.Bb(2),i.jc("ngIf",s.invalid&&(s.dirty||s.touched)),i.Bb(7),i.jc("ngModel",a.cloneData.description),i.Bb(1),i.jc("ngIf",a.settings.length),i.Bb(1),i.jc("ngIf",null==a.cloneData.connections?null:a.cloneData.connections.length),i.Bb(5),i.jc("disabled",!r.valid)}}var ti=function(){function e(e,t,n,i,r,o){this.route=e,this.router=t,this.authService=n,this.appService=i,this.connectionsService=r,this.dialogService=o,this.layoutConfig={icon:"worksheets_logo",smIcon:"worksheets_icon",appName:"Worksheets Systems",sidebar:Xt.SidebarState.Hidden},this.cloneData={appName:null,connections:null,copyData:!0,description:null,settings:null,title:null},this.clonning=!1,this.settings=[],this.connections=[]}return e.prototype.ngOnInit=function(){var e=this;this.connectionsService.myConnections$.subscribe((function(t){e.dbConnections=t.filter((function(e){return e.isAdmin})),e.setCloneConnections()})),this.connectionsService.loadMyDbConnections().toPromise(),this.connectionsService.loadServerHosts().toPromise(),this.route.params.pipe(Object(cn.a)((function(){return e.appService.getAppInfo()}))).subscribe((function(t){e.appInfo=t,e.setInitialForm()}),(function(t){e.error=Object(Rt.h)(t)}))},e.prototype.cloneApp=function(e){var t=this;this.error=null,e.valid&&(this.clonning=!0,this.cloneData.settings=this.settings.reduce((function(e,t){return e[t.key]=t.value,e}),{}),this.appService.cloneApp(this.appInfo.ownerName,this.appInfo.appName,this.cloneData).subscribe((function(e){t.clonning=!1,t.router.navigate(["/app",t.authService.user.userName,t.cloneData.appName])}),(function(){return t.clonning=!1})))},e.prototype.onConnectionChange=function(e,t){t.defaultSchema=e.defaultSchema},e.prototype.openSqlConnectionForm=function(){var e=this,t=this.dialogService.open(_n.b,{class:"modal-lg full-height"});t.config={},t.init.pipe(Object(cn.a)((function(){return t.component.saved}))).subscribe((function(){e.connectionsService.loadMyDbConnections().toPromise()}))},e.prototype.setCloneConnections=function(){var e;if(this.appInfo&&this.dbConnections){var t=(null===(e=this.dbConnections)||void 0===e?void 0:e.length)?this.dbConnections[0]:null;this.cloneData.connections=this.appInfo.connectionConfigs.map((function(e){return{key:e.key,name:(null==t?void 0:t.connectionName)||null,defaultSchema:(null==t?void 0:t.defaultSchema)||null}}))}},e.prototype.setInitialForm=function(){var e=this.appInfo;this.cloneData.appName=e.appName+"_copy",this.cloneData.title=e.title,this.cloneData.description=e.description,this.cloneData.copyData=!0,this.setCloneConnections(),this.settings=Object.entries(e.settings).map((function(e){return{key:e[0],value:e[1]}}))},e.\u0275fac=function(t){return new(t||e)(i.Nb(Lt.a),i.Nb(Lt.f),i.Nb(Nt.b),i.Nb(pn.a),i.Nb(Yt.a),i.Nb(Yt.b))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-clone-app"]],decls:9,vars:3,consts:[[3,"config"],["title","",1,"mb-0","ml-2","top-sub-header","w-md-down-50"],["header","",1,"ml-auto","d-flex"],["content","",1,"container"],["type","danger",4,"ngIf"],["class","my-3 position-relative",3,"ngSubmit",4,"ngIf"],["type","danger"],[1,"my-3","position-relative",3,"ngSubmit"],["form","ngForm"],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"my-0"],[1,"card-body"],[1,"form-row"],[1,"col-sm-6","col-md-4"],[1,"form-group","row"],["for","app-name",1,"col-auto","col-form-label"],[1,"col","mr-3"],["type","text","placeholder","Enter app name","name","clone-name","required","","id","app-name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","alert alert-danger py-1 px-2 m-0",4,"ngIf"],[1,"col-sm-6","col-md-8"],["for","app-title",1,"col-auto","col-form-label"],[1,"col"],["type","text","placeholder","Enter app title","name","clone-title","required","","id","app-title",1,"form-control",3,"ngModel","ngModelChange"],["title","ngModel"],[1,"col-12"],[1,"form-group"],["for","app-description",1,"col-form-label"],[1,"p-0","m-0","w-100"],["rows","3","placeholder","Enter app description","id","app-description","name","clone-description",1,"form-control",3,"ngModel","ngModelChange"],["class","card",4,"ngIf"],[1,"row"],[1,"col","d-flex"],["type","button",1,"btn","btn-link","mr-auto","position-absolute",3,"click"],["type","submit",1,"btn","btn-primary","btn-lg","mx-auto","col-6","col-md-4",3,"disabled"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger","py-1","px-2","m-0"],[4,"ngIf"],["class","row my-1",4,"ngFor","ngForOf"],[1,"row","my-1"],[1,"col-sm-4"],["class","col-auto col-form-label px-0",4,"ngIf"],["type","text","readonly","","placeholder","name",1,"form-control-plaintext",3,"ngModel","name","ngModelChange"],["type","text","placeholder","value","required","",1,"form-control",3,"name","ngModel","ngModelChange"],[1,"col-auto","col-form-label","px-0"],[1,"col-auto","my-0"],["type","button",1,"btn","btn-sm","btn-link","ml-3",3,"click"],[1,"form-check","form-check-inline","ml-auto"],["name","copyData","type","checkbox","id","copy-data",1,"form-check-input","mr-2",3,"ngModel","ngModelChange"],["for","copy-data",1,"form-check-label"],[1,"col-sm-3"],["placeholder","select connection","bindValue","connectionName","bindLabel","connectionName","required","",1,"w-100",3,"items","ngModel","name","ngModelChange","change"],["type","text","placeholder","defaultSchema",1,"form-control",3,"ngModel","name","ngModelChange"]],template:function(e,t){1&e&&(i.Tb(0,"app-layout",0),i.Tb(1,"h2",1),i.Ec(2,"WORKSHEET "),i.Tb(3,"span"),i.Ec(4,"SYSTEMS"),i.Sb(),i.Sb(),i.Ob(5,"div",2),i.Tb(6,"div",3),i.Cc(7,Bn,2,1,"alert",4),i.Cc(8,ei,44,11,"form",5),i.Sb(),i.Sb()),2&e&&(i.jc("config",t.layoutConfig),i.Bb(7),i.jc("ngIf",t.error),i.Bb(1),i.jc("ngIf",t.appInfo))},directives:[Jt.a,wt.m,Ln.a,s.t,s.j,s.k,s.b,s.q,s.i,s.l,wt.l,s.a,Fn.a],styles:[""]}),e}(),ni=r.a.apiBaseUrl+"/api/public-templates",ii=function(){function e(e,t){this.http=e,this.authService=t}return e.prototype.saveTemplate=function(e){return this.http.post(ni+"/template",e,this.authService.getHttpHeaders())},e.prototype.getTemplates=function(){return this.http.get(ni+"/all-links")},e.prototype.getTemplate=function(e){return this.http.get(ni+"/template/"+e)},e.prototype.deleteTemplate=function(e){return this.http.delete(ni+"/template/"+e,this.authService.getHttpHeaders())},e.\u0275fac=function(t){return new(t||e)(i.Xb(o.a),i.Xb(Nt.b))},e.\u0275prov=i.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),ri=(n("K3ix"),n("bU/s")),oi=["descriptionEl"];function si(e,t){if(1&e&&(i.Tb(0,"h4",39),i.Ec(1),i.Sb()),2&e){var n=i.dc();i.Bb(1),i.Fc(n.config.title)}}function ai(e,t){if(1&e){var n=i.Ub();i.Tb(0,"label",40),i.Ec(1,"Create template for"),i.Sb(),i.Tb(2,"ng-select",41),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().app=e})),i.Sb()}if(2&e){var r=i.dc();i.Bb(2),i.jc("items",r.applications)("ngModel",r.app)}}function li(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"Name is required."),i.Sb())}function ci(e,t){if(1&e&&(i.Tb(0,"div",42),i.Cc(1,li,2,0,"div",43),i.Sb()),2&e){i.dc();var n=i.sc(17);i.Bb(1),i.jc("ngIf",n.errors.required)}}function ui(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"Title is required."),i.Sb())}function hi(e,t){if(1&e&&(i.Tb(0,"div",42),i.Cc(1,ui,2,0,"div",43),i.Sb()),2&e){i.dc();var n=i.sc(17);i.Bb(1),i.jc("ngIf",n.errors.required)}}var di=function(){function e(e,t,n){this.templatesService=e,this.appService=t,this.notificationService=n,this.display="flex",this.flexDirection="column",this.saved=new i.p,this.loading=!1,this.template={descriptionHtml:null,categories:[],excerpt:null,imageUrl:null,keywords:[],name:null,title:null,referencePath:null,templateId:null,templateType:1,categoriesStr:null,keywordsStr:null}}return e.prototype.ngOnInit=function(){var e=this;this.config?this.templatesService.getTemplate(this.config.name).subscribe((function(t){Object.assign(e.template,t),e.template.categoriesStr=t.categories.join(", "),e.template.keywordsStr=t.keywords.join(", "),e.descriptionEditor.setValue(t.descriptionHtml,-1)})):(this.appService.myApps$.subscribe((function(t){e.applications=t})),this.appService.loadMyApps().toPromise()),this.descriptionEditor=Object(ri.edit)(this.descriptionEl.nativeElement,{mode:"ace/mode/html",autoScrollEditorIntoView:!0,tabSize:2,useSoftTabs:!0,indentedSoftWrap:!0,theme:Object(Rt.f)(),value:""})},e.prototype.saveApp=function(){var e=this;this.loading=!0;var t=Object(Bt.a)({},this.template);this.config||(t.referencePath="/"+this.app.ownerName+"/"+this.app.appName),t.keywords=this.template.keywordsStr.split(",").map((function(e){return e.trim()})),delete t.keywordsStr,t.categories=this.template.categoriesStr.split(",").map((function(e){return e.trim()})),delete t.categoriesStr,t.descriptionHtml=this.descriptionEditor.getValue(),this.templatesService.saveTemplate(t).subscribe((function(){e.modalRef.hide(),e.loading=!1,e.notificationService.open({type:Xt.NotificationType.SUCCESS,message:"Template "+t.name+" created"}),e.saved.emit()}),(function(t){e.loading=!1,e.notificationService.open({type:Xt.NotificationType.DANGER,message:Object(Rt.h)(t,"Failed to create template")})}))},e.\u0275fac=function(t){return new(t||e)(i.Nb(ii),i.Nb(pn.a),i.Nb(Yt.e))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-template-form"]],viewQuery:function(e,t){var n;1&e&&i.Ac(oi,!0),2&e&&i.rc(n=i.cc())&&(t.descriptionEl=n.first)},hostVars:4,hostBindings:function(e,t){2&e&&i.Bc("display",t.display)("flex-direction",t.flexDirection)},inputs:{config:"config",modalRef:"modalRef"},outputs:{saved:"saved"},decls:67,vars:11,consts:[[1,"modal-header"],["class","modal-title pull-left",4,"ngIf","ngIfElse"],["appSelection",""],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4","d-flex","overflow-hidden"],[1,"h-100","w-100","d-flex","flex-column"],["form","ngForm"],[1,"form-row","mx-0"],[1,"p-0","pr-1","col-sm-6","col-md-4"],[1,"form-group","mx-0","mb-2","flex-nowrap"],["for","template-name",1,"col-form-label","px-0"],[1,"p-0","m-0"],["type","text","placeholder","Enter Name","name","template-name","id","template-name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","alert alert-danger py-1 px-2 m-0",4,"ngIf"],[1,"px-1","p-0","col-sm-6","col-md-8"],["for","app-name",1,"col","col-form-label","px-0"],["type","text","placeholder","Enter template title","name","template-title","required","","id","template-title",1,"form-control",3,"ngModel","ngModelChange"],[1,"col"],[1,"form-group","mb-2","flex-nowrap","mx-0"],["for","template-excerpt",1,"col","col-form-label","px-0"],["placeholder","Enter excerpt","name","template-excerpt","rows","3","required","","id","template-excerpt",1,"form-control",3,"ngModel","ngModelChange"],["for","template-image",1,"col","col-form-label","px-0"],["type","text","placeholder","Enter image url","name","template-image","required","","id","template-image",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-6","col-md-6"],["for","template-categories",1,"col","col-form-label","px-0"],["type","text","placeholder","Enter categories","name","template-categories","required","","id","template-categories",1,"form-control",3,"ngModel","ngModelChange"],["for","template-keywords",1,"col-form-label","px-0"],["type","text","placeholder","Enter keywords","name","template-keywords","required","","id","template-keywords",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-row","h-100","mx-0"],[1,"form-group","mb-2","row","flex-column","mx-0","h-100"],[1,"col-form-label","px-0"],[1,"col","p-0","m-0"],["descriptionEl",""],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","button",1,"btn","btn-primary","mr-2","ml-auto",3,"disabled","click"],["type","button",1,"btn","btn-light","mr-2",3,"click"],[1,"modal-title","pull-left"],[1,"col-auto","col-form-label","px-0","mr-2"],["name","appName","placeholder","Select application","bindLabel","appName","required","",1,"px-0","col-3",3,"items","ngModel","ngModelChange"],[1,"alert","alert-danger","py-1","px-2","m-0"],[4,"ngIf"]],template:function(e,t){if(1&e&&(i.Tb(0,"div",0),i.Cc(1,si,2,1,"h4",1),i.Cc(2,ai,3,2,"ng-template",null,2,i.Dc),i.Tb(4,"button",3),i.bc("click",(function(){return t.modalRef.hide()})),i.Tb(5,"span",4),i.Ec(6,"\xd7"),i.Sb(),i.Sb(),i.Sb(),i.Tb(7,"div",5),i.Tb(8,"form",6,7),i.Tb(10,"div",8),i.Tb(11,"div",9),i.Tb(12,"div",10),i.Tb(13,"label",11),i.Ec(14,"Name"),i.Sb(),i.Tb(15,"div",12),i.Tb(16,"input",13,14),i.bc("ngModelChange",(function(e){return t.template.name=e})),i.Sb(),i.Cc(18,ci,2,1,"div",15),i.Sb(),i.Sb(),i.Sb(),i.Tb(19,"div",16),i.Tb(20,"div",10),i.Tb(21,"label",17),i.Ec(22,"Title"),i.Sb(),i.Tb(23,"div",12),i.Tb(24,"input",18,14),i.bc("ngModelChange",(function(e){return t.template.title=e})),i.Sb(),i.Cc(26,hi,2,1,"div",15),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(27,"div",8),i.Tb(28,"div",19),i.Tb(29,"div",20),i.Tb(30,"label",21),i.Ec(31,"Excerpt"),i.Sb(),i.Tb(32,"div",12),i.Tb(33,"textarea",22),i.bc("ngModelChange",(function(e){return t.template.excerpt=e})),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(34,"div",8),i.Tb(35,"div",19),i.Tb(36,"div",20),i.Tb(37,"label",23),i.Ec(38,"Image Url"),i.Sb(),i.Tb(39,"div",12),i.Tb(40,"input",24),i.bc("ngModelChange",(function(e){return t.template.imageUrl=e})),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(41,"div",8),i.Tb(42,"div",25),i.Tb(43,"div",20),i.Tb(44,"label",26),i.Ec(45,"Categories"),i.Sb(),i.Tb(46,"div",12),i.Tb(47,"input",27),i.bc("ngModelChange",(function(e){return t.template.categoriesStr=e})),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(48,"div",25),i.Tb(49,"div",10),i.Tb(50,"label",28),i.Ec(51,"Keywords"),i.Sb(),i.Tb(52,"div",12),i.Tb(53,"input",29),i.bc("ngModelChange",(function(e){return t.template.keywordsStr=e})),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(54,"div",30),i.Tb(55,"div",19),i.Tb(56,"div",31),i.Tb(57,"label",32),i.Ec(58,"Description HTML"),i.Sb(),i.Ob(59,"div",33,34),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(61,"div",35),i.Tb(62,"div",36),i.Tb(63,"button",37),i.bc("click",(function(){return t.saveApp()})),i.Ec(64,"Save"),i.Sb(),i.Tb(65,"button",38),i.bc("click",(function(){return t.modalRef.hide()})),i.Ec(66,"Cancel"),i.Sb(),i.Sb(),i.Sb()),2&e){var n=i.sc(3),r=i.sc(9),o=i.sc(17);i.Bb(1),i.jc("ngIf",t.config)("ngIfElse",n),i.Bb(15),i.jc("ngModel",t.template.name),i.Bb(2),i.jc("ngIf",o.invalid&&(o.dirty||o.touched)),i.Bb(6),i.jc("ngModel",t.template.title),i.Bb(2),i.jc("ngIf",o.invalid&&(o.dirty||o.touched)),i.Bb(7),i.jc("ngModel",t.template.excerpt),i.Bb(7),i.jc("ngModel",t.template.imageUrl),i.Bb(7),i.jc("ngModel",t.template.categoriesStr),i.Bb(6),i.jc("ngModel",t.template.keywordsStr),i.Bb(10),i.jc("disabled",r.invalid||!(t.config||!t.config&&t.app))}},directives:[wt.m,s.t,s.j,s.k,s.b,s.i,s.l,s.q,Fn.a],styles:[""]}),e}();function fi(e,t){if(1&e){var n=i.Ub();i.Tb(0,"button",7),i.bc("click",(function(){return i.vc(n),i.dc().createTemplate()})),i.Ec(1,"Create Template"),i.Sb()}}function pi(e,t){if(1&e){var n=i.Ub();i.Tb(0,"button",25),i.bc("click",(function(){i.vc(n);var e=i.dc().$implicit;return i.dc().deleteTemplate(e)})),i.Ec(1,"Delete"),i.Sb()}}function gi(e,t){if(1&e){var n=i.Ub();i.Tb(0,"button",26),i.bc("click",(function(){i.vc(n);var e=i.dc().$implicit;return i.dc().createTemplate(e)})),i.Ec(1,"Edit"),i.Sb()}}function mi(e,t){if(1&e&&(i.Tb(0,"div",8),i.Tb(1,"div",9),i.Tb(2,"div",10),i.Tb(3,"h4",11),i.Ec(4),i.Tb(5,"small"),i.Ec(6),i.Sb(),i.Sb(),i.Sb(),i.Tb(7,"div",12),i.Tb(8,"div",13),i.Ob(9,"img",14),i.Tb(10,"span",15),i.Ec(11),i.Sb(),i.Sb(),i.Tb(12,"div",13),i.Tb(13,"div",16),i.Tb(14,"span",17),i.Ec(15),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(16,"div",18),i.Tb(17,"div",19),i.Cc(18,pi,2,0,"button",20),i.Ob(19,"span",21),i.Cc(20,gi,2,0,"button",22),i.Tb(21,"a",23),i.Ec(22,"More Info"),i.Sb(),i.Tb(23,"a",24),i.Ec(24,"Clone"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&e){var n=t.$implicit,r=i.dc();i.Bb(4),i.Gc("",n.name," "),i.Bb(2),i.Fc(n.title),i.Bb(3),i.jc("src",n.imageUrl,i.xc),i.Bb(2),i.Fc(n.categories.join(",")),i.Bb(4),i.Fc(n.excerpt),i.Bb(3),i.jc("ngIf",r.isAuth),i.Bb(2),i.jc("ngIf",r.isAuth),i.Bb(1),i.jc("href",r.getInfoLink(n.name),i.xc),i.Bb(2),i.jc("href",r.getTemplateUrl(n),i.xc)}}var bi=function(){function e(e,t,n,i){this.templatesService=e,this.dialogService=t,this.authService=n,this.notificationService=i,this.layoutConfig={icon:"worksheets_logo",smIcon:"worksheets_icon",appName:"Worksheets Systems",sidebar:Xt.SidebarState.Hidden},this.isAuth=!1}return e.prototype.ngOnInit=function(){var e=this;this.authService.isAuthenticated$.subscribe((function(t){e.isAuth=t})),this.loadTemplates()},e.prototype.getTemplateUrl=function(e){return"/clone-app"+e.referencePath},e.prototype.getInfoLink=function(e){return"https://worksheet.systems/templates/"+e},e.prototype.createTemplate=function(e){var t=this,n=this.dialogService.open(di,{class:"modal-xl full-height"});e&&(n.config=e),n.init.pipe(Object(cn.a)((function(){return n.component.saved}))).subscribe((function(){t.loadTemplates()}))},e.prototype.deleteTemplate=function(e){var t=this;this.dialogService.confirmation("Delete template "+e.name+"'").subscribe((function(n){n&&t.templatesService.deleteTemplate(e.templateId).subscribe((function(){t.notificationService.open({type:Xt.NotificationType.SUCCESS,message:"Template "+e.name+" deleted."}),t.loadTemplates()}),(function(e){t.notificationService.open({type:Xt.NotificationType.DANGER,message:Object(Rt.h)(e,"Failed to delete template")})}))}))},e.prototype.loadTemplates=function(){var e=this;this.templatesService.getTemplates().subscribe((function(t){e.templates=t}))},e.\u0275fac=function(t){return new(t||e)(i.Nb(ii),i.Nb(Yt.b),i.Nb(Nt.b),i.Nb(Yt.e))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-templates"]],decls:10,vars:3,consts:[[3,"config"],["title","",1,"mb-0","ml-2","top-sub-header","w-md-down-50"],["header","",1,"ml-auto","d-flex"],["class","btn btn-primary btn-sm align-self-center",3,"click",4,"ngIf"],["content","",1,"container"],[1,"row"],["class","col-lg-6 col-sm-12 mb-3",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm","align-self-center",3,"click"],[1,"col-lg-6","col-sm-12","mb-3"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body","row"],[1,"col-12","col-md-6"],["alt","image",1,"w-100","rounded",3,"src"],[1,"text-muted"],[1,"row","flex-column","align-items-start"],[1,"col"],[1,"card-footer"],[1,"row","mx-0"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"ml-auto"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],["target","blank",1,"btn","btn-success","btn-sm","ml-2",3,"href"],["target","blank",1,"btn","btn-primary","btn-sm","ml-2",3,"href"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(e,t){1&e&&(i.Tb(0,"app-layout",0),i.Tb(1,"h2",1),i.Ec(2,"WORKSHEET "),i.Tb(3,"span"),i.Ec(4,"SYSTEMS"),i.Sb(),i.Sb(),i.Tb(5,"div",2),i.Cc(6,fi,2,0,"button",3),i.Sb(),i.Tb(7,"div",4),i.Tb(8,"div",5),i.Cc(9,mi,25,9,"div",6),i.Sb(),i.Sb(),i.Sb()),2&e&&(i.jc("config",t.layoutConfig),i.Bb(6),i.jc("ngIf",t.isAuth),i.Bb(3),i.jc("ngForOf",t.templates))},directives:[Jt.a,wt.m,wt.l],styles:[""]}),e}(),vi=["subsTmpl"],yi=function(e){return{active:e}};function _i(e,t){if(1&e){var n=i.Ub();i.Tb(0,"li",9),i.Tb(1,"a",15),i.bc("click",(function(){i.vc(n);var e=t.$implicit;return i.dc().activeLink=e.name})),i.Ec(2),i.Sb(),i.Sb()}if(2&e){var r=t.$implicit,o=i.dc();i.Bb(1),i.jc("ngClass",i.nc(2,yi,o.activeLink===r.name)),i.Bb(1),i.Fc(r.label)}}function wi(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"User name is required"),i.Sb())}function Ci(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"User name should contain only alphanumeric symbols and '_', '-' "),i.Sb())}function Si(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"User name must be at least 3 characters"),i.Sb())}function Oi(e,t){if(1&e&&(i.Tb(0,"div",60),i.Cc(1,wi,2,0,"div",61),i.Cc(2,Ci,2,0,"div",61),i.Cc(3,Si,2,0,"div",61),i.Sb()),2&e){i.dc();var n=i.sc(11);i.Bb(1),i.jc("ngIf",n.errors.required),i.Bb(1),i.jc("ngIf",n.errors.pattern),i.Bb(1),i.jc("ngIf",n.errors.minlength)}}function Ti(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"Email is required."),i.Sb())}function ki(e,t){1&e&&(i.Tb(0,"div"),i.Ec(1,"Email is not valid."),i.Sb())}function xi(e,t){if(1&e&&(i.Tb(0,"div",60),i.Cc(1,Ti,2,0,"div",61),i.Cc(2,ki,2,0,"div",61),i.Sb()),2&e){i.dc();var n=i.sc(41);i.Bb(1),i.jc("ngIf",n.errors.required),i.Bb(1),i.jc("ngIf",n.errors.email)}}function Ei(e,t){1&e&&(i.Tb(0,"div",62),i.Ec(1,"Activated"),i.Sb())}function ji(e,t){if(1&e){var n=i.Ub();i.Tb(0,"button",63),i.bc("click",(function(){return i.vc(n),i.dc(2).resendActivation()})),i.Ec(1,"Resend Activation EMail"),i.Sb()}}var Ai=function(){return{standalone:!0}};function Ii(e,t){if(1&e){var n=i.Ub();i.Tb(0,"div",47),i.Tb(1,"input",64),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc(2).pricingCode=e}))("change",(function(){return i.vc(n),i.dc(2).onSubscriptionChange()})),i.Sb(),i.Tb(2,"label",65),i.Ec(3),i.Sb(),i.Sb()}if(2&e){var r=t.$implicit,o=t.index,s=i.dc(2);i.Bb(1),i.lc("name","pricing-package-",r.pricingCode,""),i.lc("id","pricing-package-",o,""),i.kc("value",r.pricingCode),i.jc("ngModel",s.pricingCode)("ngModelOptions",i.mc(7,Ai)),i.Bb(1),i.lc("for","pricing-package-",o,""),i.Bb(1),i.Fc(r.name)}}function Mi(e,t){if(1&e){var n=i.Ub();i.Tb(0,"div",66),i.Tb(1,"button",67),i.bc("click",(function(){return i.vc(n),i.dc(2).updateSubscription()})),i.Ec(2,"Upgrade Your Subscription"),i.Sb(),i.Sb()}}function Pi(e,t){if(1&e){var n=i.Ub();i.Tb(0,"form",16,17),i.bc("ngSubmit",(function(){return i.vc(n),i.dc().saveProfile()})),i.Tb(2,"div",18),i.Ob(3,"i",19),i.Ec(4," Account Info "),i.Sb(),i.Tb(5,"div",20),i.Tb(6,"div",21),i.Tb(7,"label",22),i.Ec(8,"Username"),i.Sb(),i.Tb(9,"div",23),i.Tb(10,"input",24,25),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().accountForm.userName=e})),i.Sb(),i.Cc(12,Oi,4,3,"div",26),i.Tb(13,"small",27),i.Ec(14," Login "),i.Sb(),i.Sb(),i.Tb(15,"div",23),i.Tb(16,"div",28),i.Ob(17,"input",29),i.Tb(18,"button",30),i.bc("click",(function(){return i.vc(n),i.dc().changePasswordRequest()})),i.Ec(19,"Change"),i.Sb(),i.Sb(),i.Tb(20,"small",27),i.Ec(21," Password "),i.Sb(),i.Sb(),i.Sb(),i.Tb(22,"div",21),i.Tb(23,"label",31),i.Ec(24,"Name"),i.Sb(),i.Tb(25,"div",23),i.Tb(26,"input",32),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().accountForm.firstName=e})),i.Sb(),i.Tb(27,"small",27),i.Ec(28," First Name "),i.Sb(),i.Sb(),i.Tb(29,"div",23),i.Tb(30,"input",33),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().accountForm.lastName=e})),i.Sb(),i.Tb(31,"small",27),i.Ec(32," Last Name "),i.Sb(),i.Sb(),i.Sb(),i.Tb(33,"div",21),i.Tb(34,"label",34),i.Ec(35,"Email"),i.Sb(),i.Tb(36,"div",35),i.Tb(37,"div",36),i.Tb(38,"span",37),i.Ec(39,"@"),i.Sb(),i.Sb(),i.Tb(40,"input",38,39),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().accountForm.email=e})),i.Sb(),i.Cc(42,xi,3,2,"div",26),i.Sb(),i.Tb(43,"div",40),i.Cc(44,Ei,2,0,"div",41),i.Cc(45,ji,2,0,"button",42),i.Sb(),i.Sb(),i.Tb(46,"div",21),i.Tb(47,"label",43),i.Ec(48,"Subscription"),i.Sb(),i.Tb(49,"div",44),i.Tb(50,"div",45),i.Cc(51,Ii,4,8,"div",46),i.Tb(52,"div",47),i.Tb(53,"input",48),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().pricingCode=e}))("change",(function(){return i.vc(n),i.dc().onSubscriptionChange()})),i.Sb(),i.Tb(54,"label",49),i.Ec(55,"Custom"),i.Sb(),i.Sb(),i.Cc(56,Mi,3,0,"div",50),i.Sb(),i.Tb(57,"div",51),i.Tb(58,"div",52),i.Tb(59,"div"),i.Ec(60,"Apps "),i.Tb(61,"b"),i.Ec(62),i.Sb(),i.Ec(63," out of "),i.Tb(64,"b"),i.Ec(65),i.Sb(),i.Sb(),i.Tb(66,"div"),i.Ec(67,"Pages "),i.Tb(68,"b"),i.Ec(69),i.Sb(),i.Ec(70," out of "),i.Tb(71,"b"),i.Ec(72),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(73,"div",53),i.Tb(74,"label",54),i.Ec(75,"Registration date"),i.Sb(),i.Tb(76,"div",44),i.Ob(77,"input",55),i.ec(78,"date"),i.Sb(),i.Sb(),i.Sb(),i.Tb(79,"div",56),i.Tb(80,"div",57),i.Tb(81,"button",58),i.bc("click",(function(){return i.vc(n),i.dc().deleteAccount()})),i.Ec(82,"Delete Account"),i.Sb(),i.Tb(83,"button",59),i.Ec(84,"Save"),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&e){var r=i.sc(1),o=i.sc(11),s=i.sc(41),a=i.dc();i.Bb(10),i.jc("ngModel",a.accountForm.userName),i.Bb(2),i.jc("ngIf",o.invalid&&(o.dirty||o.touched)),i.Bb(14),i.jc("ngModel",a.accountForm.firstName),i.Bb(4),i.jc("ngModel",a.accountForm.lastName),i.Bb(10),i.jc("ngModel",a.accountForm.email),i.Bb(2),i.jc("ngIf",s.invalid&&s.touched),i.Bb(2),i.jc("ngIf",a.user.isActivated),i.Bb(1),i.jc("ngIf",!a.user.isActivated),i.Bb(6),i.jc("ngForOf",a.pricingPackages),i.Bb(2),i.jc("ngModel",a.pricingCode)("ngModelOptions",i.mc(21,Ai)),i.Bb(3),i.jc("ngIf",a.pricingCode&&(null==a.accountForm.packageInfo?null:a.accountForm.packageInfo.pricingCode)!==a.pricingCode),i.Bb(6),i.Fc(a.accountForm.appsCount),i.Bb(3),i.Fc(null==a.pricingPackage?null:a.pricingPackage.appsLimit),i.Bb(4),i.Fc(a.accountForm.pagesCount),i.Bb(3),i.Fc(null==a.pricingPackage?null:a.pricingPackage.pagesLimit),i.Bb(5),i.jc("ngModel",i.gc(78,18,a.user.registeredAt,"yyyy-MM-dd")),i.Bb(6),i.jc("disabled",r.invalid||r.pristine)}}var Di=function(e){return["/sql-client",e]};function Ri(e,t){if(1&e&&(i.Tb(0,"tr"),i.Tb(1,"td"),i.Tb(2,"a",74),i.Ec(3),i.Sb(),i.Sb(),i.Tb(4,"td"),i.Ec(5),i.Sb(),i.Tb(6,"td",75),i.Ec(7),i.Sb(),i.Tb(8,"td"),i.Ec(9),i.Sb(),i.Tb(10,"td"),i.Ec(11),i.Sb(),i.Sb()),2&e){var n=t.$implicit,r=i.dc(2);i.Bb(2),i.jc("routerLink",i.nc(6,Di,n.connectionName)),i.Bb(1),i.Fc(n.connectionName),i.Bb(2),i.Fc(n.connectionType),i.Bb(2),i.Fc(n.defaultSchema),i.Bb(2),i.Fc(r.getDbPackageName(n.pricingCode)),i.Bb(2),i.Fc(n.publicAccess)}}function Ni(e,t){if(1&e&&(i.Tb(0,"div",68),i.Tb(1,"div",18),i.Ob(2,"i",69),i.Ec(3," SQL Connections "),i.Sb(),i.Tb(4,"div",20),i.Tb(5,"table",70),i.Tb(6,"thead"),i.Tb(7,"tr"),i.Tb(8,"th",71),i.Ec(9,"Name"),i.Sb(),i.Tb(10,"th",71),i.Ec(11,"Type"),i.Sb(),i.Tb(12,"th",72),i.Ec(13,"Default Schema"),i.Sb(),i.Tb(14,"th",71),i.Ec(15,"Pricing Package"),i.Sb(),i.Tb(16,"th",71),i.Ec(17,"Public Access"),i.Sb(),i.Ob(18,"th"),i.Sb(),i.Sb(),i.Tb(19,"tbody"),i.Cc(20,Ri,12,8,"tr",73),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&e){var n=i.dc();i.Bb(20),i.jc("ngForOf",n.connections)}}function Li(e,t){if(1&e){var n=i.Ub();i.Tb(0,"form",76),i.bc("ngSubmit",(function(){return i.vc(n),i.dc().requestCustomSubscription()})),i.Tb(1,"div",77),i.Tb(2,"h4",78),i.Ec(3,"Custom subscription"),i.Sb(),i.Tb(4,"button",79),i.bc("click",(function(){return i.vc(n),i.dc().bsModalRef.hide()})),i.Tb(5,"span",80),i.Ec(6,"\xd7"),i.Sb(),i.Sb(),i.Sb(),i.Tb(7,"div",81),i.Tb(8,"div",21),i.Tb(9,"div",82),i.Tb(10,"div",83),i.Tb(11,"label",84),i.Ec(12,"Apps Required"),i.Sb(),i.Tb(13,"div",23),i.Tb(14,"input",85,86),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().customSubscription.appsRequired=e})),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(16,"div",82),i.Tb(17,"div",83),i.Tb(18,"label",87),i.Ec(19,"Pages Required"),i.Sb(),i.Tb(20,"div",23),i.Tb(21,"input",88,89),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().customSubscription.pagesRequired=e})),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(23,"div",21),i.Tb(24,"div",82),i.Tb(25,"div",83),i.Tb(26,"label",90),i.Ec(27,"Premise"),i.Sb(),i.Tb(28,"div",91),i.Tb(29,"input",92),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().customSubscription.onPremiseRequired=e})),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(30,"div",82),i.Tb(31,"div",83),i.Tb(32,"label",93),i.Ec(33,"Consultation"),i.Sb(),i.Tb(34,"div",91),i.Tb(35,"input",94),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().customSubscription.consultationRequired=e})),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(36,"div",95),i.Tb(37,"label",96),i.Ec(38,"Message"),i.Sb(),i.Tb(39,"div",97),i.Tb(40,"textarea",98),i.bc("ngModelChange",(function(e){return i.vc(n),i.dc().customSubscription.message=e})),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(41,"div",99),i.Tb(42,"button",30),i.bc("click",(function(){return i.vc(n),i.dc().bsModalRef.hide()})),i.Ec(43,"Cancel"),i.Sb(),i.Tb(44,"button",100),i.Ec(45,"Send"),i.Sb(),i.Sb(),i.Sb()}if(2&e){var r=i.dc();i.Bb(14),i.jc("ngModel",r.customSubscription.appsRequired),i.Bb(7),i.jc("ngModel",r.customSubscription.pagesRequired),i.Bb(8),i.jc("ngModel",r.customSubscription.onPremiseRequired),i.Bb(6),i.jc("ngModel",r.customSubscription.consultationRequired),i.Bb(5),i.jc("ngModel",r.customSubscription.message)}}var Fi=function(){function e(e,t,n,i,r){this.authService=e,this.dialogService=t,this.registrationService=n,this.connectionsService=i,this.router=r,this.layoutConfig={icon:"worksheets_logo",smIcon:"worksheets_icon",appName:"Worksheets Systems",sidebar:Xt.SidebarState.Hidden},this.links=[{name:"account",label:"Account Info"},{name:"connections",label:"Sql Connections"}],this.customPricingCode="custom-code",this.customSubscription={packageCode:this.customPricingCode,appsRequired:10,consultationRequired:!0,message:null,onPremiseRequired:!1,pagesRequired:100},this.activeLink="account",this.pricingPackages=[],this.dbPackages=[]}return e.prototype.ngOnInit=function(){var e=this;this.authService.getCurrentUser().subscribe((function(t){var n;e.user=t,e.accountForm=Object(Bt.a)({},t),e.pricingCode=null===(n=e.user.packageInfo)||void 0===n?void 0:n.pricingCode,e.pricingPackage=e.user.packageInfo})),this.connectionsService.loadMyDbConnections().subscribe((function(t){e.connections=t.filter((function(t){return t.ownerName===e.user.userName}))})),this.registrationService.getActivePricingPackages().subscribe((function(t){var n;e.pricingPackages=t,t.some((function(t){var n;return t.pricingCode===(null===(n=e.user.packageInfo)||void 0===n?void 0:n.pricingCode)}))||(e.customPricingCode=null===(n=e.user.packageInfo)||void 0===n?void 0:n.pricingCode)})),this.registrationService.getActivePricingDbPackages().subscribe((function(t){e.dbPackages=t}))},e.prototype.deleteAccount=function(){var e=this;this.dialogService.confirmation("Delete account?").subscribe((function(t){t&&e.registrationService.deleteAccount().subscribe((function(){e.authService.logout(),e.router.navigate(["/"])}))}))},e.prototype.changePasswordRequest=function(){this.registrationService.resetRequest(this.user.userName).toPromise()},e.prototype.updateSubscription=function(){var e=this;this.pricingCode===this.customPricingCode?this.bsModalRef=this.dialogService.openTmpl(this.subsTmpl):this.authService.changeSubscription({packageCode:this.pricingCode},this.pricingPackage).subscribe((function(){e.accountForm.packageInfo=e.pricingPackage}))},e.prototype.onSubscriptionChange=function(){var e,t=this;this.pricingPackage=this.pricingCode===(null===(e=this.user.packageInfo)||void 0===e?void 0:e.pricingCode)?this.user.packageInfo:this.pricingPackages.find((function(e){return e.pricingCode===t.pricingCode}))},e.prototype.getDbPackageName=function(e){var t=this.dbPackages.find((function(t){return t.pricingCode===e}));return null==t?void 0:t.name},e.prototype.saveProfile=function(){this.authService.updateUser(this.accountForm).toPromise()},e.prototype.requestCustomSubscription=function(){var e=this;this.authService.changeSubscription(this.customSubscription,this.pricingPackage).subscribe((function(){e.bsModalRef.hide()}))},e.prototype.resendActivation=function(){this.registrationService.activateAccountRequest().toPromise()},e.\u0275fac=function(t){return new(t||e)(i.Nb(Nt.b),i.Nb(Yt.b),i.Nb(Nt.d),i.Nb(Yt.a),i.Nb(Lt.f))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-profile"]],viewQuery:function(e,t){var n;1&e&&i.Ac(vi,!0),2&e&&i.rc(n=i.cc())&&(t.subsTmpl=n.first)},decls:21,vars:6,consts:[[3,"config"],["title","",1,"mb-0","ml-2","top-sub-header","w-md-down-50"],["header","",1,"ml-auto","d-flex"],["content","",1,"container","d-flex","flex-column","h-100"],[1,"text-center","offset-md-3"],[1,"row","h-100"],[1,"col-12","col-md-3"],[1,"nav","flex-column","bg","border","pt-2","h-100"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],["tabindex","-1","aria-disabled","true",1,"nav-link","disabled"],[1,"col-12","col-md-9"],["class","card",3,"ngSubmit",4,"ngIf"],["class","card",4,"ngIf"],["subsTmpl",""],["href","javascript:void(0);",1,"nav-link","cursor-pointer",3,"ngClass","click"],[1,"card",3,"ngSubmit"],["form","ngForm"],[1,"card-header"],[1,"fa","fa-user-o","mr-2"],[1,"card-body"],[1,"form-group","row"],["for","inputUsername",1,"col-form-label","col-md-2"],[1,"col-md-5"],["id","inputUsername","name","userName","pattern","^[\\w|_-]+$","minlength","3","maxlength","20","required","",1,"form-control",3,"ngModel","ngModelChange"],["userName","ngModel"],["class","alert alert-danger py-1 px-2 m-0 w-100",4,"ngIf"],[1,"form-text","text-muted"],[1,"row","mx-0"],["name","password","type","password","value","password","readonly","",1,"form-control","col"],["type","button",1,"btn","btn-link",3,"click"],["for","firstName",1,"col-form-label","col-md-2"],["type","text","id","firstName","name","firstName",1,"form-control",3,"ngModel","ngModelChange"],["id","lastName","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","inputEmail",1,"col-md-2","col-form-label"],[1,"input-group","col-md-7"],[1,"input-group-prepend"],["id","inputEmailPrepend",1,"input-group-text"],["type","email","email","","id","inputEmail","aria-describedby","inputEmailPrepend","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"col-md-3"],["class","alert-success my-0 rounded h-100 d-flex justify-content-center align-items-center","role","alert",4,"ngIf"],["type","button","class","btn btn-link px-2",3,"click",4,"ngIf"],["for","inputSubs",1,"col-form-label","col-md-2"],[1,"col-md-10"],[1,"p-0","m-0","flex-fill","align-items-center","d-flex","row"],["class","form-check form-check-inline form-item col-6 col-md-auto mr-0",4,"ngFor","ngForOf"],[1,"form-check","form-check-inline","form-item","col-6","col-md-auto","mr-0"],["type","radio","name","pricing-package-custom","id","pricing-package-custom","value","custom-code",1,"form-check-input",3,"ngModel","ngModelOptions","ngModelChange","change"],["for","pricing-package-custom",1,"form-check-label","flex-fill"],["class","col-auto",4,"ngIf"],[1,"row","align-items-center"],[1,"text-muted","col-auto"],[1,"form-group","pb-2","mb-2","row"],["for","inputRegisteredAt",1,"col-form-label","col-md-2"],["type","date","id","inputRegisteredAt","name","registeredAt","readonly","",1,"form-control-plaintext",3,"ngModel"],[1,"card-footer"],[1,"form-row"],["type","button",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-primary","ml-auto",3,"disabled"],[1,"alert","alert-danger","py-1","px-2","m-0","w-100"],[4,"ngIf"],["role","alert",1,"alert-success","my-0","rounded","h-100","d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-link","px-2",3,"click"],["type","radio",1,"form-check-input",3,"name","id","value","ngModel","ngModelOptions","ngModelChange","change"],[1,"form-check-label","flex-fill",3,"for"],[1,"col-auto"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"card"],[1,"fa","fa-database","mr-2"],[1,"table"],["scope","col"],["scope","col",1,"d-none","d-md-table-cell"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"d-none","d-md-table-cell"],[3,"ngSubmit"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-6"],[1,"row"],["for","appsRequired",1,"col-md-7","col-form-label"],["type","number","id","appsRequired","name","appsRequired",1,"form-control",3,"ngModel","ngModelChange"],["appsRequired","ngModel"],["for","pagesRequired",1,"col-md-7","col-form-label"],["type","number","id","pagesRequired","name","pagesRequired",1,"form-control",3,"ngModel","ngModelChange"],["pagesRequired","ngModel"],["for","onPremiseRequired",1,"form-check-label","col-md-7"],[1,"col-md-2"],["name","onPremiseRequired","type","checkbox","id","onPremiseRequired",3,"ngModel","ngModelChange"],["for","consultationRequired",1,"form-check-label","col-md-7"],["name","consultationRequired","type","checkbox","id","consultationRequired",3,"ngModel","ngModelChange"],[1,"form-group"],["for","subs-message",1,"col-form-label"],[1,"p-0","m-0","w-100"],["rows","3","placeholder","Enter app message","id","subs-message","name","subs-message",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary","ml-auto"]],template:function(e,t){1&e&&(i.Tb(0,"app-layout",0),i.Tb(1,"h2",1),i.Ec(2,"WORKSHEET "),i.Tb(3,"span"),i.Ec(4,"SYSTEMS"),i.Sb(),i.Sb(),i.Ob(5,"div",2),i.Tb(6,"div",3),i.Tb(7,"h4",4),i.Ec(8),i.Sb(),i.Tb(9,"div",5),i.Tb(10,"div",6),i.Tb(11,"ul",7),i.Cc(12,_i,3,4,"li",8),i.Tb(13,"li",9),i.Tb(14,"a",10),i.Ec(15,"Billing"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Tb(16,"div",11),i.Cc(17,Pi,85,22,"form",12),i.Cc(18,Ni,21,1,"div",13),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Cc(19,Li,46,5,"ng-template",null,14,i.Dc)),2&e&&(i.jc("config",t.layoutConfig),i.Bb(8),i.Hc("Welcome ",t.user.firstName," ",t.user.lastName,""),i.Bb(4),i.jc("ngForOf",t.links),i.Bb(5),i.jc("ngIf",t.accountForm&&"account"===t.activeLink),i.Bb(1),i.jc("ngIf","connections"===t.activeLink))},directives:[Jt.a,wt.l,wt.m,wt.k,s.t,s.j,s.k,s.b,s.o,s.f,s.e,s.q,s.i,s.l,s.c,s.p,Lt.h,s.n,s.a],pipes:[wt.e],styles:[".connection-item[_ngcontent-%COMP%]{color:var(--color)}.connection-item[_ngcontent-%COMP%]:hover{text-decoration:none}.border[_ngcontent-%COMP%]{border-color:var(--border-color)!important}"]}),e}(),Bi=n("2v5c"),Hi=function(){function e(){this.layoutConfig={icon:"worksheets_logo",smIcon:"worksheets_icon",appName:"Worksheets Systems",sidebar:Xt.SidebarState.Hidden}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Hb({type:e,selectors:[["app-login"]],decls:13,vars:1,consts:[[3,"config"],["title","",1,"mb-0","ml-2","top-sub-header","w-md-down-50"],["header","",1,"ml-auto","d-flex"],["content","",1,"container"],[1,"app-body"],[1,"main","d-flex","align-items-center"],[1,"container"],[1,"row"],[1,"col-md-8","mx-auto"]],template:function(e,t){1&e&&(i.Tb(0,"app-layout",0),i.Tb(1,"h2",1),i.Ec(2,"WORKSHEET "),i.Tb(3,"span"),i.Ec(4,"SYSTEMS"),i.Sb(),i.Sb(),i.Ob(5,"div",2),i.Tb(6,"div",3),i.Tb(7,"div",4),i.Tb(8,"main",5),i.Tb(9,"div",6),i.Tb(10,"div",7),i.Tb(11,"div",8),i.Ob(12,"app-login-form"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&e&&i.jc("config",t.layoutConfig)},directives:[Jt.a,Bi.a],encapsulation:2}),e}();function Vi(e,t){1&e&&(i.Tb(0,"div",6),i.Tb(1,"div",7),i.Tb(2,"span",8),i.Ec(3,"Loading..."),i.Sb(),i.Sb(),i.Tb(4,"h5"),i.Ec(5,"Account activating..."),i.Sb(),i.Sb())}function $i(e,t){if(1&e&&(i.Tb(0,"alert",9),i.Tb(1,"strong"),i.Ec(2,"Error!"),i.Sb(),i.Ec(3),i.Sb()),2&e){var n=i.dc();i.Bb(3),i.Gc(" ",n.error,"")}}var zi=function(){function e(e,t,n,i){this.registrationService=e,this.route=t,this.router=n,this.notificationService=i,this.layoutConfig={icon:"worksheets_logo",smIcon:"worksheets_icon",appName:"Worksheets Systems",sidebar:Xt.SidebarState.Hidden},this.activating=!0,this.error=null}return e.prototype.ngOnInit=function(){var e=this;this.route.params.pipe(Object(cn.a)((function(t){return e.registrationService.activateAccount(t.code)}))).subscribe((function(){e.notificationService.success("Congratulation! Your account is activated."),e.router.navigate(["/"]),e.activating=!1}),(function(t){e.error=t.error,e.activating=!1}))},e.\u0275fac=function(t){return new(t||e)(i.Nb(Nt.d),i.Nb(Lt.a),i.Nb(Lt.f),i.Nb(Yt.e))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-activation"]],decls:9,vars:3,consts:[[3,"config"],["title","",1,"mb-0","ml-2","top-sub-header","w-md-down-50"],["header","",1,"ml-auto","d-flex"],["content","",1,"container","position","relative"],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],["type","danger",4,"ngIf"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"],["type","danger"]],template:function(e,t){1&e&&(i.Tb(0,"app-layout",0),i.Tb(1,"h2",1),i.Ec(2,"WORKSHEET "),i.Tb(3,"span"),i.Ec(4,"SYSTEMS"),i.Sb(),i.Sb(),i.Ob(5,"div",2),i.Tb(6,"div",3),i.Cc(7,Vi,6,0,"div",4),i.Cc(8,$i,4,1,"alert",5),i.Sb(),i.Sb()),2&e&&(i.jc("config",t.layoutConfig),i.Bb(7),i.jc("ngIf",t.activating),i.Bb(1),i.jc("ngIf",t.error))},directives:[Jt.a,wt.m,Ln.a],styles:[""]}),e}(),Gi=function(){function e(e,t,n,i){this.authService=e,this.router=t,this.notificationService=n,this.authGuard=i}return e.prototype.canActivate=function(e,t){var n=this;return this.authGuard.canActivate(e,t).pipe(Object(un.a)((function(i){return!0===i&&e.params.userName.toLowerCase()!==n.authService.user.userName.toLowerCase()?(n.notificationService.error(null,"Activation route is incorrect for logged in user."),n.router.navigate(["/profile"],{queryParams:{returnUrl:t.url}}),!1):!0===i||void 0})))},e.\u0275fac=function(t){return new(t||e)(i.Xb(Nt.b),i.Xb(Lt.f),i.Xb(Yt.e),i.Xb(Nt.a))},e.\u0275prov=i.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Wi=[{path:"",component:Nn,data:{title:"Home Page"}},{path:"login",component:Hi,data:{title:"Login Page"}},{path:"register",component:nn,data:{title:"Register Page"}},{path:"profile",component:Fi,canActivate:[Nt.a],data:{title:"Profile Page"}},{path:"templates",component:bi,data:{title:"Templates Page"}},{path:"activation/:userName/:code",component:zi,canActivate:[Gi]},{path:"clone-app/:ownerName/:appName",component:ti,canActivate:[Nt.a],data:{title:"Clone App"}},{path:"rest-client",loadChildren:function(){return Promise.all([n.e(0),n.e(2),n.e(3),n.e(4)]).then(n.bind(null,"0P6F")).then((function(e){return e.RestClientModule}))},data:{title:"Rest client"}},{path:"reset/:userName/:code",component:qt},{path:"json-editor",loadChildren:function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,"H19/")).then((function(e){return e.JsonEditorModule}))},data:{title:"Json editor"}},{path:"app",loadChildren:function(){return Promise.all([n.e(0),n.e(2),n.e(6),n.e(14)]).then(n.bind(null,"+MQa")).then((function(e){return e.CustomAppModule}))},data:{title:"Applications"}},{path:"sql-client",loadChildren:function(){return Promise.all([n.e(0),n.e(3),n.e(5)]).then(n.bind(null,"/IbS")).then((function(e){return e.DatabaseManagerModule}))},canActivate:[Nt.a],data:{title:"SQL client"}},{path:"code",loadChildren:function(){return Promise.all([n.e(0),n.e(2),n.e(3),n.e(4),n.e(5),n.e(6),n.e(12)]).then(n.bind(null,"B+Ku")).then((function(e){return e.CodeModule}))},data:{title:"Code"}},{path:"docs",loadChildren:function(){return Promise.all([n.e(0),n.e(2),n.e(11)]).then(n.bind(null,"Ocfj")).then((function(e){return e.DocsModule}))},data:{title:"Documentation"}},{path:":ownerName",loadChildren:function(){return n.e(15).then(n.bind(null,"+8P3")).then((function(e){return e.WorksheetModule}))},data:{title:"Worksheet"}},{path:"**",redirectTo:r.a.excludeHomePage?"/rest-client":"/",pathMatch:"full"}];r.a.excludeHomePage&&Wi.shift();var Ui=function(){function e(){}return e.\u0275mod=i.Lb({type:e}),e.\u0275inj=i.Kb({factory:function(t){return new(t||e)},providers:[Gi],imports:[[Lt.i.forRoot(Wi,{useHash:r.a.useHash})],Lt.i]}),e}(),Ki=n("tcrU");n("SuQF"),Object(Ki.setLicenseKey)("FalconSoft,116526551426322#B0Eyj0ICRiwiI34zZaV7U8pXY5sSUzIWWwgjTHZWdj94Z8okeL3kbPVzMwx6dD3CSB5UeM94dPlmeSdkcYNnUyZWbBJzVUZ7duNGbv26ZJdVO0RXd6QTb4wWTyRWYhJ5UXF6MUtUdWV7RtVjSxcHUBBDaKhVOrVFa5lWWtFGd89mWsNWcpJHT8EnTqhme52Ue9gzL6BXRKlEd4lUZHNFTx9WSkdlehlXdE9GWYJjNitmUKZlZwlWQLZXZURGVBxUdvplWGFkQS3WYMllUYVkWjpkctBndVRTMyQDNplDSu3ET7cmMmZUcYJFNyUFW4NGexMFUY3GcRZlNSljb8YUQ0ZnVnJ4dW96VZJ7dallWWRXTqpVZHd7dy5WbIBTMzMTe7JzZKRXO9EWY8BHSv3SQRZETHJWdkFnZ8AVRxIkdVhFcaZ7aX5kW5lke4U6cYFUY9Z5KhdkVFhVS8BzaMd7Ky4kI0IyUiwiI5ATNzkjQ9QjI0ICSiwiM9MDMxgjN6QTM0IicfJye&Qf35VfiMzQwIkI0IyQiwiIlJ7bDBybtpWaXJiOi8kI1xSfiUFO7EkI0IyQiwiIu3Waz9WZ4hXRgACdyFGaDxWYpNmbh9WaGBybtpWaXJiOi8kI1tlOiQmcQJCLiITMwATOwAyNxkDMwIDMyIiOiQncDJCLiMzYw5CajVGdsMXblR7c9NnL4VWZoN7ay36ds46bj9CcwFWdr3mclhmLwBXYtIzc4VWZoN7ay36dsQ7cvhGbhN6bsxyctVGdzl7cuQXZlh6crJ7b79CcwFGLt36YuIWdoRXan9Cdm36cu36YsFmZsMXblR7c9NnL4VWZoN7ay36du8WdyxCZitmYtBnbvR6akhWbqNWYmNWant6bi5GZmZmZpFmaixybp9iY5hGdpdmL4Z6bz96bjxWYmJiOiMXbEJCLiQGdMBCdm36Uu36YsFmRiojIh94QiwiIyIzM6IDNxUTN6ITN6ETMiojIklkIs4nIxYHMyAjMiojIyVmdiwSZzxWYmpjIyNHZisnOiBmWB");var qi=function(){function e(){}return e.\u0275mod=i.Lb({type:e,bootstrap:[Ft]}),e.\u0275inj=i.Kb({factory:function(t){return new(t||e)},providers:[],imports:[[Ui,Pt,o.b,s.d,Rt.c,Nt.e.forRoot(),Dt.b.forRoot()]]}),e}();r.a.production&&Object(i.U)(),d.c().bootstrapModule(qi).catch((function(e){return console.error(e)}))},ztEp:function(e,t,n){"use strict";n.r(t),n.d(t,"dateToString",(function(){return c})),n.d(t,"deepClone",(function(){return u})),n.d(t,"fromTable",(function(){return y})),n.d(t,"getFieldDescriptions",(function(){return d})),n.d(t,"parseBooleanOrNull",(function(){return l})),n.d(t,"parseCsv",(function(){return m})),n.d(t,"parseCsvToTable",(function(){return b})),n.d(t,"parseDatetimeOrNull",(function(){return a})),n.d(t,"parseNumber",(function(){return o})),n.d(t,"parseNumberOrNull",(function(){return s})),n.d(t,"toCsv",(function(){return v})),n.d(t,"toTable",(function(){return _})),n.d(t,"workoutDataType",(function(){return h}));var i=function(){return function(){this.delimiter=",",this.skipRows=0,this.textFields=[],this.dateFields=[],this.numberFields=[],this.booleanFields=[]}}(),r=function(e){return e.String="String",e.LargeString="LargeString",e.WholeNumber="WholeNumber",e.BigIntNumber="BigIntNumber",e.FloatNumber="FloatNumber",e.DateTime="DateTime",e.Boolean="Boolean",e}({});function o(e,t){if(t&&"function"==typeof t&&(e=t(e)),e instanceof Date)return e.getTime();switch(typeof e){case"string":var n=parseFloat(e);if(!isNaN(n))return n;break;case"boolean":return Number(e);case"number":return isNaN(e)?void 0:e}}function s(e){if("number"==typeof e)return e;if(!e||"string"!=typeof e)return null;for(var t=(e=e.trim()).length-1;t>=0;t--){var n=e.charCodeAt(t);if((n<48||n>57)&&46!==n&&44!==n&&(45!==n||0!==t))return null}var i=parseFloat(e.replace(/,/g,""));return isNaN(i)?null:i}function a(e){if(!e)return null;if(e instanceof Date&&!isNaN(e.valueOf()))return e;if("string"!=typeof e)return null;var t=String(e);if(!t.length)return null;var n=function(e){if(!e||!e.length)return NaN;var t=parseInt(e,10);return isNaN(t)?e.startsWith("jan")?0:e.startsWith("feb")?1:e.startsWith("mar")?2:e.startsWith("apr")?3:e.startsWith("may")?4:e.startsWith("jun")?5:e.startsWith("jul")?6:e.startsWith("aug")?7:e.startsWith("sep")?8:e.startsWith("oct")?9:e.startsWith("nov")?10:e.startsWith("dec")?11:NaN:t-1},i=function(e){return e<100?e<68?e+2e3:e+1900:e},r=function(e,t,n,i,r,o,s){if(t>11||n>31||i>=60||r>=60||o>=60)return null;var a=new Date(e,t,n,i,r,o,s);return isNaN(a.valueOf())?null:a},o=t.replace("T"," ").replace("."," ").toLowerCase().split(/[: /-]/),s=o.map(parseFloat),a=r(s[0],s[1]-1,s[2],s[3]||0,s[4]||0,s[5]||0,s[6]||0);return a||((a=r(i(s[2]),n(o[1]),s[0],s[3]||0,s[4]||0,s[5]||0,s[6]||0))?a:(a=r(i(s[2]),n(o[0]),i(s[1]),s[3]||0,s[4]||0,s[5]||0,s[6]||0))||null)}function l(e){if(!e)return null;if("boolean"==typeof e)return e;var t=e.toString().toLowerCase().trim();return!!["1","yes","true","on"].includes(t)||!["0","no","false","off"].includes(t)&&null}function c(e){var t=new Date(e.getTime());return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t.toISOString().replace("T00:00:00.000Z","")}function u(e){if(null==e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());if(Array.isArray(e))return e.map((function(e){return u(e)}));if("object"==typeof e){var t={};for(var n in e){var i=e[n];t[n]=null==i||null==i?i:i instanceof Date?new Date(i.getTime()):Array.isArray(i)?i.map((function(e){return u(e)})):"object"==typeof i?u(i):i}return t}return e}function h(e,t){if(null!=e&&null!=e){if(t===r.LargeString)return r.LargeString;var n=function(e){function t(e){return e%1==0?e>2147483647?r.BigIntNumber:r.WholeNumber:r.FloatNumber}var n=null;switch(typeof e){case"boolean":return r.Boolean;case"number":return t(e);case"object":return e instanceof Date?r.DateTime:r.String;case"string":return a(e)?r.DateTime:null!==(n=s(e))?t(n):null!==l(e)?r.Boolean:e.length>4e3?r.LargeString:r.String;default:return r.LargeString}}(e);return void 0===t?n:t===n?t:n===r.String||t===r.String&&n!==r.LargeString?r.String:t===r.FloatNumber||n===r.FloatNumber&&t===r.WholeNumber?r.FloatNumber:n===r.BigIntNumber||t===r.BigIntNumber&&n===r.WholeNumber?r.BigIntNumber:n!==t&&n!==r.LargeString?r.String:r.LargeString}}function d(e){for(var t=Object.create(null),n=0,i=e;n<i.length;n++)for(var o=0,s=Object.entries(i[n]);o<s.length;o++){var a=s[o],l=a[0],c=a[1],u=t[l];if(void 0===u&&(t[l]=u={fieldName:l,isNullable:!1}),null==c)u.isNullable=!0;else{var d=h(c,u.dataTypeName);d!==u.dataTypeName&&(u.dataTypeName=d),(u.dataTypeName==r.String||u.dataTypeName==r.LargeString)&&String(c).length>(u.maxSize||0)&&(u.maxSize=String(c).length)}}return Object.values(t)}function f(e,t,n){for(var i=Object.create(null),o=0;o<e.length;o++){var c=e[o],u=c.fieldName,h=t[o];n.textFields&&n.textFields.indexOf(u)>=0?h=t[o]:c.dataTypeName===r.DateTime||n.dateFields&&n.dateFields.indexOf(u)>=0?h=a(h):c.dataTypeName===r.WholeNumber||c.dataTypeName===r.FloatNumber||c.dataTypeName===r.BigIntNumber||n.numberFields&&n.numberFields.indexOf(u)>=0?h=s(h):(c.dataTypeName===r.Boolean||n.booleanFields&&n.booleanFields.indexOf(u)>=0)&&(h=l(h)),i[u]="_#EMPTY#_"===h?"":h}return i}function p(e,t){void 0===t&&(t=",");var n=[],i="";function r(e,t){return e.length>t?e[t]:null}do{var o=e.content[e.currentIndex];if("\n"===o){"\r"===e.content[e.currentIndex+1]&&e.currentIndex++;break}if(0===i.length&&'"'===o)if('"'===r(e.content,e.currentIndex+1)&&'"'!==r(e.content,e.currentIndex+2))i="_#EMPTY#_",e.currentIndex++;else for(;'"'!==e.content[++e.currentIndex];)i+=e.content[e.currentIndex],'"'===r(e.content,e.currentIndex+1)&&'"'===r(e.content,e.currentIndex+2)&&(i+='"',e.currentIndex+=2);else o===t?(n.push(i),i=""):i+=o}while(++e.currentIndex<e.content.length);return n.push(i),n}function g(e,t){var n={content:e,currentIndex:0};e=e||"";var i=t.delimiter||",",o={fieldDescriptions:[],rows:[]},s=0,a=null,l=[];do{var c=p(n,i);if(c.filter((function(e){return!e||!e.length})).length!==c.length)if(s<t.skipRows)s++;else if(a||"function"!=typeof t.skipUntil||t.skipUntil(c))if(a){if("function"==typeof t.takeWhile&&a&&!t.takeWhile(c))break;var u=[];for(b=0;b<c.length;b++){var d=o.fieldDescriptions[b],f=c[b];if(null==f||0===f.length)d.isNullable=!0;else if("_#EMPTY#_"!==f){var g=h(f,d.dataTypeName);g!==d.dataTypeName&&(d.dataTypeName=g),(d.dataTypeName==r.String||d.dataTypeName==r.LargeString)&&String(f).length>(d.maxSize||0)&&(d.maxSize=String(f).length)}d.isUnique&&(l[b].indexOf(f)>=0?d.isUnique=!1:l[b].push(f)),"_#EMPTY#_"===f?f=d.dataTypeName===r.String||d.dataTypeName===r.LargeString?"":null:f.length||(f=null),u.push(f)}o.rows.push(u),s++}else{a=[];for(var m=[],b=0;b<c.length;b++){var v=c[b].trim().length?c[b].trim():"_";a.push(a.indexOf(v)>=0?v+b:v),m.push({fieldName:a[a.length-1],isNullable:!1,isUnique:!0,index:b}),l.push([])}o.fieldDescriptions=m,o.fieldNames=a,s++}else s++;else s++}while(++n.currentIndex<n.content.length);return o.fieldDataTypes=o.fieldDescriptions.map((function(e){return e.dataTypeName})),o}function m(e,t){if(!(e=e||"").length)return[];for(var n=g(e,(t=t||{})||new i),r=[],o=0;o<n.rows.length;o++){var s="function"==typeof t.elementSelector?t.elementSelector(n.fieldDescriptions,n.rows[o]):f(n.fieldDescriptions,n.rows[o],t);s&&r.push(s)}return r}function b(e,t){return(e=e||"").length?g(e,t||new i):{}}function v(e,t){void 0===t&&(t=",");for(var n=[],i=0,r=e=e||[];i<r.length;i++){var o=r[i];for(var s in o)n.indexOf(s)<0&&n.push(s)}var a=e.map((function(e){for(var i=[],r=0,o=n;r<o.length;r++){var s=e[o[r]];s instanceof Date?s=c(s):"string"==typeof s&&s.indexOf(t)>=0&&(s='"'+s+'"'),s=null!=s?s:"",i.push(String(s))}return i.join(t)}));return a.unshift(n.join(t)),a.join("\n")}function y(e,t,n){var i=e,o=(null==i?void 0:i.rows)||e||[];if(!o.length)return[];t=(null==i?void 0:i.fieldNames)||t||o[0].map((function(e,t){return"Field"+t})),n=(null==i?void 0:i.fieldDataTypes)||n||[];for(var s=[],l=0,c=o;l<c.length;l++){for(var u=c[l],h={},d=0,f=t.length;d<f;d++)h[t[d]]=(n.length?n[d]:null)===r.DateTime&&u[d]?a(u[d]):u[d];s.push(h)}return s}function _(e){var t={fieldNames:[],rows:[]};if(!(null==e?void 0:e.length))return t;var n=new Set;return e.forEach((function(e){Object.keys(e).forEach((function(e){return n.add(e)}))})),t.fieldNames=Array.from(n.values()),t.rows=e.map((function(e){return t.fieldNames.reduce((function(t,n){var i=e[n],r=i instanceof Date?c(i):i;return t.push(r),t}),[])})),t}},zx2A:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return d}));var i=n("1OyB"),r=n("vuIU"),o=n("Ji7U"),s=n("LK+K"),a=n("7o/Q"),l=n("HDdC"),c=n("SeVD"),u=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this)).parent=e,r}return Object(r.a)(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(a.a),h=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(a.a);function d(e,t){if(!t.closed)return e instanceof l.a?e.subscribe(t):Object(c.a)(e)(t)}}},[[0,1]]]);
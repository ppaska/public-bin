(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"/IbS":function(e,t,n){"use strict";n.r(t);var r=n("Valr"),i=n("QJY3"),o=n("6onV"),a=n("hYGK"),l=n("w1ql"),c=n("mrSG"),s=n("TYT/"),d=n("DUip"),u=n("/PH2"),p=function(){return function(){}}(),m=function(){function e(){}return e.prototype.serialize=function(e){return{root:this.serializeRoute(e.root),url:e.url}},e.prototype.serializeRoute=function(e){var t=this,n=e.children.map((function(e){return t.serializeRoute(e)}));return{params:e.params,paramMap:e.paramMap,data:e.data,url:e.url,outlet:e.outlet,routeConfig:e.routeConfig?{component:e.routeConfig.component,path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet}:null,queryParams:e.queryParams,queryParamMap:e.queryParamMap,fragment:e.fragment,component:e.routeConfig?e.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:n[0],pathFromRoot:void 0,children:n}},e}(),f=function(){function e(){}return e.prototype.serialize=function(e){return{root:this.serializeRoute(e.root),url:e.url}},e.prototype.serializeRoute=function(e){var t=this,n=e.children.map((function(e){return t.serializeRoute(e)}));return{params:e.params,data:e.data,url:e.url,outlet:e.outlet,routeConfig:e.routeConfig?{path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet}:null,queryParams:e.queryParams,fragment:e.fragment,firstChild:n[0],children:n}},e}(),b=function(e){return e[e.PreActivation=1]="PreActivation",e[e.PostActivation=2]="PostActivation",e}({}),h=new s.InjectionToken("@ngrx/router-store Internal Configuration"),g=new s.InjectionToken("@ngrx/router-store Configuration");function x(e){return Object(c.a)({stateKey:"router",serializer:m,navigationActionTiming:b.PreActivation},e)}var y,v,O,j,S=function(e){return e[e.NONE=1]="NONE",e[e.ROUTER=2]="ROUTER",e[e.STORE=3]="STORE",e}({}),w=function(){function e(e,t,n,r,i){this.store=e,this.router=t,this.serializer=n,this.errorHandler=r,this.config=i,this.lastEvent=null,this.trigger=S.NONE,this.stateKey=this.config.stateKey,this.setUpStoreStateListener(),this.setUpRouterEventsListener()}var t;return t=e,e.forRoot=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[{provide:h,useValue:e},{provide:g,useFactory:x,deps:[h]},{provide:p,useClass:e.serializer?e.serializer:1===e.routerState?f:m}]}},e.prototype.setUpStoreStateListener=function(){var e=this;this.store.pipe(Object(o.t)(this.stateKey),Object(u.a)(this.store)).subscribe((function(t){var n=Object(c.g)(t,2);e.navigateIfNeeded(n[0],n[1])}))},e.prototype.navigateIfNeeded=function(e,t){var n=this;if(e&&e.state&&this.trigger!==S.ROUTER&&!(this.lastEvent instanceof d.e)){var r=e.state.url;this.router.url!==r&&(this.storeState=t,this.trigger=S.STORE,this.router.navigateByUrl(r).catch((function(e){n.errorHandler.handleError(e)})))}},e.prototype.setUpRouterEventsListener=function(){var e,t=this,n=this.config.navigationActionTiming===b.PostActivation;this.router.events.pipe(Object(u.a)(this.store)).subscribe((function(r){var i=Object(c.g)(r,2),o=i[0],a=i[1];t.lastEvent=o,o instanceof d.e?(t.routerState=t.serializer.serialize(t.router.routerState.snapshot),t.trigger!==S.STORE&&(t.storeState=a,t.dispatchRouterRequest(o))):o instanceof d.k?(e=o,n||t.trigger===S.STORE||t.dispatchRouterNavigation(o)):o instanceof d.b?(t.dispatchRouterCancel(o),t.reset()):o instanceof d.d?(t.dispatchRouterError(o),t.reset()):o instanceof d.c&&(t.trigger!==S.STORE&&(n&&t.dispatchRouterNavigation(e),t.dispatchRouterNavigated(o)),t.reset())}))},e.prototype.dispatchRouterRequest=function(e){this.dispatchRouterAction("@ngrx/router-store/request",{event:e})},e.prototype.dispatchRouterNavigation=function(e){var t=this.serializer.serialize(e.state);this.dispatchRouterAction("@ngrx/router-store/navigation",{routerState:t,event:new d.k(e.id,e.url,e.urlAfterRedirects,t)})},e.prototype.dispatchRouterCancel=function(e){this.dispatchRouterAction("@ngrx/router-store/cancel",{storeState:this.storeState,event:e})},e.prototype.dispatchRouterError=function(e){this.dispatchRouterAction("@ngrx/router-store/error",{storeState:this.storeState,event:new d.d(e.id,e.url,""+e)})},e.prototype.dispatchRouterNavigated=function(e){var t=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction("@ngrx/router-store/navigated",{event:e,routerState:t})},e.prototype.dispatchRouterAction=function(e,t){this.trigger=S.ROUTER;try{this.store.dispatch({type:e,payload:Object(c.a)({routerState:this.routerState},t,{event:1===this.config.routerState?{id:t.event.id,url:t.event.url}:t.event})})}finally{this.trigger=S.NONE}},e.prototype.reset=function(){this.trigger=S.NONE,this.storeState=null,this.routerState=null},e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)(s["\u0275\u0275inject"](o.h),s["\u0275\u0275inject"](d.f),s["\u0275\u0275inject"](p),s["\u0275\u0275inject"](s.ErrorHandler),s["\u0275\u0275inject"](g))}}),e}(),C=n("cSvJ"),E=n("b8dF"),T=n("6Fs3"),D=n("u/pq"),N=n("DQr0"),_=n("EQPC"),R=n("1PnN"),A=n("AytR"),I=function(e){return e.LOAD_SQL_OBJECTS="[DB Manager] load sql objects",e.LOADED_SQL_OBJECTS="[DB Manager] loaded sql objects",e.SELECT_CONNECTION="[DB Manager] select connection",e.LOADED_CONNECTIONS="[DB Manager] loaded connections",e}({}),q=function(){return function(e){this.payload=e,this.type=I.LOAD_SQL_OBJECTS}}(),L=function(){return function(e){this.payload=e,this.type=I.LOADED_SQL_OBJECTS}}(),M=function(){return function(e){this.payload=e,this.type=I.SELECT_CONNECTION}}(),$=function(){return function(e){this.payload=e,this.type=I.LOADED_CONNECTIONS}}(),F={list:[],loading:!1},V={list:[],current:null},k=function(e){return e.LOAD_SQL_OBJECT_DATA="[DB Manager] load sql object data",e.LOADED_SQL_OBJECT_DATA="[DB Manager] loaded sql object data",e.LOAD_SQL_OBJECT_STRUCTURE="[DB Manager] load sql object structure",e.LOADED_SQL_OBJECT_STRUCTURE="[DB Manager] loaded sql object structure",e.SAVE_SQL_OBJECT_STRUCTURE="[DB Manager] save sql object structure",e.SAVED_SQL_OBJECT_STRUCTURE="[DB Manager] saved sql object structure",e.SAVE_SQL_OBJECT_DATA="[DB Manager] save sql object data",e.UPDATE_SQL_OBJECT_DATA="[DB Manager] update sql object data",e.DELETE_SQL_OBJECT="[DB Manager] delete sql object",e.UPDATE_SQL_OBJECT="[DB Manager] update state of sql object",e.REFRESH_SQL_OBJECT="[DB Manager] refresh sql object",e.LOAD_STATE_SQL_OBJECT="[DB Manager] load state",e.SET_SQL_DATA_FILTERS="[DB Manager] set sql data filters",e.SET_SQL_DATA_ROWS_COUNT="[DB Manager] set sql data rows count",e.SET_SQL_DATA_FILTER_PROP="[DB Manager] set sql data filter property",e}({}),B=function(){return function(e){this.payload=e,this.type=k.LOAD_SQL_OBJECT_DATA}}(),Q=function(){return function(e){this.payload=e,this.type=k.LOADED_SQL_OBJECT_DATA}}(),P=function(){return function(e){this.payload=e,this.type=k.LOAD_SQL_OBJECT_STRUCTURE}}(),U=function(){return function(e){this.payload=e,this.type=k.LOADED_SQL_OBJECT_STRUCTURE}}(),J=function(){return function(e){this.payload=e,this.type=k.SAVE_SQL_OBJECT_STRUCTURE}}(),z=function(){return function(){this.type=k.SAVE_SQL_OBJECT_DATA}}(),H=function(){return function(e){this.payload=e,this.type=k.UPDATE_SQL_OBJECT_DATA}}(),G=function(){return function(e){this.payload=e,this.type=k.DELETE_SQL_OBJECT}}(),W=function(){return function(e){this.payload=e,this.type=k.UPDATE_SQL_OBJECT}}(),K=function(){return function(){this.type=k.SAVED_SQL_OBJECT_STRUCTURE}}(),X=function(){return function(){this.type=k.REFRESH_SQL_OBJECT}}(),Y=function(){return function(){this.type=k.LOAD_STATE_SQL_OBJECT}}(),Z=function(){return function(e){this.payload=e,this.type=k.SET_SQL_DATA_FILTERS}}(),ee=function(){return function(e){this.payload=e,this.type=k.SET_SQL_DATA_ROWS_COUNT}}(),te=function(){return function(e){this.payload=e,this.type=k.SET_SQL_DATA_FILTER_PROP}}(),ne=function(e){return e.DATA_SAVE="data-save",e.DATA_LOAD="data-load",e.STRUCTURE_LOAD="structure-load",e}({}),re=((y={})[ne.DATA_LOAD]="Table data is loading",y[ne.STRUCTURE_LOAD]="Table structure is loading",y[ne.DATA_SAVE]="Table data is saving",y),ie=n("M0ag"),oe={fields:[],details:{},objectId:0,objectOwner:null,objectName:"New",objectType:"Table"},ae={structure:Object(c.a)({},oe),data:null,currentState:Object(c.a)({},oe),changedData:null,filters:{limitRowsCount:1e3,skipRowsCount:0},loading:[],rowsCount:0},le={sqlObjects:function(e,t){switch(void 0===e&&(e=F),t.type){case I.LOADED_SQL_OBJECTS:var n=t.payload;return Object(c.a)(Object(c.a)({},e),{list:n,loading:!1});case I.LOAD_SQL_OBJECTS:return Object(c.a)(Object(c.a)({},e),{list:[],loading:!0});default:return e}},dbConnections:function(e,t){switch(void 0===e&&(e=V),t.type){case I.SELECT_CONNECTION:var n=t.payload;return Object(c.a)(Object(c.a)({},e),{current:n});case I.LOADED_CONNECTIONS:return n=t.payload,Object(c.a)(Object(c.a)({},e),{list:n});default:return e}},sqlObject:function(e,t){switch(void 0===e&&(e=ae),t.type){case k.LOAD_SQL_OBJECT_STRUCTURE:var n=t.payload;return Object(c.a)(Object(c.a)({},e),{filters:{limitRowsCount:e.filters.limitRowsCount,skipRowsCount:0},structure:Object(c.a)(Object(c.a)({},oe),n),currentState:Object(c.a)(Object(c.a)({},oe),n),loading:Array.from(new Set(Object(c.i)(e.loading,[ne.STRUCTURE_LOAD])))});case k.LOAD_SQL_OBJECT_DATA:return Object(c.a)(Object(c.a)({},e),{data:null,loading:Array.from(new Set(Object(c.i)(e.loading.filter((function(e){return e!==ne.DATA_SAVE})),[ne.DATA_LOAD])))});case k.SAVE_SQL_OBJECT_DATA:return Object(c.a)(Object(c.a)({},e),{loading:Array.from(new Set(Object(c.i)(e.loading,[ne.DATA_SAVE])))});case k.LOAD_STATE_SQL_OBJECT:return Object(c.a)(Object(c.a)({},e),{loading:[ne.STRUCTURE_LOAD,ne.DATA_LOAD]});case k.LOADED_SQL_OBJECT_STRUCTURE:var r=t.payload||Object(c.a)({},oe);return Object(c.a)(Object(c.a)({},e),{structure:r,loading:e.loading.filter((function(e){return e!==ne.STRUCTURE_LOAD})),currentState:Object(ie.h)(r)});case k.LOADED_SQL_OBJECT_DATA:var i=n=t.payload;return Object(c.a)(Object(c.a)({},e),{data:i,loading:e.loading.filter((function(e){return e!==ne.DATA_LOAD})),changedData:null});case k.UPDATE_SQL_OBJECT:return Object(c.a)(Object(c.a)({},e),{currentState:t.payload});case k.UPDATE_SQL_OBJECT_DATA:return Object(c.a)(Object(c.a)({},e),{changedData:t.payload});case k.REFRESH_SQL_OBJECT:return r=e.structure,Object(c.a)(Object(c.a)({},e),{changedData:null,currentState:Object(ie.h)(r)});case k.SET_SQL_DATA_FILTERS:return Object(c.a)(Object(c.a)({},e),{filters:Object(c.a)({limitRowsCount:e.filters.limitRowsCount},t.payload)});case k.SET_SQL_DATA_ROWS_COUNT:return Object(c.a)(Object(c.a)({},e),{rowsCount:t.payload});case k.SET_SQL_DATA_FILTER_PROP:return Object(c.a)(Object(c.a)({},e),{filters:Object(c.a)(Object(c.a)({},e.filters),t.payload)});default:return e}},router:function(e,t){var n=t;switch(n.type){case"@ngrx/router-store/navigation":case"@ngrx/router-store/error":case"@ngrx/router-store/cancel":return{state:n.payload.routerState,navigationId:n.payload.event.id};default:return e}}},ce=n("F/XL"),se=n("15JJ"),de=n("67Y/"),ue=n("9Z1F"),pe=function(e){return e.ERROR="[DB Manager] error",e.SUCCESS="[DB Manager] success",e}({}),me=function(){return function(e){this.payload=e,this.type=pe.ERROR}}(),fe=function(){return function(e){this.payload=e,this.type=pe.SUCCESS}}(),be=n("TwVa"),he=n("ZF+8"),ge=A.a.apiBaseUrl+"/sql",xe=function(){function e(e,t,n,r){var i=this;this.actions$=e,this.sqlDb=t,this.store=n,this.router=r,this.loadSqlObjectStructure$=this.actions$.pipe(Object(l.e)(k.LOAD_SQL_OBJECT_STRUCTURE),Object(u.a)(this.store),Object(se.a)((function(e){var t=e[0].payload;return i.sqlDb.getObject(ge+"/"+e[1].dbConnections.current,t.objectOwner,t.objectName,t.objectType).pipe(Object(de.a)((function(e){return new U(e)})),Object(ue.a)((function(e){return Object(ce.a)(new me(e.message),new U(null))})))}))),this.loadSqlObjectData$=this.actions$.pipe(Object(l.e)(k.LOAD_SQL_OBJECT_DATA),Object(u.a)(this.store),Object(se.a)((function(e){var t=e[0].payload,n=e[1];return i.sqlDb.selectSqlObjectData(n.dbConnections.current,t.objectOwner,t.objectName,n.sqlObject.filters).pipe(Object(de.a)((function(e){return new Q(e)})),Object(ue.a)((function(e){return Object(ce.a)(new me(e),new Q(null))})))}))),this.saveSqlObjectStructure$=this.actions$.pipe(Object(l.e)(k.SAVE_SQL_OBJECT_STRUCTURE),Object(u.a)(this.store),Object(se.a)((function(e){var t=e[0].payload,n=e[1];return Object(ie.f)(t,n.sqlObject.structure)?[new K,{type:"Sql structure not changed"}]:i.sqlDb.generateObject(ge+"/"+n.dbConnections.current,t).pipe(Object(se.a)((function(e){return[new q(n.dbConnections.current),new U(e),new K,new fe("SQL Structure saved")]})),Object(ue.a)((function(e){return Object(ce.a)(new me(Object(ie.m)(e)))})))}))),this.saveSqlObjectData$=this.actions$.pipe(Object(l.e)(k.SAVE_SQL_OBJECT_DATA),Object(u.a)(this.store),Object(se.a)((function(e){var t=e[1],n=t.sqlObject;return i.sqlDb.saveSqlObjectData(t.dbConnections.current,n.structure,{tableData:Object(ie.r)(n.changedData)}).pipe(Object(se.a)((function(){return[new B(n.structure),new fe("SQL Object data saved")]})),Object(ue.a)((function(e){return Object(ce.a)(new me(e.error||"Server error"))})))}))),this.deleteSqlObject$=this.actions$.pipe(Object(l.e)(k.DELETE_SQL_OBJECT),Object(u.a)(this.store),Object(se.a)((function(e){var t=e[1];return i.sqlDb.deleteObject(ge+"/"+t.dbConnections.current,e[0].payload).pipe(Object(se.a)((function(){return i.router.navigate(["/database",t.dbConnections.current]),[new fe("SQL Object deleted"),new q(t.dbConnections.current),new Q(null),new U(null)]})),Object(ue.a)((function(e){var t=[e.error.title,Object.values(e.error.errors)];return Object(ce.a)(new me(t.join("\n")))})))}))),this.loadedSqlObject$=this.actions$.pipe(Object(l.e)(k.LOADED_SQL_OBJECT_STRUCTURE),Object(u.a)(this.store),Object(de.a)((function(e){var t=e[0].payload,n=["/database",e[1].dbConnections.current];if(t){var r=t.objectOwner,o=t.objectName;t.objectType===be.g.View&&n.push("view"),n=Object(c.i)(n,[r,o]),i.router.navigate(n)}return{type:"Route checked after table structure update"}}))),this.limitRowsCount$=this.actions$.pipe(Object(l.e)(k.SET_SQL_DATA_FILTER_PROP),Object(u.a)(this.store),Object(de.a)((function(e){return new B(e[1].sqlObject.structure)})))}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](l.a),s["\u0275\u0275inject"](he.h),s["\u0275\u0275inject"](o.h),s["\u0275\u0275inject"](d.f))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),Object(c.c)([Object(l.b)(),Object(c.f)("design:type",Object)],e.prototype,"loadSqlObjectStructure$",void 0),Object(c.c)([Object(l.b)(),Object(c.f)("design:type",Object)],e.prototype,"loadSqlObjectData$",void 0),Object(c.c)([Object(l.b)(),Object(c.f)("design:type",Object)],e.prototype,"saveSqlObjectStructure$",void 0),Object(c.c)([Object(l.b)(),Object(c.f)("design:type",Object)],e.prototype,"saveSqlObjectData$",void 0),Object(c.c)([Object(l.b)(),Object(c.f)("design:type",Object)],e.prototype,"deleteSqlObject$",void 0),Object(c.c)([Object(l.b)(),Object(c.f)("design:type",Object)],e.prototype,"loadedSqlObject$",void 0),Object(c.c)([Object(l.b)(),Object(c.f)("design:type",Object)],e.prototype,"limitRowsCount$",void 0),e}(),ye=function(){function e(e,t,n){var r=this;this.actions$=e,this.notificationService=t,this.sqlDb=n,this.loadSqlObjects$=this.actions$.pipe(Object(l.e)(I.LOAD_SQL_OBJECTS),Object(se.a)((function(e){return r.sqlDb.getSqlObjects(A.a.apiBaseUrl+"/sql/"+e.payload).pipe(Object(de.a)((function(e){return new L(e)})),Object(ue.a)((function(e){return Object(ce.a)(new L([]),new me(e.message))})))}))),this.errorHandler$=this.actions$.pipe(Object(l.e)(pe.ERROR),Object(de.a)((function(e){var t=e.payload;return r.notificationService.open({message:t,type:be.f.DANGER}),{type:"[DB Manager] Shown Error: "+t}}))),this.successHandler$=this.actions$.pipe(Object(l.e)(pe.SUCCESS),Object(de.a)((function(e){var t=e.payload;return r.notificationService.open({message:t,type:be.f.SUCCESS}),{type:"[DB Manager] Shown Success: "+t}})))}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](l.a),s["\u0275\u0275inject"](he.g),s["\u0275\u0275inject"](he.h))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),Object(c.c)([Object(l.b)(),Object(c.f)("design:type",Object)],e.prototype,"loadSqlObjects$",void 0),Object(c.c)([Object(l.b)(),Object(c.f)("design:type",Object)],e.prototype,"errorHandler$",void 0),Object(c.c)([Object(l.b)(),Object(c.f)("design:type",Object)],e.prototype,"successHandler$",void 0),e}(),ve=n("OaQ9"),Oe=n("VnD/"),je=n("ad02"),Se=n("ny24"),we=n("K9Ia"),Ce=n("iFvM"),Ee=Object(o.o)("sqlObject"),Te=Object(o.q)(Ee,(function(e){return e.structure})),De=Object(o.q)(Ee,(function(e){return e.data})),Ne=Object(o.q)(Ee,(function(e){return e.currentState.fields})),_e=Object(o.q)(Ee,(function(e){return!Object(ie.f)(e.structure,e.currentState)})),Re=Object(o.q)(Ee,(function(e){return e.currentState})),Ae=Object(o.q)(Ee,(function(e){return e.loading})),Ie=Object(o.q)(Ee,(function(e){var t=e.changedData;return Boolean(t&&t.length)})),qe=Object(o.q)(Ae,(function(e){return e.length?{messages:e.map((function(e){return re[e]}))}:null})),Le=Object(o.q)(Ee,(function(e){return e.rowsCount})),Me=Object(o.q)(Ee,(function(e){return e.filters.limitRowsCount})),$e=function(e){return e.dbConnections},Fe=Object(o.q)((function(e){return e.sqlObjects}),(function(e){return e.list})),Ve=Object(o.q)($e,(function(e){return e.list})),ke=Object(o.q)($e,(function(e){return e.current})),Be=Object(o.o)("router"),Qe=(v=Be,O=Object(o.q)(v,(function(e){return e&&e.state})),j=Object(o.q)(O,(function(e){if(e){for(var t=e.root;t.firstChild;)t=t.firstChild;return t}})),Object(o.q)(j,(function(e){return e&&e.queryParams})),Object(o.q)(j,(function(e){return e&&e.params})),Object(o.q)(j,(function(e){return e&&e.data})),Object(o.q)(O,(function(e){return e&&e.url}))),Pe=Object(o.q)(Be,(function(e,t){if(void 0===t&&(t=null),!e.state)return{};for(var n=e.state.root,r=Object(c.a)({},n.params);n.firstChild;)n=n.firstChild,r=Object(c.a)(Object(c.a)({},r),n.params);return t?Object.entries(r).reduce((function(e,n){var r=n[0],i=n[1];return t.includes(r)&&(e[r]=i),e}),{}):r})),Ue=Object(o.q)(Pe,(function(e,t){return e[t]})),Je=n("Xn/w");function ze(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"li",6),s["\u0275\u0275text"](1,"\n      "),s["\u0275\u0275elementStart"](2,"a",7),s["\u0275\u0275listener"]("click",(function(e){s["\u0275\u0275restoreView"](n);var r=t.$implicit;return s["\u0275\u0275nextContext"](2).onConnectionSelect(r.connectionName)})),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4,"\n    "),s["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](r.connectionName)}}function He(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ul",4),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275template"](2,ze,5,1,"li",5),s["\u0275\u0275pipe"](3,"async"),s["\u0275\u0275text"](4,"\n  "),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",s["\u0275\u0275pipeBind1"](3,1,n.connections$))}}var Ge=function(){function e(e,t){this.router=e,this.store=t}return e.prototype.ngOnInit=function(){this.connections$=this.store.select(Ve),this.selectedConnection$=this.store.select(Ue,"connectionName")},e.prototype.onConnectionSelect=function(e){this.router.navigate(["/database",e])},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](d.f),s["\u0275\u0275directiveInject"](o.h))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-db-connections"]],decls:11,vars:3,consts:[["dropdown","","placement","bottom right",1,"btn-group","align-self-center"],["id","connections-btn-group","dropdownToggle","","type","button","title","Select connection","aria-controls","dropdown-menu-connections","tabindex","0","role","button",1,"btn","btn-light","dropdown-toggle","btn-sm","m-0"],[1,"caret"],["id","dropdown-menu-connections","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","connections-btn-group",4,"dropdownMenu"],["id","dropdown-menu-connections","role","menu","aria-labelledby","connections-btn-group",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem",4,"ngFor","ngForOf"],["role","menuitem"],[1,"dropdown-item","cursor-pointer",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275text"](1,"\n  "),s["\u0275\u0275elementStart"](2,"button",1),s["\u0275\u0275text"](3),s["\u0275\u0275pipe"](4,"async"),s["\u0275\u0275element"](5,"span",2),s["\u0275\u0275text"](6,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n\n  "),s["\u0275\u0275template"](8,He,5,3,"ul",3),s["\u0275\u0275text"](9,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](10,"\n")),2&e&&(s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("\n    ",s["\u0275\u0275pipeBind1"](4,1,t.selectedConnection$),"\n    "))},directives:[T.a,T.d,T.b,r.NgForOf],pipes:[r.AsyncPipe],styles:[""],changeDetection:0}),e}(),We=n("26FU"),Ke=n("XlPw"),Xe=(n("oW1M"),n("HvV6")),Ye=n("j13F"),Ze=n("OLrf"),et=n("3cVM"),tt=n("8JMH"),nt=n("uLXW");function rt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275text"](1,"\n        "),s["\u0275\u0275elementStart"](2,"div",23),s["\u0275\u0275text"](3,"\n          "),s["\u0275\u0275elementStart"](4,"label",24),s["\u0275\u0275text"](5,"Owner name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](6,"\n          "),s["\u0275\u0275elementStart"](7,"div",25),s["\u0275\u0275text"](8,"\n            "),s["\u0275\u0275elementStart"](9,"input",26),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().metaData.objectOwner=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](10,"\n          "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](11,"\n        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](12,"\n        "),s["\u0275\u0275elementStart"](13,"div",23),s["\u0275\u0275text"](14,"\n          "),s["\u0275\u0275elementStart"](15,"label",27),s["\u0275\u0275text"](16,"Object name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](17,"\n          "),s["\u0275\u0275elementStart"](18,"div",25),s["\u0275\u0275text"](19,"\n            "),s["\u0275\u0275elementStart"](20,"input",28),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().metaData.objectName=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](21,"\n          "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](22,"\n        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](23,"\n      "),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("ngModel",r.metaData.objectOwner),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngModel",r.metaData.objectName)}}function it(e,t){if(1&e&&s["\u0275\u0275text"](0),2&e){var n=t.item;s["\u0275\u0275textInterpolate2"]("",n.objectOwner,".",n.objectName,"")}}function ot(e,t){if(1&e&&s["\u0275\u0275text"](0),2&e){var n=t.item;s["\u0275\u0275textInterpolate2"]("",n.objectOwner,".",n.objectName,"")}}function at(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275text"](1,"\n        "),s["\u0275\u0275elementStart"](2,"label",29),s["\u0275\u0275text"](3,"Import data into"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4,"\n        "),s["\u0275\u0275elementStart"](5,"ng-select",30),s["\u0275\u0275listener"]("change",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onTableSelect(e)})),s["\u0275\u0275pipe"](6,"async"),s["\u0275\u0275text"](7,"\n           "),s["\u0275\u0275template"](8,it,1,2,"ng-template",31),s["\u0275\u0275text"](9,"\n           "),s["\u0275\u0275template"](10,ot,1,2,"ng-template",32),s["\u0275\u0275text"](11,"\n        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](12,"\n        "),s["\u0275\u0275text"](13,"\n      "),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("items",s["\u0275\u0275pipeBind1"](6,2,r.tables$))("searchFn",r.customSearchFn)}}function lt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"number"),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("",s["\u0275\u0275pipeBind1"](2,1,n.rowsLoaded)," rows loaded")}}function ct(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",33),s["\u0275\u0275text"](1,"\n      "),s["\u0275\u0275elementStart"](2,"div",34),s["\u0275\u0275text"](3,"\n        "),s["\u0275\u0275elementStart"](4,"span",35),s["\u0275\u0275text"](5,"Loading..."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](6,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n      "),s["\u0275\u0275elementStart"](8,"h5"),s["\u0275\u0275text"](9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](10,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](9),s["\u0275\u0275textInterpolate"](n.progressMessage)}}function st(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",36),s["\u0275\u0275text"](1,"\n      "),s["\u0275\u0275elementStart"](2,"alert",37),s["\u0275\u0275text"](3,"\n        "),s["\u0275\u0275elementStart"](4,"strong"),s["\u0275\u0275text"](5,"Error:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate1"](" Verify file format (",n.error,").\n      ")}}var dt=function(){function e(e,t,n,r,i,o,a){this.fileService=e,this.authService=t,this.sqlService=n,this.store=r,this.notificationService=i,this.router=o,this.dialogService=a,this.dataTypes=Object.values(be.l),this.createTable$=new We.a(!0),this.loading=!1,this.preprocessors=be.i}return e.prototype.ngOnInit=function(){var e=this;this.metaData={objectId:0,objectName:null,objectOwner:this.authService.user.userName,objectType:"Table",fields:[]},this.store.select(ke).subscribe((function(t){e.connection=t})),this.tables$=this.store.select(Fe),this.createTable$.subscribe((function(t){t?e.createNewTableColumns():e.createSelectedTableColumns()}))},e.prototype.customSearchFn=function(e,t){return e=e.toLowerCase(),(t.objectOwner.toLowerCase()+"."+t.objectName.toLowerCase()).includes(e)},Object.defineProperty(e.prototype,"isValid",{get:function(){return this.metaData.objectOwner&&this.metaData.objectName&&this.metaData.fields.length},enumerable:!0,configurable:!0}),e.prototype.onTableSelect=function(e){var t=this;this.loading=!0,this.sqlService.getObject(this.sqlConnectionUrl,e.objectOwner,e.objectName).subscribe((function(e){t.selectedTable=e,t.createSelectedTableColumns(),t.loading=!1}))},e.prototype.import=function(){var e=this,t=this.createTable$.value;this.loading=!0,this.progressMessage=t?be.j.Create:be.j.Importing;var n=this.mappings.getItems(),r=Object(c.a)(Object(c.a)({},t?this.metaData:this.selectedTable),{fields:Object(Ce.q)(n),primaryKeys:Object(Ce.t)(n)});(t?this.sqlService.generateObject(this.sqlConnectionUrl,r):Object(ce.a)(null)).pipe(Object(ue.a)((function(t){var n=Object(ie.m)(t)||"Failed to create new table";return e.notificationService.open({message:n,type:be.f.DANGER}),Object(Ke.a)(n)})),Object(se.a)((function(){return e.saveData()}))).subscribe((function(t){return e.importHandler(r,t)}),(function(t){return e.importErrorHandler(t)}))},e.prototype.previewData=function(){var e=this.dialogService.open(Xe.a,{class:"modal-w-90 full-height d-flex flex-column"}),t=this.mappings.getItems();e.config={data:Ye.b.getValues(this.data,t),fields:t}},Object.defineProperty(e.prototype,"sqlConnectionUrl",{get:function(){return tt.a.apiBaseUrl+"/sql/"+this.connection},enumerable:!0,configurable:!0}),e.prototype.loadCSV=function(){var e=this;this.fileService.importCSVFile().subscribe((function(t){if(e.error=null,t.result){var n=t.result.data,r=t.file;e.metaData.objectName||(e.metaData.objectName=Object(Ce.i)(r.name.replace(/.txt|-|.csv$/g,""))),e.data=n.filter((function(e){return""!==e.join("")})),e.rowsLoaded=e.data.length;try{e.sourceFields=e.data[0].map((function(e){return Object(Ce.i)(e)})),e.metaData.fields=Object(Ce.q)(e.sourceFields),e.createTable$.value?e.createNewTableColumns():e.createSelectedTableColumns()}catch(i){e.data=null,e.sourceFields=null,e.metaData.fields=null,e.error=i.message}finally{e.loading=!1}}else e.loading=!0}))},e.prototype.getSelectedTableTitle=function(){return this.selectedTable?this.selectedTable.objectOwner+"."+this.selectedTable.objectName:"Select table"},e.prototype.importHandler=function(e,t){var n=this;if(t.savedItemsCount===t.itemsToSaveCount)this.notificationService.open({type:be.f.SUCCESS,message:"Successfully inserted: "+t.inserted.toLocaleString()+"\n        , updated: "+t.updated.toLocaleString()+"\n        , deleted: "+t.deleted.toLocaleString()}),this.progressMessage=be.j.Imported,this.createTable$.value&&this.store.dispatch(new q(this.connection)),setTimeout((function(){n.router.navigate(["/database",n.connection,e.objectOwner,e.objectName]),n.modalRef.hide(),n.loading=!1,n.progressMessage=null}),1e3);else{var r=t.savedItemsCount?"So far ":"";t.inserted&&(r+="Inserted: "+t.inserted.toLocaleString()+" "),t.updated&&(r+="Updated: "+t.updated.toLocaleString()+" "),t.deleted&&(r+="Deleted: "+t.deleted.toLocaleString()),this.progressMessage=be.j.Importing+" "+t.itemsToSaveCount.toLocaleString()+" rows. "+r}},e.prototype.importErrorHandler=function(e){this.loading=!1,this.progressMessage=null,console.error(e)},e.prototype.createSelectedTableColumns=function(){var e=this;if(this.selectedTable){var t=new Set(this.selectedTable.primaryKeys.map((function(e){return e.fieldName})));this.tableColumns=Object(Ce.d)(this.selectedTable.fields).map((function(n,r){var i=e.sourceFields?e.sourceFields.find((function(e){return e===n.fieldName})):null;return{fieldName:n.fieldName,dataType:n.dataType||be.l.NVARCHAR,size:n.size,sourceField:i,isKey:t.has(n.fieldName),preprocessFunc:null,preprocessParams:null}}))}else this.tableColumns=[]},e.prototype.createNewTableColumns=function(){if(this.sourceFields){var e=Ye.b.getTypes(this.data);this.tableColumns=Object(Ce.d)(this.sourceFields).map((function(t,n){var r=e["col"+n];return{fieldName:t.fieldName,dataType:t.dataType||r.type||be.l.NVARCHAR,size:t.size||r.size,sourceField:t.fieldName,isKey:t.isKey||Boolean(r.uniqueValues),preprocessFunc:null,preprocessParams:null}}))}},e.prototype.saveData=function(){var e=this;return this.progressMessage=be.j.Importing,this.sqlService.saveSqlObjectDataWithStatus(this.sqlConnectionUrl,this.createTable$.value?this.metaData:this.selectedTable,this.sendData).pipe(Object(ue.a)((function(t){var n="string"==typeof t.error?t.error:"Failed to Import";return e.notificationService.open({message:n,type:be.f.DANGER}),Object(Ke.a)(n)})))},Object.defineProperty(e.prototype,"sendData",{get:function(){var e=this.mappings.getItems(),t=e.map((function(e){return e.fieldName})),n=t.map((function(e,t){return e?t:-1})).filter((function(e){return-1!==e}));return{tableData:{fieldNames:t.filter((function(e){return e})),rows:Ye.b.getValues(this.data,e).map((function(e){return e.filter((function(e,t){return n.includes(t)}))})).map((function(e){return e.map((function(e){return e instanceof Date?Object(ie.g)(e):e}))}))}}},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](he.d),s["\u0275\u0275directiveInject"](Ze.b),s["\u0275\u0275directiveInject"](he.h),s["\u0275\u0275directiveInject"](o.h),s["\u0275\u0275directiveInject"](he.g),s["\u0275\u0275directiveInject"](d.f),s["\u0275\u0275directiveInject"](he.c))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-import-csv"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275staticViewQuery"](et.a,!0),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.mappings=n.first)},inputs:{modalRef:"modalRef"},decls:73,vars:22,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4","d-flex","flex-column","h-100","overflow-hidden"],[1,"row","m-0"],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"d-flex","w-75"],[4,"ngIf"],[1,"form-check","form-check-inline"],["type","checkbox","id","create-tabel",1,"form-check-input","mr-2",3,"checked","value","change"],["for","create-tabel",1,"form-check-label"],[1,"row","flex-fill","mx-0","flex-column","my-2","h-100","position-relative","overflow-hidden"],["fxLayout","row"],["fxFlex","",1,"table-title"],[1,"fields-container","d-flex","flex-fill","w-100",3,"tableColumns","sourceFields","isNewTable"],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],["class","d-flex position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","button",1,"btn","btn-light",3,"disabled","click"],["type","button",1,"btn","btn-primary","ml-auto","mr-2",3,"disabled","click"],["type","button",1,"btn","btn-light",3,"click"],[1,"form-group","row","m-0","w-50"],["for","owner-name",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","id","owner-name","placeholder","Owner",1,"form-control",3,"ngModel","ngModelChange"],["for","object-name",1,"col-sm-4","col-form-label"],["type","text","id","object-name","placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],["for","object-name",1,"col-sm-2","col-form-label"],["placeholder","Select table",1,"col-sm-7",3,"items","searchFn","change"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"d-flex","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["type","danger"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275text"](1,"\n  "),s["\u0275\u0275elementStart"](2,"h4",1),s["\u0275\u0275text"](3,"Import CSV data"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4,"\n  "),s["\u0275\u0275elementStart"](5,"button",2),s["\u0275\u0275listener"]("click",(function(e){return t.modalRef.hide()})),s["\u0275\u0275text"](6,"\n    "),s["\u0275\u0275elementStart"](7,"span",3),s["\u0275\u0275text"](8,"\xd7"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](10,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](11,"\n"),s["\u0275\u0275elementStart"](12,"div",4),s["\u0275\u0275text"](13,"\n  "),s["\u0275\u0275elementStart"](14,"div",5),s["\u0275\u0275text"](15,"\n    "),s["\u0275\u0275elementStart"](16,"button",6),s["\u0275\u0275listener"]("click",(function(e){return t.loadCSV()})),s["\u0275\u0275text"](17,"Browse..."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](18,"\n    "),s["\u0275\u0275elementStart"](19,"div",7),s["\u0275\u0275text"](20,"\n      "),s["\u0275\u0275template"](21,rt,24,2,"ng-container",8),s["\u0275\u0275pipe"](22,"async"),s["\u0275\u0275text"](23,"\n      "),s["\u0275\u0275template"](24,at,14,4,"ng-container",8),s["\u0275\u0275pipe"](25,"async"),s["\u0275\u0275text"](26,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](27,"\n    "),s["\u0275\u0275elementStart"](28,"div",9),s["\u0275\u0275text"](29,"\n      "),s["\u0275\u0275elementStart"](30,"input",10),s["\u0275\u0275listener"]("change",(function(e){return t.createTable$.next(e.target.checked)})),s["\u0275\u0275pipe"](31,"async"),s["\u0275\u0275pipe"](32,"async"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](33,"\n      "),s["\u0275\u0275elementStart"](34,"label",11),s["\u0275\u0275text"](35,"Create New Table"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](36,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](37,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](38,"\n  "),s["\u0275\u0275elementStart"](39,"div",12),s["\u0275\u0275text"](40,"\n    "),s["\u0275\u0275elementStart"](41,"div",13),s["\u0275\u0275text"](42,"\n      "),s["\u0275\u0275elementStart"](43,"h5",14),s["\u0275\u0275text"](44,"Fields Mappings"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](45,"\n      "),s["\u0275\u0275template"](46,lt,3,3,"span",8),s["\u0275\u0275text"](47,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](48,"\n    "),s["\u0275\u0275element"](49,"app-fields-mappings",15),s["\u0275\u0275pipe"](50,"async"),s["\u0275\u0275text"](51,"\n    "),s["\u0275\u0275template"](52,ct,11,1,"div",16),s["\u0275\u0275text"](53,"\n    "),s["\u0275\u0275template"](54,st,8,1,"div",17),s["\u0275\u0275text"](55,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](56,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](57,"\n"),s["\u0275\u0275elementStart"](58,"div",18),s["\u0275\u0275text"](59,"\n  "),s["\u0275\u0275elementStart"](60,"div",19),s["\u0275\u0275text"](61,"\n    "),s["\u0275\u0275elementStart"](62,"button",20),s["\u0275\u0275listener"]("click",(function(e){return t.previewData()})),s["\u0275\u0275text"](63,"Preview\n      Data"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](64,"\n    "),s["\u0275\u0275elementStart"](65,"button",21),s["\u0275\u0275listener"]("click",(function(e){return t.import()})),s["\u0275\u0275text"](66,"Import"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](67,"\n    "),s["\u0275\u0275elementStart"](68,"button",22),s["\u0275\u0275listener"]("click",(function(e){return t.modalRef.hide()})),s["\u0275\u0275text"](69,"Cancel"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](70,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](71,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](72,"\n")),2&e&&(s["\u0275\u0275advance"](21),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](22,12,t.createTable$)),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",!s["\u0275\u0275pipeBind1"](25,14,t.createTable$)),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("checked",s["\u0275\u0275pipeBind1"](31,16,t.createTable$))("value",s["\u0275\u0275pipeBind1"](32,18,t.createTable$)),s["\u0275\u0275advance"](16),s["\u0275\u0275property"]("ngIf",t.rowsLoaded),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("tableColumns",t.tableColumns)("sourceFields",t.sourceFields)("isNewTable",s["\u0275\u0275pipeBind1"](50,20,t.createTable$)),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",t.loading),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.error),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("disabled",!t.data||!t.data.length),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("disabled",!t.isValid))},directives:[r.NgIf,nt.f,nt.b,et.a,i.DefaultValueAccessor,i.NgControlStatus,i.NgModel,R.a,R.d,R.c,E.a],pipes:[r.AsyncPipe,r.DecimalPipe],styles:["[_nghost-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.fields-container[_ngcontent-%COMP%]{height:calc(100% - 200px)}"]}),e}(),ut=n("fQZA"),pt=n("qaSM"),mt=["listView"],ft=function(e){return["/database",e,"sql-query"]},bt=function(e){return["/database",e]},ht=function(e){return["/database",e,"view"]};function gt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ul",11),s["\u0275\u0275text"](1,"\n      "),s["\u0275\u0275elementStart"](2,"li",12),s["\u0275\u0275elementStart"](3,"a",13),s["\u0275\u0275text"](4,"SQL Query"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](5,"\n      "),s["\u0275\u0275elementStart"](6,"li",12),s["\u0275\u0275elementStart"](7,"a",13),s["\u0275\u0275text"](8,"Table"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9,"\n      "),s["\u0275\u0275elementStart"](10,"li",12),s["\u0275\u0275elementStart"](11,"a",13),s["\u0275\u0275text"](12,"View"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](13,"\n      "),s["\u0275\u0275elementStart"](14,"li",12),s["\u0275\u0275elementStart"](15,"a",14),s["\u0275\u0275text"](16,"Stored Procedure"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](17,"\n      "),s["\u0275\u0275elementStart"](18,"li",12),s["\u0275\u0275elementStart"](19,"a",14),s["\u0275\u0275text"](20,"Function"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](21,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction1"](3,ft,n.connectionName)),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction1"](5,bt,n.connectionName)),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction1"](7,ht,n.connectionName))}}var xt=function(e,t,n){return["/database",e,t,n]};function yt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"a",16),s["\u0275\u0275listener"]("click",(function(e){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275nextContext"]().$implicit;return s["\u0275\u0275nextContext"]().onSelect(t)})),s["\u0275\u0275text"](1,"\n      "),s["\u0275\u0275element"](2,"i",17),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]().$implicit,i=s["\u0275\u0275nextContext"]();s["\u0275\u0275propertyInterpolate"]("title",r.objectOwner),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction3"](4,xt,i.connectionName,r.objectOwner,r.objectName)),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate2"]("\n      ",r.objectOwner,".",r.objectName,"\n    ")}}var vt=function(e,t,n){return["/database",e,"view",t,n]};function Ot(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"a",16),s["\u0275\u0275listener"]("click",(function(e){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275nextContext"]().$implicit;return s["\u0275\u0275nextContext"]().onSelect(t)})),s["\u0275\u0275text"](1,"\n      "),s["\u0275\u0275element"](2,"i",18),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]().$implicit,i=s["\u0275\u0275nextContext"]();s["\u0275\u0275propertyInterpolate"]("title",r.objectOwner),s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction3"](4,vt,i.connectionName,r.objectOwner,r.objectName)),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate2"]("\n      ",r.objectOwner,".",r.objectName,"\n    ")}}function jt(e,t){if(1&e&&(s["\u0275\u0275text"](0,"\n    "),s["\u0275\u0275template"](1,yt,4,8,"a",15),s["\u0275\u0275text"](2,"\n    "),s["\u0275\u0275template"](3,Ot,4,8,"a",15),s["\u0275\u0275text"](4,"\n  ")),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","Table"===n.objectType),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf","View"===n.objectType)}}var St=function(e,t){return{"fa-table":e,"fa-cubes":t}};function wt(e,t){if(1&e&&(s["\u0275\u0275text"](0,"\n    "),s["\u0275\u0275element"](1,"i",19),s["\u0275\u0275text"](2,"\n  ")),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction2"](1,St,"Table"===n.value,"View"===n.value))}}function Ct(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",20),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275elementStart"](2,"div",21),s["\u0275\u0275text"](3,"\n      "),s["\u0275\u0275elementStart"](4,"span",22),s["\u0275\u0275text"](5,"Loading..."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](6,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n"),s["\u0275\u0275elementEnd"]())}var Et=function(){function e(e,t){this.store=e,this.dialogService=t,this.destroy$=new we.a}return e.prototype.ngOnInit=function(){var e=this;this.list$=this.store.select(Fe).pipe(Object(Se.a)(this.destroy$)),this.store.select(Ue,"connectionName").pipe(Object(Oe.a)((function(e){return Boolean(e)})),Object(Se.a)(this.destroy$)).subscribe((function(t){e.connectionName=t,e.store.dispatch(new q(e.connectionName))})),this.store.select(Te).pipe(Object(Se.a)(this.destroy$)).subscribe((function(t){e.listView.selectItem(t)})),this.loading$=this.store.select((function(e){return e.sqlObjects.loading}))},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.onSelect=function(e){var t=this.listView.selectedItem;if(t){var n=t.objectOwner;t.objectName===e.objectName&&n==n||this.store.dispatch(new Y)}else this.store.dispatch(new Y)},e.prototype.areObjectsEqual=function(e,t){return e&&t&&e.objectName===t.objectName&&e.objectOwner===t.objectOwner},e.prototype.refresh=function(){this.store.dispatch(new X)},e.prototype.import=function(){this.dialogService.open(dt,{class:"modal-xl full-height",keyboard:!1})},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.h),s["\u0275\u0275directiveInject"](he.c))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sql-objects"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275staticViewQuery"](mt,!0),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.listView=n.first)},decls:32,vars:7,consts:[[1,"toolbar","mb-2"],["dropdown","",1,"btn-group","mr-2"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],["id","dropdown-basic","class","dropdown-menu","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["type","button",1,"btn","btn-secondary","mr-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["group","objectType","orderBy","id",1,"d-flex","h-100","overflow-auto",3,"comparator","list","select"],["listView",""],["icon",""],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu"],["role","menuitem"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-item"],["class","p-1 pl-4 btn-link w-100",3,"routerLink","title","click",4,"ngIf"],[1,"p-1","pl-4","btn-link","w-100",3,"routerLink","title","click"],[1,"fa","fa-table"],[1,"fa","fa-cubes"],[1,"fa","mx-1",3,"ngClass"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275text"](1,"\n  "),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275text"](3,"\n    "),s["\u0275\u0275elementStart"](4,"button",2),s["\u0275\u0275text"](5,"New "),s["\u0275\u0275element"](6,"span",3),s["\u0275\u0275text"](7,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](8,"\n    "),s["\u0275\u0275template"](9,gt,22,9,"ul",4),s["\u0275\u0275text"](10,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](11,"\n  "),s["\u0275\u0275elementStart"](12,"button",5),s["\u0275\u0275listener"]("click",(function(e){return t.refresh()})),s["\u0275\u0275text"](13,"\n    Refresh\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](14,"\n  "),s["\u0275\u0275elementStart"](15,"button",6),s["\u0275\u0275listener"]("click",(function(e){return t.import()})),s["\u0275\u0275text"](16,"\n    Import\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](17,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](18,"\n"),s["\u0275\u0275elementStart"](19,"app-list-view",7,8),s["\u0275\u0275listener"]("select",(function(e){return t.onSelect(e)})),s["\u0275\u0275pipe"](21,"async"),s["\u0275\u0275text"](22,"\n  "),s["\u0275\u0275template"](23,jt,5,2,"ng-template"),s["\u0275\u0275text"](24,"\n  "),s["\u0275\u0275template"](25,wt,3,4,"ng-template",null,9,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275text"](27,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](28,"\n"),s["\u0275\u0275template"](29,Ct,8,0,"div",10),s["\u0275\u0275pipe"](30,"async"),s["\u0275\u0275text"](31,"\n")),2&e&&(s["\u0275\u0275advance"](19),s["\u0275\u0275property"]("comparator",t.areObjectsEqual)("list",s["\u0275\u0275pipeBind1"](21,3,t.list$)),s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](30,5,t.loading$)))},directives:[T.a,T.d,T.b,ut.a,r.NgIf,d.h,r.NgClass,pt.a],pipes:[r.AsyncPipe],styles:["[_nghost-%COMP%]{position:relative}"]}),e}(),Tt=function(){function e(e){this.store=e,this.layoutConfig={icon:"assets/img/rc-logo-64x64.png",smIcon:"assets/img/rc-logo-36x36.png",appName:"database-manager"},this.destroy$=new we.a}return e.prototype.ngOnInit=function(){var e=this;this.store.select(Ue,"connectionName").pipe(Object(Oe.a)((function(e){return Boolean(e)})),Object(je.a)(),Object(Se.a)(this.destroy$)).subscribe((function(t){e.store.dispatch(new M(t))})),this.store.select(Qe).pipe(Object(Se.a)(this.destroy$),Object(se.a)((function(t){return e.store.select(Pe,["ownerName","objectName"]).pipe(Object(je.a)((function(e,t){return JSON.stringify(e)===JSON.stringify(t)})),Object(Se.a)(e.destroy$),Object(de.a)((function(e){return{params:e,url:t}})))}))).subscribe((function(t){var n=t.params,r=t.url,i=n.ownerName,o=n.objectName;i&&o?(e.store.dispatch(new P({objectOwner:i,objectName:o,objectType:Object(Ce.s)(r)})),e.store.dispatch(new B({objectOwner:i,objectName:o}))):(e.store.dispatch(new Q(null)),e.store.dispatch(new U(null)))}))},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.h))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-manager-layout"]],decls:15,vars:1,consts:[[3,"config"],["title","",1,"mb-0","ml-0","top-sub-header","w-md-down-50"],["header","",1,"ml-auto","d-flex","mr-2"],["sidebar","",1,"h-100","w-100","py-2","pl-2","d-flex","flex-column"],["content",""]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"app-layout",0),s["\u0275\u0275text"](1,"\n  "),s["\u0275\u0275elementStart"](2,"h2",1),s["\u0275\u0275text"](3,"WORKSHEET "),s["\u0275\u0275elementStart"](4,"span"),s["\u0275\u0275text"](5,"SYSTEMS"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](6," - Database"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n  "),s["\u0275\u0275element"](8,"app-db-connections",2),s["\u0275\u0275text"](9,"\n  "),s["\u0275\u0275element"](10,"app-sql-objects",3),s["\u0275\u0275text"](11,"\n  "),s["\u0275\u0275element"](12,"router-outlet",4),s["\u0275\u0275text"](13,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](14,"\n")),2&e&&s["\u0275\u0275property"]("config",t.layoutConfig)},directives:[Je.a,Ge,Et,d.j],styles:[""]}),e}(),Dt=function(){function e(e,t,n){this.store=e,this.dbConnnectionsService=t,this.router=n}return e.prototype.canActivate=function(){var e=this;return this.store.select(Ue,"connectionName").pipe(Object(se.a)((function(t){return t?e.dbConnnectionsService.loadMyDbConnections().pipe(Object(ue.a)((function(e){return Object(ce.a)([])})),Object(de.a)((function(n){try{e.store.dispatch(new $(n))}catch(r){return!1}return n.map((function(e){return e.connectionName.toLowerCase()})).includes(t.toLowerCase())}))):(e.router.navigate(["/login"]),Object(ce.a)(!1))})))},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](o.h),s["\u0275\u0275inject"](he.b),s["\u0275\u0275inject"](d.f))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),Nt=function(){function e(e,t){this.store=e,this.dbService=t,this.destroy$=new we.a}return e.prototype.ngOnInit=function(){var e=this;this.rowsCount$=this.store.select(Le),this.perPage$=this.store.select(Me),this.store.select(Te).pipe(Object(Se.a)(this.destroy$),Object(Oe.a)((function(e){return Boolean(e.objectOwner)})),Object(je.a)((function(e,t){return e.objectOwner===t.objectOwner&&t.objectName===e.objectName})),Object(u.a)(this.store),Object(se.a)((function(t){var n=t[0];return e.dbService.selectSqlObjectData(t[1].dbConnections.current,n.objectOwner,n.objectName,{fields:["count|1"]})}))).subscribe((function(t){e.store.dispatch(new ee(t.rows[0][0]))}))},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.onRowsCountSelect=function(e){this.store.dispatch(new te({limitRowsCount:e.target.value}))},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.h),s["\u0275\u0275directiveInject"](he.h))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-rows-count"]],decls:21,vars:8,consts:[[1,"rows-count","position-absolute","pr-2"],[1,"form-control","py-0",3,"value","change"],["value",""]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275text"](1,"Show max\n  "),s["\u0275\u0275elementStart"](2,"select",1),s["\u0275\u0275listener"]("change",(function(e){return t.onRowsCountSelect(e)})),s["\u0275\u0275pipe"](3,"async"),s["\u0275\u0275text"](4,"\n    "),s["\u0275\u0275elementStart"](5,"option"),s["\u0275\u0275text"](6,"1000"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n    "),s["\u0275\u0275elementStart"](8,"option"),s["\u0275\u0275text"](9,"10000"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](10,"\n    "),s["\u0275\u0275elementStart"](11,"option"),s["\u0275\u0275text"](12,"50000"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](13,"\n    "),s["\u0275\u0275elementStart"](14,"option",2),s["\u0275\u0275text"](15,"ALL"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](16,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](17),s["\u0275\u0275pipe"](18,"number"),s["\u0275\u0275pipe"](19,"async"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](20,"\n")),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind1"](3,2,t.perPage$)),s["\u0275\u0275advance"](15),s["\u0275\u0275textInterpolate1"]("\n  rows. \xa0\xa0\xa0\xa0 Total ",s["\u0275\u0275pipeBind1"](18,4,s["\u0275\u0275pipeBind1"](19,6,t.rowsCount$))," rows."))},directives:[i.NgSelectOption,i["\u0275angular_packages_forms_forms_x"]],pipes:[r.AsyncPipe,r.DecimalPipe],styles:[".rows-count[_ngcontent-%COMP%]{right:0;z-index:11}.rows-count[_ngcontent-%COMP%], .rows-count[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:inline-block;width:auto}.rows-count[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:1.5rem}"]}),e}(),_t=n("tcrU"),Rt=n("bU/s"),At=n("aYyy"),It=[[["","left-label",""]],[["","right-label",""]],[["","actions",""]],[["","left",""]],[["","right",""]]],qt=["[left-label]","[right-label]","[actions]","[left]","[right]"],Lt=function(){function e(){this.leftContentSize=50,this.modeState={left:!0,right:!0}}return e.prototype.ngOnInit=function(){},e.prototype.onModeState=function(e){this.modeState[e]=!this.modeState[e],this.leftContentSize=this.modeState.left&&!this.modeState.right?100:this.modeState.left&&this.modeState.right?50:0},e.prototype.resize=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-split-content"]],ngContentSelectors:qt,decls:47,vars:10,consts:[[1,"card","overflow-hidden","mb-0","w-100","h-100"],[1,"card-header","d-flex","pl-0","py-2","pr-2"],["header",""],[1,"btn-group","d-block","ml-3"],["ngDefaultControl","","btnCheckbox","","tabindex","0","role","button","name","mode-left",1,"btn","btn-secondary","cursor-pointer","mb-0",3,"ngModel","ngModelChange","click"],["ngDefaultControl","","btnCheckbox","","tabindex","0","role","button","name","mode-right",1,"btn","btn-secondary","cursor-pointer","mb-0",3,"ngModel","ngModelChange","click"],[1,"card-body","d-flex","p-0","flex-column","h-100"],["unit","pixel","direction","horizontal",1,"row","h-100","preview","edit-mode","m-0","w-100",3,"useTransition"],["split","asSplit"],[1,"d-flex","flex-column"],[3,"useTransition","dragEnd","transitionEnd"],[1,"d-flex","mb-0","position-relative",3,"size"],["area0","asSplitArea"],[1,"d-flex","overflow-auto","flex-column","explorer-section",3,"size"],["area1","asSplitArea"]],template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](It),s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275text"](1,"\n  "),s["\u0275\u0275elementStart"](2,"div",1,2),s["\u0275\u0275text"](4,"\n    "),s["\u0275\u0275elementStart"](5,"div",3),s["\u0275\u0275text"](6,"\n      "),s["\u0275\u0275elementStart"](7,"label",4),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.modeState.left=e}))("click",(function(e){return t.onModeState("left")})),s["\u0275\u0275text"](8,"\n        "),s["\u0275\u0275projection"](9),s["\u0275\u0275text"](10,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](11,"\n      "),s["\u0275\u0275elementStart"](12,"label",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.modeState.right=e}))("click",(function(e){return t.onModeState("right")})),s["\u0275\u0275text"](13,"\n        "),s["\u0275\u0275projection"](14,1),s["\u0275\u0275text"](15,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](16,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](17,"\n    "),s["\u0275\u0275projection"](18,2),s["\u0275\u0275text"](19,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](20,"\n  "),s["\u0275\u0275elementStart"](21,"div",6),s["\u0275\u0275text"](22,"\n    "),s["\u0275\u0275elementStart"](23,"as-split",7,8),s["\u0275\u0275text"](25,"\n      "),s["\u0275\u0275elementStart"](26,"as-split-area",9),s["\u0275\u0275text"](27,"\n        "),s["\u0275\u0275elementStart"](28,"as-split",10),s["\u0275\u0275listener"]("dragEnd",(function(e){return t.resize()}))("transitionEnd",(function(e){return t.resize()})),s["\u0275\u0275text"](29,"\n          "),s["\u0275\u0275elementStart"](30,"as-split-area",11,12),s["\u0275\u0275text"](32,"\n            "),s["\u0275\u0275projection"](33,3),s["\u0275\u0275text"](34,"\n          "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](35,"\n          "),s["\u0275\u0275elementStart"](36,"as-split-area",13,14),s["\u0275\u0275text"](38,"\n            "),s["\u0275\u0275projection"](39,4),s["\u0275\u0275text"](40,"\n          "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](41,"\n        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](42,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](43,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](44,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](45,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](46,"\n")),2&e&&(s["\u0275\u0275advance"](7),s["\u0275\u0275classProp"]("active",t.modeState.left),s["\u0275\u0275property"]("ngModel",t.modeState.left),s["\u0275\u0275advance"](5),s["\u0275\u0275classProp"]("active",t.modeState.right),s["\u0275\u0275property"]("ngModel",t.modeState.right),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("useTransition",!0),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("useTransition",!0),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("size",t.leftContentSize),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("size",100-t.leftContentSize))},directives:[i.DefaultValueAccessor,i.NgControlStatus,i.NgModel,At.c,At.b],styles:[""]}),e}(),Mt=n("UkaQ"),$t=["form"],Ft=["sqlEditor"];function Vt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",30),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).onViewDelete()})),s["\u0275\u0275text"](1,"Delete"),s["\u0275\u0275elementEnd"]()}}function kt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",31),s["\u0275\u0275text"](1,"\n      "),s["\u0275\u0275elementStart"](2,"label",32),s["\u0275\u0275text"](3,"View Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4,"\n      "),s["\u0275\u0275element"](5,"input",33,34),s["\u0275\u0275text"](7,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",n.dataObject.objectName)}}function Bt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",1,2),s["\u0275\u0275text"](2,"\n  "),s["\u0275\u0275elementStart"](3,"div",3),s["\u0275\u0275text"](4,"\n    "),s["\u0275\u0275elementStart"](5,"h5",4),s["\u0275\u0275text"](6,"View Information"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n    "),s["\u0275\u0275elementStart"](8,"div",5),s["\u0275\u0275text"](9,"\n      "),s["\u0275\u0275elementStart"](10,"button",6),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275text"](11,"Save"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](12,"\n      "),s["\u0275\u0275template"](13,Vt,2,0,"button",7),s["\u0275\u0275text"](14,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](15,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](16,"\n  "),s["\u0275\u0275elementStart"](17,"div",8),s["\u0275\u0275text"](18,"\n    "),s["\u0275\u0275elementStart"](19,"div",9),s["\u0275\u0275text"](20,"\n      "),s["\u0275\u0275elementStart"](21,"label",10),s["\u0275\u0275text"](22,"Owner"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](23,"\n      "),s["\u0275\u0275element"](24,"input",11,12),s["\u0275\u0275text"](26,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](27,"\n    "),s["\u0275\u0275template"](28,kt,8,1,"div",13),s["\u0275\u0275text"](29,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](30,"\n  "),s["\u0275\u0275elementStart"](31,"app-split-content",14),s["\u0275\u0275text"](32,"\n    "),s["\u0275\u0275element"](33,"div",15,16),s["\u0275\u0275text"](35,"\n    "),s["\u0275\u0275elementContainerStart"](36,17,18),s["\u0275\u0275text"](38,"\n      "),s["\u0275\u0275elementStart"](39,"div",19),s["\u0275\u0275text"](40,"\n        "),s["\u0275\u0275elementStart"](41,"wj-flex-grid",20,21),s["\u0275\u0275text"](43,"\n          "),s["\u0275\u0275element"](44,"wj-flex-grid-column",22),s["\u0275\u0275text"](45,"\n          "),s["\u0275\u0275elementStart"](46,"wj-flex-grid-column",23),s["\u0275\u0275text"](47,"\n          "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](48,"\n          "),s["\u0275\u0275element"](49,"wj-flex-grid-column",24),s["\u0275\u0275text"](50,"\n          "),s["\u0275\u0275element"](51,"wj-flex-grid-column",25),s["\u0275\u0275text"](52,"\n        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](53,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](54,"\n    "),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275text"](55,"\n    "),s["\u0275\u0275elementContainerStart"](56,26),s["\u0275\u0275text"](57,"\n      "),s["\u0275\u0275element"](58,"i",27),s["\u0275\u0275text"](59," SQL editor\n    "),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275text"](60,"\n    "),s["\u0275\u0275elementContainerStart"](61,28),s["\u0275\u0275text"](62,"\n      "),s["\u0275\u0275element"](63,"i",29),s["\u0275\u0275text"](64," Fields\n    "),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275text"](65,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](66,"\n"),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("disabled",!r.isChanged),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",r.dataObject),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngModel",r.dataObject.objectOwner),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf","New"!==r.dataObject.objectName),s["\u0275\u0275advance"](13),s["\u0275\u0275property"]("isReadOnly",!0)("itemsSource",r.collection)("allowDelete",!1)("allowAddNew",!1),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("width",50),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("minWidth",50)("width","*"),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("dataMap",r.dataTypes),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("width",70)}}var Qt=function(){function e(e,t,n){this.store=e,this.authService=t,this.dialogService=n,this.collection=new _t.CollectionView,this.isChanged=!1,this.changed=new s.EventEmitter,this.destroy$=new we.a}return e.prototype.ngOnInit=function(){var e=this;this.store.select(Re).pipe(Object(Se.a)(this.destroy$)).subscribe((function(t){e.dataObject=t,e.dataObject.objectType=be.g.View,e.initialSql=t.sqlText,"New"===t.objectName&&(e.dataObject.sqlText="create view test1.testView1"),e.sqlEditor&&"string"==typeof t.sqlText&&e.sqlEditor.setValue(t.sqlText,-1),e.collection.sourceCollection=Object(ie.p)(t),e.dataObject.objectOwner||(e.dataObject.objectOwner=e.authService.user.userName,e.store.dispatch(new W(e.dataObject)))}))},e.prototype.ngAfterViewInit=function(){var e=this;this.sqlEditor=Object(Rt.edit)(this.sqlElement.nativeElement,{mode:"ace/mode/sql",autoScrollEditorIntoView:!0,value:this.dataObject.sqlText||"0",theme:Object(ie.k)()}),this.sqlEditor.on("change",(function(){var t=e.sqlEditor.getValue();e.isChanged=e.initialSql!==t,e.dataObject.sqlText=t}))},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.onViewDelete=function(){var e=this;if(this.dataObject){var t=this.dataObject;this.dialogService.confirmation("Delete view "+t.objectOwner+"."+t.objectName+". Are you sure?").subscribe((function(t){t&&e.store.dispatch(new G(e.dataObject))}))}},e.prototype.onSubmit=function(){this.store.dispatch(new J(this.dataObject))},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.h),s["\u0275\u0275directiveInject"](Ze.b),s["\u0275\u0275directiveInject"](he.c))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-view-editor"]],viewQuery:function(e,t){var n;1&e&&(s["\u0275\u0275viewQuery"]($t,!0),s["\u0275\u0275viewQuery"](Ft,!0)),2&e&&(s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.form=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.sqlElement=n.first))},outputs:{changed:"changed"},decls:1,vars:1,consts:[["class","d-flex flex-column h-100",4,"ngIf"],[1,"d-flex","flex-column","h-100"],["form","ngForm"],["fxLayout","row","fxLayoutAlign","stretch center"],["fxFlex","",1,"col-sm-12","px-0"],[1,"row","mx-0"],["type","submit",1,"btn","btn-primary","ml-auto","mr-1",3,"disabled","click"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],[1,"row","mx-0",2,"max-width","750px"],[1,"form-group","col-sm-3","px-0","mb-2"],["for","objectOwner"],["type","text","disabled","disabled","id","objectOwner","required","","name","objectOwner",1,"form-control",3,"ngModel"],["objectOwner","ngModel"],["class","form-group col-sm-9 pr-0 pl-2 mb-2",4,"ngIf"],[1,"h-100"],["left","",1,"h-100","p-2","w-100"],["sqlEditor",""],["right","",1,"w-100"],["fields",""],[1,"col","fields-container","d-flex","h-100","px-0","mb-2"],[1,"h-100",3,"isReadOnly","itemsSource","allowDelete","allowAddNew"],["grid",""],["header","IsKey","binding","isKey","dataType","Boolean",3,"width"],["header","Field Name","binding","fieldName",3,"minWidth","width"],["header","Field Data Type","binding","dataType",3,"dataMap"],["header","Size","binding","size","dataType","Number",3,"width"],["left-label",""],[1,"fa","fa-cogs","fa-lg"],["right-label",""],[1,"fa","fa-table","fa-lg"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"form-group","col-sm-9","pr-0","pl-2","mb-2"],["for","name"],["type","text","disabled","disabled","id","objectName","required","","name","objectName",1,"form-control",3,"ngModel"],["objectName","ngModel"]],template:function(e,t){1&e&&s["\u0275\u0275template"](0,Bt,67,13,"form",0),2&e&&s["\u0275\u0275property"]("ngIf",t.dataObject)},directives:[r.NgIf,i["\u0275angular_packages_forms_forms_y"],i.NgControlStatusGroup,i.NgForm,nt.f,nt.e,nt.b,i.DefaultValueAccessor,i.RequiredValidator,i.NgControlStatus,i.NgModel,Lt,Mt.WjFlexGrid,Mt.WjFlexGridColumn],styles:[""]}),e}(),Pt=n("dzgT"),Ut=n("lMX+"),Jt=n("a5yf"),zt=n("4CEX"),Ht=n("LXVg"),Gt=n("EPMZ"),Wt=n("s90X"),Kt=n("oksU"),Xt=["grid"];function Yt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",26),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().saveData()})),s["\u0275\u0275pipe"](1,"async"),s["\u0275\u0275text"](2,"Save"),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("disabled",!s["\u0275\u0275pipeBind1"](1,1,r.isChanged$))}}function Zt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ul",27),s["\u0275\u0275text"](1,"\n      "),s["\u0275\u0275elementStart"](2,"li",28),s["\u0275\u0275text"](3,"\n        "),s["\u0275\u0275elementStart"](4,"a",29),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().exportToExcel()})),s["\u0275\u0275text"](5,"Export to Excel"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](6,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n      "),s["\u0275\u0275elementStart"](8,"li",28),s["\u0275\u0275text"](9,"\n        "),s["\u0275\u0275elementStart"](10,"a",29),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().exportToCSV()})),s["\u0275\u0275text"](11,"Export to CSV"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](12,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](13,"\n    "),s["\u0275\u0275elementEnd"]()}}function en(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"h5"),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n)}}function tn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",30),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275elementStart"](2,"div",31),s["\u0275\u0275text"](3,"\n      "),s["\u0275\u0275elementStart"](4,"span",32),s["\u0275\u0275text"](5,"Loading..."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](6,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n    "),s["\u0275\u0275template"](8,en,2,1,"h5",33),s["\u0275\u0275text"](9,"\n  "),s["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf;s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngForOf",n.messages)}}function nn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275text"](0,"\n        "),s["\u0275\u0275elementStart"](1,"div",36),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](3,"\n        "),s["\u0275\u0275elementStart"](4,"app-filter",37),s["\u0275\u0275listener"]("apply",(function(e){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275nextContext"]().$implicit;return s["\u0275\u0275nextContext"]().onApply(e,t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](5,"\n      ")}if(2&e){var r=s["\u0275\u0275nextContext"]().$implicit,i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("title",r.headerText),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](r.headerText),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("field",r)("icon",!0)("dataObject",i.dataObject)("connection",i.connection)("currentFilters",i.filters)}}function rn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"wj-flex-grid-column",34),s["\u0275\u0275text"](1,"\n      "),s["\u0275\u0275template"](2,nn,6,7,"ng-template",35),s["\u0275\u0275text"](3,"\n    "),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("header",n.headerText)("binding",n.bindingName)("dataType",n.dataType)("width",n.width)("format",n.displayFormat),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("cellType","ColumnHeader")}}function on(e,t){if(1&e&&s["\u0275\u0275element"](0,"i",38),2&e){s["\u0275\u0275nextContext"]();var n=s["\u0275\u0275reference"](60);s["\u0275\u0275property"]("popover",n)}}function an(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275text"](1,"\n      |"),s["\u0275\u0275elementStart"](2,"i",39),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onNextPage(-1)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](3),s["\u0275\u0275elementStart"](4,"i",40),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onNextPage(1)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](5,"\n    "),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("\n      Page: ",r.currentPage,"")}}function ln(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275text"](1,"\n      "),s["\u0275\u0275elementStart"](2,"b"),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](n.fieldName),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](": ",n.value,"\n    ")}}function cn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"ul",42),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275template"](2,ln,5,2,"li",33),s["\u0275\u0275text"](3,"\n  "),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",n.filtersList)}}function sn(e,t){if(1&e&&(s["\u0275\u0275text"](0,"\n  "),s["\u0275\u0275elementStart"](1,"h6"),s["\u0275\u0275text"](2,"Apply Filter"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](3,"\n  "),s["\u0275\u0275template"](4,cn,4,1,"ul",41),s["\u0275\u0275text"](5,"\n")),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",n.filters)}}var dn=function(e){return{"ml-auto":e}},un=function(){function e(e,t,n,r){this.store=e,this.actions$=t,this.dialogService=n,this.fileService=r,this.filters={},this.currentPage=1,this.destroy$=new we.a}return e.prototype.ngOnInit=function(){var e=this;this.isChanged$=this.store.select(Ie),this.fields$=this.store.select(Ne).pipe(Object(Se.a)(this.destroy$)),this.fields$.subscribe((function(t){e.fields=t.map((function(t){return{isKey:t.isKey,bindingName:t.fieldName,sqlDataType:t.dataType,headerText:e.getColumnHeader(t.fieldName),width:e.getColumnWidth(t.fieldName),dataType:e.getColumnType(t.fieldName,t.dataType),displayFormat:e.getColumnDisplayFormat(t.fieldName)}}))})),this.store.select(ke).subscribe((function(t){e.connection=t})),Object(Pt.a)([this.fields$,this.store.select(De)]).pipe(Object(Oe.a)((function(e){var t=e[0];return t&&0!==t.length})),Object(Se.a)(this.destroy$)).subscribe((function(t){e.refreshData(t[1])})),this.actions$.pipe(Object(l.e)(k.REFRESH_SQL_OBJECT),Object(Se.a)(this.destroy$),Object(u.a)(this.store)).subscribe((function(t){e.refreshData(t[1].sqlObject.data),e.currentPage=1})),this.loading$=this.store.select(qe),this.store.select(Me).subscribe((function(t){e.limitRows=t})),this.store.select(Le).subscribe((function(t){e.rowsCount=t})),this.store.select(Te).subscribe((function(t){e.dataObject=t,e.filters={},e.currentPage=1,e.localGridConfig=new Ht.a("database-"+e.connection,t.objectOwner+"-"+t.objectName),setTimeout((function(){e.grid.autoSizeRow(0,!0)}))}))},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.saveData=function(){this.store.dispatch(new z)},e.prototype.getColumnWidth=function(e,t){return void 0===t&&(t=150),this.localGridConfig&&this.localGridConfig.getColumn(e).width||t},e.prototype.getColumnHeader=function(e){return this.localGridConfig&&this.localGridConfig.getColumn(e).header},e.prototype.getColumnType=function(e,t){return this.localGridConfig&&this.localGridConfig.getColumn(e).dataType||be.n[t]},e.prototype.getColumnDisplayFormat=function(e){return this.localGridConfig&&this.localGridConfig.getColumn(e).displayFormat||"dd/MM/yyyy"},e.prototype.initializedGrid=function(e){var t=this;this.gridContext=Object(Jt.a)(e),e.cellEditEnded.addHandler((function(){return t.changeHandler()})),e.deletedRow.addHandler((function(){return t.changeHandler()})),e.addEventListener(e.hostElement,"contextmenu",(function(n){var r=e.hitTest(n);t.columnToEdit=t.fields.find((function(e,t){return r.col===t})),t.contextMenuValue=t.grid.collectionView.items[r.row][t.columnToEdit.bindingName]}));var n=e.itemFormatter;e.itemFormatter=function(t,r,i,o){n(t,r,i,o);var a=t.columns[i].binding;if(t.cellType===Ut.CellType.ColumnHeader&&o.firstChild instanceof HTMLElement){var l=o.firstChild.querySelector("#sort-icon");l&&o.firstChild.removeChild(l);var c=e.collectionView.sortDescriptions[0];if(c&&c.property===a){var s=document.createElement("SPAN");s.id="sort-icon",s.className=c.ascending?"wj-glyph-up":"wj-glyph-down",o.firstChild.appendChild(s)}}},e.sortingColumn.addHandler((function(e,t){t.data.target.classList.contains("fa-filter")&&(t.cancel=!0)})),e.resizingColumn.addHandler((function(n,r){t.localGridConfig&&t.localGridConfig.saveColumn(e.columns[r.col].binding,{width:e.columns[r.col].renderWidth})}))},e.prototype.exportToCSV=function(){this.fileService.exportToFile(this.grid.collectionView.sourceCollection,{fileType:be.e.CSV,fileName:this.dataObject.objectOwner+"-"+this.dataObject.objectName})},e.prototype.exportToExcel=function(){Gt.FlexGridXlsxConverter.saveAsync(this.grid,{includeColumnHeaders:!0},this.dataObject.objectOwner+"-"+this.dataObject.objectName)},e.prototype.onCtxMenuClicked=function(e){switch(e.value){case"edit-column":this.editColumn();break;case"fill-all":this.fillRows("all");break;case"fill-empty":this.fillRows("empty")}},e.prototype.editColumn=function(){var e=this,t=this.dialogService.open(zt.a,{class:"modal-lg"});t.config=[this.columnToEdit],t.init.pipe(Object(se.a)((function(){return t.component.save}))).subscribe((function(t){t.forEach((function(t){e.localGridConfig.saveColumn(t.bindingName,t)}));var n=t[0],r=e.fields.findIndex((function(e){return e.bindingName===n.bindingName}));e.fields.splice(r,1,n)}))},e.prototype.fillRows=function(e){var t=this,n=!1;this.grid.collectionView.sourceCollection.forEach((function(r){var i=t.columnToEdit.bindingName,o=r[i];t.updateCondition(o,e)&&(r[i]=t.contextMenuValue,t.gridContext.setEditValue(r,i,o,t.contextMenuValue),n=!0)})),n&&(this.grid.refresh(!0),this.changeHandler())},e.prototype.updateCondition=function(e,t){switch(t){case"all":return e!==this.contextMenuValue;case"empty":return[null,void 0,""].includes(e);default:return!0}},e.prototype.changeHandler=function(){var e=this.gridContext.state,t=e.added,n=e.edited,r=[];n&&(r=Object(c.i)(r,n)),t&&(r=Object(c.i)(r,t)),this.store.dispatch(new H(r))},e.prototype.onFiltersChange=function(e){this.filters=Object(c.a)({},e),this.applyFilters()},e.prototype.onApply=function(e,t){var n;this.filters=Object(c.a)(Object(c.a)({},this.filters),((n={})[t.bindingName]=e,n)),this.applyFilters()},Object.defineProperty(e.prototype,"skipRows",{get:function(){return(this.currentPage-1)*this.limitRows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filtersList",{get:function(){var e=this;return Object.entries(this.filters).filter((function(e){return Boolean(e[1])})).map((function(t){var n=t[0];return{fieldName:n,value:t[1].map((function(t){if(e.localGridConfig.getColumn(n).dataType===_t.DataType.Date){var r=e.localGridConfig.getColumn(n).displayFormat;return Object(ie.j)(t,r)}return t instanceof Date?Object(ie.g)(t):null===t?"[NULL]":t})).join(", ")}}))},enumerable:!0,configurable:!0}),e.prototype.onNextPage=function(e){if(this.currentPage>=1&&e>0&&this.skipRows+this.limitRows<this.rowsCount)this.currentPage++;else{if(!(this.currentPage>=2&&e<0))return;this.currentPage--}this.limitRows&&this.store.dispatch(new te({skipRowsCount:this.skipRows}))},e.prototype.applyFilters=function(){this.store.dispatch(new Z({filters:Object(ie.n)(this.filters)})),this.store.dispatch(new B(this.dataObject))},e.prototype.refreshData=function(e){this.data=this.formatData(Object(ie.h)(e)),this.gridContext&&this.gridContext.clear()},e.prototype.formatData=function(e){var t=this;return e&&e.fieldNames?(e.dataTypes=e.fieldNames.map((function(e){var n=t.fields.find((function(t){return t.bindingName===e}));return n?n.sqlDataType:null})),Object(ie.q)(e)):[]},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.h),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](he.c),s["\u0275\u0275directiveInject"](he.d))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-table-data"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275staticViewQuery"](Xt,!0),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.grid=n.first)},inputs:{isReadOnly:"isReadOnly"},decls:62,vars:23,consts:[[1,"row","mx-0"],[3,"fields","currentFilters","dataObject","connection","changed"],["type","button","class","btn btn-primary ml-auto mr-0 align-self-baseline mb-2",3,"disabled","click",4,"ngIf"],["dropdown","","placement","top left",1,"d-flex","position-relative","px-2","mb-2",3,"ngClass"],["dropdownToggle","","type","button",1,"btn","py-0"],[1,"fa","fa-ellipsis-v"],["class","dropdown-menu left-menu","role","menu",4,"dropdownMenu"],[1,"position-relative","overflow-hidden"],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],[2,"display","none",3,"isButton","itemClicked"],["ctxMenu",""],["value","edit-column"],[1,"px-2"],[1,"fa","fa-columns","mr-1","my-2"],["value","fill-all"],[1,"fa","fa-file-o","mr-1","my-2"],["value","fill-empty"],[1,"fa","fa-files-o","mr-1","my-2"],[1,"data-grid",3,"wjContextMenu","itemsSource","allowAddNew","allowDelete","isReadOnly","itemsSourceChange","initialized"],["grid",""],[3,"header","binding","dataType","width","format",4,"ngFor","ngForOf"],[1,"row","m-0","align-items-center"],["class","fa fa-filter cursor-pointer px-1","triggers","mouseenter:mouseleave",3,"popover",4,"ngIf"],[1,"ml-auto","mr-1"],[4,"ngIf"],["popTemplate",""],["type","button",1,"btn","btn-primary","ml-auto","mr-0","align-self-baseline","mb-2",3,"disabled","click"],["role","menu",1,"dropdown-menu","left-menu"],["role","menuitem"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],[3,"header","binding","dataType","width","format"],["wjFlexGridCellTemplate","",3,"cellType"],[1,"text-normal",3,"title"],[3,"field","icon","dataObject","connection","currentFilters","apply"],["triggers","mouseenter:mouseleave",1,"fa","fa-filter","cursor-pointer","px-1",3,"popover"],["aria-hidden","true",1,"fa","fa-angle-double-left","ml-1","cursor-pointer",3,"click"],["aria-hidden","true",1,"fa","fa-angle-double-right","cursor-pointer",3,"click"],["class","applied-filters-list px-0",4,"ngIf"],[1,"applied-filters-list","px-0"]],template:function(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275text"](1,"\n  "),s["\u0275\u0275elementStart"](2,"app-filters",1),s["\u0275\u0275listener"]("changed",(function(e){return t.onFiltersChange(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](3,"\n  "),s["\u0275\u0275template"](4,Yt,3,3,"button",2),s["\u0275\u0275text"](5,"\n  "),s["\u0275\u0275elementStart"](6,"span",3),s["\u0275\u0275text"](7,"\n    "),s["\u0275\u0275elementStart"](8,"button",4),s["\u0275\u0275text"](9,"\n      "),s["\u0275\u0275element"](10,"i",5),s["\u0275\u0275text"](11,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](12,"\n    "),s["\u0275\u0275template"](13,Zt,14,0,"ul",6),s["\u0275\u0275text"](14,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](15,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](16,"\n"),s["\u0275\u0275elementStart"](17,"div",7),s["\u0275\u0275text"](18,"\n  "),s["\u0275\u0275template"](19,tn,10,1,"div",8),s["\u0275\u0275pipe"](20,"async"),s["\u0275\u0275text"](21,"\n  "),s["\u0275\u0275elementStart"](22,"wj-menu",9,10),s["\u0275\u0275listener"]("itemClicked",(function(e){s["\u0275\u0275restoreView"](n);var r=s["\u0275\u0275reference"](23);return t.onCtxMenuClicked(r)})),s["\u0275\u0275text"](24,"\n    "),s["\u0275\u0275elementStart"](25,"wj-menu-item",11),s["\u0275\u0275elementStart"](26,"span",12),s["\u0275\u0275element"](27,"i",13),s["\u0275\u0275text"](28,"Format Column"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](29,"\n    "),s["\u0275\u0275elementStart"](30,"wj-menu-item",14),s["\u0275\u0275elementStart"](31,"span",12),s["\u0275\u0275element"](32,"i",15),s["\u0275\u0275text"](33,"Fill all rows"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](34,"\n    "),s["\u0275\u0275elementStart"](35,"wj-menu-item",16),s["\u0275\u0275elementStart"](36,"span",12),s["\u0275\u0275element"](37,"i",17),s["\u0275\u0275text"](38,"Fill empty rows"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](39,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](40,"\n  "),s["\u0275\u0275elementStart"](41,"wj-flex-grid",18,19),s["\u0275\u0275listener"]("itemsSourceChange",(function(e){return t.data=e}))("initialized",(function(e){s["\u0275\u0275restoreView"](n);var r=s["\u0275\u0275reference"](42);return t.initializedGrid(r)})),s["\u0275\u0275text"](43,"\n    "),s["\u0275\u0275template"](44,rn,4,6,"wj-flex-grid-column",20),s["\u0275\u0275text"](45,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](46,"\n  "),s["\u0275\u0275elementStart"](47,"div",21),s["\u0275\u0275text"](48,"\n    "),s["\u0275\u0275template"](49,on,1,1,"i",22),s["\u0275\u0275text"](50,"\n    "),s["\u0275\u0275elementStart"](51,"span",23),s["\u0275\u0275text"](52),s["\u0275\u0275pipe"](53,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](54,"\n    "),s["\u0275\u0275template"](55,an,6,1,"ng-container",24),s["\u0275\u0275text"](56,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](57,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](58,"\n\n"),s["\u0275\u0275template"](59,sn,6,1,"ng-template",null,25,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275text"](61,"\n")}if(2&e){var r=s["\u0275\u0275reference"](23);s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("fields",t.fields)("currentFilters",t.filters)("dataObject",t.dataObject)("connection",t.connection),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",!t.isReadOnly),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](21,dn,t.isReadOnly)),s["\u0275\u0275advance"](13),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](20,17,t.loading$)),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("isButton",!0),s["\u0275\u0275advance"](19),s["\u0275\u0275property"]("wjContextMenu",r)("itemsSource",t.data)("allowAddNew",!0)("allowDelete",!0)("isReadOnly",!!t.isReadOnly),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngForOf",t.fields),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",t.filters),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("Rows: ",t.data?t.data.length:s["\u0275\u0275pipeBind1"](53,19,0),""),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",t.limitRows)}},directives:[Wt.a,r.NgIf,T.a,r.NgClass,pt.a,T.d,T.b,_.WjMenu,_.WjMenuItem,Mt.WjFlexGrid,_.WjContextMenu,r.NgForOf,Mt.WjFlexGridColumn,Mt.WjFlexGridCellTemplate,Kt.a,N.a],pipes:[r.AsyncPipe,r.DecimalPipe],styles:["[_nghost-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.data-grid[_ngcontent-%COMP%]{height:calc(100% - 25px)}.data-grid[_ngcontent-%COMP%]   app-filter[_ngcontent-%COMP%]{-webkit-box-ordinal-group:2;order:1}.data-grid[_ngcontent-%COMP%]     .wj-cell.wj-header>div{display:-webkit-box;display:flex;height:100%;-webkit-box-align:center;align-items:center;max-height:50px}.applied-filters-list[_ngcontent-%COMP%]{list-style-type:none}.text-normal[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;width:100%;padding-right:5px;max-height:50px;text-overflow:ellipsis;overflow:hidden;text-align:center;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}"]}),e}(),pn=function(e){return{changed:e}};function mn(e,t){if(1&e&&(s["\u0275\u0275text"](0,"\n            "),s["\u0275\u0275element"](1,"i",9),s["\u0275\u0275text"](2," Structure "),s["\u0275\u0275element"](3,"span",10),s["\u0275\u0275pipe"](4,"async"),s["\u0275\u0275text"](5,"\n          ")),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](3,pn,s["\u0275\u0275pipeBind1"](4,1,n.isSQLChanged$)))}}function fn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"h5"),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n)}}function bn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",11),s["\u0275\u0275text"](1,"1\n            "),s["\u0275\u0275elementStart"](2,"div",12),s["\u0275\u0275text"](3,"\n              "),s["\u0275\u0275elementStart"](4,"span",13),s["\u0275\u0275text"](5,"Loading..."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](6,"\n            "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n            "),s["\u0275\u0275template"](8,fn,2,1,"h5",14),s["\u0275\u0275text"](9,"\n          "),s["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf;s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngForOf",n.messages)}}function hn(e,t){1&e&&(s["\u0275\u0275text"](0,"\n            "),s["\u0275\u0275element"](1,"i",15),s["\u0275\u0275text"](2," Data\n          "))}var gn=function(){function e(e){this.store=e}return e.prototype.ngOnInit=function(){this.dataObject$=this.store.select(Te),this.loading$=this.store.select(qe)},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.h))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sql-view-object"]],decls:31,vars:9,consts:[[1,"tabset-fx","sql-object-tab"],[1,"h-100","position-relative",3,"heading"],[1,"tabset-fx"],[1,"position-relative"],["tabHeading",""],["left","",1,"w-100","h-100"],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],["right","",1,"h-100","d-flex",3,"isReadOnly"],["data",""],[1,"fa","fa-cogs","fa-lg"],[3,"ngClass"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"fa","fa-table","fa-lg"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"tabset",0),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275elementStart"](2,"tab",1),s["\u0275\u0275pipe"](3,"async"),s["\u0275\u0275pipe"](4,"async"),s["\u0275\u0275text"](5,"\n      "),s["\u0275\u0275element"](6,"app-rows-count"),s["\u0275\u0275text"](7,"\n      "),s["\u0275\u0275elementStart"](8,"tabset",2),s["\u0275\u0275text"](9,"\n        "),s["\u0275\u0275elementStart"](10,"tab",3),s["\u0275\u0275text"](11,"\n          "),s["\u0275\u0275template"](12,mn,6,5,"ng-template",4),s["\u0275\u0275text"](13,"\n          "),s["\u0275\u0275element"](14,"app-view-editor",5),s["\u0275\u0275text"](15,"\n          "),s["\u0275\u0275template"](16,bn,10,1,"div",6),s["\u0275\u0275pipe"](17,"async"),s["\u0275\u0275text"](18,"\n        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](19,"\n        "),s["\u0275\u0275elementStart"](20,"tab"),s["\u0275\u0275text"](21,"\n          "),s["\u0275\u0275template"](22,hn,3,0,"ng-template",4),s["\u0275\u0275text"](23,"\n          "),s["\u0275\u0275element"](24,"app-table-data",7,8),s["\u0275\u0275text"](26,"\n        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](27,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](28,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](29,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](30,"\n")),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("heading",s["\u0275\u0275pipeBind1"](3,3,t.dataObject$)?s["\u0275\u0275pipeBind1"](4,5,t.dataObject$).objectName:"Create view"),s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](17,7,t.loading$)),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("isReadOnly",!0))},directives:[C.d,C.a,Nt,C.b,Qt,r.NgIf,un,r.NgClass,pt.a,r.NgForOf],pipes:[r.AsyncPipe],styles:[""]}),e}(),xn=["form"],yn=["grid"];function vn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",27),s["\u0275\u0275listener"]("click",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).onTableDelete()})),s["\u0275\u0275text"](1,"Delete"),s["\u0275\u0275elementEnd"]()}}function On(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1,"Owner Name is required."),s["\u0275\u0275elementEnd"]())}function jn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",28),s["\u0275\u0275text"](1,"\n        "),s["\u0275\u0275template"](2,On,2,0,"div",29),s["\u0275\u0275text"](3,"\n      "),s["\u0275\u0275elementEnd"]()),2&e){s["\u0275\u0275nextContext"]();var n=s["\u0275\u0275reference"](26);s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",n.errors.required)}}function Sn(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1,"Table Name is required."),s["\u0275\u0275elementEnd"]())}function wn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",28),s["\u0275\u0275text"](1,"\n        "),s["\u0275\u0275template"](2,Sn,2,0,"div",29),s["\u0275\u0275text"](3,"\n      "),s["\u0275\u0275elementEnd"]()),2&e){s["\u0275\u0275nextContext"]();var n=s["\u0275\u0275reference"](37);s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",n.errors.required)}}function Cn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",1,2),s["\u0275\u0275listener"]("ngSubmit",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275text"](2,"\n  "),s["\u0275\u0275elementStart"](3,"div",3),s["\u0275\u0275text"](4,"\n    "),s["\u0275\u0275elementStart"](5,"h5",4),s["\u0275\u0275text"](6,"Table Information"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n    "),s["\u0275\u0275elementStart"](8,"div",5),s["\u0275\u0275text"](9,"\n      "),s["\u0275\u0275elementStart"](10,"button",6),s["\u0275\u0275pipe"](11,"async"),s["\u0275\u0275text"](12,"Save"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](13,"\n      "),s["\u0275\u0275template"](14,vn,2,0,"button",7),s["\u0275\u0275text"](15,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](16,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](17,"\n  "),s["\u0275\u0275elementStart"](18,"div",8),s["\u0275\u0275text"](19,"\n    "),s["\u0275\u0275elementStart"](20,"div",9),s["\u0275\u0275text"](21,"\n      "),s["\u0275\u0275elementStart"](22,"label",10),s["\u0275\u0275text"](23,"Owner"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](24,"\n      "),s["\u0275\u0275elementStart"](25,"input",11,12),s["\u0275\u0275listener"]("input",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onUpdate()}))("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().dataObject.objectOwner=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](27,"\n      "),s["\u0275\u0275template"](28,jn,4,1,"div",13),s["\u0275\u0275text"](29,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](30,"\n    "),s["\u0275\u0275elementStart"](31,"div",14),s["\u0275\u0275text"](32,"\n      "),s["\u0275\u0275elementStart"](33,"label",15),s["\u0275\u0275text"](34,"Table Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](35,"\n      "),s["\u0275\u0275elementStart"](36,"input",16,17),s["\u0275\u0275listener"]("input",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onUpdate()}))("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().dataObject.objectName=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](38,"\n      "),s["\u0275\u0275template"](39,wn,4,1,"div",13),s["\u0275\u0275text"](40,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](41,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](42,"\n  "),s["\u0275\u0275elementStart"](43,"div",18),s["\u0275\u0275text"](44,"\n    "),s["\u0275\u0275elementStart"](45,"h5",19),s["\u0275\u0275text"](46,"Define Table Fields"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](47,"\n    "),s["\u0275\u0275elementStart"](48,"div",20),s["\u0275\u0275text"](49,"\n      "),s["\u0275\u0275elementStart"](50,"wj-flex-grid",21,22),s["\u0275\u0275listener"]("initialized",(function(e){s["\u0275\u0275restoreView"](n);var t=s["\u0275\u0275reference"](51);return s["\u0275\u0275nextContext"]().initializedGrid(t)}))("deletedRow",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onFieldsUpdate()})),s["\u0275\u0275text"](52,"\n        "),s["\u0275\u0275element"](53,"wj-flex-grid-column",23),s["\u0275\u0275text"](54,"\n        "),s["\u0275\u0275elementStart"](55,"wj-flex-grid-column",24),s["\u0275\u0275text"](56,"\n        "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](57,"\n        "),s["\u0275\u0275element"](58,"wj-flex-grid-column",25),s["\u0275\u0275text"](59,"\n        "),s["\u0275\u0275element"](60,"wj-flex-grid-column",26),s["\u0275\u0275text"](61,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](62,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](63,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](64,"\n"),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275reference"](26),i=s["\u0275\u0275reference"](37),o=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("disabled",!s["\u0275\u0275pipeBind1"](11,15,o.isChanged$)),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",o.dataObject),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngModel",o.dataObject.objectOwner),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",r.invalid&&(r.dirty||r.touched)),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngModel",o.dataObject.objectName),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",i.invalid&&(i.dirty||i.touched)),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("itemsSource",o.collection)("allowDelete",!0)("allowAddNew",!0)("itemFormatter",o.formatItem),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("width",50),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("minWidth",50)("width","*"),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("dataMap",o.dataTypes),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("width",70)}}var En=function(){function e(e,t,n){var r=this;this.store=e,this.authService=t,this.dialogService=n,this.dataTypes=Object.values(be.l),this.collection=new _t.CollectionView,this.editCollectionMap=new Map,this.addCollectionSet=new Set,this.destroy$=new we.a,this.formatItem=function(e,t,n,i){var o=e.rows[t].dataItem,a=e.columns[n].binding,l=r.editCollectionMap.get(o);e.cellType===Ut.CellType.Cell&&o&&(r.addCollectionSet.has(o)?i.classList.add("added-item"):l&&l.hasOwnProperty(a)?i.classList.add("edited-item"):(i.classList.remove("added-item"),i.classList.remove("edited-item")))}}return e.prototype.ngOnInit=function(){var e=this;this.store.select(Te).pipe(Object(Se.a)(this.destroy$),Object(Oe.a)((function(e){return Boolean(e)}))).subscribe((function(t){e.editCollectionMap.clear(),e.addCollectionSet.clear(),e.grid&&e.grid.refreshCells(!1)})),this.store.select(Re).pipe(Object(Se.a)(this.destroy$)).subscribe((function(t){if(!Object(ie.f)(e.dataObject,t)){e.dataObject=t;var n=Object(ie.p)(t);Object(ie.t)(Object(Ce.p)(e.collection.items),n)||(e.collection.sourceCollection=n)}!e.dataObject.objectOwner&&e.authService.user&&(e.dataObject.objectOwner=e.authService.user.userName,e.store.dispatch(new W(e.dataObject)))})),this.isChanged$=this.store.select(_e)},e.prototype.initializedGrid=function(e){var t=this;this.collection.trackChanges=!0,e.rowAdded.addHandler((function(n,r){t.addCollectionSet.add(t.collection.currentAddItem),e.refreshCells(!1)})),e.cellEditEnded.addHandler((function(n,r){var i=t.collection.currentEditItem,o=be.m[i.dataType]||null,a=e.columns[3].binding,l=t.collection.currentEditItem[a];if(!t.addCollectionSet.has(i)){var c=e.columns[r.col].binding,s=e.rows[r.row].dataItem[c],d=t.editCollectionMap.get(i)||{};d.hasOwnProperty(c)||(d[c]=r.data),d[c]===s&&delete d[c],r.panel.cellType===Ut.CellType.Cell&&2===r.col&&(d.hasOwnProperty(a)||(d[a]=l),d[a]===o&&delete d[a]),t.editCollectionMap.set(i,d)}r.panel.cellType===Ut.CellType.Cell&&2===r.col&&(i[a]=o),e.refreshCells(!1),t.onFieldsUpdate()}))},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.save=function(){this.form.ngSubmit.emit()},e.prototype.onTableDelete=function(){var e=this;if(this.dataObject){var t=this.dataObject;this.dialogService.confirmation("Delete table "+t.objectOwner+"."+t.objectName+". Are you sure?").subscribe((function(t){t&&e.store.dispatch(new G(e.dataObject))}))}},e.prototype.onSubmit=function(){this.form.valid&&this.store.dispatch(new J(this.getCurrentState()))},e.prototype.onUpdate=function(){this.store.dispatch(new W(this.getCurrentState()))},e.prototype.onFieldsUpdate=function(){this.store.dispatch(new W(this.getCurrentState()))},e.prototype.getCurrentState=function(){return Object(c.a)(Object(c.a)({},this.dataObject),{fields:Object(Ce.q)(this.collection.items),primaryKeys:Object(Ce.t)(this.collection.items)})},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.h),s["\u0275\u0275directiveInject"](Ze.b),s["\u0275\u0275directiveInject"](he.c))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-table-editor"]],viewQuery:function(e,t){var n;1&e&&(s["\u0275\u0275viewQuery"](xn,!0),s["\u0275\u0275viewQuery"](yn,!0)),2&e&&(s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.form=n.first),s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.grid=n.first))},decls:2,vars:1,consts:[["class","d-flex flex-column h-100",3,"ngSubmit",4,"ngIf"],[1,"d-flex","flex-column","h-100",3,"ngSubmit"],["form","ngForm"],["fxLayout","row","fxLayoutAlign","stretch center"],["fxFlex","",1,"col-sm-12","px-0"],[1,"row","mx-0"],["type","submit",1,"btn","btn-primary","ml-auto","mr-1",3,"disabled"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],[1,"row","mx-0",2,"max-width","750px"],[1,"form-group","col-sm-3","px-0","mb-2"],["for","objectOwner"],["type","text","id","objectOwner","required","","name","objectOwner",1,"form-control",3,"ngModel","input","ngModelChange"],["objectOwner","ngModel"],["class","alert alert-danger py-1 px-2 m-0 w-100",4,"ngIf"],[1,"form-group","col-sm-9","pr-0","pl-2","mb-2"],["for","name"],["type","text","id","objectName","required","","name","objectName",1,"form-control",3,"ngModel","input","ngModelChange"],["objectName","ngModel"],[1,"row","flex-fill","mx-0","flex-column","h-100",2,"max-width","750px"],[1,"col-sm-12","table-title","px-0"],[1,"col","fields-container","d-flex","h-100","px-0","mb-2"],[1,"h-100",3,"itemsSource","allowDelete","allowAddNew","itemFormatter","initialized","deletedRow"],["grid",""],["header","IsKey","binding","isKey","dataType","Boolean",3,"width"],["header","Field Name","binding","fieldName",3,"minWidth","width"],["header","Field Data Type","binding","dataType",3,"dataMap"],["header","Size","binding","size","dataType","Number",3,"width"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"alert","alert-danger","py-1","px-2","m-0","w-100"],[4,"ngIf"]],template:function(e,t){1&e&&(s["\u0275\u0275template"](0,Cn,65,17,"form",0),s["\u0275\u0275text"](1,"\n")),2&e&&s["\u0275\u0275property"]("ngIf",t.dataObject)},directives:[r.NgIf,i["\u0275angular_packages_forms_forms_y"],i.NgControlStatusGroup,i.NgForm,nt.f,nt.e,nt.b,i.DefaultValueAccessor,i.RequiredValidator,i.NgControlStatus,i.NgModel,Mt.WjFlexGrid,Mt.WjFlexGridColumn],pipes:[r.AsyncPipe],styles:[".table-title[_ngcontent-%COMP%] {\n      flex: 0;\n    }"]}),e}(),Tn=function(e){return{changed:e}};function Dn(e,t){if(1&e&&(s["\u0275\u0275text"](0,"\n          "),s["\u0275\u0275element"](1,"i",10),s["\u0275\u0275text"](2," Structure "),s["\u0275\u0275element"](3,"span",11),s["\u0275\u0275pipe"](4,"async"),s["\u0275\u0275text"](5,"\n        ")),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](3,Tn,s["\u0275\u0275pipeBind1"](4,1,n.isStructureChanged$)))}}function Nn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"h5"),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n)}}function _n(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",12),s["\u0275\u0275text"](1,"1\n          "),s["\u0275\u0275elementStart"](2,"div",13),s["\u0275\u0275text"](3,"\n            "),s["\u0275\u0275elementStart"](4,"span",14),s["\u0275\u0275text"](5,"Loading..."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](6,"\n          "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](7,"\n          "),s["\u0275\u0275template"](8,Nn,2,1,"h5",15),s["\u0275\u0275text"](9,"\n        "),s["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf;s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngForOf",n.messages)}}function Rn(e,t){if(1&e&&(s["\u0275\u0275text"](0,"\n          "),s["\u0275\u0275element"](1,"i",16),s["\u0275\u0275text"](2," Data "),s["\u0275\u0275element"](3,"span",11),s["\u0275\u0275pipe"](4,"async"),s["\u0275\u0275text"](5,"\n        ")),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](3,Tn,s["\u0275\u0275pipeBind1"](4,1,n.isDataChanged$)))}}var An=function(){function e(e){this.store=e,this.destroy$=new we.a}return e.prototype.ngOnInit=function(){var e=this;this.isStructureChanged$=this.store.select(_e),this.isDataChanged$=this.store.select(Ie),this.store.select(Te).pipe(Object(Se.a)(this.destroy$)).subscribe((function(t){e.dataObject=t})),this.loading$=this.store.select(qe)},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.h))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sql-object-content"]],decls:30,vars:4,consts:[[1,"tabset-fx","sql-object-tab"],[1,"h-100","position-relative",3,"heading"],[1,"tabset-fx"],[1,"position-relative"],["tabHeading",""],["left","",1,"w-100","h-100"],["editor",""],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],["right","",1,"h-100","d-flex"],["data",""],[1,"fa","fa-cogs","fa-lg"],[3,"ngClass"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"fa","fa-table","fa-lg"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"tabset",0),s["\u0275\u0275text"](1,"\n  "),s["\u0275\u0275elementStart"](2,"tab",1),s["\u0275\u0275text"](3,"\n    "),s["\u0275\u0275element"](4,"app-rows-count"),s["\u0275\u0275text"](5,"\n    "),s["\u0275\u0275elementStart"](6,"tabset",2),s["\u0275\u0275text"](7,"\n      "),s["\u0275\u0275elementStart"](8,"tab",3),s["\u0275\u0275text"](9,"\n        "),s["\u0275\u0275template"](10,Dn,6,5,"ng-template",4),s["\u0275\u0275text"](11,"\n        "),s["\u0275\u0275element"](12,"app-table-editor",5,6),s["\u0275\u0275text"](14,"\n        "),s["\u0275\u0275template"](15,_n,10,1,"div",7),s["\u0275\u0275pipe"](16,"async"),s["\u0275\u0275text"](17,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](18,"\n      "),s["\u0275\u0275elementStart"](19,"tab"),s["\u0275\u0275text"](20,"\n        "),s["\u0275\u0275template"](21,Rn,6,5,"ng-template",4),s["\u0275\u0275text"](22,"\n        "),s["\u0275\u0275element"](23,"app-table-data",8,9),s["\u0275\u0275text"](25,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](26,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](27,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](28,"\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](29,"\n")),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("heading",t.dataObject?t.dataObject.objectName:"Create table"),s["\u0275\u0275advance"](13),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](16,2,t.loading$)))},directives:[C.d,C.a,Nt,C.b,En,r.NgIf,un,r.NgClass,pt.a,r.NgForOf],pipes:[r.AsyncPipe],styles:["tabset.sql-object-tab[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%]{position:relative}.spinner[_ngcontent-%COMP%]{left:0}"]}),e}(),In=(n("kiQV"),n("cUzu")),qn=["sqlElement"];function Ln(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"alert",14),s["\u0275\u0275text"](1,"\n            "),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"Error:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate1"](" ",n.error,"\n          ")}}function Mn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"wj-flex-grid-column",18),s["\u0275\u0275text"](1,"\n            "),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("header",n.headerText)("binding",n.bindingName)("dataType",n.dataType)}}function $n(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"wj-flex-grid",15,16),s["\u0275\u0275listener"]("itemsSourceChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().data=e})),s["\u0275\u0275text"](2,"\n            "),s["\u0275\u0275template"](3,Mn,2,3,"wj-flex-grid-column",17),s["\u0275\u0275text"](4,"\n          "),s["\u0275\u0275elementEnd"]()}if(2&e){var r=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("itemsSource",r.data)("isReadOnly",!0),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngForOf",r.fields)}}var Fn=[{path:":connectionName",component:Tt,canActivate:[Dt],children:[{component:An,path:""},{component:An,path:":ownerName/:objectName"},{component:gn,path:"view"},{component:gn,path:"view/:ownerName/:objectName"},{component:function(){function e(e,t,n){this.http=e,this.store=t,this.authService=n}return e.prototype.handleKeyboardEvent=function(e){"F5"===e.key&&(e.preventDefault(),e.stopImmediatePropagation(),this.onRun())},e.prototype.ngOnInit=function(){var e=this;this.store.select(ke).pipe(Object(je.a)()).subscribe((function(t){e.connection=t})),this.sqlEditor=Object(Rt.edit)(this.sqlElement.nativeElement,{mode:"ace/mode/sql",autoScrollEditorIntoView:!0,theme:Object(ie.k)()})},e.prototype.onRun=function(){var e=this;this.http.post("https://worksheets-web-api-test.azurewebsites.net/api/sql/"+this.connection+"/execute",{sql:this.sqlEditor.getSelectedText()||this.sqlEditor.getValue()},this.authService.getHttpHeaders()).pipe(Object(ue.a)((function(t){return e.error="string"==typeof t.error?t.error:"Failed to query data.",Object(ce.a)(null)}))).subscribe((function(t){t?(e.error=null,e.fields=t.fields.map((function(e){return{bindingName:e.fieldName,dataType:be.n[e.dataType],headerText:e.fieldName}})),e.data=Object(ie.q)(t.table)):(e.fields=null,e.data=null)}))},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](In.a),s["\u0275\u0275directiveInject"](o.h),s["\u0275\u0275directiveInject"](Ze.b))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sql-query"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275staticViewQuery"](qn,!0),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.sqlElement=n.first)},hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("keydown",(function(e){return t.handleKeyboardEvent(e)}),!1,s["\u0275\u0275resolveDocument"])},decls:35,vars:2,consts:[[1,"tabset-fx"],["heading","SQL query",1,"h-100"],[1,"h-100"],["actions",""],["type","button",1,"btn","btn-primary","ml-auto","mr-1",3,"click"],["left","",1,"w-100"],["sqlElement",""],["right",""],["type","danger",4,"ngIf"],["class","h-100",3,"itemsSource","isReadOnly","itemsSourceChange",4,"ngIf"],["left-label",""],[1,"fa","fa-cogs","fa-lg"],["right-label",""],[1,"fa","fa-table","fa-lg"],["type","danger"],[1,"h-100",3,"itemsSource","isReadOnly","itemsSourceChange"],["flex",""],[3,"header","binding","dataType",4,"ngFor","ngForOf"],[3,"header","binding","dataType"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"tabset",0),s["\u0275\u0275text"](1,"\n    "),s["\u0275\u0275elementStart"](2,"tab",1),s["\u0275\u0275text"](3,"\n      "),s["\u0275\u0275elementStart"](4,"app-split-content",2),s["\u0275\u0275text"](5,"\n        "),s["\u0275\u0275elementContainerStart"](6,3),s["\u0275\u0275text"](7,"\n          "),s["\u0275\u0275elementStart"](8,"button",4),s["\u0275\u0275listener"]("click",(function(e){return t.onRun()})),s["\u0275\u0275text"](9,"Run"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](10,"\n        "),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275text"](11,"\n        "),s["\u0275\u0275element"](12,"div",5,6),s["\u0275\u0275text"](14,"\n        "),s["\u0275\u0275elementContainerStart"](15,7),s["\u0275\u0275text"](16,"\n          "),s["\u0275\u0275template"](17,Ln,5,1,"alert",8),s["\u0275\u0275text"](18,"\n          "),s["\u0275\u0275template"](19,$n,5,3,"wj-flex-grid",9),s["\u0275\u0275text"](20,"\n        "),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275text"](21,"\n        "),s["\u0275\u0275elementContainerStart"](22,10),s["\u0275\u0275text"](23,"\n          "),s["\u0275\u0275element"](24,"i",11),s["\u0275\u0275text"](25," SQL\n        "),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275text"](26,"\n        "),s["\u0275\u0275elementContainerStart"](27,12),s["\u0275\u0275text"](28,"\n          "),s["\u0275\u0275element"](29,"i",13),s["\u0275\u0275text"](30," Data\n        "),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275text"](31,"\n      "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](32,"\n    "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](33,"\n  "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](34,"\n")),2&e&&(s["\u0275\u0275advance"](17),s["\u0275\u0275property"]("ngIf",t.error),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.fields&&t.data))},directives:[C.d,C.a,Lt,r.NgIf,E.a,Mt.WjFlexGrid,r.NgForOf,Mt.WjFlexGridColumn],styles:[""]}),e}(),path:"sql-query"}]}],Vn=function(){function e(){}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[d.i.forChild(Fn)],d.i]}),e}();n.d(t,"DatabaseManagerModule",(function(){return kn}));var kn=function(){function e(){}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[Dt,he.c],imports:[[r.CommonModule,i.FormsModule,ie.e,o.j.forRoot(le),w.forRoot(),l.c.forRoot([ye,xe]),Vn,a.a.instrument({maxAge:25,logOnly:A.a.production}),_.WjInputModule,E.b.forRoot(),D.b.forRoot(),T.c.forRoot(),C.c.forRoot(),N.b.forRoot(),ve.a,R.b]]}),e}()}}]);
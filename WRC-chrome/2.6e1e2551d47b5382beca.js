(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{FTf1:function(e,t,n){"use strict";var l=n("CcnG"),a=n("Ip0R"),i=n("hUWP"),r=n("OzfB"),u=n("BX4E"),o=n("9bPP");n("fQZA"),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return y}));var c=l["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{border:1px solid #e4e7ea;border-radius:4px;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#c8ced3;color:#23282c}.no-group-list[_ngcontent-%COMP%]{background:#fff}accordion-group[_ngcontent-%COMP%]     .panel.card{border:none;margin-bottom:0}accordion-group[_ngcontent-%COMP%]     .panel-heading{padding:.25rem;cursor:pointer}accordion-group[_ngcontent-%COMP%]     .panel-body.card-block.card-body{padding:0}accordion-group[_ngcontent-%COMP%]     [aria-expanded=false] .fa-chevron-down{display:none}accordion-group[_ngcontent-%COMP%]     [aria-expanded=true] .fa-chevron-right{display:none}.fa-chevron-right[_ngcontent-%COMP%]{width:14px}.search-input[_ngcontent-%COMP%]{height:21px}"]],data:{}});function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function d(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,8,"li",[["class","d-flex align-items-baseline cursor-pointer"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onSelect(e.context.$implicit)&&l),l}),null,null)),l["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{active:0}),l["\u0275did"](4,933888,null,0,i.a,[l.ElementRef,r.i,r.f,a["\u0275NgClassImpl"],[6,a.NgClass]],{ngClass:[0,"ngClass"],klass:[1,"klass"]},null),l["\u0275pod"](5,{active:0}),(e()(),l["\u0275and"](16777216,null,null,2,null,s)),l["\u0275did"](7,540672,null,0,a.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](8,{$implicit:0})],(function(e,t){var n=t.component,l=e(t,3,0,n.isActive(t.context.$implicit));e(t,2,0,"d-flex align-items-baseline cursor-pointer",l);var a=e(t,5,0,n.isActive(t.context.$implicit));e(t,4,0,a,"d-flex align-items-baseline cursor-pointer");var i=e(t,8,0,t.context.$implicit);e(t,7,0,i,n.itemTemplate)}),null)}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"ul",[["class","d-flex flex-fill flex-column  p-0 m-0"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,d)),l["\u0275did"](2,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.list)}),null)}function f(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,8,"li",[["class","d-flex align-items-baseline cursor-pointer"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onSelect(e.context.$implicit)&&l),l}),null,null)),l["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{active:0}),l["\u0275did"](4,933888,null,0,i.a,[l.ElementRef,r.i,r.f,a["\u0275NgClassImpl"],[6,a.NgClass]],{ngClass:[0,"ngClass"],klass:[1,"klass"]},null),l["\u0275pod"](5,{active:0}),(e()(),l["\u0275and"](16777216,null,null,2,null,f)),l["\u0275did"](7,540672,null,0,a.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](8,{$implicit:0})],(function(e,t){var n=t.component,l=e(t,3,0,n.isActive(t.context.$implicit));e(t,2,0,"d-flex align-items-baseline cursor-pointer",l);var a=e(t,5,0,n.isActive(t.context.$implicit));e(t,4,0,a,"d-flex align-items-baseline cursor-pointer");var i=e(t,8,0,t.context.$implicit);e(t,7,0,i,n.itemTemplate)}),null)}function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"ul",[["class","d-flex flex-column p-0 m-0 no-group-list"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,g)),l["\u0275did"](2,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.noGroupList)}),null)}function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"input",[["class","form-control form-control-sm ml-auto w-auto search-input"],["placeholder","Search"],["type","text"]],null,[[null,"blur"],[null,"input"],[null,"click"]],(function(e,t,n){var l=!0,a=e.component;return"blur"===t&&(l=!1!==(a.activeSearch=null)&&l),"input"===t&&(l=!1!==a.onSearch(e.parent.context.$implicit.value,n)&&l),"click"===t&&(l=!1!==n.stopPropagation()&&l),l}),null,null))],null,null)}function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-search ml-auto"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onSearchState(e.parent.context.$implicit.value,n)&&l),l}),null,null))],null,null)}function O(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function C(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,8,"li",[["class","d-flex align-items-baseline cursor-pointer"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onSelect(e.context.$implicit)&&l),l}),null,null)),l["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2]),l["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{active:0}),l["\u0275did"](4,933888,null,0,i.a,[l.ElementRef,r.i,r.f,a["\u0275NgClassImpl"],[6,a.NgClass]],{ngClass:[0,"ngClass"],klass:[1,"klass"]},null),l["\u0275pod"](5,{active:0}),(e()(),l["\u0275and"](16777216,null,null,2,null,O)),l["\u0275did"](7,540672,null,0,a.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](8,{$implicit:0})],(function(e,t){var n=t.component,l=e(t,3,0,n.isActive(t.context.$implicit));e(t,2,0,"d-flex align-items-baseline cursor-pointer",l);var a=e(t,5,0,n.isActive(t.context.$implicit));e(t,4,0,a,"d-flex align-items-baseline cursor-pointer");var i=e(t,8,0,t.context.$implicit);e(t,7,0,i,n.itemTemplate)}),null)}function j(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,15,"accordion-group",[["class","panel"],["isOpen","true"],["style","display: block"]],[[2,"panel-open",null]],null,null,u.d,u.b)),l["\u0275did"](1,245760,null,0,o.d,[o.a],{isOpen:[0,"isOpen"]},null),(e()(),l["\u0275eld"](2,0,null,0,10,"div",[["accordion-heading",""],["class","header d-flex align-items-center"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,0,"i",[["class","fa text-center fa-chevron-down mr-1"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,0,"i",[["class","fa text-center fa-chevron-right mr-1"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,2,null,b)),l["\u0275did"](6,540672,null,0,a.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](7,{$implicit:0}),(e()(),l["\u0275ted"](8,null,[" "," "])),(e()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](10,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,h)),l["\u0275did"](12,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](13,0,null,1,2,"ul",[["class","d-flex flex-fill flex-column p-0 m-0"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,C)),l["\u0275did"](15,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"true");var l=e(t,7,0,t.context.$implicit);e(t,6,0,l,n.iconTemplate),e(t,10,0,n.searchState[t.context.$implicit.value]||n.activeSearch===t.context.$implicit.value),e(t,12,0,!(n.searchState[t.context.$implicit.value]||n.activeSearch===t.context.$implicit.value)),e(t,15,0,t.context.$implicit.filteredList)}),(function(e,t){e(t,0,0,l["\u0275nov"](t,1).isOpen),e(t,8,0,t.context.$implicit.value)}))}function x(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"accordion",[["class","d-flex flex-fill flex-column p-0 m-0 w-100 panel-group"],["role","tablist"],["style","display: block"]],[[1,"aria-multiselectable",0]],null,null,u.c,u.a)),l["\u0275did"](1,49152,null,0,o.a,[o.b],null,null),(e()(),l["\u0275and"](16777216,null,0,1,null,j)),l["\u0275did"](3,278528,null,0,a.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,3,0,t.component.groups)}),(function(e,t){e(t,0,0,l["\u0275nov"](t,1).closeOthers)}))}function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](16777216,null,null,1,null,p)),l["\u0275did"](1,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,m)),l["\u0275did"](3,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,x)),l["\u0275did"](5,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,!n.group),e(t,3,0,n.noGroupList&&n.noGroupList.length),e(t,5,0,n.group)}),null)}},Gwbs:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var l=n("mrSG"),a=(n("UfhM"),n("9Z1F")),i=n("67Y/"),r=n("15JJ"),u=n("XlPw"),o=n("26FU"),c=n("F/XL"),s=n("AytR"),d=n("9uVP"),p=n("zSvW"),f=n("CcnG"),g=n("t/Na"),m=n("H4hQ"),b=s.a.apiBaseUrl+"/sql",v=function(){function e(e,t){this.http=e,this.authService=t}return e.prototype.getMyDbConnections=function(){return this.http.get(s.a.apiBaseUrl+"/sql/my-db-connections",this.authService.getHttpHeaders())},e.prototype.getObject=function(e,t,n,l){void 0===l&&(l=p.c.Table);var i=e+"/db-object/"+t+"/"+n+"/Fields,PrimaryKeys";return l===p.c.View&&(i+=",SqlText"),this.http.get(i,this.authService.getHttpHeaders()).pipe(Object(a.a)((function(e){return Object(u.a)(e)})))},e.prototype.generateObject=function(e,t){var n=this,l=t.objectOwner,a=t.objectName,o=e+"/db-object/"+l+"/"+a;return 0!==t.objectId?this.http.post(o,t,this.authService.getHttpHeaders()).pipe(Object(i.a)((function(e){return t.objectId=e,t}))):this.getSqlObjects(e).pipe(Object(r.a)((function(e){return e.map((function(e){return""+e.objectOwner+e.objectName})).includes(""+l.toLowerCase()+a)?Object(u.a)("Table name already exist."):n.http.post(o,t,n.authService.getHttpHeaders()).pipe(Object(i.a)((function(e){return t.objectId=e,t})))})))},e.prototype.deleteObject=function(e,t){return this.http.delete(e+"/db-object/"+t.objectOwner+"/"+t.objectName,this.authService.getHttpHeaders())},e.prototype.getSqlObjects=function(e){return this.http.get(e+"/db-objects",this.authService.getHttpHeaders()).pipe(Object(a.a)((function(e){return Object(u.a)(e)})))},e.prototype.getSqlObjectData=function(e,t,n){return this.http.get(e+"/select-all/from/"+t+"/"+n,this.authService.getHttpHeaders()).pipe(Object(i.a)((function(e){return e.table})),Object(a.a)((function(e){return Object(u.a)("string"==typeof e.error?e.error:"Not found")})))},e.prototype.selectSqlObjectData=function(e,t,n,l){var r=b+"/"+e+"/select/from/"+t+"/"+n,o=function(e){return e instanceof Date?Object(d.b)(e):e};if((l=Object.assign({},l)).filters){for(var c=[],s=0,p=l.filters;s<p.length;s++){var f=p[s],g=Object.assign({},f);g.value=Array.isArray(f.value)?f.value.map((function(e){return o(e)})):o(f.value),c.push(g)}l.filters=c}return this.http.post(r,l,this.authService.getHttpHeaders()).pipe(Object(i.a)((function(e){return e.table})),Object(a.a)((function(e){return Object(u.a)(Object(d.j)(e,"Not found"))})))},e.prototype.saveSqlObjectDataWithStatus=function(e,t,n){var l=e+"/save/"+t.objectOwner+"/"+t.objectName,a=new o.a({inserted:0,deleted:0,updated:0,savedItemsCount:0,itemsToSaveCount:n.tableData.rows.length});return this.saveSqlObjectBatchData(l,n,a).subscribe((function(){return a.complete()}),(function(e){return a.error(e)})),a},e.prototype.saveSqlObjectData=function(e,t,n){return this.saveSqlObjectBatchData(e+"/save/"+t.objectOwner+"/"+t.objectName,n,null)},e.prototype.saveSqlObjectBatchData=function(e,t,n,a,i){var u=this;void 0===a&&(a=0),void 0===i&&(i={inserted:0,updated:0,deleted:0,itemsToSaveCount:0,savedItemsCount:0});for(var o=[],s=t.tableData.rows,d=a,p=0,f=1e4+a;d<f&&p<15e5&&d<s.length;)o.push(s[d]),p+=JSON.stringify(s[d]).length,d++;return this.http.post(e,{tableData:l.__assign({},t.tableData,{rows:o})},this.authService.getHttpHeaders()).pipe(Object(r.a)((function(l){return i.inserted+=l.inserted,i.updated+=l.updated,i.deleted+=l.deleted,i.savedItemsCount=d,i.itemsToSaveCount=s.length,n&&n.next(i),d<s.length?u.saveSqlObjectBatchData(e,t,n,d,i):Object(c.a)(i)})))},e.ngInjectableDef=f["\u0275\u0275defineInjectable"]({factory:function(){return new e(f["\u0275\u0275inject"](g.c),f["\u0275\u0275inject"](m.a))},token:e,providedIn:"root"}),e}()},UfhM:function(e,t,n){"use strict";n("H4hQ"),n("4nBg"),n("hAiv")},"ZF+8":function(e,t,n){"use strict";n("H0VJ"),n("Ub3T"),n("rXEo"),n("9nlD"),n("ipW8"),n("Gwbs")},ipW8:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var l=n("mrSG"),a=n("EM0x"),i=n("Gwbs"),r=n("9nlD"),u=(n("OLrf"),n("15JJ")),o=n("67Y/"),c=n("9Z1F"),s=n("9uVP"),d=n("F/XL"),p=n("Czp8"),f=n("CcnG"),g=n("H4hQ"),m=function(){function e(e,t,n){this.notificationService=e,this.authService=t,this.sqlDb=n,Object(a.t)("notification",{name:"notification",method:function(t,n){var l=n.type,a=n.message;return a=p.a.resolveString(a,t.variables),e.open({type:l,message:a}),{message:a}},category:"Common",config:{type:"success",message:"Error message"},description:"Shows notification"}),Object(a.t)("ws-login",{name:"ws-login",method:function(e,n){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(e){switch(e.label){case 0:return[4,t.authorize(n.publicAccessCode,n.saveAs).toPromise()];case 1:return[2,e.sent()]}}))}))},category:"Auth",config:{publicAccessCode:"TEST_TOKEN",saveAs:"bearer_token"},description:"Authorize user role by public token"}),Object(a.t)("ensureTableWithFields",{name:"ensureTableWithFields",method:function(e,t){return l.__awaiter(this,void 0,void 0,(function(){var i,r,p,f;return l.__generator(this,(function(l){switch(l.label){case 0:return f=[],[4,n.getObject(p=t.sqlConnectionUrl,r=t.ownerName,i=t.tableName).pipe(Object(u.a)((function(t){var l=t?t.objectId:0,u=e.variables.get("uiModel"),g=a.h.find(u,"$(children)/itemProperties");Array.isArray(g)||(g=[g]);var m=g.filter((function(e){return e.dataModelPath})).map((function(e){return e.dataModelPath.replace("$.","")}));return f=Object(s.h)(m),t&&Object(s.r)(t.fields,f)?Object(d.a)({result:t,status:a.a.SUCCESS}):n.generateObject(p,{fields:f,objectId:l,objectOwner:r,objectName:i,objectType:"Table",folder:"forms-folder"}).pipe(Object(o.a)((function(e){return{result:e,status:a.a.SUCCESS}})),Object(c.a)((function(e){return Object(d.a)({result:e,status:a.a.FAILED})})))}))).toPromise()];case 1:return[2,l.sent()]}}))}))},category:"DesignTime",config:{actionType:"ensureTableWithFields",sqlConnectionUrl:"{{sql_api_url}}",ownerName:"{{ownerName}}",tableName:"{{tableName}}",generateFields:"fromDataModel"},description:"Ensures table structure fits data model"}),Object(a.t)("tableDtoToArray",{name:"tableDtoToArray",category:"Rest Client",method:function(e,t){try{var n=p.a.resolveString(t.rows,e.variables);Array.isArray(n)||(n=[]),console.log("Resolved rows",n);var l=p.a.resolveString(t.fieldNames,e.variables);Array.isArray(l)||(l=[]),console.log("Resolved fieldNames",l);var a=null;t.dataTypes&&(a=p.a.resolveString(t.dataTypes,e.variables),Array.isArray(a)||(a=[]));var i=Object(s.m)({rows:n,fieldNames:l,dataTypes:a});return console.log("Action tableDtoToArray result",i),i}catch(r){return console.error(r),null}},config:{actionName:"table-dto",actionType:"tableDtoToArray",fieldNames:"{{responseContent}}/dataset/column_names",rows:"{{responseContent}}/dataset/data",dataTypes:"{{responseContent}}/dataset/dataTypes"},description:"Formats table data to array",getMessage:function(){return"Formatted table data"}})}return e.ngInjectableDef=f["\u0275\u0275defineInjectable"]({factory:function(){return new e(f["\u0275\u0275inject"](r.a),f["\u0275\u0275inject"](g.a),f["\u0275\u0275inject"](i.a))},token:e,providedIn:"root"}),e}()}}]);
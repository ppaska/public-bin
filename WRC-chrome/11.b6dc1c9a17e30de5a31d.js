(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{aaoH:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),u=function(){return function(){}}(),o=e("iutN"),i=e("z5nN"),a=e("MdoF"),r=e("ES0t"),d=e("pMnS"),c=e("AZbF"),s=e("YpoR"),p=e("NcP4"),f=e("6X9N"),m=e("TkW6"),g=e("T62W"),b=e("p11H"),h=e("iYox"),v=e("einG"),C=e("1tPP"),y=e("OJvS"),j=e("uQ7l"),O=e("Xn/w"),w=e("5Ccn"),R=e("rXEo"),S=e("Ip0R"),T=e("xtZt"),_=e("lqqz"),E=e("mrSG"),N=e("yGQT"),x=e("ZYCi"),D=e("/PH2"),A="@ngrx/router-store/navigation",I="@ngrx/router-store/cancel",F="@ngrx/router-store/error";function L(l,n){var e=n;switch(e.type){case A:case F:case I:return{state:e.payload.routerState,navigationId:e.payload.event.id};default:return l}}var V=function(){return function(){}}(),M=function(){function l(){}return l.prototype.serialize=function(l){return{root:this.serializeRoute(l.root),url:l.url}},l.prototype.serializeRoute=function(l){var n=this,e=l.children.map((function(l){return n.serializeRoute(l)}));return{params:l.params,paramMap:l.paramMap,data:l.data,url:l.url,outlet:l.outlet,routeConfig:l.routeConfig?{component:l.routeConfig.component,path:l.routeConfig.path,pathMatch:l.routeConfig.pathMatch,redirectTo:l.routeConfig.redirectTo,outlet:l.routeConfig.outlet}:null,queryParams:l.queryParams,queryParamMap:l.queryParamMap,fragment:l.fragment,component:l.routeConfig?l.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:e[0],pathFromRoot:void 0,children:e}},l}(),q=function(){function l(){}return l.prototype.serialize=function(l){return{root:this.serializeRoute(l.root),url:l.url}},l.prototype.serializeRoute=function(l){var n=this,e=l.children.map((function(l){return n.serializeRoute(l)}));return{params:l.params,data:l.data,url:l.url,outlet:l.outlet,routeConfig:l.routeConfig?{path:l.routeConfig.path,pathMatch:l.routeConfig.pathMatch,redirectTo:l.routeConfig.redirectTo,outlet:l.routeConfig.outlet}:null,queryParams:l.queryParams,fragment:l.fragment,firstChild:e[0],children:e}},l}(),k=function(l){return l[l.PreActivation=1]="PreActivation",l[l.PostActivation=2]="PostActivation",l}({}),W=new t.InjectionToken("@ngrx/router-store Internal Configuration"),$=new t.InjectionToken("@ngrx/router-store Configuration"),P="router";function G(l){return Object(E.__assign)({stateKey:P,serializer:M,navigationActionTiming:k.PreActivation},l)}var U,B,z,Q=function(l){return l[l.NONE=1]="NONE",l[l.ROUTER=2]="ROUTER",l[l.STORE=3]="STORE",l}({}),J=function(){function l(l,n,e,t,u){this.store=l,this.router=n,this.serializer=e,this.errorHandler=t,this.config=u,this.lastEvent=null,this.trigger=Q.NONE,this.stateKey=this.config.stateKey,this.setUpStoreStateListener(),this.setUpRouterEventsListener()}var n;return n=l,l.forRoot=function(l){return void 0===l&&(l={}),{ngModule:n,providers:[{provide:W,useValue:l},{provide:$,useFactory:G,deps:[W]},{provide:V,useClass:l.serializer?l.serializer:1===l.routerState?q:M}]}},l.prototype.setUpStoreStateListener=function(){var l=this;this.store.pipe(Object(N.z)(this.stateKey),Object(D.a)(this.store)).subscribe((function(n){var e=Object(E.__read)(n,2);l.navigateIfNeeded(e[0],e[1])}))},l.prototype.navigateIfNeeded=function(l,n){var e=this;if(l&&l.state&&this.trigger!==Q.ROUTER&&!(this.lastEvent instanceof x.g)){var t=l.state.url;this.router.url!==t&&(this.storeState=n,this.trigger=Q.STORE,this.router.navigateByUrl(t).catch((function(l){e.errorHandler.handleError(l)})))}},l.prototype.setUpRouterEventsListener=function(){var l,n=this,e=this.config.navigationActionTiming===k.PostActivation;this.router.events.pipe(Object(D.a)(this.store)).subscribe((function(t){var u=Object(E.__read)(t,2),o=u[0],i=u[1];n.lastEvent=o,o instanceof x.g?(n.routerState=n.serializer.serialize(n.router.routerState.snapshot),n.trigger!==Q.STORE&&(n.storeState=i,n.dispatchRouterRequest(o))):o instanceof x.v?(l=o,e||n.trigger===Q.STORE||n.dispatchRouterNavigation(o)):o instanceof x.d?(n.dispatchRouterCancel(o),n.reset()):o instanceof x.f?(n.dispatchRouterError(o),n.reset()):o instanceof x.e&&(n.trigger!==Q.STORE&&(e&&n.dispatchRouterNavigation(l),n.dispatchRouterNavigated(o)),n.reset())}))},l.prototype.dispatchRouterRequest=function(l){this.dispatchRouterAction("@ngrx/router-store/request",{event:l})},l.prototype.dispatchRouterNavigation=function(l){var n=this.serializer.serialize(l.state);this.dispatchRouterAction(A,{routerState:n,event:new x.v(l.id,l.url,l.urlAfterRedirects,n)})},l.prototype.dispatchRouterCancel=function(l){this.dispatchRouterAction(I,{storeState:this.storeState,event:l})},l.prototype.dispatchRouterError=function(l){this.dispatchRouterAction(F,{storeState:this.storeState,event:new x.f(l.id,l.url,""+l)})},l.prototype.dispatchRouterNavigated=function(l){var n=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction("@ngrx/router-store/navigated",{event:l,routerState:n})},l.prototype.dispatchRouterAction=function(l,n){this.trigger=Q.ROUTER;try{this.store.dispatch({type:l,payload:Object(E.__assign)({routerState:this.routerState},n,{event:1===this.config.routerState?{id:n.event.id,url:n.event.url}:n.event})})}finally{this.trigger=Q.NONE}},l.prototype.reset=function(){this.trigger=Q.NONE,this.storeState=null,this.routerState=null},l}(),K=e("M0ag"),H=e("zSvW"),Z=Object(N.v)("sqlObject"),X=Object(N.x)(Z,(function(l){return l.structure})),Y=Object(N.x)(Z,(function(l){return l.data})),ll=Object(N.x)(Z,(function(l){return l.currentState.fields})),nl=Object(N.x)(Z,(function(l){return!Object(K.c)(l.structure,l.currentState)})),el=Object(N.x)(Z,(function(l){return l.currentState})),tl=Object(N.x)(Z,(function(l){return l.loading})),ul=Object(N.x)(Z,(function(l){var n=l.changedData;return Boolean(n&&n.length)})),ol=Object(N.x)(tl,(function(l){return l.length?{messages:l.map((function(l){return H.a[l]}))}:null})),il=Object(N.x)(Z,(function(l){return l.rowsCount})),al=Object(N.x)(Z,(function(l){return l.filters.limitRowsCount})),rl=function(l){return l.dbConnections},dl=Object(N.x)((function(l){return l.sqlObjects}),(function(l){return l.list})),cl=Object(N.x)(rl,(function(l){return l.list})),sl=Object(N.x)(rl,(function(l){return l.current})),pl=Object(N.v)("router"),fl=(U=pl,B=Object(N.x)(U,(function(l){return l&&l.state})),z=Object(N.x)(B,(function(l){if(l){for(var n=l.root;n.firstChild;)n=n.firstChild;return n}})),Object(N.x)(z,(function(l){return l&&l.queryParams})),Object(N.x)(z,(function(l){return l&&l.params})),Object(N.x)(z,(function(l){return l&&l.data})),Object(N.x)(B,(function(l){return l&&l.url}))),ml=Object(N.x)(pl,(function(l,n){if(void 0===n&&(n=null),!l.state)return{};for(var e=l.state.root,t=E.__assign({},e.params);e.firstChild;)t=E.__assign({},t,(e=e.firstChild).params);return n?Object.entries(t).reduce((function(l,e){var t=e[0],u=e[1];return n.includes(t)&&(l[t]=u),l}),{}):t})),gl=Object(N.x)(ml,(function(l,n){return l[n]})),bl=function(){function l(l,n){this.router=l,this.store=n}return l.prototype.ngOnInit=function(){this.connections$=this.store.select(cl),this.selectedConnection$=this.store.select(gl,"connectionName")},l.prototype.onConnectionSelect=function(l){this.router.navigate(["/database",l])},l}(),hl=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"a",[["class","dropdown-item cursor-pointer"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onConnectionSelect(l.context.$implicit.connectorName)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",""]))],null,(function(l,n){l(n,2,0,n.context.$implicit.connectorName)}))}function Cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"ul",[["aria-labelledby","connections-btn-group"],["class","dropdown-menu dropdown-menu-right"],["id","dropdown-menu-connections"],["role","menu"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,vl)),t["\u0275did"](2,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform(e.connections$)))}),null)}function yl(l){return t["\u0275vid"](2,[(l()(),t["\u0275eld"](0,16777216,null,null,9,"div",[["class","btn-group align-self-center"],["dropdown",""],["placement","bottom right"]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),t["\u0275prd"](512,null,T.f,T.f,[]),t["\u0275did"](2,212992,null,0,T.c,[t.ElementRef,t.Renderer2,t.ViewContainerRef,_.a,T.a,T.f],{placement:[0,"placement"]},null),(l()(),t["\u0275eld"](3,0,null,null,4,"button",[["aria-controls","dropdown-menu-connections"],["class","btn btn-light dropdown-toggle btn-sm m-0"],["dropdownToggle",""],["id","connections-btn-group"],["role","button"],["tabindex","0"],["title","Select connection"],["type","button"]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,4).onClick()&&u),u}),null,null)),t["\u0275did"](4,147456,null,0,T.g,[t.ChangeDetectorRef,T.c,t.ElementRef,t.Renderer2,T.f],null,null),(l()(),t["\u0275ted"](5,null,[" "," "])),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](7,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](9,16384,null,0,T.d,[T.f,t.ViewContainerRef,t.TemplateRef],null,null)],(function(l,n){l(n,2,0,"bottom right")}),(function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,2).dropup,t["\u0275nov"](n,2).isOpen,t["\u0275nov"](n,2).isOpen&&t["\u0275nov"](n,2).isBs4),l(n,3,0,!0,t["\u0275nov"](n,4).isDisabled,t["\u0275nov"](n,4).isOpen),l(n,5,0,t["\u0275unv"](n,5,0,t["\u0275nov"](n,6).transform(e.selectedConnection$)))}))}var jl=e("hUWP"),Ol=e("OzfB"),wl=e("FTf1"),Rl=e("fQZA"),Sl=function(l){return l.LOAD_SQL_OBJECTS="[DB Manager] load sql objects",l.LOADED_SQL_OBJECTS="[DB Manager] loaded sql objects",l.SELECT_CONNECTION="[DB Manager] select connection",l.LOADED_CONNECTIONS="[DB Manager] loaded connections",l}({}),Tl=function(){return function(l){this.payload=l,this.type=Sl.LOAD_SQL_OBJECTS}}(),_l=function(){return function(l){this.payload=l,this.type=Sl.LOADED_SQL_OBJECTS}}(),El=function(){return function(l){this.payload=l,this.type=Sl.SELECT_CONNECTION}}(),Nl=function(){return function(l){this.payload=l,this.type=Sl.LOADED_CONNECTIONS}}(),xl=e("K9Ia"),Dl=e("ny24"),Al=e("VnD/"),Il=function(l){return l.LOAD_SQL_OBJECT_DATA="[DB Manager] load sql object data",l.LOADED_SQL_OBJECT_DATA="[DB Manager] loaded sql object data",l.LOAD_SQL_OBJECT_STRUCTURE="[DB Manager] load sql object structure",l.LOADED_SQL_OBJECT_STRUCTURE="[DB Manager] loaded sql object structure",l.SAVE_SQL_OBJECT_STRUCTURE="[DB Manager] save sql object structure",l.SAVED_SQL_OBJECT_STRUCTURE="[DB Manager] saved sql object structure",l.SAVE_SQL_OBJECT_DATA="[DB Manager] save sql object data",l.UPDATE_SQL_OBJECT_DATA="[DB Manager] update sql object data",l.DELETE_SQL_OBJECT="[DB Manager] delete sql object",l.UPDATE_SQL_OBJECT="[DB Manager] update state of sql object",l.REFRESH_SQL_OBJECT="[DB Manager] refresh sql object",l.LOAD_STATE_SQL_OBJECT="[DB Manager] load state",l.SET_SQL_DATA_FILTERS="[DB Manager] set sql data filters",l.SET_SQL_DATA_ROWS_COUNT="[DB Manager] set sql data rows count",l.SET_SQL_DATA_FILTER_PROP="[DB Manager] set sql data filter property",l}({}),Fl=function(){return function(l){this.payload=l,this.type=Il.LOAD_SQL_OBJECT_DATA}}(),Ll=function(){return function(l){this.payload=l,this.type=Il.LOADED_SQL_OBJECT_DATA}}(),Vl=function(){return function(l){this.payload=l,this.type=Il.LOAD_SQL_OBJECT_STRUCTURE}}(),Ml=function(){return function(l){this.payload=l,this.type=Il.LOADED_SQL_OBJECT_STRUCTURE}}(),ql=function(){return function(l){this.payload=l,this.type=Il.SAVE_SQL_OBJECT_STRUCTURE}}(),kl=function(){return function(){this.type=Il.SAVE_SQL_OBJECT_DATA}}(),Wl=function(){return function(l){this.payload=l,this.type=Il.UPDATE_SQL_OBJECT_DATA}}(),$l=function(){return function(l){this.payload=l,this.type=Il.DELETE_SQL_OBJECT}}(),Pl=function(){return function(l){this.payload=l,this.type=Il.UPDATE_SQL_OBJECT}}(),Gl=function(){return function(){this.type=Il.SAVED_SQL_OBJECT_STRUCTURE}}(),Ul=function(){return function(){this.type=Il.REFRESH_SQL_OBJECT}}(),Bl=function(){return function(){this.type=Il.LOAD_STATE_SQL_OBJECT}}(),zl=function(){return function(l){this.payload=l,this.type=Il.SET_SQL_DATA_FILTERS}}(),Ql=function(){return function(l){this.payload=l,this.type=Il.SET_SQL_DATA_ROWS_COUNT}}(),Jl=function(){return function(l){this.payload=l,this.type=Il.SET_SQL_DATA_FILTER_PROP}}(),Kl=(e("ZF+8"),e("Jc0W"),e("TwVa")),Hl=(e("OLrf"),function(l){return l.map((function(l){return"object"!=typeof l?{fieldName:l}:l})).filter((function(l){return l.fieldName}))});function Zl(l){return Hl(l).map((function(l){return{fieldName:l.fieldName,dataType:l.dataType||Kl.d.NVARCHAR,size:Yl(l),isNullable:l.isNullable||!0}}))}function Xl(l){return l.filter((function(l){return l.isKey})).map((function(l){return{fieldName:l.fieldName}}))}function Yl(l){return l.dataType!==Kl.d.NVARCHAR&&l.dataType||l.size?l.size:Kl.e[Kl.d.NVARCHAR]}function ln(l){return l.replace(/&|\+|\)|\(|\/|@|\:|;|\?|\!|\*|\-/g,"").replace(/\s/g,"_")}function nn(l){void 0===l&&(l="");var n=l.match(/\/database\/[\w-]+\/([\w-]+)\/*/);return n&&"view"===n[1].toLowerCase()?H.c.View:H.c.Table}var en=(e("kiQV"),e("9Z1F")),tn=e("15JJ"),un=e("26FU"),on=e("F/XL"),an=e("XlPw"),rn=e("Xyxl"),dn=function(){function l(){}return l.prototype.ngOnInit=function(){this.data=Object(K.m)({rows:this.config.data,fieldNames:this.config.fields.map((function(l){return l.fieldName}))})},l.prototype.getColumnType=function(l){return Kl.f[l]},l}(),cn=e("wd/R"),sn=function(){function l(){}return l.prototype.run=function(l,n){var e=this,t=l[0].reduce((function(l,n,e){return l[ln(n)]=e,l}),{});return l.map((function(l,u){return 0===u?l:n.map((function(o,i){var a=null;o.sourceField&&"number"==typeof t[o.sourceField]&&(a=l[t[o.sourceField]],o.dataType!==Kl.d.DATE||a instanceof Date?o.dataType!==Kl.d.INT&&o.dataType!==Kl.d.BIGINT&&o.dataType!==Kl.d.FLOAT||"number"==typeof a||(a=Object(K.p)(a)):a=Object(K.o)(a));var r=n[i],d=r.preprocessFunc;return d&&e[d]?e[d](a,r.preprocessParams,u):a}))})).slice(1)},l.prototype.text=function(l,n){return n},l.prototype.parseNumber=function(l,n){if("number"==typeof l)return l;if("boolean"==typeof l)return+l;if("string"==typeof l){l=l.replace(/,/g,""),n&&n.split("").forEach((function(n){l=l.replace(n,"")}));var e=this.getKoef(l);try{return(l=parseFloat(l))*e}catch(t){return null}}return null},l.prototype.parseBoolean=function(l){var n=l.toString().toLowerCase();return!!["1","yes","true","on"].includes(n)||!["0","no","false","off"].includes(n)&&null},l.prototype.parseDate=function(l,n){if(!l)return null;var e=n?cn(l,n.split(",")):cn(l);return e.isValid()?e.toDate():null},l.prototype.autoid=function(l,n,e){var t=0;try{t=parseInt(n,10),isNaN(t)&&(t=0)}catch(u){}return t+e},l.prototype.getKoef=function(l){return l.includes("k")?1e3:l.includes("m")?1e6:l.includes("b")?1e9:1},l}(),pn=function(l){return l.autoid="int",l.text="nvarchar",l.parseDate="datetime2",l.parseBoolean="bit",l.parseNumber="int",l}({}),fn=new sn,mn=function(l){return l.Create="Creating new table",l.Importing="Importing data",l.Imported="Data successfully imported",l}({}),gn=function(){function l(l,n,e,t,u,o,i){this.fileService=l,this.authService=n,this.sqlService=e,this.store=t,this.notificationService=u,this.router=o,this.dialogService=i,this.dataTypes=Object.values(Kl.d),this.createTable$=new un.a(!0),this.loading=!1,this.preprocessors=H.d}return l.prototype.ngOnInit=function(){var l=this;this.metaData={objectId:0,objectName:null,objectOwner:this.authService.user.userName,objectType:"Table",fields:[]},this.store.select(sl).subscribe((function(n){l.connection=n})),this.tables$=this.store.select(dl),this.createTable$.subscribe((function(n){n?l.createNewTableColumns():l.createSelectedTableColumns()})),this.grid.addEventListener(this.grid.hostElement,"contextmenu",(function(n){var e=l.grid.hitTest(n);l.rowIndex=e.row})),this.grid.cellEditEnded.addHandler((function(n,e){var t=l.grid.rows[e.row].dataItem,u=l.grid.columns[e.col].binding,o=t[u];if(e.panel.cellType===rn.CellType.Cell){switch(u){case"dataType":t.size=Kl.e[o]||null;break;case"preprocessFunc":t.dataType=pn[o]||null,t.dataType&&(t.size=Kl.e[t.dataType]||null)}l.grid.refreshCells(!1)}}))},Object.defineProperty(l.prototype,"isValid",{get:function(){return this.metaData.objectOwner&&this.metaData.objectName&&this.metaData.fields.length},enumerable:!0,configurable:!0}),l.prototype.onCtxMenuClicked=function(){this.grid.collectionView.sourceCollection=this.grid.collectionView.items.slice(0,this.rowIndex).concat([{isKey:!1,dataType:Kl.d.NVARCHAR,size:Kl.e[Kl.d.NVARCHAR]}],this.grid.collectionView.items.slice(this.rowIndex))},l.prototype.onTableSelect=function(l){var n=this;this.loading=!0,this.sqlService.getObject(this.sqlConnectionUrl,l.objectOwner,l.objectName).subscribe((function(l){n.selectedTable=l,n.createSelectedTableColumns(),n.loading=!1}))},l.prototype.import=function(){var l=this,n=this.createTable$.value;this.loading=!0,this.progressMessage=n?mn.Create:mn.Importing;var e=this.grid.collectionView.items,t=E.__assign({},n?this.metaData:this.selectedTable,{fields:Zl(e),primaryKeys:Xl(e)});(n?this.sqlService.generateObject(this.sqlConnectionUrl,t):Object(on.a)(null)).pipe(Object(en.a)((function(n){var e=Object(K.j)(n)||"Failed to create new table";return l.notificationService.open({message:e,type:Kl.b.DANGER}),Object(an.a)(e)})),Object(tn.a)((function(){return l.saveData()}))).subscribe((function(n){return l.importHandler(t,n)}),(function(n){return l.importErrorHandler(n)}))},l.prototype.previewData=function(){this.dialogService.open(dn,{class:"modal-w-90 full-height d-flex flex-column"}).config={data:fn.run(this.data,this.grid.collectionView.items),fields:this.grid.collectionView.items}},Object.defineProperty(l.prototype,"sqlConnectionUrl",{get:function(){return"https://worksheets-web-api-test.azurewebsites.net/api/sql/"+this.connection},enumerable:!0,configurable:!0}),l.prototype.loadCSV=function(){var l=this;this.fileService.importCSVFile().subscribe((function(n){if(l.error=null,n.result){var e=n.result.data;l.metaData.objectName||(l.metaData.objectName=ln(n.file.name.replace(/.txt|-|.csv$/g,""))),l.data=e.filter((function(l){return""!==l.join("")})),l.rowsLoaded=l.data.length;try{l.typesDescriptor=l.getTypes(l.data),l.sourceFields=l.data[0].map((function(l){return ln(l)})),l.metaData.fields=Zl(l.sourceFields),l.createTable$.value?l.createNewTableColumns():l.createSelectedTableColumns()}catch(t){l.data=null,l.sourceFields=null,l.metaData.fields=null,l.error=t.message}finally{l.loading=!1}}else l.loading=!0}))},l.prototype.getSelectedTableTitle=function(){return this.selectedTable?this.selectedTable.objectOwner+"."+this.selectedTable.objectName:"Select table"},l.prototype.importHandler=function(l,n){var e=this;if(n.savedItemsCount===n.itemsToSaveCount)this.notificationService.open({type:Kl.b.SUCCESS,message:"Successfully inserted: "+n.inserted.toLocaleString()+"\n        , updated: "+n.updated.toLocaleString()+"\n        , deleted: "+n.deleted.toLocaleString()}),this.progressMessage=mn.Imported,this.createTable$.value&&this.store.dispatch(new Tl(this.connection)),setTimeout((function(){e.router.navigate(["/database",e.connection,l.objectOwner,l.objectName]),e.modalRef.hide(),e.loading=!1,e.progressMessage=null}),1e3);else{var t=n.savedItemsCount?"So far ":"";n.inserted&&(t+="Inserted: "+n.inserted.toLocaleString()+" "),n.updated&&(t+="Updated: "+n.updated.toLocaleString()+" "),n.deleted&&(t+="Deleted: "+n.deleted.toLocaleString()),this.progressMessage=mn.Importing+" "+n.itemsToSaveCount.toLocaleString()+" rows. "+t}},l.prototype.importErrorHandler=function(l){this.loading=!1,this.progressMessage=null,console.error(l)},l.prototype.createSelectedTableColumns=function(){var l=this;if(this.selectedTable){var n=new Set(this.selectedTable.primaryKeys.map((function(l){return l.fieldName})));this.tableColumns=Hl(this.selectedTable.fields).map((function(e,t){var u=l.sourceFields?l.sourceFields.find((function(l){return l===e.fieldName})):null;return{fieldName:e.fieldName,dataType:e.dataType||Kl.d.NVARCHAR,size:e.size,sourceField:u,isKey:n.has(e.fieldName),preprocessFunc:null,preprocessParams:null}}))}else this.tableColumns=[]},l.prototype.createNewTableColumns=function(){var l=this;this.sourceFields&&(this.tableColumns=Hl(this.sourceFields).map((function(n,e){var t=l.typesDescriptor["col"+e];return{fieldName:n.fieldName,dataType:n.dataType||t.type||Kl.d.NVARCHAR,size:n.size||t.size,sourceField:n.fieldName,isKey:n.isKey||Boolean(t.uniqueValues),preprocessFunc:null,preprocessParams:null}})))},l.prototype.saveData=function(){var l=this;return this.progressMessage=mn.Importing,this.sqlService.saveSqlObjectDataWithStatus(this.sqlConnectionUrl,this.createTable$.value?this.metaData:this.selectedTable,this.sendData).pipe(Object(en.a)((function(n){var e="string"==typeof n.error?n.error:"Failed to Import";return l.notificationService.open({message:e,type:Kl.b.DANGER}),Object(an.a)(e)})))},Object.defineProperty(l.prototype,"sendData",{get:function(){var l=this.grid.collectionView.items,n=l.map((function(l){return l.fieldName})),e=n.map((function(l,n){return l?n:-1})).filter((function(l){return-1!==l}));return{tableData:{fieldNames:n.filter((function(l){return l})),rows:fn.run(this.data,l).map((function(l){return l.filter((function(l,n){return e.includes(n)}))})).map((function(l){return l.map((function(l){return l instanceof Date?Object(K.d)(l):l}))}))}}},enumerable:!0,configurable:!0}),l.prototype.getTypes=function(l){for(var n=this,e=l[0].reduce((function(l,n,e){return l["col"+e]={fieldName:n,index:e,type:null,size:null,uniqueValues:new Set},l}),{}),t=1;t<l.length;t++)l[t].forEach((function(l,t){e["col"+t]=n.getType(e["col"+t],l)}));var u=!1;return Object.values(e).forEach((function(l){l.uniqueValues=l.uniqueValues&&!u,l.uniqueValues&&(u=!0)})),e},l.prototype.getType=function(l,n){if(l.uniqueValues&&l.uniqueValues.has(n)?l.uniqueValues=!1:l.uniqueValues&&l.uniqueValues.add(n),!n||!String(n).length)return l;var e=function(n){return null===l.type||l.type===Kl.d.INT?l.type=Number.isInteger(n)?n>2147483647?Kl.d.BIGINT:Kl.d.INT:Kl.d.FLOAT:null!==l.type&&l.type!==Kl.d.BIGINT||!Number.isInteger(n)?null!==l.type&&l.type!==Kl.d.FLOAT||(l.type=Kl.d.FLOAT):l.type=Kl.d.BIGINT,l};switch(typeof n){case"number":return e(n);case"string":if((null===l.type||l.type===Kl.d.DATE)&&Object(K.o)(n))return l.type=Kl.d.DATE,l;if(null===l.type||l.type===Kl.d.FLOAT||l.type===Kl.d.INT||l.type===Kl.d.BIGINT){var t=Object(K.p)(n);if(null!==t)return e(t)}l.type=Kl.d.NVARCHAR;var u=100*Math.ceil(n.length/100)||100;return(null===l.size||l.size<u)&&(l.size=u),l}return l},l}(),bn=function(){function l(l,n){this.store=l,this.dialogService=n,this.destroy$=new xl.a}return l.prototype.ngOnInit=function(){var l=this;this.list$=this.store.select(dl).pipe(Object(Dl.a)(this.destroy$)),this.store.select(gl,"connectionName").pipe(Object(Al.a)((function(l){return Boolean(l)})),Object(Dl.a)(this.destroy$)).subscribe((function(n){l.connectionName=n,l.store.dispatch(new Tl(l.connectionName))})),this.store.select(X).pipe(Object(Dl.a)(this.destroy$)).subscribe((function(n){l.listView.selectItem(n)}))},l.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},l.prototype.onSelect=function(l){var n=this.listView.selectedItem;if(n){var e=n.objectOwner;n.objectName===l.objectName&&e==e||this.store.dispatch(new Bl)}else this.store.dispatch(new Bl)},l.prototype.areObjectsEqual=function(l,n){return l&&n&&l.objectName===n.objectName&&l.objectOwner===n.objectOwner},l.prototype.refresh=function(){this.store.dispatch(new Ul)},l.prototype.import=function(){this.dialogService.open(gn,{class:"modal-xl full-height",keyboard:!1})},l}(),hn=e("H0VJ"),vn=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Cn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,21,"ul",[["aria-labelledby","button-basic"],["class","dropdown-menu"],["id","dropdown-basic"],["role","menu"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,3,"a",[["class","dropdown-item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t["\u0275did"](3,671744,null,0,x.r,[x.o,x.a,S.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](4,3),(l()(),t["\u0275ted"](-1,null,["SQL Query"])),(l()(),t["\u0275eld"](6,0,null,null,4,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,3,"a",[["class","dropdown-item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,8).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t["\u0275did"](8,671744,null,0,x.r,[x.o,x.a,S.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](9,2),(l()(),t["\u0275ted"](-1,null,["Table"])),(l()(),t["\u0275eld"](11,0,null,null,4,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,3,"a",[["class","dropdown-item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,13).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t["\u0275did"](13,671744,null,0,x.r,[x.o,x.a,S.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](14,3),(l()(),t["\u0275ted"](-1,null,["View"])),(l()(),t["\u0275eld"](16,0,null,null,2,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,1,"a",[["class","dropdown-item"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Stored Procedure"])),(l()(),t["\u0275eld"](19,0,null,null,2,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,1,"a",[["class","dropdown-item"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Function"]))],(function(l,n){var e=n.component,t=l(n,4,0,"/database",e.connectionName,"sql-query");l(n,3,0,t);var u=l(n,9,0,"/database",e.connectionName);l(n,8,0,u);var o=l(n,14,0,"/database",e.connectionName,"view");l(n,13,0,o)}),(function(l,n){l(n,2,0,t["\u0275nov"](n,3).target,t["\u0275nov"](n,3).href),l(n,7,0,t["\u0275nov"](n,8).target,t["\u0275nov"](n,8).href),l(n,12,0,t["\u0275nov"](n,13).target,t["\u0275nov"](n,13).href)}))}function yn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"a",[["class","p-1 pl-4 btn-link w-100"]],[[8,"title",0],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0,o=l.component;return"click"===n&&(u=!1!==t["\u0275nov"](l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),"click"===n&&(u=!1!==o.onSelect(l.parent.context.$implicit)&&u),u}),null,null)),t["\u0275did"](1,671744,null,0,x.r,[x.o,x.a,S.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](2,4),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-table"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" ","."," "]))],(function(l,n){var e=l(n,2,0,"/database",n.component.connectionName,n.parent.context.$implicit.objectOwner,n.parent.context.$implicit.objectName);l(n,1,0,e)}),(function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"",n.parent.context.$implicit.objectOwner,""),t["\u0275nov"](n,1).target,t["\u0275nov"](n,1).href),l(n,4,0,n.parent.context.$implicit.objectOwner,n.parent.context.$implicit.objectName)}))}function jn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"a",[["class","p-1 pl-4 btn-link w-100"]],[[8,"title",0],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0,o=l.component;return"click"===n&&(u=!1!==t["\u0275nov"](l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),"click"===n&&(u=!1!==o.onSelect(l.parent.context.$implicit)&&u),u}),null,null)),t["\u0275did"](1,671744,null,0,x.r,[x.o,x.a,S.LocationStrategy],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](2,5),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-cubes"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" ","."," "]))],(function(l,n){var e=l(n,2,0,"/database",n.component.connectionName,"view",n.parent.context.$implicit.objectOwner,n.parent.context.$implicit.objectName);l(n,1,0,e)}),(function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"",n.parent.context.$implicit.objectOwner,""),t["\u0275nov"](n,1).target,t["\u0275nov"](n,1).href),l(n,4,0,n.parent.context.$implicit.objectOwner,n.parent.context.$implicit.objectName)}))}function On(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,[[2,2]],null,1,null,yn)),t["\u0275did"](1,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,[[2,2]],null,1,null,jn)),t["\u0275did"](3,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){l(n,1,0,"Table"===n.context.$implicit.objectType),l(n,3,0,"View"===n.context.$implicit.objectType)}),null)}function wn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"i",[["class","fa mx-1"]],null,null,null,null,null)),t["\u0275prd"](512,null,S["\u0275NgClassImpl"],S["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,S.NgClass,[S["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"fa-table":0,"fa-cubes":1}),t["\u0275did"](4,933888,null,0,jl.a,[t.ElementRef,Ol.i,Ol.f,S["\u0275NgClassImpl"],[6,S.NgClass]],{ngClass:[0,"ngClass"],klass:[1,"klass"]},null),t["\u0275pod"](5,{"fa-table":0,"fa-cubes":1})],(function(l,n){var e=l(n,3,0,"Table"===n.context.$implicit.value,"View"===n.context.$implicit.value);l(n,2,0,"fa mx-1",e);var t=l(n,5,0,"Table"===n.context.$implicit.value,"View"===n.context.$implicit.value);l(n,4,0,t,"fa mx-1")}),null)}function Rn(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{listView:0}),(l()(),t["\u0275eld"](1,0,null,null,13,"div",[["class","toolbar mb-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,16777216,null,null,8,"div",[["class","btn-group mr-2"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),t["\u0275prd"](512,null,T.f,T.f,[]),t["\u0275did"](4,212992,null,0,T.c,[t.ElementRef,t.Renderer2,t.ViewContainerRef,_.a,T.a,T.f],null,null),(l()(),t["\u0275eld"](5,0,null,null,3,"button",[["aria-controls","dropdown-basic"],["class","btn btn-primary dropdown-toggle"],["dropdownToggle",""],["id","button-basic"],["type","button"]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,6).onClick()&&u),u}),null,null)),t["\u0275did"](6,147456,null,0,T.g,[t.ChangeDetectorRef,T.c,t.ElementRef,t.Renderer2,T.f],null,null),(l()(),t["\u0275ted"](-1,null,["New "])),(l()(),t["\u0275eld"](8,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Cn)),t["\u0275did"](10,16384,null,0,T.d,[T.f,t.ViewContainerRef,t.TemplateRef],null,null),(l()(),t["\u0275eld"](11,0,null,null,1,"button",[["class","btn btn-secondary mr-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.refresh()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,[" Refresh "])),(l()(),t["\u0275eld"](13,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.import()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,[" Import "])),(l()(),t["\u0275eld"](15,0,null,null,6,"app-list-view",[["class","d-flex h-100 overflow-auto"],["group","objectType"],["orderBy","id"]],null,[[null,"select"]],(function(l,n,e){var t=!0;return"select"===n&&(t=!1!==l.component.onSelect(e)&&t),t}),wl.b,wl.a)),t["\u0275did"](16,638976,[[1,4],["listView",4]],2,Rl.a,[],{list:[0,"list"],group:[1,"group"],orderBy:[2,"orderBy"],comparator:[3,"comparator"]},{select:"select"}),t["\u0275qud"](335544320,2,{itemTemplate:0}),t["\u0275qud"](335544320,3,{iconTemplate:0}),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](0,[[2,2]],null,0,null,On)),(l()(),t["\u0275and"](0,[[2,2],[3,2],["icon",2]],null,0,null,wn))],(function(l,n){var e=n.component;l(n,4,0),l(n,16,0,t["\u0275unv"](n,16,0,t["\u0275nov"](n,19).transform(e.list$)),"objectType","id",e.areObjectsEqual)}),(function(l,n){l(n,2,0,t["\u0275nov"](n,4).dropup,t["\u0275nov"](n,4).isOpen,t["\u0275nov"](n,4).isOpen&&t["\u0275nov"](n,4).isBs4),l(n,5,0,!0,t["\u0275nov"](n,6).isDisabled,t["\u0275nov"](n,6).isOpen)}))}var Sn=e("ad02"),Tn=e("67Y/"),_n=function(){function l(l){this.store=l,this.layoutConfig={icon:"assets/img/rc-logo-64x64.png",smIcon:"assets/img/rc-logo-36x36.png",appName:"database-manager"},this.destroy$=new xl.a}return l.prototype.ngOnInit=function(){var l=this;this.store.select(gl,"connectionName").pipe(Object(Al.a)((function(l){return Boolean(l)})),Object(Sn.a)(),Object(Dl.a)(this.destroy$)).subscribe((function(n){l.store.dispatch(new El(n))})),this.store.select(fl).pipe(Object(Dl.a)(this.destroy$),Object(tn.a)((function(n){return l.store.select(ml,["ownerName","objectName"]).pipe(Object(Sn.a)((function(l,n){return JSON.stringify(l)===JSON.stringify(n)})),Object(Dl.a)(l.destroy$),Object(Tn.a)((function(l){return{params:l,url:n}})))}))).subscribe((function(n){var e=n.params,t=e.ownerName,u=e.objectName;t&&u?(l.store.dispatch(new Vl({objectOwner:t,objectName:u,objectType:nn(n.url)})),l.store.dispatch(new Fl({objectOwner:t,objectName:u}))):(l.store.dispatch(new Ll(null)),l.store.dispatch(new Ml(null)))}))},l.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},l}(),En=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Nn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"app-layout",[],null,null,null,j.b,j.a)),t["\u0275did"](1,114688,null,0,O.a,[w.b,R.a],{config:[0,"config"]},null),(l()(),t["\u0275eld"](2,0,null,0,4,"h2",[["class","mb-0 ml-0 top-sub-header w-md-down-50"],["title",""]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["WORKSHEET "])),(l()(),t["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["SYSTEMS"])),(l()(),t["\u0275ted"](-1,null,[" - Database"])),(l()(),t["\u0275eld"](7,0,null,1,1,"app-db-connections",[["class","ml-auto d-flex mr-2"],["header",""]],null,null,null,yl,hl)),t["\u0275did"](8,114688,null,0,bl,[x.o,N.m],null,null),(l()(),t["\u0275eld"](9,0,null,3,1,"app-sql-objects",[["class","h-100 w-100 py-2 d-flex flex-column"],["sidebar",""]],null,null,null,Rn,vn)),t["\u0275did"](10,245760,null,0,bn,[N.m,hn.a],null,null),(l()(),t["\u0275eld"](11,16777216,null,4,1,"router-outlet",[["content",""]],null,null,null,null,null)),t["\u0275did"](12,212992,null,0,x.t,[x.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],(function(l,n){l(n,1,0,n.component.layoutConfig),l(n,8,0),l(n,10,0),l(n,12,0)}),null)}function xn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-manager-layout",[],null,null,null,Nn,En)),t["\u0275did"](1,245760,null,0,_n,[N.m],null,null)],(function(l,n){l(n,1,0)}),null)}var Dn=t["\u0275ccf"]("app-manager-layout",_n,xn,{},{},[]),An=e("pKUh"),In=e("YAQW"),Fn=e("gIcY"),Ln=function(){function l(l,n){this.store=l,this.dbService=n,this.destroy$=new xl.a}return l.prototype.ngOnInit=function(){var l=this;this.rowsCount$=this.store.select(il),this.perPage$=this.store.select(al),this.store.select(X).pipe(Object(Dl.a)(this.destroy$),Object(Al.a)((function(l){return Boolean(l.objectOwner)})),Object(Sn.a)((function(l,n){return l.objectOwner===n.objectOwner&&n.objectName===l.objectName})),Object(D.a)(this.store),Object(tn.a)((function(n){var e=n[0];return l.dbService.selectSqlObjectData(n[1].dbConnections.current,e.objectOwner,e.objectName,{fields:["count|1"]})}))).subscribe((function(n){l.store.dispatch(new Ql(n.rows[0][0]))}))},l.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},l.prototype.onRowsCountSelect=function(l){this.store.dispatch(new Jl({limitRowsCount:l.target.value}))},l}(),Vn=e("Gwbs"),Mn=t["\u0275crt"]({encapsulation:0,styles:[[".rows-count[_ngcontent-%COMP%]{right:0;display:inline-block;width:auto;z-index:11}.rows-count[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:inline-block;width:auto;height:1.5rem}"]],data:{}});function qn(l){return t["\u0275vid"](0,[t["\u0275pid"](0,S.DecimalPipe,[t.LOCALE_ID]),(l()(),t["\u0275eld"](1,0,null,null,22,"div",[["class","rows-count position-absolute pr-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Show max "])),(l()(),t["\u0275eld"](3,0,null,null,17,"select",[["class","form-control py-0"]],[[8,"value",0]],[[null,"change"]],(function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.onRowsCountSelect(e)&&t),t}),null,null)),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](5,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](6,147456,null,0,Fn.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],null,null),t["\u0275did"](7,147456,null,0,Fn["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],null,null),(l()(),t["\u0275ted"](-1,null,["1000"])),(l()(),t["\u0275eld"](9,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](10,147456,null,0,Fn.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],null,null),t["\u0275did"](11,147456,null,0,Fn["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],null,null),(l()(),t["\u0275ted"](-1,null,["10000"])),(l()(),t["\u0275eld"](13,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](14,147456,null,0,Fn.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],null,null),t["\u0275did"](15,147456,null,0,Fn["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],null,null),(l()(),t["\u0275ted"](-1,null,["50000"])),(l()(),t["\u0275eld"](17,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),t["\u0275did"](18,147456,null,0,Fn.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275did"](19,147456,null,0,Fn["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["ALL"])),(l()(),t["\u0275ted"](21,null,[" rows. \xa0\xa0\xa0\xa0 Total "," rows."])),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275ppd"](23,1)],(function(l,n){l(n,18,0,""),l(n,19,0,"")}),(function(l,n){var e=n.component;l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform(e.perPage$)));var u=t["\u0275unv"](n,21,0,l(n,23,0,t["\u0275nov"](n,0),t["\u0275unv"](n,21,0,t["\u0275nov"](n,22).transform(e.rowsCount$))));l(n,21,0,u)}))}var kn=e("21Lb"),Wn=e("5H3E"),$n=e("8X1S"),Pn=e("J2jl"),Gn=e("DogD"),Un=function(){function l(l,n,e){var t=this;this.store=l,this.authService=n,this.dialogService=e,this.dataTypes=Object.values(Kl.d),this.collection=new Gn.CollectionView,this.editCollectionMap=new Map,this.addCollectionSet=new Set,this.destroy$=new xl.a,this.formatItem=function(l,n,e,u){var o=l.rows[n].dataItem,i=l.columns[e].binding,a=t.editCollectionMap.get(o);l.cellType===rn.CellType.Cell&&o&&(t.addCollectionSet.has(o)?u.classList.add("added-item"):a&&a.hasOwnProperty(i)?u.classList.add("edited-item"):(u.classList.remove("added-item"),u.classList.remove("edited-item")))}}return l.prototype.ngOnInit=function(){var l=this;this.store.select(X).pipe(Object(Dl.a)(this.destroy$),Object(Al.a)((function(l){return Boolean(l)}))).subscribe((function(n){l.editCollectionMap.clear(),l.addCollectionSet.clear(),l.grid&&l.grid.refreshCells(!1)})),this.store.select(el).pipe(Object(Dl.a)(this.destroy$)).subscribe((function(n){if(!Object(K.c)(l.dataObject,n)){l.dataObject=n;var e=Object(K.l)(n);Object(K.r)(function(l){return Hl(l).map((function(l){return{fieldName:l.fieldName,dataType:l.dataType||Kl.d.NVARCHAR,size:Yl(l),isKey:l.isKey||!1,isNullable:l.isNullable||!0}}))}(l.collection.items),e)||(l.collection.sourceCollection=e)}!l.dataObject.objectOwner&&l.authService.user&&(l.dataObject.objectOwner=l.authService.user.userName,l.store.dispatch(new Pl(l.dataObject)))})),this.isChanged$=this.store.select(nl)},l.prototype.initializedGrid=function(l){var n=this;this.collection.trackChanges=!0,l.rowAdded.addHandler((function(e,t){n.addCollectionSet.add(n.collection.currentAddItem),l.refreshCells(!1)})),l.cellEditEnded.addHandler((function(e,t){var u=n.collection.currentEditItem,o=Kl.e[u.dataType]||null,i=l.columns[3].binding,a=n.collection.currentEditItem[i];if(!n.addCollectionSet.has(u)){var r=l.columns[t.col].binding,d=l.rows[t.row].dataItem[r],c=n.editCollectionMap.get(u)||{};c.hasOwnProperty(r)||(c[r]=t.data),c[r]===d&&delete c[r],t.panel.cellType===rn.CellType.Cell&&2===t.col&&(c.hasOwnProperty(i)||(c[i]=a),c[i]===o&&delete c[i]),n.editCollectionMap.set(u,c)}t.panel.cellType===rn.CellType.Cell&&2===t.col&&(u[i]=o),l.refreshCells(!1),n.onFieldsUpdate()}))},l.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},l.prototype.save=function(){this.form.ngSubmit.emit()},l.prototype.onTableDelete=function(){var l=this;if(this.dataObject){var n=this.dataObject;this.dialogService.confirmation("Delete table "+n.objectOwner+"."+n.objectName+". Are you sure?").subscribe((function(n){n&&l.store.dispatch(new $l(l.dataObject))}))}},l.prototype.onSubmit=function(){this.form.valid&&this.store.dispatch(new ql(this.getCurrentState()))},l.prototype.onUpdate=function(){this.store.dispatch(new Pl(this.getCurrentState()))},l.prototype.onFieldsUpdate=function(){this.store.dispatch(new Pl(this.getCurrentState()))},l.prototype.getCurrentState=function(){return E.__assign({},this.dataObject,{fields:Zl(this.collection.items),primaryKeys:Xl(this.collection.items)})},l}(),Bn=e("H4hQ"),zn=t["\u0275crt"]({encapsulation:0,styles:[".table-title[_ngcontent-%COMP%] {\n      flex: 0;\n    }"],data:{}});function Qn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onTableDelete()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Delete"]))],null,null)}function Jn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Owner Name is required."]))],null,null)}function Kn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","alert alert-danger py-1 px-2 m-0 w-100"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Jn)),t["\u0275did"](2,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,t["\u0275nov"](n.parent,26).errors.required)}),null)}function Hn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Table Name is required."]))],null,null)}function Zn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","alert alert-danger py-1 px-2 m-0 w-100"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Hn)),t["\u0275did"](2,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,t["\u0275nov"](n.parent,39).errors.required)}),null)}function Xn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,63,"form",[["class","d-flex flex-column h-100"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0,o=l.component;return"submit"===n&&(u=!1!==t["\u0275nov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,2).onReset()&&u),"ngSubmit"===n&&(u=!1!==o.onSubmit()&&u),u}),null,null)),t["\u0275did"](1,16384,null,0,Fn["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](2,4210688,[[1,4],["form",4]],0,Fn.NgForm,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,Fn.ControlContainer,null,[Fn.NgForm]),t["\u0275did"](4,16384,null,0,Fn.NgControlStatusGroup,[[4,Fn.ControlContainer]],null,null),(l()(),t["\u0275eld"](5,0,null,null,11,"div",[["fxLayout","row"],["fxLayoutAlign","stretch center"]],null,null,null,null,null)),t["\u0275did"](6,671744,null,0,kn.f,[t.ElementRef,Ol.i,[2,kn.o],Ol.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](7,671744,null,0,kn.e,[t.ElementRef,Ol.i,[2,kn.m],Ol.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(l()(),t["\u0275eld"](8,0,null,null,2,"h5",[["class","col-sm-12 px-0"],["fxFlex",""]],null,null,null,null,null)),t["\u0275did"](9,671744,null,0,kn.b,[t.ElementRef,Ol.i,Ol.e,kn.l,Ol.f],{fxFlex:[0,"fxFlex"]},null),(l()(),t["\u0275ted"](-1,null,["Table Information"])),(l()(),t["\u0275eld"](11,0,null,null,5,"div",[["class","row mx-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"button",[["class","btn btn-primary ml-auto mr-1"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275ted"](-1,null,["Save"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Qn)),t["\u0275did"](16,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](17,0,null,null,26,"div",[["class","row mx-0"],["style","max-width: 750px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,12,"div",[["class","form-group col-sm-3 px-0 mb-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"label",[["for","objectOwner"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Owner"])),(l()(),t["\u0275eld"](21,0,null,null,7,"input",[["class","form-control"],["id","objectOwner"],["name","objectOwner"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,22)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,22).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,22)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,22)._compositionEnd(e.target.value)&&u),"input"===n&&(u=!1!==o.onUpdate()&&u),"ngModelChange"===n&&(u=!1!==(o.dataObject.objectOwner=e)&&u),u}),null,null)),t["\u0275did"](22,16384,null,0,Fn.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,Fn.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](23,16384,null,0,Fn.RequiredValidator,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,Fn.NG_VALIDATORS,(function(l){return[l]}),[Fn.RequiredValidator]),t["\u0275prd"](1024,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Fn.DefaultValueAccessor]),t["\u0275did"](26,671744,[["objectOwner",4]],0,Fn.NgModel,[[2,Fn.ControlContainer],[6,Fn.NG_VALIDATORS],[8,null],[6,Fn.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,Fn.NgControl,null,[Fn.NgModel]),t["\u0275did"](28,16384,null,0,Fn.NgControlStatus,[[4,Fn.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Kn)),t["\u0275did"](30,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](31,0,null,null,12,"div",[["class","form-group col-sm-9 pr-0 pl-2 mb-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Table Name"])),(l()(),t["\u0275eld"](34,0,null,null,7,"input",[["class","form-control"],["id","objectName"],["name","objectName"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,35)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,35).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,35)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,35)._compositionEnd(e.target.value)&&u),"input"===n&&(u=!1!==o.onUpdate()&&u),"ngModelChange"===n&&(u=!1!==(o.dataObject.objectName=e)&&u),u}),null,null)),t["\u0275did"](35,16384,null,0,Fn.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,Fn.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](36,16384,null,0,Fn.RequiredValidator,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,Fn.NG_VALIDATORS,(function(l){return[l]}),[Fn.RequiredValidator]),t["\u0275prd"](1024,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Fn.DefaultValueAccessor]),t["\u0275did"](39,671744,[["objectName",4]],0,Fn.NgModel,[[2,Fn.ControlContainer],[6,Fn.NG_VALIDATORS],[8,null],[6,Fn.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,Fn.NgControl,null,[Fn.NgModel]),t["\u0275did"](41,16384,null,0,Fn.NgControlStatus,[[4,Fn.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Zn)),t["\u0275did"](43,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](44,0,null,null,19,"div",[["class","row flex-fill mx-0 flex-column h-100"],["style","max-width: 750px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](45,0,null,null,1,"h5",[["class","col-sm-12 table-title px-0"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Define Table Fields"])),(l()(),t["\u0275eld"](47,0,null,null,16,"div",[["class","col fields-container d-flex h-100 px-0 mb-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](48,0,null,null,15,"wj-flex-grid",[["class","h-100"]],null,[[null,"initialized"],[null,"deletedRow"]],(function(l,n,e){var u=!0,o=l.component;return"initialized"===n&&(u=!1!==o.initializedGrid(t["\u0275nov"](l,50))&&u),"deletedRow"===n&&(u=!1!==o.onFieldsUpdate()&&u),u}),Wn.d,Wn.a)),t["\u0275prd"](5120,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[$n.WjValueAccessorFactory(l)]}),["WjComponent"]),t["\u0275did"](50,4440064,[[2,4],["grid",4]],0,Pn.WjFlexGrid,[t.ElementRef,t.Injector,[3,"WjComponent"],t.ChangeDetectorRef],{allowAddNew:[0,"allowAddNew"],allowDelete:[1,"allowDelete"],itemFormatter:[2,"itemFormatter"],itemsSource:[3,"itemsSource"]},{initialized:"initialized",deletedRowNg:"deletedRow"}),t["\u0275prd"](2048,null,"WjComponent",null,[Pn.WjFlexGrid]),(l()(),t["\u0275eld"](52,0,null,0,2,"wj-flex-grid-column",[["binding","isKey"],["dataType","Boolean"],["header","IsKey"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](54,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataType:[0,"dataType"],binding:[1,"binding"],header:[2,"header"],width:[3,"width"]},null),(l()(),t["\u0275eld"](55,0,null,0,2,"wj-flex-grid-column",[["binding","fieldName"],["header","Field Name"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](57,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{binding:[0,"binding"],header:[1,"header"],width:[2,"width"],minWidth:[3,"minWidth"]},null),(l()(),t["\u0275eld"](58,0,null,0,2,"wj-flex-grid-column",[["binding","dataType"],["header","Field Data Type"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](60,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataMap:[0,"dataMap"],binding:[1,"binding"],header:[2,"header"]},null),(l()(),t["\u0275eld"](61,0,null,0,2,"wj-flex-grid-column",[["binding","size"],["dataType","Number"],["header","Size"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](63,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataType:[0,"dataType"],binding:[1,"binding"],header:[2,"header"],width:[3,"width"]},null)],(function(l,n){var e=n.component;l(n,6,0,"row"),l(n,7,0,"stretch center"),l(n,9,0,""),l(n,16,0,e.dataObject),l(n,23,0,""),l(n,26,0,"objectOwner",e.dataObject.objectOwner),l(n,30,0,t["\u0275nov"](n,26).invalid&&(t["\u0275nov"](n,26).dirty||t["\u0275nov"](n,26).touched)),l(n,36,0,""),l(n,39,0,"objectName",e.dataObject.objectName),l(n,43,0,t["\u0275nov"](n,39).invalid&&(t["\u0275nov"](n,39).dirty||t["\u0275nov"](n,39).touched)),l(n,50,0,!0,!0,e.formatItem,e.collection),l(n,54,0,"Boolean","isKey","IsKey",50),l(n,57,0,"fieldName","Field Name","*",50),l(n,60,0,e.dataTypes,"dataType","Field Data Type"),l(n,63,0,"Number","size","Size",70)}),(function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),l(n,12,0,!t["\u0275unv"](n,12,0,t["\u0275nov"](n,13).transform(e.isChanged$))),l(n,21,0,t["\u0275nov"](n,23).required?"":null,t["\u0275nov"](n,28).ngClassUntouched,t["\u0275nov"](n,28).ngClassTouched,t["\u0275nov"](n,28).ngClassPristine,t["\u0275nov"](n,28).ngClassDirty,t["\u0275nov"](n,28).ngClassValid,t["\u0275nov"](n,28).ngClassInvalid,t["\u0275nov"](n,28).ngClassPending),l(n,34,0,t["\u0275nov"](n,36).required?"":null,t["\u0275nov"](n,41).ngClassUntouched,t["\u0275nov"](n,41).ngClassTouched,t["\u0275nov"](n,41).ngClassPristine,t["\u0275nov"](n,41).ngClassDirty,t["\u0275nov"](n,41).ngClassValid,t["\u0275nov"](n,41).ngClassInvalid,t["\u0275nov"](n,41).ngClassPending)}))}function Yn(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{form:0}),t["\u0275qud"](671088640,2,{grid:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,Xn)),t["\u0275did"](3,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,3,0,n.component.dataObject)}),null)}var le=e("To+3"),ne=e("oksU"),ee=e("OZfm"),te=e("NJnL"),ue=e("TWxW"),oe=e("s90X"),ie=e("aa1+"),ae=e("xuMK"),re=e("jYNz"),de=e("dzgT"),ce=e("a5yf"),se=e("4CEX"),pe=e("LXVg"),fe=e("mlm9"),me=function(){function l(l,n,e,t){this.store=l,this.actions$=n,this.dialogService=e,this.fileService=t,this.filters={},this.currentPage=1,this.destroy$=new xl.a}return l.prototype.ngOnInit=function(){var l=this;this.isChanged$=this.store.select(ul),this.fields$=this.store.select(ll).pipe(Object(Dl.a)(this.destroy$)),this.fields$.subscribe((function(n){l.fields=n.map((function(n){return{isKey:n.isKey,bindingName:n.fieldName,sqlDataType:n.dataType,headerText:l.getColumnHeader(n.fieldName),width:l.getColumnWidth(n.fieldName),dataType:l.getColumnType(n.fieldName,n.dataType),displayFormat:l.getColumnDisplayFormat(n.fieldName)}}))})),this.store.select(sl).subscribe((function(n){l.connection=n})),Object(de.a)([this.fields$,this.store.select(Y)]).pipe(Object(Al.a)((function(l){var n=l[0];return n&&0!==n.length})),Object(Dl.a)(this.destroy$)).subscribe((function(n){l.refreshData(n[1])})),this.actions$.pipe(Object(re.e)(Il.REFRESH_SQL_OBJECT),Object(Dl.a)(this.destroy$),Object(D.a)(this.store)).subscribe((function(n){l.refreshData(n[1].sqlObject.data),l.currentPage=1})),this.loading$=this.store.select(ol),this.store.select(al).subscribe((function(n){l.limitRows=n})),this.store.select(il).subscribe((function(n){l.rowsCount=n})),this.store.select(X).subscribe((function(n){l.dataObject=n,l.filters={},l.currentPage=1,l.localGridConfig=new pe.a("database-"+l.connection,n.objectOwner+"-"+n.objectName),setTimeout((function(){l.grid.autoSizeRow(0,!0)}))}))},l.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},l.prototype.saveData=function(){this.store.dispatch(new kl)},l.prototype.getColumnWidth=function(l,n){return void 0===n&&(n=150),this.localGridConfig&&this.localGridConfig.getColumn(l).width||n},l.prototype.getColumnHeader=function(l){return this.localGridConfig&&this.localGridConfig.getColumn(l).header},l.prototype.getColumnType=function(l,n){return this.localGridConfig&&this.localGridConfig.getColumn(l).dataType||Kl.f[n]},l.prototype.getColumnDisplayFormat=function(l){return this.localGridConfig&&this.localGridConfig.getColumn(l).displayFormat||"dd/MM/yyyy"},l.prototype.initializedGrid=function(l){var n=this;this.gridContext=Object(ce.a)(l),l.cellEditEnded.addHandler((function(){return n.changeHandler()})),l.deletedRow.addHandler((function(){return n.changeHandler()})),l.addEventListener(l.hostElement,"contextmenu",(function(e){var t=l.hitTest(e);n.columnToEdit=n.fields.find((function(l,n){return t.col===n})),n.contextMenuValue=n.grid.collectionView.items[t.row][n.columnToEdit.bindingName]}));var e=l.itemFormatter;l.itemFormatter=function(n,t,u,o){e(n,t,u,o);var i=n.columns[u].binding;if(n.cellType===rn.CellType.ColumnHeader&&o.firstChild instanceof HTMLElement){var a=o.firstChild.querySelector("#sort-icon");a&&o.firstChild.removeChild(a);var r=l.collectionView.sortDescriptions[0];if(r&&r.property===i){var d=document.createElement("SPAN");d.id="sort-icon",d.className=r.ascending?"wj-glyph-up":"wj-glyph-down",o.firstChild.appendChild(d)}}},l.sortingColumn.addHandler((function(l,n){n.data.target.classList.contains("fa-filter")&&(n.cancel=!0)})),l.resizingColumn.addHandler((function(e,t){n.localGridConfig&&n.localGridConfig.saveColumn(l.columns[t.col].binding,{width:l.columns[t.col].renderWidth})}))},l.prototype.exportToCSV=function(){this.fileService.exportToFile(this.grid.collectionView.sourceCollection,{fileType:Kl.a.CSV,fileName:this.dataObject.objectOwner+"-"+this.dataObject.objectName})},l.prototype.exportToExcel=function(){fe.FlexGridXlsxConverter.saveAsync(this.grid,{includeColumnHeaders:!0},this.dataObject.objectOwner+"-"+this.dataObject.objectName)},l.prototype.onCtxMenuClicked=function(l){switch(l.value){case"edit-column":this.editColumn();break;case"fill-all":this.fillRows("all");break;case"fill-empty":this.fillRows("empty")}},l.prototype.editColumn=function(){var l=this,n=this.dialogService.open(se.a,{class:"modal-lg"});n.config=[this.columnToEdit],n.init.pipe(Object(tn.a)((function(){return n.component.save}))).subscribe((function(n){n.forEach((function(n){l.localGridConfig.saveColumn(n.bindingName,n)}));var e=n[0],t=l.fields.findIndex((function(l){return l.bindingName===e.bindingName}));l.fields.splice(t,1,e)}))},l.prototype.fillRows=function(l){var n=this,e=!1;this.grid.collectionView.sourceCollection.forEach((function(t){var u=n.columnToEdit.bindingName,o=t[u];n.updateCondition(o,l)&&(t[u]=n.contextMenuValue,n.gridContext.setEditValue(t,u,o,n.contextMenuValue),e=!0)})),e&&(this.grid.refresh(!0),this.changeHandler())},l.prototype.updateCondition=function(l,n){switch(n){case"all":return l!==this.contextMenuValue;case"empty":return[null,void 0,""].includes(l);default:return!0}},l.prototype.changeHandler=function(){var l=this.gridContext.state,n=l.added,e=l.edited,t=[];e&&(t=t.concat(e)),n&&(t=t.concat(n)),this.store.dispatch(new Wl(t))},l.prototype.onFiltersChange=function(l){this.filters=E.__assign({},l),this.applyFilters()},l.prototype.onApply=function(l,n){var e;this.filters=E.__assign({},this.filters,((e={})[n.bindingName]=l,e)),this.applyFilters()},Object.defineProperty(l.prototype,"skipRows",{get:function(){return(this.currentPage-1)*this.limitRows},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"filtersList",{get:function(){var l=this;return Object.entries(this.filters).filter((function(l){return Boolean(l[1])})).map((function(n){var e=n[0];return{fieldName:e,value:n[1].map((function(n){if(l.localGridConfig.getColumn(e).dataType===Gn.DataType.Date){var t=l.localGridConfig.getColumn(e).displayFormat;return Object(K.h)(n,t)}return n instanceof Date?Object(K.d)(n):null===n?"[NULL]":n})).join(", ")}}))},enumerable:!0,configurable:!0}),l.prototype.onNextPage=function(l){if(this.currentPage>=1&&l>0&&this.skipRows+this.limitRows<this.rowsCount)this.currentPage++;else{if(!(this.currentPage>=2&&l<0))return;this.currentPage--}this.limitRows&&this.store.dispatch(new Jl({skipRowsCount:this.skipRows}))},l.prototype.applyFilters=function(){this.store.dispatch(new zl({filters:Object(K.k)(this.filters)})),this.store.dispatch(new Fl(this.dataObject))},l.prototype.refreshData=function(l){this.data=this.formatData(Object(K.e)(l)),this.gridContext&&this.gridContext.clear()},l.prototype.formatData=function(l){var n=this;return l&&l.fieldNames?(l.dataTypes=l.fieldNames.map((function(l){var e=n.fields.find((function(n){return n.bindingName===l}));return e?e.sqlDataType:null})),Object(K.m)(l)):[]},l}(),ge=e("Ub3T"),be=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.data-grid[_ngcontent-%COMP%]{height:calc(100% - 25px)}.data-grid[_ngcontent-%COMP%]   app-filter[_ngcontent-%COMP%]{-webkit-box-ordinal-group:2;order:1}.data-grid[_ngcontent-%COMP%]     .wj-cell.wj-header>div{display:-webkit-box;display:flex;height:100%;-webkit-box-align:center;align-items:center;max-height:50px}.applied-filters-list[_ngcontent-%COMP%]{list-style-type:none}.text-normal[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;width:100%;padding-right:5px;max-height:50px;text-overflow:ellipsis;overflow:hidden;text-align:center;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}"]],data:{}});function he(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-primary ml-auto mr-0 align-self-baseline mb-2"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.saveData()&&t),t}),null,null)),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275ted"](-1,null,["Save"]))],null,(function(l,n){var e=n.component;l(n,0,0,!t["\u0275unv"](n,0,0,t["\u0275nov"](n,1).transform(e.isChanged$)))}))}function ve(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"ul",[["class","dropdown-menu left-menu"],["role","menu"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"a",[["class","dropdown-item cursor-pointer"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.exportToExcel()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Export to Excel"])),(l()(),t["\u0275eld"](4,0,null,null,2,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"a",[["class","dropdown-item cursor-pointer"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.exportToCSV()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Export to CSV"]))],null,null)}function Ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,(function(l,n){l(n,1,0,n.context.$implicit)}))}function ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner bg-white flex-column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","spinner-border"],["role","status"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."])),(l()(),t["\u0275and"](16777216,null,null,1,null,Ce)),t["\u0275did"](5,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,5,0,n.context.ngIf.messages)}),null)}function je(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","text-normal"]],[[8,"title",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),(l()(),t["\u0275eld"](2,0,null,null,1,"app-filter",[],null,[[null,"apply"]],(function(l,n,e){var t=!0;return"apply"===n&&(t=!1!==l.component.onApply(e,l.parent.context.$implicit)&&t),t}),le.b,le.a)),t["\u0275did"](3,638976,null,0,ne.a,[Vn.a],{icon:[0,"icon"],field:[1,"field"],currentFilters:[2,"currentFilters"],dataObject:[3,"dataObject"],connection:[4,"connection"]},{apply:"apply"})],(function(l,n){var e=n.component;l(n,3,0,!0,n.parent.context.$implicit,e.filters,e.dataObject,e.connection)}),(function(l,n){l(n,0,0,n.parent.context.$implicit.headerText),l(n,1,0,n.parent.context.$implicit.headerText)}))}function Oe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"wj-flex-grid-column",[],null,null,null,Wn.c,Wn.b)),t["\u0275did"](1,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataType:[0,"dataType"],binding:[1,"binding"],format:[2,"format"],header:[3,"header"],width:[4,"width"]},null),t["\u0275prd"](2048,null,"WjComponent",null,[Pn.WjFlexGridColumn]),(l()(),t["\u0275and"](16777216,null,0,2,null,je)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridCellTemplate]),t["\u0275did"](5,212992,null,0,Pn.WjFlexGridCellTemplate,[t.ViewContainerRef,[2,t.TemplateRef],t.ElementRef,[3,"WjComponent"],t.Renderer,t.Injector,t.ChangeDetectorRef],{wjFlexGridCellTemplate:[0,"wjFlexGridCellTemplate"],cellTypeStr:[1,"cellTypeStr"]},null)],(function(l,n){l(n,1,0,n.context.$implicit.dataType,n.context.$implicit.bindingName,n.context.$implicit.displayFormat,n.context.$implicit.headerText,n.context.$implicit.width),l(n,5,0,"","ColumnHeader")}),null)}function we(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,16777216,null,null,1,"i",[["class","fa fa-filter cursor-pointer px-1"],["triggers","mouseenter:mouseleave"]],null,null,null,null,null)),t["\u0275did"](1,212992,null,0,ee.c,[ee.a,t.ElementRef,t.Renderer2,t.ViewContainerRef,_.a,te.a],{popover:[0,"popover"],triggers:[1,"triggers"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){l(n,1,0,t["\u0275nov"](n.parent,61),"mouseenter:mouseleave")}),null)}function Re(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" |"])),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-angle-double-left ml-1 cursor-pointer"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onNextPage(-1)&&t),t}),null,null)),(l()(),t["\u0275ted"](3,null,[" Page: ",""])),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-angle-double-right cursor-pointer"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onNextPage(1)&&t),t}),null,null))],null,(function(l,n){l(n,3,0,n.component.currentPage)}))}function Se(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275ted"](3,null,[": "," "]))],null,(function(l,n){l(n,2,0,n.context.$implicit.fieldName),l(n,3,0,n.context.$implicit.value)}))}function Te(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"ul",[["class","applied-filters-list px-0"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Se)),t["\u0275did"](2,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.filtersList)}),null)}function _e(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Apply Filter"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Te)),t["\u0275did"](3,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){l(n,3,0,n.component.filters)}),null)}function Ee(l){return t["\u0275vid"](0,[t["\u0275pid"](0,S.DecimalPipe,[t.LOCALE_ID]),t["\u0275qud"](402653184,1,{grid:0}),(l()(),t["\u0275eld"](2,0,null,null,17,"div",[["class","row mx-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"app-filters",[],null,[[null,"changed"]],(function(l,n,e){var t=!0;return"changed"===n&&(t=!1!==l.component.onFiltersChange(e)&&t),t}),ue.b,ue.a)),t["\u0275did"](4,770048,null,0,oe.a,[hn.a],{fields:[0,"fields"],currentFilters:[1,"currentFilters"],connection:[2,"connection"],dataObject:[3,"dataObject"]},{changed:"changed"}),(l()(),t["\u0275and"](16777216,null,null,1,null,he)),t["\u0275did"](6,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](7,16777216,null,null,12,"span",[["class","d-flex position-relative px-2 mb-2"],["dropdown",""],["placement","top left"]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),t["\u0275prd"](512,null,S["\u0275NgClassImpl"],S["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](9,278528,null,0,S.NgClass,[S["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](10,{"ml-auto":0}),t["\u0275did"](11,933888,null,0,jl.a,[t.ElementRef,Ol.i,Ol.f,S["\u0275NgClassImpl"],[6,S.NgClass]],{ngClass:[0,"ngClass"],klass:[1,"klass"]},null),t["\u0275pod"](12,{"ml-auto":0}),t["\u0275prd"](512,null,T.f,T.f,[]),t["\u0275did"](14,212992,null,0,T.c,[t.ElementRef,t.Renderer2,t.ViewContainerRef,_.a,T.a,T.f],{placement:[0,"placement"]},null),(l()(),t["\u0275eld"](15,0,null,null,2,"button",[["class","btn py-0"],["dropdownToggle",""],["type","button"]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,16).onClick()&&u),u}),null,null)),t["\u0275did"](16,147456,null,0,T.g,[t.ChangeDetectorRef,T.c,t.ElementRef,t.Renderer2,T.f],null,null),(l()(),t["\u0275eld"](17,0,null,null,0,"i",[["class","fa fa-ellipsis-v"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ve)),t["\u0275did"](19,16384,null,0,T.d,[T.f,t.ViewContainerRef,t.TemplateRef],null,null),(l()(),t["\u0275eld"](20,0,null,null,40,"div",[["class","position-relative h-100"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,ye)),t["\u0275did"](22,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](24,0,null,null,21,"wj-menu",[["style","display:none;"]],null,[[null,"itemClicked"]],(function(l,n,e){var u=!0;return"itemClicked"===n&&(u=!1!==l.component.onCtxMenuClicked(t["\u0275nov"](l,26))&&u),u}),ie.f,ie.b)),t["\u0275prd"](5120,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[$n.WjValueAccessorFactory(l)]}),["WjComponent"]),t["\u0275did"](26,6012928,[["ctxMenu",4]],0,ae.WjMenu,[t.ElementRef,t.Injector,[3,"WjComponent"]],{isButton:[0,"isButton"]},{itemClickedNg:"itemClicked"}),t["\u0275prd"](2048,null,"WjComponent",null,[ae.WjMenu]),(l()(),t["\u0275eld"](28,16777216,null,0,5,"wj-menu-item",[["value","edit-column"]],null,null,null,ie.e,ie.c)),t["\u0275prd"](6144,null,"WjComponent",null,[ae.WjMenuItem]),t["\u0275did"](30,4440064,null,0,ae.WjMenuItem,[t.ElementRef,t.Injector,[3,"WjComponent"],t.ViewContainerRef,t.Renderer],{value:[0,"value"]},null),(l()(),t["\u0275eld"](31,0,null,0,2,"span",[["class","px-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,0,"i",[["class","fa fa-columns mr-1 my-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Format Column"])),(l()(),t["\u0275eld"](34,16777216,null,0,5,"wj-menu-item",[["value","fill-all"]],null,null,null,ie.e,ie.c)),t["\u0275prd"](6144,null,"WjComponent",null,[ae.WjMenuItem]),t["\u0275did"](36,4440064,null,0,ae.WjMenuItem,[t.ElementRef,t.Injector,[3,"WjComponent"],t.ViewContainerRef,t.Renderer],{value:[0,"value"]},null),(l()(),t["\u0275eld"](37,0,null,0,2,"span",[["class","px-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,0,"i",[["class","fa fa-file-o mr-1 my-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Fill all rows"])),(l()(),t["\u0275eld"](40,16777216,null,0,5,"wj-menu-item",[["value","fill-empty"]],null,null,null,ie.e,ie.c)),t["\u0275prd"](6144,null,"WjComponent",null,[ae.WjMenuItem]),t["\u0275did"](42,4440064,null,0,ae.WjMenuItem,[t.ElementRef,t.Injector,[3,"WjComponent"],t.ViewContainerRef,t.Renderer],{value:[0,"value"]},null),(l()(),t["\u0275eld"](43,0,null,0,2,"span",[["class","px-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](44,0,null,null,0,"i",[["class","fa fa-files-o mr-1 my-2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Fill empty rows"])),(l()(),t["\u0275eld"](46,0,null,null,6,"wj-flex-grid",[["class","data-grid"]],null,[[null,"itemsSourceChange"],[null,"initialized"],[null,"contextmenu"]],(function(l,n,e){var u=!0,o=l.component;return"contextmenu"===n&&(u=!1!==t["\u0275nov"](l,50).onContextMenu(e)&&u),"itemsSourceChange"===n&&(u=!1!==(o.data=e)&&u),"initialized"===n&&(u=!1!==o.initializedGrid(t["\u0275nov"](l,49))&&u),u}),Wn.d,Wn.a)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGrid]),t["\u0275prd"](5120,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[$n.WjValueAccessorFactory(l)]}),["WjComponent"]),t["\u0275did"](49,4440064,[[1,4],["grid",4]],0,Pn.WjFlexGrid,[t.ElementRef,t.Injector,[3,"WjComponent"],t.ChangeDetectorRef],{allowAddNew:[0,"allowAddNew"],allowDelete:[1,"allowDelete"],isReadOnly:[2,"isReadOnly"],itemsSource:[3,"itemsSource"]},{initialized:"initialized"}),t["\u0275did"](50,16384,null,0,ae.WjContextMenu,[t.ElementRef],{wjContextMenu:[0,"wjContextMenu"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Oe)),t["\u0275did"](52,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](53,0,null,null,7,"div",[["class","row m-0 align-items-center"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,we)),t["\u0275did"](55,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](56,0,null,null,2,"span",[["class","ml-auto mr-1"]],null,null,null,null,null)),(l()(),t["\u0275ted"](57,null,["Rows: ",""])),t["\u0275ppd"](58,1),(l()(),t["\u0275and"](16777216,null,null,1,null,Re)),t["\u0275did"](60,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,[["popTemplate",2]],null,0,null,_e))],(function(l,n){var e=n.component;l(n,4,0,e.fields,e.filters,e.connection,e.dataObject),l(n,6,0,!e.isReadOnly);var u=l(n,10,0,e.isReadOnly);l(n,9,0,"d-flex position-relative px-2 mb-2",u);var o=l(n,12,0,e.isReadOnly);l(n,11,0,o,"d-flex position-relative px-2 mb-2"),l(n,14,0,"top left"),l(n,22,0,t["\u0275unv"](n,22,0,t["\u0275nov"](n,23).transform(e.loading$))),l(n,26,0,!0),l(n,30,0,"edit-column"),l(n,36,0,"fill-all"),l(n,42,0,"fill-empty"),l(n,49,0,!0,!0,!!e.isReadOnly,e.data),l(n,50,0,t["\u0275nov"](n,26)),l(n,52,0,e.fields),l(n,55,0,e.filters),l(n,60,0,e.limitRows)}),(function(l,n){var e=n.component;l(n,7,0,t["\u0275nov"](n,14).dropup,t["\u0275nov"](n,14).isOpen,t["\u0275nov"](n,14).isOpen&&t["\u0275nov"](n,14).isBs4),l(n,15,0,!0,t["\u0275nov"](n,16).isDisabled,t["\u0275nov"](n,16).isOpen);var u=e.data?e.data.length:t["\u0275unv"](n,57,0,l(n,58,0,t["\u0275nov"](n,0),0));l(n,57,0,u)}))}var Ne=function(){function l(l){this.store=l,this.destroy$=new xl.a}return l.prototype.ngOnInit=function(){var l=this;this.isStructureChanged$=this.store.select(nl),this.isDataChanged$=this.store.select(ul),this.store.select(X).pipe(Object(Dl.a)(this.destroy$)).subscribe((function(n){l.dataObject=n})),this.loading$=this.store.select(ol)},l.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},l}(),xe=t["\u0275crt"]({encapsulation:0,styles:[["tabset.sql-object-tab[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%]{position:relative}.spinner[_ngcontent-%COMP%]{left:0}"]],data:{}});function De(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-cogs fa-lg"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Structure "])),(l()(),t["\u0275eld"](2,0,null,null,7,"span",[],null,null,null,null,null)),t["\u0275prd"](512,null,S["\u0275NgClassImpl"],S["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](4,278528,null,0,S.NgClass,[S["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pod"](6,{changed:0}),t["\u0275did"](7,933888,null,0,jl.a,[t.ElementRef,Ol.i,Ol.f,S["\u0275NgClassImpl"],[6,S.NgClass]],{ngClass:[0,"ngClass"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pod"](9,{changed:0})],(function(l,n){var e=n.component,u=l(n,6,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform(e.isStructureChanged$)));l(n,4,0,u);var o=l(n,9,0,t["\u0275unv"](n,7,0,t["\u0275nov"](n,8).transform(e.isStructureChanged$)));l(n,7,0,o)}),null)}function Ae(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,(function(l,n){l(n,1,0,n.context.$implicit)}))}function Ie(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner bg-white flex-column"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["1 "])),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","spinner-border"],["role","status"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."])),(l()(),t["\u0275and"](16777216,null,null,1,null,Ae)),t["\u0275did"](6,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,6,0,n.context.ngIf.messages)}),null)}function Fe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-table fa-lg"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Data "])),(l()(),t["\u0275eld"](2,0,null,null,7,"span",[],null,null,null,null,null)),t["\u0275prd"](512,null,S["\u0275NgClassImpl"],S["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](4,278528,null,0,S.NgClass,[S["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pod"](6,{changed:0}),t["\u0275did"](7,933888,null,0,jl.a,[t.ElementRef,Ol.i,Ol.f,S["\u0275NgClassImpl"],[6,S.NgClass]],{ngClass:[0,"ngClass"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pod"](9,{changed:0})],(function(l,n){var e=n.component,u=l(n,6,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform(e.isDataChanged$)));l(n,4,0,u);var o=l(n,9,0,t["\u0275unv"](n,7,0,t["\u0275nov"](n,8).transform(e.isDataChanged$)));l(n,7,0,o)}),null)}function Le(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,22,"tabset",[["class","tabset-fx sql-object-tab"]],[[2,"tab-container",null]],null,null,An.b,An.a)),t["\u0275did"](1,180224,null,0,In.e,[In.f,t.Renderer2,t.ElementRef],null,null),(l()(),t["\u0275eld"](2,0,null,0,20,"tab",[["class","h-100 position-relative"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),t["\u0275did"](3,212992,null,0,In.b,[In.e,t.ElementRef,t.Renderer2],{heading:[0,"heading"]},null),(l()(),t["\u0275eld"](4,0,null,null,1,"app-rows-count",[],null,null,null,qn,Mn)),t["\u0275did"](5,245760,null,0,Ln,[N.m,Vn.a],null,null),(l()(),t["\u0275eld"](6,0,null,null,16,"tabset",[["class","tabset-fx"]],[[2,"tab-container",null]],null,null,An.b,An.a)),t["\u0275did"](7,180224,null,0,In.e,[In.f,t.Renderer2,t.ElementRef],null,null),(l()(),t["\u0275eld"](8,0,null,0,8,"tab",[["class","position-relative"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),t["\u0275did"](9,212992,null,0,In.b,[In.e,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275and"](0,null,null,1,null,De)),t["\u0275did"](11,16384,null,0,In.c,[t.TemplateRef,In.b],null,null),(l()(),t["\u0275eld"](12,0,null,null,1,"app-table-editor",[["class","w-100 h-100"],["left",""]],null,null,null,Yn,zn)),t["\u0275did"](13,245760,[["editor",4]],0,Un,[N.m,Bn.a,hn.a],null,null),(l()(),t["\u0275and"](16777216,null,null,2,null,Ie)),t["\u0275did"](15,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](17,0,null,0,5,"tab",[],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),t["\u0275did"](18,212992,null,0,In.b,[In.e,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275and"](0,null,null,1,null,Fe)),t["\u0275did"](20,16384,null,0,In.c,[t.TemplateRef,In.b],null,null),(l()(),t["\u0275eld"](21,0,null,null,1,"app-table-data",[["class","h-100 d-flex"],["right",""]],null,null,null,Ee,be)),t["\u0275did"](22,245760,[["data",4]],0,me,[N.m,re.a,hn.a,ge.a],null,null)],(function(l,n){var e=n.component;l(n,3,0,e.dataObject?e.dataObject.objectName:"Create table"),l(n,5,0),l(n,9,0),l(n,13,0),l(n,15,0,t["\u0275unv"](n,15,0,t["\u0275nov"](n,16).transform(e.loading$))),l(n,18,0),l(n,22,0)}),(function(l,n){l(n,0,0,t["\u0275nov"](n,1).clazz),l(n,2,0,t["\u0275nov"](n,3).id,t["\u0275nov"](n,3).active,t["\u0275nov"](n,3).addClass),l(n,6,0,t["\u0275nov"](n,7).clazz),l(n,8,0,t["\u0275nov"](n,9).id,t["\u0275nov"](n,9).active,t["\u0275nov"](n,9).addClass),l(n,17,0,t["\u0275nov"](n,18).id,t["\u0275nov"](n,18).active,t["\u0275nov"](n,18).addClass)}))}function Ve(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-sql-object-content",[],null,null,null,Le,xe)),t["\u0275did"](1,245760,null,0,Ne,[N.m],null,null)],(function(l,n){l(n,1,0)}),null)}var Me=t["\u0275ccf"]("app-sql-object-content",Ne,Ve,{},{},[]),qe=e("+EyX"),ke=e("HF1C"),We=function(){function l(){this.leftContentSize=50,this.modeState={left:!0,right:!0}}return l.prototype.ngOnInit=function(){},l.prototype.onModeState=function(l){this.modeState[l]=!this.modeState[l],this.leftContentSize=this.modeState.left&&!this.modeState.right?100:this.modeState.left&&this.modeState.right?50:0},l.prototype.resize=function(){},l}(),$e=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Pe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,30,"div",[["class","card overflow-hidden mb-0 w-100 h-100"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,[["header",1]],null,16,"div",[["class","card-header d-flex pl-0 py-2 pr-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,14,"div",[["class","btn-group d-block ml-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,6,"label",[["btnCheckbox",""],["class","btn btn-secondary cursor-pointer mb-0"],["name","mode-left"],["ngDefaultControl",""],["role","button"],["tabindex","0"]],[[2,"active",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,4)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,4).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,4)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,4)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(o.modeState.left=e)&&u),"click"===n&&(u=!1!==o.onModeState("left")&&u),u}),null,null)),t["\u0275did"](4,16384,null,0,Fn.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,Fn.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Fn.DefaultValueAccessor]),t["\u0275did"](6,671744,null,0,Fn.NgModel,[[8,null],[8,null],[8,null],[6,Fn.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,Fn.NgControl,null,[Fn.NgModel]),t["\u0275did"](8,16384,null,0,Fn.NgControlStatus,[[4,Fn.NgControl]],null,null),t["\u0275ncd"](null,0),(l()(),t["\u0275eld"](10,0,null,null,6,"label",[["btnCheckbox",""],["class","btn btn-secondary cursor-pointer mb-0"],["name","mode-right"],["ngDefaultControl",""],["role","button"],["tabindex","0"]],[[2,"active",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,11)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,11).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,11)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(o.modeState.right=e)&&u),"click"===n&&(u=!1!==o.onModeState("right")&&u),u}),null,null)),t["\u0275did"](11,16384,null,0,Fn.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,Fn.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Fn.DefaultValueAccessor]),t["\u0275did"](13,671744,null,0,Fn.NgModel,[[8,null],[8,null],[8,null],[6,Fn.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,Fn.NgControl,null,[Fn.NgModel]),t["\u0275did"](15,16384,null,0,Fn.NgControlStatus,[[4,Fn.NgControl]],null,null),t["\u0275ncd"](null,1),t["\u0275ncd"](null,2),(l()(),t["\u0275eld"](18,0,null,null,12,"div",[["class","card-body d-flex p-0 flex-column h-100"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,11,"as-split",[["class","row h-100 preview edit-mode m-0 w-100"],["direction","horizontal"],["unit","pixel"]],null,null,null,qe.b,qe.a)),t["\u0275did"](20,4374528,[["split",4]],0,ke.c,[t.NgZone,t.ElementRef,t.ChangeDetectorRef,t.Renderer2],{direction:[0,"direction"],unit:[1,"unit"],useTransition:[2,"useTransition"]},null),(l()(),t["\u0275eld"](21,0,null,0,9,"as-split-area",[["class","d-flex flex-column"]],null,null,null,null,null)),t["\u0275did"](22,212992,null,0,ke.b,[t.NgZone,t.ElementRef,t.Renderer2,ke.c],null,null),(l()(),t["\u0275eld"](23,0,null,null,7,"as-split",[],null,[[null,"dragEnd"],[null,"transitionEnd"]],(function(l,n,e){var t=!0,u=l.component;return"dragEnd"===n&&(t=!1!==u.resize()&&t),"transitionEnd"===n&&(t=!1!==u.resize()&&t),t}),qe.b,qe.a)),t["\u0275did"](24,4374528,null,0,ke.c,[t.NgZone,t.ElementRef,t.ChangeDetectorRef,t.Renderer2],{useTransition:[0,"useTransition"]},{dragEnd:"dragEnd",transitionEnd:"transitionEnd"}),(l()(),t["\u0275eld"](25,0,null,0,2,"as-split-area",[["class","d-flex mb-0 position-relative"]],null,null,null,null,null)),t["\u0275did"](26,212992,[["area0",4]],0,ke.b,[t.NgZone,t.ElementRef,t.Renderer2,ke.c],{size:[0,"size"]},null),t["\u0275ncd"](null,3),(l()(),t["\u0275eld"](28,0,null,0,2,"as-split-area",[["class","d-flex overflow-auto flex-column explorer-section"]],null,null,null,null,null)),t["\u0275did"](29,212992,[["area1",4]],0,ke.b,[t.NgZone,t.ElementRef,t.Renderer2,ke.c],{size:[0,"size"]},null),t["\u0275ncd"](null,4)],(function(l,n){var e=n.component;l(n,6,0,"mode-left",e.modeState.left),l(n,13,0,"mode-right",e.modeState.right),l(n,20,0,"horizontal","pixel",!0),l(n,22,0),l(n,24,0,!0),l(n,26,0,e.leftContentSize),l(n,29,0,100-e.leftContentSize)}),(function(l,n){var e=n.component;l(n,3,0,e.modeState.left,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending),l(n,10,0,e.modeState.right,t["\u0275nov"](n,15).ngClassUntouched,t["\u0275nov"](n,15).ngClassTouched,t["\u0275nov"](n,15).ngClassPristine,t["\u0275nov"](n,15).ngClassDirty,t["\u0275nov"](n,15).ngClassValid,t["\u0275nov"](n,15).ngClassInvalid,t["\u0275nov"](n,15).ngClassPending)}))}var Ge=e("bU/s"),Ue=function(){function l(l,n,e){this.store=l,this.authService=n,this.dialogService=e,this.collection=new Gn.CollectionView,this.isChanged=!1,this.changed=new t.EventEmitter,this.destroy$=new xl.a}return l.prototype.ngOnInit=function(){var l=this;this.store.select(el).pipe(Object(Dl.a)(this.destroy$)).subscribe((function(n){l.dataObject=n,l.dataObject.objectType=H.c.View,l.initialSql=n.sqlText,"New"===n.objectName&&(l.dataObject.sqlText="create view test1.testView1"),l.sqlEditor&&"string"==typeof n.sqlText&&l.sqlEditor.setValue(n.sqlText,-1),l.collection.sourceCollection=Object(K.l)(n),l.dataObject.objectOwner||(l.dataObject.objectOwner=l.authService.user.userName,l.store.dispatch(new Pl(l.dataObject)))}))},l.prototype.ngAfterViewInit=function(){var l=this;this.sqlEditor=Object(Ge.edit)(this.sqlElement.nativeElement,{mode:"ace/mode/sql",autoScrollEditorIntoView:!0,value:this.dataObject.sqlText||"0"}),this.sqlEditor.on("change",(function(){var n=l.sqlEditor.getValue();l.isChanged=l.initialSql!==n,l.dataObject.sqlText=n}))},l.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},l.prototype.onViewDelete=function(){var l=this;if(this.dataObject){var n=this.dataObject;this.dialogService.confirmation("Delete view "+n.objectOwner+"."+n.objectName+". Are you sure?").subscribe((function(n){n&&l.store.dispatch(new $l(l.dataObject))}))}},l.prototype.onSubmit=function(){this.store.dispatch(new ql(this.dataObject))},l}(),Be=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function ze(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onViewDelete()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Delete"]))],null,null)}function Qe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","form-group col-sm-9 pr-0 pl-2 mb-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["View Name"])),(l()(),t["\u0275eld"](3,0,null,null,7,"input",[["class","form-control"],["disabled","disabled"],["id","objectName"],["name","objectName"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,4)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,4).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,4)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,4)._compositionEnd(e.target.value)&&u),u}),null,null)),t["\u0275did"](4,16384,null,0,Fn.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,Fn.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](5,16384,null,0,Fn.RequiredValidator,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,Fn.NG_VALIDATORS,(function(l){return[l]}),[Fn.RequiredValidator]),t["\u0275prd"](1024,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Fn.DefaultValueAccessor]),t["\u0275did"](8,671744,[["objectName",4]],0,Fn.NgModel,[[2,Fn.ControlContainer],[6,Fn.NG_VALIDATORS],[8,null],[6,Fn.NG_VALUE_ACCESSOR]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},null),t["\u0275prd"](2048,null,Fn.NgControl,null,[Fn.NgModel]),t["\u0275did"](10,16384,null,0,Fn.NgControlStatus,[[4,Fn.NgControl]],null,null)],(function(l,n){var e=n.component;l(n,5,0,""),l(n,8,0,"objectName","disabled",e.dataObject.objectName)}),(function(l,n){l(n,3,0,t["\u0275nov"](n,5).required?"":null,t["\u0275nov"](n,10).ngClassUntouched,t["\u0275nov"](n,10).ngClassTouched,t["\u0275nov"](n,10).ngClassPristine,t["\u0275nov"](n,10).ngClassDirty,t["\u0275nov"](n,10).ngClassValid,t["\u0275nov"](n,10).ngClassInvalid,t["\u0275nov"](n,10).ngClassPending)}))}function Je(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,56,"form",[["class","d-flex flex-column h-100"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t["\u0275nov"](l,2).onSubmit(e)&&u),"reset"===n&&(u=!1!==t["\u0275nov"](l,2).onReset()&&u),u}),null,null)),t["\u0275did"](1,16384,null,0,Fn["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](2,4210688,[[1,4],["form",4]],0,Fn.NgForm,[[8,null],[8,null]],null,null),t["\u0275prd"](2048,null,Fn.ControlContainer,null,[Fn.NgForm]),t["\u0275did"](4,16384,null,0,Fn.NgControlStatusGroup,[[4,Fn.ControlContainer]],null,null),(l()(),t["\u0275eld"](5,0,null,null,10,"div",[["fxLayout","row"],["fxLayoutAlign","stretch center"]],null,null,null,null,null)),t["\u0275did"](6,671744,null,0,kn.f,[t.ElementRef,Ol.i,[2,kn.o],Ol.f],{fxLayout:[0,"fxLayout"]},null),t["\u0275did"](7,671744,null,0,kn.e,[t.ElementRef,Ol.i,[2,kn.m],Ol.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(l()(),t["\u0275eld"](8,0,null,null,2,"h5",[["class","col-sm-12 px-0"],["fxFlex",""]],null,null,null,null,null)),t["\u0275did"](9,671744,null,0,kn.b,[t.ElementRef,Ol.i,Ol.e,kn.l,Ol.f],{fxFlex:[0,"fxFlex"]},null),(l()(),t["\u0275ted"](-1,null,["View Information"])),(l()(),t["\u0275eld"](11,0,null,null,4,"div",[["class","row mx-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"button",[["class","btn btn-primary ml-auto mr-1"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSubmit()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Save"])),(l()(),t["\u0275and"](16777216,null,null,1,null,ze)),t["\u0275did"](15,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](16,0,null,null,13,"div",[["class","row mx-0"],["style","max-width: 750px"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,10,"div",[["class","form-group col-sm-3 px-0 mb-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"label",[["for","objectOwner"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Owner"])),(l()(),t["\u0275eld"](20,0,null,null,7,"input",[["class","form-control"],["disabled","disabled"],["id","objectOwner"],["name","objectOwner"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t["\u0275nov"](l,21)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,21).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,21)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,21)._compositionEnd(e.target.value)&&u),u}),null,null)),t["\u0275did"](21,16384,null,0,Fn.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,Fn.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](22,16384,null,0,Fn.RequiredValidator,[],{required:[0,"required"]},null),t["\u0275prd"](1024,null,Fn.NG_VALIDATORS,(function(l){return[l]}),[Fn.RequiredValidator]),t["\u0275prd"](1024,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Fn.DefaultValueAccessor]),t["\u0275did"](25,671744,[["objectOwner",4]],0,Fn.NgModel,[[2,Fn.ControlContainer],[6,Fn.NG_VALIDATORS],[8,null],[6,Fn.NG_VALUE_ACCESSOR]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},null),t["\u0275prd"](2048,null,Fn.NgControl,null,[Fn.NgModel]),t["\u0275did"](27,16384,null,0,Fn.NgControlStatus,[[4,Fn.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Qe)),t["\u0275did"](29,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](30,0,null,null,26,"app-split-content",[["class","h-100"]],null,null,null,Pe,$e)),t["\u0275did"](31,114688,null,0,We,[],null,null),(l()(),t["\u0275eld"](32,0,[[2,0],["sqlEditor",1]],3,0,"div",[["class","h-100 p-2 w-100"],["left",""]],null,null,null,null,null)),(l()(),t["\u0275eld"](33,0,[["fields",1]],4,17,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,16,"div",[["class","col fields-container d-flex h-100 px-0 mb-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,15,"wj-flex-grid",[["class","h-100"]],null,null,null,Wn.d,Wn.a)),t["\u0275prd"](5120,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[$n.WjValueAccessorFactory(l)]}),["WjComponent"]),t["\u0275did"](37,4440064,[["grid",4]],0,Pn.WjFlexGrid,[t.ElementRef,t.Injector,[3,"WjComponent"],t.ChangeDetectorRef],{allowAddNew:[0,"allowAddNew"],allowDelete:[1,"allowDelete"],isReadOnly:[2,"isReadOnly"],itemsSource:[3,"itemsSource"]},null),t["\u0275prd"](2048,null,"WjComponent",null,[Pn.WjFlexGrid]),(l()(),t["\u0275eld"](39,0,null,0,2,"wj-flex-grid-column",[["binding","isKey"],["dataType","Boolean"],["header","IsKey"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](41,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataType:[0,"dataType"],binding:[1,"binding"],header:[2,"header"],width:[3,"width"]},null),(l()(),t["\u0275eld"](42,0,null,0,2,"wj-flex-grid-column",[["binding","fieldName"],["header","Field Name"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](44,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{binding:[0,"binding"],header:[1,"header"],width:[2,"width"],minWidth:[3,"minWidth"]},null),(l()(),t["\u0275eld"](45,0,null,0,2,"wj-flex-grid-column",[["binding","dataType"],["header","Field Data Type"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](47,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataMap:[0,"dataMap"],binding:[1,"binding"],header:[2,"header"]},null),(l()(),t["\u0275eld"](48,0,null,0,2,"wj-flex-grid-column",[["binding","size"],["dataType","Number"],["header","Size"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](50,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataType:[0,"dataType"],binding:[1,"binding"],header:[2,"header"],width:[3,"width"]},null),(l()(),t["\u0275eld"](51,0,null,0,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](52,0,null,null,0,"i",[["class","fa fa-cogs fa-lg"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" SQL editor "])),(l()(),t["\u0275eld"](54,0,null,1,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](55,0,null,null,0,"i",[["class","fa fa-table fa-lg"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Fields "]))],(function(l,n){var e=n.component;l(n,6,0,"row"),l(n,7,0,"stretch center"),l(n,9,0,""),l(n,15,0,e.dataObject),l(n,22,0,""),l(n,25,0,"objectOwner","disabled",e.dataObject.objectOwner),l(n,29,0,"New"!==e.dataObject.objectName),l(n,31,0),l(n,37,0,!1,!1,!0,e.collection),l(n,41,0,"Boolean","isKey","IsKey",50),l(n,44,0,"fieldName","Field Name","*",50),l(n,47,0,e.dataTypes,"dataType","Field Data Type"),l(n,50,0,"Number","size","Size",70)}),(function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,4).ngClassUntouched,t["\u0275nov"](n,4).ngClassTouched,t["\u0275nov"](n,4).ngClassPristine,t["\u0275nov"](n,4).ngClassDirty,t["\u0275nov"](n,4).ngClassValid,t["\u0275nov"](n,4).ngClassInvalid,t["\u0275nov"](n,4).ngClassPending),l(n,12,0,!e.isChanged),l(n,20,0,t["\u0275nov"](n,22).required?"":null,t["\u0275nov"](n,27).ngClassUntouched,t["\u0275nov"](n,27).ngClassTouched,t["\u0275nov"](n,27).ngClassPristine,t["\u0275nov"](n,27).ngClassDirty,t["\u0275nov"](n,27).ngClassValid,t["\u0275nov"](n,27).ngClassInvalid,t["\u0275nov"](n,27).ngClassPending)}))}function Ke(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{form:0}),t["\u0275qud"](671088640,2,{sqlElement:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,Je)),t["\u0275did"](3,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,3,0,n.component.dataObject)}),null)}var He=function(){function l(l){this.store=l}return l.prototype.ngOnInit=function(){this.dataObject$=this.store.select(X),this.loading$=this.store.select(ol)},l}(),Ze=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Xe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-cogs fa-lg"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Structure "])),(l()(),t["\u0275eld"](2,0,null,null,7,"span",[],null,null,null,null,null)),t["\u0275prd"](512,null,S["\u0275NgClassImpl"],S["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](4,278528,null,0,S.NgClass,[S["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pod"](6,{changed:0}),t["\u0275did"](7,933888,null,0,jl.a,[t.ElementRef,Ol.i,Ol.f,S["\u0275NgClassImpl"],[6,S.NgClass]],{ngClass:[0,"ngClass"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pod"](9,{changed:0})],(function(l,n){var e=n.component,u=l(n,6,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform(e.isSQLChanged$)));l(n,4,0,u);var o=l(n,9,0,t["\u0275unv"](n,7,0,t["\u0275nov"](n,8).transform(e.isSQLChanged$)));l(n,7,0,o)}),null)}function Ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,(function(l,n){l(n,1,0,n.context.$implicit)}))}function lt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner bg-white flex-column"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["1 "])),(l()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","spinner-border"],["role","status"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."])),(l()(),t["\u0275and"](16777216,null,null,1,null,Ye)),t["\u0275did"](6,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,6,0,n.context.ngIf.messages)}),null)}function nt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-table fa-lg"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Data "]))],null,null)}function et(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,24,"tabset",[["class","tabset-fx sql-object-tab"]],[[2,"tab-container",null]],null,null,An.b,An.a)),t["\u0275did"](1,180224,null,0,In.e,[In.f,t.Renderer2,t.ElementRef],null,null),(l()(),t["\u0275eld"](2,0,null,0,22,"tab",[["class","h-100 position-relative"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),t["\u0275did"](3,212992,null,0,In.b,[In.e,t.ElementRef,t.Renderer2],{heading:[0,"heading"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](6,0,null,null,1,"app-rows-count",[],null,null,null,qn,Mn)),t["\u0275did"](7,245760,null,0,Ln,[N.m,Vn.a],null,null),(l()(),t["\u0275eld"](8,0,null,null,16,"tabset",[["class","tabset-fx"]],[[2,"tab-container",null]],null,null,An.b,An.a)),t["\u0275did"](9,180224,null,0,In.e,[In.f,t.Renderer2,t.ElementRef],null,null),(l()(),t["\u0275eld"](10,0,null,0,8,"tab",[["class","position-relative"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),t["\u0275did"](11,212992,null,0,In.b,[In.e,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275and"](0,null,null,1,null,Xe)),t["\u0275did"](13,16384,null,0,In.c,[t.TemplateRef,In.b],null,null),(l()(),t["\u0275eld"](14,0,null,null,1,"app-view-editor",[["class","w-100 h-100"],["left",""]],null,null,null,Ke,Be)),t["\u0275did"](15,4440064,null,0,Ue,[N.m,Bn.a,hn.a],null,null),(l()(),t["\u0275and"](16777216,null,null,2,null,lt)),t["\u0275did"](17,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](19,0,null,0,5,"tab",[],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),t["\u0275did"](20,212992,null,0,In.b,[In.e,t.ElementRef,t.Renderer2],null,null),(l()(),t["\u0275and"](0,null,null,1,null,nt)),t["\u0275did"](22,16384,null,0,In.c,[t.TemplateRef,In.b],null,null),(l()(),t["\u0275eld"](23,0,null,null,1,"app-table-data",[["class","h-100 d-flex"],["right",""]],null,null,null,Ee,be)),t["\u0275did"](24,245760,[["data",4]],0,me,[N.m,re.a,hn.a,ge.a],{isReadOnly:[0,"isReadOnly"]},null)],(function(l,n){var e=n.component;l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform(e.dataObject$))?t["\u0275unv"](n,3,0,t["\u0275nov"](n,5).transform(e.dataObject$)).objectName:"Create view"),l(n,7,0),l(n,11,0),l(n,15,0),l(n,17,0,t["\u0275unv"](n,17,0,t["\u0275nov"](n,18).transform(e.loading$))),l(n,20,0),l(n,24,0,!0)}),(function(l,n){l(n,0,0,t["\u0275nov"](n,1).clazz),l(n,2,0,t["\u0275nov"](n,3).id,t["\u0275nov"](n,3).active,t["\u0275nov"](n,3).addClass),l(n,8,0,t["\u0275nov"](n,9).clazz),l(n,10,0,t["\u0275nov"](n,11).id,t["\u0275nov"](n,11).active,t["\u0275nov"](n,11).addClass),l(n,19,0,t["\u0275nov"](n,20).id,t["\u0275nov"](n,20).active,t["\u0275nov"](n,20).addClass)}))}function tt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-sql-view-object",[],null,null,null,et,Ze)),t["\u0275did"](1,114688,null,0,He,[N.m],null,null)],(function(l,n){l(n,1,0)}),null)}var ut=t["\u0275ccf"]("app-sql-view-object",He,tt,{},{},[]),ot=e("lTVp"),it=(e("kiQV"),function(){function l(l,n,e){this.http=l,this.store=n,this.authService=e}return l.prototype.handleKeyboardEvent=function(l){"F5"===l.key&&(l.preventDefault(),l.stopImmediatePropagation(),this.onRun())},l.prototype.ngOnInit=function(){var l=this;this.store.select(sl).pipe(Object(Sn.a)()).subscribe((function(n){l.connection=n})),this.sqlEditor=Object(Ge.edit)(this.sqlElement.nativeElement,{mode:"ace/mode/sql",autoScrollEditorIntoView:!0})},l.prototype.onRun=function(){var l=this;this.http.post("https://worksheets-web-api-test.azurewebsites.net/api/sql/"+this.connection+"/execute",{sql:this.sqlEditor.getSelectedText()||this.sqlEditor.getValue()},this.authService.getHttpHeaders()).pipe(Object(en.a)((function(n){return l.error="string"==typeof n.error?n.error:"Failed to query data.",Object(on.a)(null)}))).subscribe((function(n){n?(l.error=null,l.fields=n.fields.map((function(l){return{bindingName:l.fieldName,dataType:Kl.f[l.dataType],headerText:l.fieldName}})),l.data=Object(K.m)(n.table)):(l.fields=null,l.data=null)}))},l}()),at=e("t/Na"),rt=t["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function dt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"alert",[["type","danger"]],null,null,null,a.c,a.b)),t["\u0275did"](1,114688,null,0,ot.a,[ot.b,t.ChangeDetectorRef],{type:[0,"type"]},null),(l()(),t["\u0275eld"](2,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Error:"])),(l()(),t["\u0275ted"](4,0,[" "," "]))],(function(l,n){l(n,1,0,"danger")}),(function(l,n){l(n,4,0,n.component.error)}))}function ct(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"wj-flex-grid-column",[],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](2,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataType:[0,"dataType"],binding:[1,"binding"],header:[2,"header"]},null)],(function(l,n){l(n,2,0,n.context.$implicit.dataType,n.context.$implicit.bindingName,n.context.$implicit.headerText)}),null)}function st(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"wj-flex-grid",[["class","h-100"]],null,[[null,"itemsSourceChange"]],(function(l,n,e){var t=!0;return"itemsSourceChange"===n&&(t=!1!==(l.component.data=e)&&t),t}),Wn.d,Wn.a)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGrid]),t["\u0275prd"](5120,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[$n.WjValueAccessorFactory(l)]}),["WjComponent"]),t["\u0275did"](3,4440064,[["flex",4]],0,Pn.WjFlexGrid,[t.ElementRef,t.Injector,[3,"WjComponent"],t.ChangeDetectorRef],{isReadOnly:[0,"isReadOnly"],itemsSource:[1,"itemsSource"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,ct)),t["\u0275did"](5,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,3,0,!0,e.data),l(n,5,0,e.fields)}),null)}function pt(l){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{sqlElement:0}),(l()(),t["\u0275eld"](1,0,null,null,20,"tabset",[["class","tabset-fx"]],[[2,"tab-container",null]],null,null,An.b,An.a)),t["\u0275did"](2,180224,null,0,In.e,[In.f,t.Renderer2,t.ElementRef],null,null),(l()(),t["\u0275eld"](3,0,null,0,18,"tab",[["class","h-100"],["heading","SQL query"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),t["\u0275did"](4,212992,null,0,In.b,[In.e,t.ElementRef,t.Renderer2],{heading:[0,"heading"]},null),(l()(),t["\u0275eld"](5,0,null,null,16,"app-split-content",[["class","h-100"]],null,null,null,Pe,$e)),t["\u0275did"](6,114688,null,0,We,[],null,null),(l()(),t["\u0275eld"](7,0,null,2,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"button",[["class","btn btn-primary ml-auto mr-1"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onRun()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Run"])),(l()(),t["\u0275eld"](10,0,[[1,0],["sqlElement",1]],3,0,"div",[["class","w-100"],["left",""]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,4,4,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,dt)),t["\u0275did"](13,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,st)),t["\u0275did"](15,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](16,0,null,0,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,0,"i",[["class","fa fa-cogs fa-lg"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" SQL "])),(l()(),t["\u0275eld"](19,0,null,1,2,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,0,"i",[["class","fa fa-table fa-lg"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Data "]))],(function(l,n){var e=n.component;l(n,4,0,"SQL query"),l(n,6,0),l(n,13,0,e.error),l(n,15,0,e.fields&&e.data)}),(function(l,n){l(n,1,0,t["\u0275nov"](n,2).clazz),l(n,3,0,t["\u0275nov"](n,4).id,t["\u0275nov"](n,4).active,t["\u0275nov"](n,4).addClass)}))}function ft(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-sql-query",[],null,[["document","keydown"]],(function(l,n,e){var u=!0;return"document:keydown"===n&&(u=!1!==t["\u0275nov"](l,1).handleKeyboardEvent(e)&&u),u}),pt,rt)),t["\u0275did"](1,114688,null,0,it,[at.c,N.m,Bn.a],null,null)],(function(l,n){l(n,1,0)}),null)}var mt=t["\u0275ccf"]("app-sql-query",it,ft,{},{},[]),gt=e("UMf5"),bt=e("cMwH"),ht=e("Sb+d"),vt=e("Zefe"),Ct=e("Xt92"),yt=e("9nlD"),jt=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.fields-container[_ngcontent-%COMP%]{height:calc(100% - 200px)}"]],data:{}});function Ot(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,9,"div",[["class","form-group row m-0 w-50"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","owner-name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Owner name"])),(l()(),t["\u0275eld"](4,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,5,"input",[["class","form-control"],["id","owner-name"],["placeholder","Owner"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,6)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,6).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,6)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,6)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(o.metaData.objectOwner=e)&&u),u}),null,null)),t["\u0275did"](6,16384,null,0,Fn.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,Fn.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Fn.DefaultValueAccessor]),t["\u0275did"](8,671744,null,0,Fn.NgModel,[[8,null],[8,null],[8,null],[6,Fn.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,Fn.NgControl,null,[Fn.NgModel]),t["\u0275did"](10,16384,null,0,Fn.NgControlStatus,[[4,Fn.NgControl]],null,null),(l()(),t["\u0275eld"](11,0,null,null,9,"div",[["class","form-group row m-0 w-50"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","object-name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Object name"])),(l()(),t["\u0275eld"](14,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,5,"input",[["class","form-control"],["id","object-name"],["placeholder","Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,o=l.component;return"input"===n&&(u=!1!==t["\u0275nov"](l,16)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t["\u0275nov"](l,16).onTouched()&&u),"compositionstart"===n&&(u=!1!==t["\u0275nov"](l,16)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t["\u0275nov"](l,16)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(o.metaData.objectName=e)&&u),u}),null,null)),t["\u0275did"](16,16384,null,0,Fn.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,Fn.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Fn.DefaultValueAccessor]),t["\u0275did"](18,671744,null,0,Fn.NgModel,[[8,null],[8,null],[8,null],[6,Fn.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,Fn.NgControl,null,[Fn.NgModel]),t["\u0275did"](20,16384,null,0,Fn.NgControlStatus,[[4,Fn.NgControl]],null,null)],(function(l,n){var e=n.component;l(n,8,0,e.metaData.objectOwner),l(n,18,0,e.metaData.objectName)}),(function(l,n){l(n,5,0,t["\u0275nov"](n,10).ngClassUntouched,t["\u0275nov"](n,10).ngClassTouched,t["\u0275nov"](n,10).ngClassPristine,t["\u0275nov"](n,10).ngClassDirty,t["\u0275nov"](n,10).ngClassValid,t["\u0275nov"](n,10).ngClassInvalid,t["\u0275nov"](n,10).ngClassPending),l(n,15,0,t["\u0275nov"](n,20).ngClassUntouched,t["\u0275nov"](n,20).ngClassTouched,t["\u0275nov"](n,20).ngClassPristine,t["\u0275nov"](n,20).ngClassDirty,t["\u0275nov"](n,20).ngClassValid,t["\u0275nov"](n,20).ngClassInvalid,t["\u0275nov"](n,20).ngClassPending)}))}function wt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"li",[["role","menuitem"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"a",[["class","dropdown-item cursor-pointer"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onTableSelect(l.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275ted"](2,null,["",".",""]))],null,(function(l,n){l(n,2,0,n.context.$implicit.objectOwner,n.context.$implicit.objectName)}))}function Rt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"ul",[["aria-labelledby","button-basic"],["class","dropdown-menu"],["id","dropdown-basic"],["role","menu"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,wt)),t["\u0275did"](2,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform(e.tables$)))}),null)}function St(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"label",[["class","col-sm-2 col-form-label"],["for","object-name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Import data into"])),(l()(),t["\u0275eld"](3,16777216,null,null,8,"div",[["class","btn-group"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),t["\u0275prd"](512,null,T.f,T.f,[]),t["\u0275did"](5,212992,null,0,T.c,[t.ElementRef,t.Renderer2,t.ViewContainerRef,_.a,T.a,T.f],null,null),(l()(),t["\u0275eld"](6,0,null,null,3,"button",[["aria-controls","dropdown-basic"],["class","btn btn-light dropdown-toggle"],["dropdownToggle",""],["id","button-basic"],["type","button"]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t["\u0275nov"](l,7).onClick()&&u),u}),null,null)),t["\u0275did"](7,147456,null,0,T.g,[t.ChangeDetectorRef,T.c,t.ElementRef,t.Renderer2,T.f],null,null),(l()(),t["\u0275ted"](8,null,[" ",""])),(l()(),t["\u0275eld"](9,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Rt)),t["\u0275did"](11,16384,null,0,T.d,[T.f,t.ViewContainerRef,t.TemplateRef],null,null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){l(n,5,0)}),(function(l,n){var e=n.component;l(n,3,0,t["\u0275nov"](n,5).dropup,t["\u0275nov"](n,5).isOpen,t["\u0275nov"](n,5).isOpen&&t["\u0275nov"](n,5).isBs4),l(n,6,0,!0,t["\u0275nov"](n,7).isDisabled,t["\u0275nov"](n,7).isOpen),l(n,8,0,e.getSelectedTableTitle())}))}function Tt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," rows loaded"])),t["\u0275ppd"](2,1)],null,(function(l,n){var e=n.component,u=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent,0),e.rowsLoaded));l(n,1,0,u)}))}function _t(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner bg-white flex-column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","spinner-border"],["role","status"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Loading..."])),(l()(),t["\u0275eld"](4,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""]))],null,(function(l,n){l(n,5,0,n.component.progressMessage)}))}function Et(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","d-flex position-absolute align-items-center w-100 h-100 spinner bg-white flex-column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"alert",[["type","danger"]],null,null,null,a.c,a.b)),t["\u0275did"](2,114688,null,0,ot.a,[ot.b,t.ChangeDetectorRef],{type:[0,"type"]},null),(l()(),t["\u0275eld"](3,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Error:"])),(l()(),t["\u0275ted"](5,0,[" Verify file format (","). "]))],(function(l,n){l(n,2,0,"danger")}),(function(l,n){l(n,5,0,n.component.error)}))}function Nt(l){return t["\u0275vid"](0,[t["\u0275pid"](0,S.DecimalPipe,[t.LOCALE_ID]),t["\u0275qud"](402653184,1,{grid:0}),(l()(),t["\u0275eld"](2,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Import CSV data"])),(l()(),t["\u0275eld"](5,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.modalRef.hide()&&t),t}),null,null)),(l()(),t["\u0275eld"](6,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xd7"])),(l()(),t["\u0275eld"](8,0,null,null,69,"div",[["class","modal-body px-4 d-flex flex-column h-100"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,15,"div",[["class","row m-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"button",[["class","btn btn-primary mr-2"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.loadCSV()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Browse..."])),(l()(),t["\u0275eld"](12,0,null,null,6,"div",[["class","d-flex w-75"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,Ot)),t["\u0275did"](14,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,2,null,St)),t["\u0275did"](17,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](19,0,null,null,5,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"input",[["class","form-check-input mr-2"],["id","create-tabel"],["type","checkbox"]],[[8,"checked",0],[8,"value",0]],[[null,"change"]],(function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.createTable$.next(e.target.checked)&&t),t}),null,null)),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](23,0,null,null,1,"label",[["class","form-check-label"],["for","create-tabel"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Create New Table"])),(l()(),t["\u0275eld"](25,0,null,null,52,"div",[["class","row flex-fill mx-0 flex-column my-2 h-100 position-relative"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,6,"div",[["fxLayout","row"]],null,null,null,null,null)),t["\u0275did"](27,671744,null,0,kn.f,[t.ElementRef,Ol.i,[2,kn.o],Ol.f],{fxLayout:[0,"fxLayout"]},null),(l()(),t["\u0275eld"](28,0,null,null,2,"h5",[["class","table-title"],["fxFlex",""]],null,null,null,null,null)),t["\u0275did"](29,671744,null,0,kn.b,[t.ElementRef,Ol.i,Ol.e,kn.l,Ol.f],{fxFlex:[0,"fxFlex"]},null),(l()(),t["\u0275ted"](-1,null,["Fields Mappings"])),(l()(),t["\u0275and"](16777216,null,null,1,null,Tt)),t["\u0275did"](32,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](33,0,null,null,40,"div",[["class","fields-container d-flex flex-fill"]],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,7,"wj-menu",[["style","display:none;"]],null,[[null,"itemClicked"]],(function(l,n,e){var t=!0;return"itemClicked"===n&&(t=!1!==l.component.onCtxMenuClicked()&&t),t}),ie.f,ie.b)),t["\u0275prd"](5120,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[$n.WjValueAccessorFactory(l)]}),["WjComponent"]),t["\u0275did"](36,6012928,[["ctxMenu",4]],0,ae.WjMenu,[t.ElementRef,t.Injector,[3,"WjComponent"]],{isButton:[0,"isButton"]},{itemClickedNg:"itemClicked"}),t["\u0275prd"](2048,null,"WjComponent",null,[ae.WjMenu]),(l()(),t["\u0275eld"](38,16777216,null,0,3,"wj-menu-item",[],null,null,null,ie.e,ie.c)),t["\u0275prd"](6144,null,"WjComponent",null,[ae.WjMenuItem]),t["\u0275did"](40,4440064,null,0,ae.WjMenuItem,[t.ElementRef,t.Injector,[3,"WjComponent"],t.ViewContainerRef,t.Renderer],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,0,["Insert Field above"])),(l()(),t["\u0275eld"](42,0,null,null,31,"wj-flex-grid",[["class","h-100"]],null,[[null,"contextmenu"]],(function(l,n,e){var u=!0;return"contextmenu"===n&&(u=!1!==t["\u0275nov"](l,47).onContextMenu(e)&&u),u}),Wn.d,Wn.a)),t["\u0275prd"](5120,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[$n.WjValueAccessorFactory(l)]}),["WjComponent"]),t["\u0275did"](44,4440064,[[1,4],["grid",4]],0,Pn.WjFlexGrid,[t.ElementRef,t.Injector,[3,"WjComponent"],t.ChangeDetectorRef],{allowAddNew:[0,"allowAddNew"],allowDelete:[1,"allowDelete"],itemsSource:[2,"itemsSource"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275did"](47,16384,null,0,ae.WjContextMenu,[t.ElementRef],{wjContextMenu:[0,"wjContextMenu"]},null),t["\u0275prd"](2048,null,"WjComponent",null,[Pn.WjFlexGrid]),(l()(),t["\u0275eld"](49,0,null,0,3,"wj-flex-grid-column",[["binding","isKey"],["dataType","Boolean"],["header","IsKey"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](51,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataType:[0,"dataType"],binding:[1,"binding"],header:[2,"header"],width:[3,"width"],allowSorting:[4,"allowSorting"],isReadOnly:[5,"isReadOnly"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](53,0,null,0,3,"wj-flex-grid-column",[["binding","fieldName"],["dataType","String"],["header","Table Field"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](55,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataType:[0,"dataType"],binding:[1,"binding"],header:[2,"header"],width:[3,"width"],minWidth:[4,"minWidth"],allowSorting:[5,"allowSorting"],isReadOnly:[6,"isReadOnly"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](57,0,null,0,2,"wj-flex-grid-column",[["binding","sourceField"],["header","Source Field"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](59,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataMap:[0,"dataMap"],binding:[1,"binding"],header:[2,"header"],width:[3,"width"],minWidth:[4,"minWidth"],allowSorting:[5,"allowSorting"],isReadOnly:[6,"isReadOnly"]},null),(l()(),t["\u0275eld"](60,0,null,0,3,"wj-flex-grid-column",[["binding","dataType"],["header","Field Data Type"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](62,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataMap:[0,"dataMap"],binding:[1,"binding"],header:[2,"header"],allowSorting:[3,"allowSorting"],isReadOnly:[4,"isReadOnly"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](64,0,null,0,3,"wj-flex-grid-column",[["binding","size"],["dataType","Number"],["header","Size"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](66,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataType:[0,"dataType"],binding:[1,"binding"],header:[2,"header"],allowSorting:[3,"allowSorting"],isReadOnly:[4,"isReadOnly"],isRequired:[5,"isRequired"]},null),t["\u0275pid"](131072,S.AsyncPipe,[t.ChangeDetectorRef]),(l()(),t["\u0275eld"](68,0,null,0,2,"wj-flex-grid-column",[["binding","preprocessFunc"],["header","Preprocess Function"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](70,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataMap:[0,"dataMap"],binding:[1,"binding"],header:[2,"header"],allowSorting:[3,"allowSorting"],isReadOnly:[4,"isReadOnly"],isRequired:[5,"isRequired"]},null),(l()(),t["\u0275eld"](71,0,null,0,2,"wj-flex-grid-column",[["binding","preprocessParams"],["header","Parameters"]],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](73,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{binding:[0,"binding"],header:[1,"header"],allowSorting:[2,"allowSorting"],isReadOnly:[3,"isReadOnly"],isRequired:[4,"isRequired"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,_t)),t["\u0275did"](75,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Et)),t["\u0275did"](77,16384,null,0,S.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](78,0,null,null,7,"div",[["class","modal-footer flex-column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](79,0,null,null,6,"div",[["class","row w-100 mx-0 px-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](80,0,null,null,1,"button",[["class","btn btn-light"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.previewData()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Preview Data"])),(l()(),t["\u0275eld"](82,0,null,null,1,"button",[["class","btn btn-primary ml-auto mr-2"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.import()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Import"])),(l()(),t["\u0275eld"](84,0,null,null,1,"button",[["class","btn btn-light"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.modalRef.hide()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Cancel"]))],(function(l,n){var e=n.component;l(n,14,0,t["\u0275unv"](n,14,0,t["\u0275nov"](n,15).transform(e.createTable$))),l(n,17,0,!t["\u0275unv"](n,17,0,t["\u0275nov"](n,18).transform(e.createTable$))),l(n,27,0,"row"),l(n,29,0,""),l(n,32,0,e.rowsLoaded),l(n,36,0,!0),l(n,40,0,"edit"),l(n,44,0,t["\u0275unv"](n,44,0,t["\u0275nov"](n,45).transform(e.createTable$)),t["\u0275unv"](n,44,1,t["\u0275nov"](n,46).transform(e.createTable$)),e.tableColumns),l(n,47,0,t["\u0275nov"](n,36)),l(n,51,0,"Boolean","isKey","IsKey",50,!1,!t["\u0275unv"](n,51,5,t["\u0275nov"](n,52).transform(e.createTable$))),l(n,55,0,"String","fieldName","Table Field","*",50,!1,!t["\u0275unv"](n,55,6,t["\u0275nov"](n,56).transform(e.createTable$))),l(n,59,0,e.sourceFields,"sourceField","Source Field","*",50,!1,!1),l(n,62,0,e.dataTypes,"dataType","Field Data Type",!1,!t["\u0275unv"](n,62,4,t["\u0275nov"](n,63).transform(e.createTable$))),l(n,66,0,"Number","size","Size",!1,!t["\u0275unv"](n,66,4,t["\u0275nov"](n,67).transform(e.createTable$)),!1),l(n,70,0,e.preprocessors,"preprocessFunc","Preprocess Function",!1,!1,!1),l(n,73,0,"preprocessParams","Parameters",!1,!1,!1),l(n,75,0,e.loading),l(n,77,0,e.error)}),(function(l,n){var e=n.component;l(n,20,0,t["\u0275unv"](n,20,0,t["\u0275nov"](n,21).transform(e.createTable$)),t["\u0275unv"](n,20,1,t["\u0275nov"](n,22).transform(e.createTable$))),l(n,80,0,!e.data||!e.data.length),l(n,82,0,!e.isValid)}))}function xt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-import-csv",[],null,null,null,Nt,jt)),t["\u0275did"](1,114688,null,0,gn,[ge.a,Bn.a,Vn.a,N.m,yt.a,x.o,hn.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Dt=t["\u0275ccf"]("app-import-csv",gn,xt,{modalRef:"modalRef"},{},[]),At=t["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}"]],data:{}});function It(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"wj-flex-grid-column",[],null,null,null,Wn.c,Wn.b)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGridColumn]),t["\u0275did"](2,4440064,null,0,Pn.WjFlexGridColumn,[t.ElementRef,t.Injector,[3,"WjComponent"]],{dataType:[0,"dataType"],binding:[1,"binding"],format:[2,"format"],header:[3,"header"]},null)],(function(l,n){l(n,2,0,n.component.getColumnType(n.context.$implicit.dataType),n.context.$implicit.fieldName,"dd/MM/yyyy HH:mm:ss",n.context.$implicit.fieldName)}),null)}function Ft(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Preview result table"])),(l()(),t["\u0275eld"](3,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.modalRef.hide()&&t),t}),null,null)),(l()(),t["\u0275eld"](4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xd7"])),(l()(),t["\u0275eld"](6,0,null,null,6,"div",[["class","modal-body px-4 d-flex flex-column h-100"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,5,"wj-flex-grid",[["class","h-100"]],null,null,null,Wn.d,Wn.a)),t["\u0275prd"](6144,null,"WjComponent",null,[Pn.WjFlexGrid]),t["\u0275prd"](5120,null,Fn.NG_VALUE_ACCESSOR,(function(l){return[$n.WjValueAccessorFactory(l)]}),["WjComponent"]),t["\u0275did"](10,4440064,[["grid",4]],0,Pn.WjFlexGrid,[t.ElementRef,t.Injector,[3,"WjComponent"],t.ChangeDetectorRef],{allowAddNew:[0,"allowAddNew"],allowDelete:[1,"allowDelete"],isReadOnly:[2,"isReadOnly"],itemsSource:[3,"itemsSource"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,It)),t["\u0275did"](12,278528,null,0,S.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](13,0,null,null,3,"div",[["class","modal-footer flex-column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,2,"div",[["class","row w-100 mx-0 px-0"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,1,"button",[["class","btn btn-light"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.modalRef.hide()&&t),t}),null,null)),(l()(),t["\u0275ted"](-1,null,["Close"]))],(function(l,n){var e=n.component;l(n,10,0,!1,!1,!0,e.data),l(n,12,0,e.config.fields)}),null)}function Lt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-preview-data",[],null,null,null,Ft,At)),t["\u0275did"](1,114688,null,0,dn,[],null,null)],(function(l,n){l(n,1,0)}),null)}var Vt=t["\u0275ccf"]("app-preview-data",dn,Lt,{modalRef:"modalRef",config:"config"},{},[]),Mt=e("9bPP"),qt=e("DQlY"),kt=e("M2Lx"),Wt=e("Wf4p"),$t=e("eDkP"),Pt=e("Fzqc"),Gt=e("uGex"),Ut=e("v9Dh"),Bt=e("ZYjt"),zt=e("s/lM"),Qt=e("A5yv"),Jt=function(){function l(l,n,e){this.store=l,this.dbService=n,this.router=e}return l.prototype.canActivate=function(){var l=this;return this.store.select(gl,"connectionName").pipe(Object(tn.a)((function(n){return n?l.dbService.getMyDbConnections().pipe(Object(en.a)((function(l){return Object(on.a)([])})),Object(Tn.a)((function(e){try{l.store.dispatch(new Nl(e))}catch(t){return!1}return e.map((function(l){return l.connectorName.toLowerCase()})).includes(n.toLowerCase())}))):(l.router.navigate(["/login"]),Object(on.a)(!1))})))},l}(),Kt=e("yD1i"),Ht=e("EscI"),Zt=e("mPam"),Xt=e("EM0x"),Yt=e("3pJQ"),lu=e("V9q+"),nu=e("CJFP"),eu=e("dWZg"),tu=e("/VYK"),uu=e("seP3"),ou=e("b716"),iu=e("4c35"),au=e("qAlS"),ru=e("de3e"),du=e("UodH"),cu=e("FVSy"),su=e("9It4"),pu=e("lLAP"),fu=e("La40"),mu=e("y4qS"),gu=e("BHnd"),bu=e("SMsm"),hu=e("0etK"),vu=e("PCNd"),Cu=e("L5rO"),yu={list:[]};function ju(l,n){switch(void 0===l&&(l=yu),n.type){case Sl.LOADED_SQL_OBJECTS:return E.__assign({},l,{list:n.payload});default:return l}}var Ou={list:[],current:null};function wu(l,n){switch(void 0===l&&(l=Ou),n.type){case Sl.SELECT_CONNECTION:return E.__assign({},l,{current:n.payload});case Sl.LOADED_CONNECTIONS:return E.__assign({},l,{list:n.payload});default:return l}}var Ru={fields:[],details:{},objectId:0,objectOwner:null,objectName:"New",objectType:"Table"},Su={structure:E.__assign({},Ru),data:null,currentState:E.__assign({},Ru),changedData:null,filters:{limitRowsCount:1e3,skipRowsCount:0},loading:[],rowsCount:0};function Tu(l,n){switch(void 0===l&&(l=Su),n.type){case Il.LOAD_SQL_OBJECT_STRUCTURE:return E.__assign({},l,{filters:{limitRowsCount:l.filters.limitRowsCount,skipRowsCount:0},structure:E.__assign({},Ru,t=n.payload),currentState:E.__assign({},Ru,t),loading:Array.from(new Set(l.loading.concat([H.b.STRUCTURE_LOAD])))});case Il.LOAD_SQL_OBJECT_DATA:return E.__assign({},l,{data:null,loading:Array.from(new Set(l.loading.filter((function(l){return l!==H.b.DATA_SAVE})).concat([H.b.DATA_LOAD])))});case Il.SAVE_SQL_OBJECT_DATA:return E.__assign({},l,{loading:Array.from(new Set(l.loading.concat([H.b.DATA_SAVE])))});case Il.LOAD_STATE_SQL_OBJECT:return E.__assign({},l,{loading:[H.b.STRUCTURE_LOAD,H.b.DATA_LOAD]});case Il.LOADED_SQL_OBJECT_STRUCTURE:var e=n.payload||E.__assign({},Ru);return E.__assign({},l,{structure:e,loading:l.loading.filter((function(l){return l!==H.b.STRUCTURE_LOAD})),currentState:Object(K.e)(e)});case Il.LOADED_SQL_OBJECT_DATA:var t;return E.__assign({},l,{data:t=n.payload,loading:l.loading.filter((function(l){return l!==H.b.DATA_LOAD})),changedData:null});case Il.UPDATE_SQL_OBJECT:return E.__assign({},l,{currentState:n.payload});case Il.UPDATE_SQL_OBJECT_DATA:return E.__assign({},l,{changedData:n.payload});case Il.REFRESH_SQL_OBJECT:return e=l.structure,E.__assign({},l,{changedData:null,currentState:Object(K.e)(e)});case Il.SET_SQL_DATA_FILTERS:return E.__assign({},l,{filters:E.__assign({limitRowsCount:l.filters.limitRowsCount},n.payload)});case Il.SET_SQL_DATA_ROWS_COUNT:return E.__assign({},l,{rowsCount:n.payload});case Il.SET_SQL_DATA_FILTER_PROP:return E.__assign({},l,{filters:E.__assign({},l.filters,n.payload)});default:return l}}var _u=e("AytR"),Eu=function(l){return l.ERROR="[DB Manager] error",l.SUCCESS="[DB Manager] success",l}({}),Nu=function(){return function(l){this.payload=l,this.type=Eu.ERROR}}(),xu=function(){return function(l){this.payload=l,this.type=Eu.SUCCESS}}(),Du=_u.a.apiBaseUrl+"/sql",Au=function(){function l(l,n,e,t){var u=this;this.actions$=l,this.sqlDb=n,this.store=e,this.router=t,this.loadSqlObjectStructure$=this.actions$.pipe(Object(re.e)(Il.LOAD_SQL_OBJECT_STRUCTURE),Object(D.a)(this.store),Object(tn.a)((function(l){var n=l[0].payload;return u.sqlDb.getObject(Du+"/"+l[1].dbConnections.current,n.objectOwner,n.objectName,n.objectType).pipe(Object(Tn.a)((function(l){return new Ml(l)})),Object(en.a)((function(l){return Object(on.a)(new Nu(l.message),new Ml(null))})))}))),this.loadSqlObjectData$=this.actions$.pipe(Object(re.e)(Il.LOAD_SQL_OBJECT_DATA),Object(D.a)(this.store),Object(tn.a)((function(l){var n=l[0].payload,e=l[1];return u.sqlDb.selectSqlObjectData(e.dbConnections.current,n.objectOwner,n.objectName,e.sqlObject.filters).pipe(Object(Tn.a)((function(l){return new Ll(l)})),Object(en.a)((function(l){return Object(on.a)(new Nu(l),new Ll(null))})))}))),this.saveSqlObjectStructure$=this.actions$.pipe(Object(re.e)(Il.SAVE_SQL_OBJECT_STRUCTURE),Object(D.a)(this.store),Object(tn.a)((function(l){var n=l[0].payload,e=l[1];return Object(K.c)(n,e.sqlObject.structure)?[new Gl,{type:"Sql structure not changed"}]:u.sqlDb.generateObject(Du+"/"+e.dbConnections.current,n).pipe(Object(tn.a)((function(l){return[new Tl(e.dbConnections.current),new Ml(l),new Gl,new xu("SQL Structure saved")]})),Object(en.a)((function(l){return Object(on.a)(new Nu(Object(K.j)(l)))})))}))),this.saveSqlObjectData$=this.actions$.pipe(Object(re.e)(Il.SAVE_SQL_OBJECT_DATA),Object(D.a)(this.store),Object(tn.a)((function(l){var n=l[1],e=n.sqlObject;return u.sqlDb.saveSqlObjectData(n.dbConnections.current,e.structure,{tableData:Object(K.n)(e.changedData)}).pipe(Object(tn.a)((function(){return[new Fl(e.structure),new xu("SQL Object data saved")]})),Object(en.a)((function(l){return Object(on.a)(new Nu(l.error||"Server error"))})))}))),this.deleteSqlObject$=this.actions$.pipe(Object(re.e)(Il.DELETE_SQL_OBJECT),Object(D.a)(this.store),Object(tn.a)((function(l){var n=l[1];return u.sqlDb.deleteObject(Du+"/"+n.dbConnections.current,l[0].payload).pipe(Object(tn.a)((function(){return u.router.navigate(["/database",n.dbConnections.current]),[new xu("SQL Object deleted"),new Tl(n.dbConnections.current),new Ll(null),new Ml(null)]})),Object(en.a)((function(l){var n=[l.error.title,Object.values(l.error.errors)];return Object(on.a)(new Nu(n.join("\n")))})))}))),this.loadedSqlObject$=this.actions$.pipe(Object(re.e)(Il.LOADED_SQL_OBJECT_STRUCTURE),Object(D.a)(this.store),Object(Tn.a)((function(l){var n=l[0].payload,e=["/database",l[1].dbConnections.current];if(n){var t=n.objectOwner,o=n.objectName;n.objectType===H.c.View&&e.push("view"),e=e.concat([t,o]),u.router.navigate(e)}return{type:"Route checked after table structure update"}}))),this.limitRowsCount$=this.actions$.pipe(Object(re.e)(Il.SET_SQL_DATA_FILTER_PROP),Object(D.a)(this.store),Object(Tn.a)((function(l){return new Fl(l[1].sqlObject.structure)})))}return E.__decorate([Object(re.b)(),E.__metadata("design:type",Object)],l.prototype,"loadSqlObjectStructure$",void 0),E.__decorate([Object(re.b)(),E.__metadata("design:type",Object)],l.prototype,"loadSqlObjectData$",void 0),E.__decorate([Object(re.b)(),E.__metadata("design:type",Object)],l.prototype,"saveSqlObjectStructure$",void 0),E.__decorate([Object(re.b)(),E.__metadata("design:type",Object)],l.prototype,"saveSqlObjectData$",void 0),E.__decorate([Object(re.b)(),E.__metadata("design:type",Object)],l.prototype,"deleteSqlObject$",void 0),E.__decorate([Object(re.b)(),E.__metadata("design:type",Object)],l.prototype,"loadedSqlObject$",void 0),E.__decorate([Object(re.b)(),E.__metadata("design:type",Object)],l.prototype,"limitRowsCount$",void 0),l}(),Iu=function(){function l(l,n,e){var t=this;this.actions$=l,this.notificationService=n,this.sqlDb=e,this.loadSqlObjects$=this.actions$.pipe(Object(re.e)(Sl.LOAD_SQL_OBJECTS),Object(tn.a)((function(l){return t.sqlDb.getSqlObjects(_u.a.apiBaseUrl+"/sql/"+l.payload)})),Object(Tn.a)((function(l){return new _l(l)})),Object(en.a)((function(l){return Object(on.a)(new Nu(l.message))}))),this.errorHandler$=this.actions$.pipe(Object(re.e)(Eu.ERROR),Object(Tn.a)((function(l){var n=l.payload;return t.notificationService.open({message:n,type:Kl.b.DANGER}),{type:"[DB Manager] Shown Error: "+n}}))),this.successHandler$=this.actions$.pipe(Object(re.e)(Eu.SUCCESS),Object(Tn.a)((function(l){var n=l.payload;return t.notificationService.open({message:n,type:Kl.b.SUCCESS}),{type:"[DB Manager] Shown Success: "+n}})))}return E.__decorate([Object(re.b)(),E.__metadata("design:type",Object)],l.prototype,"loadSqlObjects$",void 0),E.__decorate([Object(re.b)(),E.__metadata("design:type",Object)],l.prototype,"errorHandler$",void 0),E.__decorate([Object(re.b)(),E.__metadata("design:type",Object)],l.prototype,"successHandler$",void 0),l}(),Fu=function(){return function(){}}(),Lu=e("9EwZ"),Vu=e("+Fm5"),Mu=e("LhJ2"),qu=e("OaQ9");e.d(n,"DatabaseManagerModuleNgFactory",(function(){return ku}));var ku=t["\u0275cmf"](u,[],(function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,i.a,i.b,a.a,r.a,d.a,c.h,c.g,s.a,s.e,s.f,s.g,s.h,s.i,s.j,s.b,s.c,s.d,p.a,f.g,f.i,f.a,f.d,f.f,f.h,f.j,f.e,f.k,f.b,f.c,m.a,g.a,b.a,h.a,v.a,C.a,y.a,Dn,Me,ut,mt,gt.a,bt.a,ht.a,vt.a,Ct.a,Dt,Vt]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,S.NgLocalization,S.NgLocaleLocalization,[t.LOCALE_ID,[2,S["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,Fn["\u0275angular_packages_forms_forms_o"],Fn["\u0275angular_packages_forms_forms_o"],[]),t["\u0275mpd"](4608,at.k,at.q,[S.DOCUMENT,t.PLATFORM_ID,at.o]),t["\u0275mpd"](4608,at.r,at.r,[at.k,at.p]),t["\u0275mpd"](5120,at.a,(function(l){return[l]}),[at.r]),t["\u0275mpd"](4608,at.n,at.n,[]),t["\u0275mpd"](6144,at.l,null,[at.n]),t["\u0275mpd"](4608,at.j,at.j,[at.l]),t["\u0275mpd"](6144,at.b,null,[at.j]),t["\u0275mpd"](4608,at.f,at.m,[at.b,t.Injector]),t["\u0275mpd"](4608,at.c,at.c,[at.f]),t["\u0275mpd"](4608,Mt.b,Mt.b,[]),t["\u0275mpd"](4608,In.f,In.f,[]),t["\u0275mpd"](4608,ee.a,ee.a,[]),t["\u0275mpd"](4608,te.a,te.a,[t.RendererFactory2,t.PLATFORM_ID]),t["\u0275mpd"](4608,_.a,_.a,[t.ComponentFactoryResolver,t.NgZone,t.Injector,te.a,t.ApplicationRef]),t["\u0275mpd"](4608,qt.a,qt.a,[t.RendererFactory2,_.a]),t["\u0275mpd"](4608,T.f,T.f,[]),t["\u0275mpd"](5120,t.APP_BOOTSTRAP_LISTENER,(function(l,n){return[Ol.j(l,n)]}),[S.DOCUMENT,t.PLATFORM_ID]),t["\u0275mpd"](4608,Fn.FormBuilder,Fn.FormBuilder,[]),t["\u0275mpd"](4608,kt.c,kt.c,[]),t["\u0275mpd"](4608,Wt.b,Wt.b,[]),t["\u0275mpd"](4608,$t.c,$t.c,[$t.h,$t.d,t.ComponentFactoryResolver,$t.g,$t.e,t.Injector,t.NgZone,S.DOCUMENT,Pt.b,[2,S.Location]]),t["\u0275mpd"](5120,$t.i,$t.j,[$t.c]),t["\u0275mpd"](5120,Gt.a,Gt.b,[$t.c]),t["\u0275mpd"](5120,Ut.a,Ut.b,[$t.c]),t["\u0275mpd"](4608,Bt.e,Wt.c,[[2,Wt.g],[2,Wt.l]]),t["\u0275mpd"](4608,ot.b,ot.b,[]),t["\u0275mpd"](4608,w.b,w.b,[t.PLATFORM_ID]),t["\u0275mpd"](4608,zt.c,zt.c,[[2,zt.d]]),t["\u0275mpd"](135680,N.k,N.k,[N.a,N.i,N.j,N.d]),t["\u0275mpd"](5120,Qt.c,Qt.d,[Qt.j,Qt.g]),t["\u0275mpd"](4608,Jt,Jt,[N.m,Vn.a,x.o]),t["\u0275mpd"](4608,hn.a,hn.a,[S.DOCUMENT,t.ComponentFactoryResolver,t.ApplicationRef,t.Injector]),t["\u0275mpd"](1073742336,S.CommonModule,S.CommonModule,[]),t["\u0275mpd"](1073742336,Fn["\u0275angular_packages_forms_forms_d"],Fn["\u0275angular_packages_forms_forms_d"],[]),t["\u0275mpd"](1073742336,Fn.FormsModule,Fn.FormsModule,[]),t["\u0275mpd"](1073742336,T.e,T.e,[]),t["\u0275mpd"](1073742336,qt.e,qt.e,[]),t["\u0275mpd"](1073742336,ot.c,ot.c,[]),t["\u0275mpd"](1073742336,In.d,In.d,[]),t["\u0275mpd"](1073742336,Kt.b,Kt.b,[]),t["\u0275mpd"](1073742336,Mt.c,Mt.c,[]),t["\u0275mpd"](1073742336,w.a,w.a,[]),t["\u0275mpd"](1073742336,ee.d,ee.d,[]),t["\u0275mpd"](1073742336,x.s,x.s,[[2,x.y],[2,x.o]]),t["\u0275mpd"](1073742336,$n.WjDirectiveBaseModule,$n.WjDirectiveBaseModule,[]),t["\u0275mpd"](1073742336,Pn.WjGridModule,Pn.WjGridModule,[]),t["\u0275mpd"](1073742336,Ht.WjGridFilterModule,Ht.WjGridFilterModule,[]),t["\u0275mpd"](1073742336,zt.b,zt.b,[]),t["\u0275mpd"](1073742336,ke.a,ke.a,[]),t["\u0275mpd"](1073742336,Zt.c,Zt.c,[]),t["\u0275mpd"](1073742336,at.e,at.e,[]),t["\u0275mpd"](1073742336,at.d,at.d,[]),t["\u0275mpd"](1073742336,Xt.d,Xt.d,[]),t["\u0275mpd"](1073742336,Ol.c,Ol.c,[]),t["\u0275mpd"](1073742336,Pt.a,Pt.a,[]),t["\u0275mpd"](1073742336,kn.i,kn.i,[]),t["\u0275mpd"](1073742336,jl.c,jl.c,[]),t["\u0275mpd"](1073742336,Yt.a,Yt.a,[]),t["\u0275mpd"](1073742336,lu.a,lu.a,[[2,Ol.g],t.PLATFORM_ID]),t["\u0275mpd"](1073742336,nu.a,nu.a,[]),t["\u0275mpd"](1073742336,Fn.ReactiveFormsModule,Fn.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,eu.b,eu.b,[]),t["\u0275mpd"](1073742336,tu.c,tu.c,[]),t["\u0275mpd"](1073742336,kt.d,kt.d,[]),t["\u0275mpd"](1073742336,uu.d,uu.d,[]),t["\u0275mpd"](1073742336,ou.b,ou.b,[]),t["\u0275mpd"](1073742336,iu.e,iu.e,[]),t["\u0275mpd"](1073742336,au.b,au.b,[]),t["\u0275mpd"](1073742336,$t.f,$t.f,[]),t["\u0275mpd"](1073742336,Wt.l,Wt.l,[[2,Wt.d],[2,Bt.f]]),t["\u0275mpd"](1073742336,Wt.u,Wt.u,[]),t["\u0275mpd"](1073742336,Wt.s,Wt.s,[]),t["\u0275mpd"](1073742336,Wt.q,Wt.q,[]),t["\u0275mpd"](1073742336,Gt.d,Gt.d,[]),t["\u0275mpd"](1073742336,ru.d,ru.d,[]),t["\u0275mpd"](1073742336,ru.c,ru.c,[]),t["\u0275mpd"](1073742336,du.c,du.c,[]),t["\u0275mpd"](1073742336,cu.f,cu.f,[]),t["\u0275mpd"](1073742336,su.d,su.d,[]),t["\u0275mpd"](1073742336,pu.a,pu.a,[]),t["\u0275mpd"](1073742336,fu.j,fu.j,[]),t["\u0275mpd"](1073742336,mu.p,mu.p,[]),t["\u0275mpd"](1073742336,gu.l,gu.l,[]),t["\u0275mpd"](1073742336,Ut.c,Ut.c,[]),t["\u0275mpd"](1073742336,bu.a,bu.a,[]),t["\u0275mpd"](1073742336,hu.a,hu.a,[]),t["\u0275mpd"](1073742336,vu.a,vu.a,[Cu.a]),t["\u0275mpd"](131584,N.a,N.a,[]),t["\u0275mpd"](131584,Qt.l,Qt.l,[]),t["\u0275mpd"](2048,N.h,null,[Qt.l]),t["\u0275mpd"](256,N.C,void 0,[]),t["\u0275mpd"](1024,N.d,N.K,[N.C]),t["\u0275mpd"](256,N.E,{sqlObjects:ju,dbConnections:wu,sqlObject:Tu,router:L},[]),t["\u0275mpd"](2048,N.F,null,[N.E]),t["\u0275mpd"](1024,N.c,N.J,[t.Injector,N.E,N.F]),t["\u0275mpd"](256,N.D,N.s,[]),t["\u0275mpd"](256,N.H,void 0,[]),t["\u0275mpd"](1024,N.r,N.B,[N.H]),t["\u0275mpd"](1024,N.I,N.M,[N.r]),t["\u0275mpd"](1024,N.e,(function(l,n){return[N.O(l),N.N(n)]}),[N.I,N.I]),t["\u0275mpd"](256,N.q,[],[]),t["\u0275mpd"](1024,N.G,N.L,[N.e,N.q]),t["\u0275mpd"](1024,N.f,N.w,[N.D,N.G]),t["\u0275mpd"](131584,N.g,N.g,[N.h,N.d,N.c,N.f]),t["\u0275mpd"](2048,N.i,null,[N.g]),t["\u0275mpd"](131584,N.j,N.j,[]),t["\u0275mpd"](1024,Qt.j,Qt.e,[]),t["\u0275mpd"](256,Qt.h,{maxAge:25,logOnly:!0},[]),t["\u0275mpd"](1024,Qt.g,Qt.i,[Qt.h]),t["\u0275mpd"](512,Qt.k,Qt.k,[Qt.j,Qt.g,Qt.l]),t["\u0275mpd"](512,Qt.a,Qt.a,[Qt.l,N.a,N.i,Qt.k,N.j,t.ErrorHandler,N.d,Qt.g]),t["\u0275mpd"](1024,N.l,Qt.f,[Qt.a]),t["\u0275mpd"](512,N.m,N.m,[N.l,N.a,N.g]),t["\u0275mpd"](1073742336,N.o,N.o,[N.a,N.i,N.j,N.m]),t["\u0275mpd"](512,V,M,[]),t["\u0275mpd"](256,W,{},[]),t["\u0275mpd"](1024,$,G,[W]),t["\u0275mpd"](1073742336,J,J,[N.m,x.o,V,t.ErrorHandler,$]),t["\u0275mpd"](512,re.c,re.c,[t.ErrorHandler,N.m]),t["\u0275mpd"](131584,re.i,re.i,[re.c,N.m]),t["\u0275mpd"](512,re.a,re.a,[N.j]),t["\u0275mpd"](512,Iu,Iu,[re.a,yt.a,Vn.a]),t["\u0275mpd"](512,Au,Au,[re.a,Vn.a,N.m,x.o]),t["\u0275mpd"](1024,re.h,re.f,[Iu,Au]),t["\u0275mpd"](1073742336,re.g,re.g,[re.c,re.i,N.m,re.h,[2,N.o],[2,N.n]]),t["\u0275mpd"](1073742336,Fu,Fu,[]),t["\u0275mpd"](1073742336,Qt.b,Qt.b,[]),t["\u0275mpd"](1073742336,ae.WjInputModule,ae.WjInputModule,[]),t["\u0275mpd"](1073742336,Lu.b,Lu.b,[]),t["\u0275mpd"](1073742336,Vu.WjChartModule,Vu.WjChartModule,[]),t["\u0275mpd"](1073742336,Mu.WjChartAnimationModule,Mu.WjChartAnimationModule,[]),t["\u0275mpd"](1073742336,qu.a,qu.a,[]),t["\u0275mpd"](1073742336,u,u,[]),t["\u0275mpd"](256,Zt.d,Zt.e,[]),t["\u0275mpd"](256,at.o,"XSRF-TOKEN",[]),t["\u0275mpd"](256,at.p,"X-XSRF-TOKEN",[]),t["\u0275mpd"](256,T.a,{autoClose:!0,insideClick:!1},[]),t["\u0275mpd"](1024,x.m,(function(){return[[{path:":connectionName",component:_n,canActivate:[Jt],children:[{component:Ne,path:""},{component:Ne,path:":ownerName/:objectName"},{component:He,path:"view"},{component:He,path:"view/:ownerName/:objectName"},{component:it,path:"sql-query"}]}]]}),[])])}))}}]);
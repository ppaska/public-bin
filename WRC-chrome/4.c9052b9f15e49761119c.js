(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+MQa":function(e,t,n){"use strict";n.r(t);var r=n("Valr"),o=n("QJY3"),i=n("K9Ia"),a=n("bne5"),l=(n("p0ib"),n("Rney"),n("ny24")),s=(n("ad02"),n("mrSG"));n("FFOo");var c=n("TYT/");function p(e){return getComputedStyle(e)}function u(e,t){for(var n in t){var r=t[n];"number"==typeof r&&(r+="px"),e.style[n]=r}return e}function d(e){var t=document.createElement("div");return t.className=e,t}var h="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function f(e,t){if(!h)throw new Error("No element matching method supported");return h.call(e,t)}function m(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function g(e,t){return Array.prototype.filter.call(e.children,(function(e){return f(e,t)}))}var v=function(e){return"ps__thumb-"+e},b=function(e){return"ps__rail-"+e},y=function(e){return"ps--active-"+e},x=function(e){return"ps--scrolling-"+e},w={x:null,y:null};function S(e,t){var n=e.element.classList,r=x(t);n.contains(r)?clearTimeout(w[t]):n.add(r)}function O(e,t){w[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(x(t))}),e.settings.scrollingThreshold)}var C=function(e){this.element=e,this.handlers={}},M={isEmpty:{configurable:!0}};C.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},C.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(r){return!(!t||r===t)||(n.element.removeEventListener(e,r,!1),!1)}))},C.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},M.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(C.prototype,M);var _=function(){this.eventElements=[]};function P(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function I(e,t,n,r,o){var i;if(void 0===r&&(r=!0),void 0===o&&(o=!1),"top"===t)i=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");i=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,r,o){var i=n[0],a=n[1],l=n[2],s=n[3],c=n[4],p=n[5];void 0===r&&(r=!0),void 0===o&&(o=!1);var u=e.element;e.reach[s]=null,u[l]<1&&(e.reach[s]="start"),u[l]>e[i]-e[a]-1&&(e.reach[s]="end"),t&&(u.dispatchEvent(P("ps-scroll-"+s)),t<0?u.dispatchEvent(P("ps-scroll-"+c)):t>0&&u.dispatchEvent(P("ps-scroll-"+p)),r&&function(e,t){S(e,t),O(e,t)}(e,s)),e.reach[s]&&(t||o)&&u.dispatchEvent(P("ps-"+s+"-reach-"+e.reach[s]))}(e,n,i,r,o)}function E(e){return parseInt(e,10)||0}_.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new C(e),this.eventElements.push(t)),t},_.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},_.prototype.unbind=function(e,t,n){var r=this.eventElement(e);r.unbind(t,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},_.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},_.prototype.once=function(e,t,n){var r=this.eventElement(e),o=function(e){r.unbind(t,o),n(e)};r.bind(t,o)};var j={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function T(e){var t=e.element,n=Math.floor(t.scrollTop),r=t.getBoundingClientRect();e.containerWidth=Math.ceil(r.width),e.containerHeight=Math.ceil(r.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(g(t,b("x")).forEach((function(e){return m(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(g(t,b("y")).forEach((function(e){return m(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=A(e,E(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=E((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=A(e,E(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=E(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},r=Math.floor(e.scrollTop);n.left=t.isRtl?t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-r:n.top=t.scrollbarXTop+r,u(t.scrollbarXRail,n);var o={top:r,height:t.railYHeight};t.isScrollbarYUsingRight?o.right=t.isRtl?t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:t.scrollbarYRight-e.scrollLeft:o.left=t.isRtl?t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:t.scrollbarYLeft+e.scrollLeft,u(t.scrollbarYRail,o),u(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),u(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(y("x")):(t.classList.remove(y("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(y("y")):(t.classList.remove(y("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function A(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function N(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],l=t[5],s=t[6],c=t[7],p=t[8],u=e.element,d=null,h=null,f=null;function m(t){t.touches&&t.touches[0]&&(t[o]=t.touches[0].pageY),u[s]=d+f*(t[o]-h),S(e,c),T(e),t.stopPropagation(),t.preventDefault()}function g(){O(e,c),e[p].classList.remove("ps--clicking"),e.event.unbind(e.ownerDocument,"mousemove",m)}function v(t,a){d=u[s],a&&t.touches&&(t[o]=t.touches[0].pageY),h=t[o],f=(e[r]-e[n])/(e[i]-e[l]),a?e.event.bind(e.ownerDocument,"touchmove",m):(e.event.bind(e.ownerDocument,"mousemove",m),e.event.once(e.ownerDocument,"mouseup",g),t.preventDefault()),e[p].classList.add("ps--clicking"),t.stopPropagation()}e.event.bind(e[a],"mousedown",(function(e){v(e)})),e.event.bind(e[a],"touchstart",(function(e){v(e,!0)}))}var D={"click-rail":function(e){e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top;e.element.scrollTop+=(n>e.scrollbarYTop?1:-1)*e.containerHeight,T(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left;e.element.scrollLeft+=(n>e.scrollbarXLeft?1:-1)*e.containerWidth,T(e),t.stopPropagation()}))},"drag-thumb":function(e){N(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),N(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(f(t,":hover")||f(e.scrollbarX,":focus")||f(e.scrollbarY,":focus"))){var r,o=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(o){if("IFRAME"===o.tagName)o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(f(r=o,"input,[contenteditable]")||f(r,"select,[contenteditable]")||f(r,"textarea,[contenteditable]")||f(r,"button,[contenteditable]"))return}var i=0,a=0;switch(n.which){case 37:i=n.metaKey?-e.contentWidth:n.altKey?-e.containerWidth:-30;break;case 38:a=n.metaKey?e.contentHeight:n.altKey?e.containerHeight:30;break;case 39:i=n.metaKey?e.contentWidth:n.altKey?e.containerWidth:30;break;case 40:a=n.metaKey?-e.contentHeight:n.altKey?-e.containerHeight:-30;break;case 32:a=n.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:a=e.containerHeight;break;case 34:a=-e.containerHeight;break;case 36:a=e.contentHeight;break;case 35:a=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==i||e.settings.suppressScrollY&&0!==a||(t.scrollTop-=a,t.scrollLeft+=i,T(e),function(n,r){var o=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&r>0||o>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var i=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===i&&n<0||i>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(i,a)&&n.preventDefault())}}))},wheel:function(e){var t=e.element;function n(n){var r=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),o=r[0],i=r[1];if(!function(e,n,r){if(!j.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains("ps__child--consume"))return!0;var i=p(o);if(r&&i.overflowY.match(/(scroll|auto)/)){var a=o.scrollHeight-o.clientHeight;if(a>0&&(o.scrollTop>0&&r<0||o.scrollTop<a&&r>0))return!0}if(n&&i.overflowX.match(/(scroll|auto)/)){var l=o.scrollWidth-o.clientWidth;if(l>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<l&&n>0))return!0}o=o.parentNode}return!1}(n.target,o,i)){var a=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(i?t.scrollTop-=i*e.settings.wheelSpeed:t.scrollTop+=o*e.settings.wheelSpeed,a=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(o?t.scrollLeft+=o*e.settings.wheelSpeed:t.scrollLeft-=i*e.settings.wheelSpeed,a=!0):(t.scrollTop-=i*e.settings.wheelSpeed,t.scrollLeft+=o*e.settings.wheelSpeed),T(e),(a=a||function(n,r){var o=Math.floor(t.scrollTop),i=0===t.scrollTop,a=o+t.offsetHeight===t.scrollHeight,l=0===t.scrollLeft,s=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(r)>Math.abs(n)?i||a:l||s)||!e.settings.wheelPropagation}(o,i))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?e.event.bind(t,"wheel",n):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",n)},touch:function(e){if(j.supportsTouch||j.supportsIePointer){var t=e.element,n={},r=0,o={},i=null;j.supportsTouch?(e.event.bind(t,"touchstart",c),e.event.bind(t,"touchmove",u),e.event.bind(t,"touchend",d)):j.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",c),e.event.bind(t,"pointermove",u),e.event.bind(t,"pointerup",d)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",c),e.event.bind(t,"MSPointerMove",u),e.event.bind(t,"MSPointerUp",d)))}function a(n,r){t.scrollTop-=r,t.scrollLeft-=n,T(e)}function l(e){return e.targetTouches?e.targetTouches[0]:e}function s(e){return!(e.pointerType&&"pen"===e.pointerType&&0===e.buttons||(!e.targetTouches||1!==e.targetTouches.length)&&(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function c(e){if(s(e)){var t=l(e);n.pageX=t.pageX,n.pageY=t.pageY,r=(new Date).getTime(),null!==i&&clearInterval(i)}}function u(i){if(s(i)){var c=l(i),u={pageX:c.pageX,pageY:c.pageY},d=u.pageX-n.pageX,h=u.pageY-n.pageY;if(function(e,n,r){if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains("ps__child--consume"))return!0;var i=p(o);if(r&&i.overflowY.match(/(scroll|auto)/)){var a=o.scrollHeight-o.clientHeight;if(a>0&&(o.scrollTop>0&&r<0||o.scrollTop<a&&r>0))return!0}if(n&&i.overflowX.match(/(scroll|auto)/)){var l=o.scrollWidth-o.clientWidth;if(l>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<l&&n>0))return!0}o=o.parentNode}return!1}(i.target,d,h))return;a(d,h),n=u;var f=(new Date).getTime(),m=f-r;m>0&&(o.x=d/m,o.y=h/m,r=f),function(n,r){var o=Math.floor(t.scrollTop),i=t.scrollLeft,a=Math.abs(n),l=Math.abs(r);if(l>a){if(r<0&&o===e.contentHeight-e.containerHeight||r>0&&0===o)return 0===window.scrollY&&r>0&&j.isChrome}else if(a>l&&(n<0&&i===e.contentWidth-e.containerWidth||n>0&&0===i))return!0;return!0}(d,h)&&i.preventDefault()}}function d(){e.settings.swipeEasing&&(clearInterval(i),i=setInterval((function(){e.isInitialized?clearInterval(i):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(i):(a(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(i)}),10))}}},k=function(e,t){var n=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=e,e.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[r]=t[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var o,i,a=function(){return e.classList.add("ps--focus")},l=function(){return e.classList.remove("ps--focus")};this.isRtl="rtl"===p(e).direction,!0===this.isRtl&&e.classList.add("ps__rtl"),this.isNegativeScroll=(i=e.scrollLeft,e.scrollLeft=-1,o=e.scrollLeft<0,e.scrollLeft=i,o),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new _,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=d(b("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=d(v("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",l),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var s=p(this.scrollbarXRail);this.scrollbarXBottom=parseInt(s.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=E(s.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=E(s.borderLeftWidth)+E(s.borderRightWidth),u(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=E(s.marginLeft)+E(s.marginRight),u(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=d(b("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=d(v("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",l),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=p(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=E(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=p(e);return E(t.width)+E(t.paddingLeft)+E(t.paddingRight)+E(t.borderLeftWidth)+E(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=E(c.borderTopWidth)+E(c.borderBottomWidth),u(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=E(c.marginTop)+E(c.marginBottom),u(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return D[e](n)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return n.onScroll(e)})),T(this)};k.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,u(this.scrollbarXRail,{display:"block"}),u(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=E(p(this.scrollbarXRail).marginLeft)+E(p(this.scrollbarXRail).marginRight),this.railYMarginHeight=E(p(this.scrollbarYRail).marginTop)+E(p(this.scrollbarYRail).marginBottom),u(this.scrollbarXRail,{display:"none"}),u(this.scrollbarYRail,{display:"none"}),T(this),I(this,"top",0,!1,!0),I(this,"left",0,!1,!0),u(this.scrollbarXRail,{display:""}),u(this.scrollbarYRail,{display:""}))},k.prototype.onScroll=function(e){this.isAlive&&(T(this),I(this,"top",this.element.scrollTop-this.lastScrollTop),I(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},k.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),m(this.scrollbarX),m(this.scrollbarY),m(this.scrollbarXRail),m(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},k.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};var R=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}())}(),L="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Y="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),X="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Y):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},F=["top","right","bottom","left","width","height","size","weight"],H="undefined"!=typeof MutationObserver,W=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&l()}function a(){X(i)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,20);o=e}return l}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){L&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),H?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){L&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;F.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),V=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},B=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Y},G=$(0,0,0,0);function q(e){return parseFloat(e)||0}function Q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+q(e["border-"+n+"-width"])}),0)}var U="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof B(e).SVGGraphicsElement}:function(e){return e instanceof B(e).SVGElement&&"function"==typeof e.getBBox};function $(e,t,n,r){return{x:e,y:t,width:n,height:r}}var J=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=$(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e,t=(e=this.target,L?U(e)?function(e){var t=e.getBBox();return $(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return G;var r=B(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n];t[o]=q(e["padding-"+o])}return t}(r),i=o.left+o.right,a=o.top+o.bottom,l=q(r.width),s=q(r.height);if("border-box"===r.boxSizing&&(Math.round(l+i)!==t&&(l-=Q(r,"left","right")+i),Math.round(s+a)!==n&&(s-=Q(r,"top","bottom")+a)),!function(e){return e===B(e).document.documentElement}(e)){var c=Math.round(l+i)-t,p=Math.round(s+a)-n;1!==Math.abs(c)&&(l-=c),1!==Math.abs(p)&&(s-=p)}return $(o.left,o.top,l,s)}(e):G);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),K=function(e,t){var n,r,o,i,a,l,s,c=(r=(n=t).x,o=n.y,i=n.width,a=n.height,l="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(l.prototype),V(s,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),s);V(this,{target:e,contentRect:c})},z=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new R,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof B(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new J(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof B(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new K(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Z="undefined"!=typeof WeakMap?new WeakMap:new R,ee=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=W.getInstance(),r=new z(t,n,this);Z.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){ee.prototype[e]=function(){var t;return(t=Z.get(this))[e].apply(t,arguments)}}));var te=function(){function e(){}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.CommonModule],r.CommonModule]}),e}(),ne=n("6Fs3"),re=n("b8dF"),oe=n("DQr0"),ie=n("cSvJ"),ae=n("CXYP"),le=n("1PnN"),se=n("g4vN"),ce=n("Hph+"),pe=n("OaQ9"),ue=n("M0ag"),de=n("ZF+8"),he=n("DUip"),fe=n("XlPw"),me=n("G5J1"),ge=n("67Y/"),ve=n("9Z1F"),be=n("15JJ"),ye=n("0CDM"),xe=n("TwVa"),we=function(){function e(e,t,n){this.router=e,this.appService=t,this.notificationService=n}return e.prototype.canActivate=function(e,t){var n=this,r=e.params;return this.appService.getAppInfo(r.owner,r.appName).pipe(Object(ge.a)((function(r){if(r)return e.data=Object(s.a)(Object(s.a)({},e.data),{guardedData:r}),!0;n.router.navigate(["/login"],{queryParams:{returnUrl:t.url}})})),Object(ve.a)((function(e){return n.notificationService.open({type:xe.f.DANGER,message:Object(ue.i)(e)}),me.a})))},e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](he.f),c["\u0275\u0275inject"](ye.a),c["\u0275\u0275inject"](de.e))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Se=function(){function e(e){this.appService=e}return e.prototype.resolve=function(e){var t=this,n=e.params;return e.data.guardedData?this.appService.getAppShell(e.data.guardedData).pipe(Object(ge.a)((function(){return e.data.guardedData}))):this.appService.getAppInfo(n.owner,n.appName).pipe(Object(be.a)((function(e){return t.appService.getAppShell(e).pipe(Object(ge.a)((function(){return e})))})))},e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](ye.a))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Oe=n("VnD/"),Ce=function(){function e(e){this.appService=e}return e.prototype.resolve=function(e){var t=e.parent;return this.appService.getPageInfo(t.params.owner,t.params.appName,e.params.pageId).pipe(Object(Oe.a)((function(e){return Boolean(e)})),Object(ge.a)((function(e){return e.title})))},e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](ye.a))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Me=n("UShy"),_e=n("iMra"),Pe=n("Gi3i"),Ie=n("oW1M"),Ee=n("qaSM"),je=["icon"],Te=["searchBox"];function Ae(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}var Ne=function(e){return{active:e}},De=function(e){return{$implicit:e}};function ke(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"li",10),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"](2).onSelect(e)})),c["\u0275\u0275text"](1,"\n    "),c["\u0275\u0275template"](2,Ae,1,0,"ng-container",11),c["\u0275\u0275text"](3,"\n  "),c["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,o=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](3,Ne,o.isActive(r))),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",c["\u0275\u0275pureFunction1"](5,De,r))}}function Re(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"ul",8),c["\u0275\u0275text"](1,"\n  "),c["\u0275\u0275template"](2,ke,4,7,"li",9),c["\u0275\u0275text"](3,"\n"),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",n.list)}}function Le(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function Ye(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"li",14),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"](2).onSelect(e)})),c["\u0275\u0275text"](1,"\n    "),c["\u0275\u0275element"](2,"i"),c["\u0275\u0275text"](3,"\n    "),c["\u0275\u0275template"](4,Le,1,0,"ng-container",11),c["\u0275\u0275text"](5,"\n  "),c["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,o=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](6,Ne,o.isActive(r))),c["\u0275\u0275advance"](2),c["\u0275\u0275classMapInterpolate1"]("",r.icon," mr-2 text-center"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",c["\u0275\u0275pureFunction1"](8,De,r))}}function Xe(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"ul",12),c["\u0275\u0275text"](1,"\n  "),c["\u0275\u0275template"](2,Ye,6,10,"li",13),c["\u0275\u0275text"](3,"\n"),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",n.noGroupList)}}function Fe(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function He(e,t){1&e&&c["\u0275\u0275elementContainer"](0)}function We(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"li",23),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"](3).onSelect(e)})),c["\u0275\u0275text"](1,"\n        "),c["\u0275\u0275element"](2,"i"),c["\u0275\u0275text"](3,"\n        "),c["\u0275\u0275template"](4,He,1,0,"ng-container",11),c["\u0275\u0275text"](5,"\n      "),c["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,o=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](6,Ne,o.isActive(r))),c["\u0275\u0275advance"](2),c["\u0275\u0275classMapInterpolate1"]("",r.icon," mr-2"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",c["\u0275\u0275pureFunction1"](8,De,r))}}function Ve(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"accordion-group",17),c["\u0275\u0275text"](1,"\n    "),c["\u0275\u0275elementStart"](2,"div",18),c["\u0275\u0275text"](3,"\n      "),c["\u0275\u0275template"](4,Fe,1,0,"ng-container",11),c["\u0275\u0275text"](5),c["\u0275\u0275element"](6,"i",19),c["\u0275\u0275text"](7,"\n      "),c["\u0275\u0275element"](8,"i",20),c["\u0275\u0275text"](9,"\n    "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](10,"\n    "),c["\u0275\u0275elementStart"](11,"ul",21),c["\u0275\u0275text"](12,"\n      "),c["\u0275\u0275template"](13,We,6,10,"li",22),c["\u0275\u0275text"](14,"\n    "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](15,"\n  "),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=t.index,o=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("isOpen",!(0!==r||!o.search)),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngTemplateOutlet",o.iconTemplate)("ngTemplateOutletContext",c["\u0275\u0275pureFunction1"](5,De,n)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("\n      ",n.value,"\n      "),c["\u0275\u0275advance"](8),c["\u0275\u0275property"]("ngForOf",n.filteredList)}}function Be(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"accordion",15),c["\u0275\u0275text"](1,"\n  "),c["\u0275\u0275template"](2,Ve,16,7,"accordion-group",16),c["\u0275\u0275text"](3,"\n"),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("isAnimated",!0)("closeOthers",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",n.groups)}}var Ge=function(){function e(){this.select=new c.EventEmitter,this.groups=[],this.noGroupList=[],this.groupSearch={}}return e.prototype.ngOnInit=function(){var e=this;this.selectedItem=this.selected,this.orderList(),this.groups=this.getGroups(),Object(a.a)(this.searchBox.nativeElement,"input").pipe(Object(Pe.a)(100)).subscribe((function(){e.groups=e.getGroups()}))},e.prototype.ngOnChanges=function(e){var t=e.group,n=e.list;t&&t.previousValue!==t.currentValue&&t.currentValue&&(this.groups=this.getGroups()),n&&n.previousValue!==n.currentValue&&!n.firstChange&&(this.orderList(),this.groups=this.getGroups())},e.prototype.isActive=function(e){return JSON.stringify(e)===JSON.stringify(this.selectedItem)},e.prototype.selectItem=function(e){this.selectedItem=e,this.openActiveGroup()},e.prototype.onSelect=function(e){this.selectedItem=e,this.select.emit(e)},e.prototype.orderList=function(){var e=this;this.orderBy&&this.list&&this.list.sort((function(t,n){return"string"==typeof e.orderBy?e.getValue(e.orderBy,n)-e.getValue(e.orderBy,t):"date"===e.orderBy.type?new Date(e.getValue(e.orderBy.key,n)).getTime()-new Date(e.getValue(e.orderBy.key,t)).getTime():void 0}))},e.prototype.getGroups=function(){var e=this;if(this.group&&this.list){var t={};return this.noGroupList=[],this.list.filter((function(t){return!e.search||Object.values(t).filter((function(e){return"string"==typeof e})).some((function(t){return-1!==t.toLowerCase().indexOf(e.search.toLowerCase())}))})).forEach((function(n){var r=e.getValue(e.group,n);r?(t[r]||(t[r]={value:r,list:[]},t[r].filteredList=t[r].list),t[r].list.push(n)):e.noGroupList.push(n)})),this.openActiveGroup(),Object.values(t)}return[]},e.prototype.openActiveGroup=function(){var e=this;setTimeout((function(){if(e.accordionGroups.length&&e.selectItem){var t=e.groups.findIndex((function(t){return!!t.list.find((function(t){return t===e.selectedItem}))})),n=e.accordionGroups.find((function(e,n){return n===t}));n&&(n.isOpen=!0)}}))},e.prototype.getValue=function(e,t){return"function"==typeof e?e(t):e.split(".").reduce((function(e,t){return e[t]}),t)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sidebar-list"]],contentQueries:function(e,t,n){var r;1&e&&(c["\u0275\u0275staticContentQuery"](n,c.TemplateRef,!0),c["\u0275\u0275staticContentQuery"](n,je,!0)),2&e&&(c["\u0275\u0275queryRefresh"](r=c["\u0275\u0275loadQuery"]())&&(t.itemTemplate=r.first),c["\u0275\u0275queryRefresh"](r=c["\u0275\u0275loadQuery"]())&&(t.iconTemplate=r.first))},viewQuery:function(e,t){var n;1&e&&(c["\u0275\u0275staticViewQuery"](Te,!0),c["\u0275\u0275viewQuery"](Ie.a,!0)),2&e&&(c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.searchBox=n.first),c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.accordionGroups=n))},inputs:{list:"list",selected:"selected",group:"group",orderBy:"orderBy",searchFn:"searchFn"},outputs:{select:"select"},features:[c["\u0275\u0275NgOnChangesFeature"]()],decls:18,vars:4,consts:[[1,"form-group","row","my-2","mx-0"],["for","search",1,"col-sm-2","col-form-label","px-2"],[1,"col-sm-10","px-2"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["searchBox",""],["class","d-flex flex-fill flex-column overflow-auto p-0 m-0",4,"ngIf"],["class","d-flex flex-column p-0 m-0 overflow-auto no-group-list",4,"ngIf"],["class","d-flex flex-fill flex-column p-0 m-0 w-100 overflow-auto",3,"isAnimated","closeOthers",4,"ngIf"],[1,"d-flex","flex-fill","flex-column","overflow-auto","p-0","m-0"],["class","d-flex align-items-baseline cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"d-flex","align-items-baseline","cursor-pointer",3,"ngClass","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","flex-column","p-0","m-0","overflow-auto","no-group-list"],["class","d-flex align-items-baseline cursor-pointer p-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"d-flex","align-items-baseline","cursor-pointer","p-2",3,"ngClass","click"],[1,"d-flex","flex-fill","flex-column","p-0","m-0","w-100","overflow-auto",3,"isAnimated","closeOthers"],[3,"isOpen",4,"ngFor","ngForOf"],[3,"isOpen"],["accordion-heading","",1,"header","d-flex","align-items-center","p-2","font-weight-bolder"],[1,"fa","text-center","fa-chevron-down","mr-1"],[1,"fa","text-center","fa-chevron-right","mr-1"],[1,"d-flex","flex-fill","flex-column","p-0","m-0","overflow-auto"],["class","d-flex align-items-baseline cursor-pointer px-2 py-1",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"d-flex","align-items-baseline","cursor-pointer","px-2","py-1",3,"ngClass","click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275text"](1,"\n  "),c["\u0275\u0275elementStart"](2,"label",1),c["\u0275\u0275text"](3,"Search"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](4,"\n  "),c["\u0275\u0275elementStart"](5,"div",2),c["\u0275\u0275text"](6,"\n    "),c["\u0275\u0275elementStart"](7,"input",3,4),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.search=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](9,"\n  "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](10,"\n"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](11,"\n\n"),c["\u0275\u0275template"](12,Re,4,1,"ul",5),c["\u0275\u0275text"](13,"\n\n"),c["\u0275\u0275template"](14,Xe,4,1,"ul",6),c["\u0275\u0275text"](15,"\n\n"),c["\u0275\u0275template"](16,Be,4,3,"accordion",7),c["\u0275\u0275text"](17,"\n")),2&e&&(c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("ngModel",t.search),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",!t.group),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.noGroupList&&t.noGroupList.length),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.group))},directives:[o.DefaultValueAccessor,o.NgControlStatus,o.NgModel,r.NgIf,r.NgForOf,r.NgClass,Ee.a,r.NgTemplateOutlet,ae.a,ae.c],styles:["[_nghost-%COMP%]{border-right:1px solid var(--border-color);-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}accordion-group[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-color)}.no-group-list[_ngcontent-%COMP%], accordion[_ngcontent-%COMP%]{background:var(--bg)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:rgba(0,0,0,calc(var(--opacity)/2))}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:hover{background:#20a8d8}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--color)}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#20a8d8}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#20a8d8}.no-group-list[_ngcontent-%COMP%]{background:var(--bg)}.no-group-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:rgba(0,0,0,calc(var(--opacity)/2))}.no-group-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:hover{background:#20a8d8}.no-group-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--color)}.no-group-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#20a8d8}.no-group-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#20a8d8}accordion-group.panel.panel-open[_ngcontent-%COMP%]     .card .card-header{background-color:rgba(0,0,0,var(--opacity))}accordion-group.panel.panel-open[_ngcontent-%COMP%]     .card .card-header:hover{background:#20a8d8}accordion-group.panel.panel-open[_ngcontent-%COMP%]     .card .card-header:hover i{color:var(--color)}accordion-group.panel.panel-open[_ngcontent-%COMP%]     .card ul li{background-color:rgba(0,0,0,var(--opacity))}accordion-group.panel.panel-open[_ngcontent-%COMP%]     .card ul li.active{background:var(--bg)}accordion-group.panel.panel-open[_ngcontent-%COMP%]     .card ul li.active i{color:#20a8d8}accordion-group.panel.panel-open[_ngcontent-%COMP%]     .card ul li.active:hover{background:#20a8d8}accordion-group.panel.panel-open[_ngcontent-%COMP%]     .card ul li.active:hover i{color:var(--color)}accordion-group[_ngcontent-%COMP%]     .card .card-header{background-color:var(--bg)}accordion-group[_ngcontent-%COMP%]     .card .card-header:hover{background:#20a8d8}accordion-group[_ngcontent-%COMP%]     .panel.card{border:none;border-radius:0;margin-bottom:0}accordion-group[_ngcontent-%COMP%]     .panel.card ul li:hover{background-color:#20a8d8}accordion-group[_ngcontent-%COMP%]     .panel-heading{border:none;border-radius:0;cursor:pointer;padding:.25rem}accordion-group[_ngcontent-%COMP%]     .panel-body.card-block.card-body{padding:0}accordion-group[_ngcontent-%COMP%]     [aria-expanded=false] .fa-chevron-down, accordion-group[_ngcontent-%COMP%]     [aria-expanded=true] .fa-chevron-right{display:none}.fa-chevron-right[_ngcontent-%COMP%]{width:14px}.fa-chevron-down[_ngcontent-%COMP%], .fa-chevron-right[_ngcontent-%COMP%]{margin-left:auto}.search-input[_ngcontent-%COMP%]{height:21px}i.fa[_ngcontent-%COMP%]{width:14px}"]}),e}(),qe=n("Xn/w"),Qe=n("JGTj"),Ue=n("H4hQ");function $e(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"a",6),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"](2).handleAction(e)})),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](r.title||r.actionName)}}function Je(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"a",12),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=t.$implicit;return c["\u0275\u0275nextContext"](5).handleAction(e)})),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](r.title||r.actionName)}}function Ke(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",10),c["\u0275\u0275text"](1,"\n        "),c["\u0275\u0275template"](2,Je,2,1,"a",11),c["\u0275\u0275text"](3,"\n      "),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",n.children)}}function ze(e,t){if(1&e&&(c["\u0275\u0275text"](0,"\n      "),c["\u0275\u0275elementStart"](1,"a",7),c["\u0275\u0275listener"]("click",(function(){return!1})),c["\u0275\u0275text"](2),c["\u0275\u0275element"](3,"i",8),c["\u0275\u0275text"](4,"\n      "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](5,"\n      "),c["\u0275\u0275template"](6,Ke,4,1,"div",9),c["\u0275\u0275text"](7,"\n    ")),2&e){var n=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("\n        ",n.title," ")}}function Ze(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"li",3),c["\u0275\u0275text"](1,"\n    "),c["\u0275\u0275template"](2,$e,2,1,"a",4),c["\u0275\u0275text"](3,"\n    "),c["\u0275\u0275template"](4,ze,8,1,"ng-template",null,5,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275text"](6,"\n  "),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=c["\u0275\u0275reference"](5);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",!n.children)("ngIfElse",r)}}function et(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"ul",1),c["\u0275\u0275text"](1,"\n  "),c["\u0275\u0275template"](2,Ze,7,2,"li",2),c["\u0275\u0275text"](3,"\n"),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",n.navItems)}}var tt=function(){function e(e,t){this.apiService=e,this.authService=t}return e.prototype.handleAction=function(e){this.apiService.handleAction(this.appInfo,e)},e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](_e.a),c["\u0275\u0275directiveInject"](Ue.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-menu"]],inputs:{appInfo:"appInfo",navItems:"navItems"},decls:2,vars:1,consts:[["class","nav navbar-nav info-links d-md-down-none",4,"ngIf"],[1,"nav","navbar-nav","info-links","d-md-down-none"],["class","nav-item dropdown px-3","dropdown","","placement","bottom right",4,"ngFor","ngForOf"],["dropdown","","placement","bottom right",1,"nav-item","dropdown","px-3"],["class","nav-link",3,"click",4,"ngIf","ngIfElse"],["list",""],[1,"nav-link",3,"click"],["data-toggle","dropdown","href","#","role","button","aria-haspopup","true","aria-expanded","false","dropdownToggle","",1,"nav-link",3,"click"],[1,"fa","fa-chevron-down"],["class","dropdown-menu dropdown-menu-right","aria-labelledby","simple-dropdown",4,"dropdownMenu"],["aria-labelledby","simple-dropdown",1,"dropdown-menu","dropdown-menu-right"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,et,4,1,"ul",0),c["\u0275\u0275text"](1,"\n")),2&e&&c["\u0275\u0275property"]("ngIf",t.navItems)},directives:[r.NgIf,r.NgForOf,ne.a,ne.d,ne.b],styles:["a.nav-link[_ngcontent-%COMP%]{cursor:pointer}.navbar-nav.info-links[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%], .navbar-nav.info-links[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:100px}.navbar-nav.info-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}@media(max-width:991.98px){.navbar-nav.info-links[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%], .navbar-nav.info-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0;border:none}}"]}),e}();function nt(e,t){if(1&e&&(c["\u0275\u0275text"](0,"\n    "),c["\u0275\u0275elementStart"](1,"div",6),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](3,"\n  ")),2&e){var n=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("\n      ",n.title||n.actionName,"\n    ")}}var rt=function(e,t){return["/app",e,t]},ot=function(){function e(e,t,n,r){this.router=e,this.route=t,this.apiService=n,this.appService=r,this.layoutConfig={icon:"worksheets_logo",smIcon:"worksheets_logo",sidebar:xe.m.Hidden,appName:null,menuItems:[]},this.brandRouterLink=[],this.currentPage=null,this.destroy=new i.a,this.appService.isDesignMode=!1}return e.prototype.ngOnInit=function(){var e=this;this.setCurrentPage(),this.setAppInfo(this.route.snapshot.data.appInfo),this.router.events.pipe(Object(l.a)(this.destroy),Object(Oe.a)((function(e){return e instanceof he.c}))).subscribe((function(){e.setCurrentPage()})),this.appInfo.isAdmin&&(this.layoutConfig.menuItems=[{label:"Open In Code",icon:"fa fa-paint-brush",command:this.openInCode.bind(this)}]),Object(Me.c)("appService","selectSidebarItem",(function(t){var n=e.sidebarItems.find(t);n&&e.sidebarList.selectItem(n)})),this.appService.sidebarItems$.subscribe((function(t){var n;if(e.sidebarItems=t,e.appInfo&&e.currentPage){var r=location.search.slice(1),o=e.sidebarItems.find((function(t){return t.action===xe.a.OpenPage&&t.actionName===e.currentPage&&t.parameters===r}));o&&e.sidebarList.selectItem(o)}else e.sidebarList&&e.sidebarList.selectItem(null);e.layoutConfig.sidebar=(null===(n=e.appService.shellSettings)||void 0===n?void 0:n.sidebar)||xe.m.Hidden})),this.appService.shellSettings&&this.apiService.onAppInit()},e.prototype.ngOnDestroy=function(){this.appService.reset(),this.destroy.next(),this.destroy.complete()},e.prototype.openInCode=function(){window.open("/code/app/"+this.appInfo.ownerName+"/"+this.appInfo.appName,"_blank")},e.prototype.onSidebarSelect=function(e){this.apiService.handleAction(this.appInfo,e)},e.prototype.setCurrentPage=function(){for(var e,t,n=this.router.routerState.root.firstChild;n;)t=n.snapshot.params,n=n.firstChild;this.currentPage=t.pageId||(null===(e=this.appService.shellSettings)||void 0===e?void 0:e.homePageUri)},e.prototype.setAppInfo=function(e){this.appInfo=e,this.appName=e.appName,this.layoutConfig.appName=e.title||e.appName,this.layoutConfig.icon=e.logo,this.setCurrentPage()},e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](he.f),c["\u0275\u0275directiveInject"](he.a),c["\u0275\u0275directiveInject"](_e.a),c["\u0275\u0275directiveInject"](ye.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-custom-app-layout"]],viewQuery:function(e,t){var n;1&e&&c["\u0275\u0275staticViewQuery"](Ge,!0),2&e&&c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.sidebarList=n.first)},decls:23,vars:13,consts:[[3,"config"],["title","",1,"cursor-pointer","h2","mb-0","ml-0","top-sub-header","w-md-down-50",3,"routerLink"],["header","",1,"mr-auto","d-flex",3,"appInfo","navItems"],["sidebar","","group","groupName",1,"d-flex","h-100","flex-column","w-100",3,"list","select"],["content","",1,"main"],[1,"container-fluid","p-md-0","p-sm-2"],[1,"m-1"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"app-layout",0),c["\u0275\u0275text"](1,"\n  "),c["\u0275\u0275elementStart"](2,"a",1),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](4,"\n  "),c["\u0275\u0275element"](5,"app-menu",2),c["\u0275\u0275pipe"](6,"async"),c["\u0275\u0275text"](7,"\n\n  "),c["\u0275\u0275elementStart"](8,"app-sidebar-list",3),c["\u0275\u0275listener"]("select",(function(e){return t.onSidebarSelect(e)})),c["\u0275\u0275pipe"](9,"async"),c["\u0275\u0275text"](10,"\n  "),c["\u0275\u0275template"](11,nt,4,1,"ng-template"),c["\u0275\u0275text"](12,"\n"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](13,"\n\n  "),c["\u0275\u0275elementStart"](14,"main",4),c["\u0275\u0275text"](15,"\n    "),c["\u0275\u0275elementStart"](16,"div",5),c["\u0275\u0275text"](17,"\n      "),c["\u0275\u0275element"](18,"router-outlet"),c["\u0275\u0275text"](19,"\n    "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](20,"\n  "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](21,"\n"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](22,"\n")),2&e&&(c["\u0275\u0275property"]("config",t.layoutConfig),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction2"](10,rt,t.appInfo.ownerName,t.appInfo.appName)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("\n    ",t.layoutConfig.appName,"\n  "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("appInfo",t.appInfo)("navItems",c["\u0275\u0275pipeBind1"](6,6,t.appService.menuItems$)),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("list",c["\u0275\u0275pipeBind1"](9,8,t.appService.sidebarItems$)))},directives:[qe.a,he.h,tt,Ge,he.j],pipes:[r.AsyncPipe],styles:["[_nghost-%COMP%] {\n      display: flex;\n      flex-direction: column;\n      min-height: 100vh;\n      max-height: 100%;\n    }\n\n    .left-menu[_ngcontent-%COMP%] {\n      left: auto !important;\n      right: 0px !important;\n    }\n\n    .left-menu[_ngcontent-%COMP%]     .dropdown-item {\n      min-width: 100px;\n    }"]}),e}(),it=n("xMyE"),at=n("01LN"),lt=n("5sEi"),st=n("dv3C");function ct(e,t){if(1&e&&c["\u0275\u0275element"](0,"app-page",2),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("pageContent",n.page)("queryParams",n.queryParams)}}function pt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",4),c["\u0275\u0275text"](1,"\n      "),c["\u0275\u0275elementStart"](2,"div",5),c["\u0275\u0275text"](3,"\n        "),c["\u0275\u0275elementStart"](4,"span",6),c["\u0275\u0275text"](5,"Loading..."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](6,"\n      "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](7,"\n    "),c["\u0275\u0275elementEnd"]())}function ut(e,t){if(1&e&&(c["\u0275\u0275text"](0,"\n  "),c["\u0275\u0275template"](1,pt,8,0,"div",3),c["\u0275\u0275text"](2,"\n")),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.appService.shellSettings&&n.loading)}}var dt=function(){function e(e,t,n,r,o){this.apiService=e,this.appService=t,this.notifyService=n,this.router=r,this.route=o,this.loading=!1,this.dataModel={},this.destroy=new i.a}return e.prototype.ngOnInit=function(){this.appService.shellSettings&&(this.queryParams=this.route.snapshot.params,this.initRouter())},e.prototype.ngOnDestroy=function(){this.destroy.next(),this.destroy.complete()},e.prototype.initRouter=function(){var e=this,t=this.route.snapshot.parent.params,n=t.owner,r=t.appName;this.route.params.pipe(Object(l.a)(this.destroy),Object(it.a)((function(){e.loading=!0,e.page=null})),Object(ge.a)((function(t){return t.pageId||e.getHomePage()})),Object(be.a)((function(t){return e.appService.getPageInfo(n,r,t).pipe(Object(it.a)((function(n){n||e.notifyService.open({type:xe.f.DANGER,message:"Page - "+t+" not found."})})),Object(ve.a)((function(e){return Object(fe.a)(e)})))})),Object(ve.a)((function(t){return"NoHomePage"!==t.message&&e.notifyService.open({type:xe.f.DANGER,message:Object(ue.i)(t)}),e.page=null,e.loading=!1,me.a}))).subscribe((function(t){e.loading=!1,t?e.page=e.page=Object(at.deepClone)(t):e.router.navigate(["app",n,r])})),this.route.queryParams.pipe(Object(Pe.a)(1),Object(Oe.a)((function(){return Boolean(e.page)}))).subscribe((function(t){e.queryParams=t}))},e.prototype.getHomePage=function(){var e,t=null===(e=this.appService.shellSettings)||void 0===e?void 0:e.homePageUri;if(!t)throw Error("NoHomePage");var n=Object(lt.a)(t),r=n.name;if(n.contentType!==Qe.a.PAGE)throw Error("Shell homePageUri ("+t+") should be type of "+Qe.a.PAGE);return r},e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](_e.a),c["\u0275\u0275directiveInject"](ye.a),c["\u0275\u0275directiveInject"](de.e),c["\u0275\u0275directiveInject"](he.f),c["\u0275\u0275directiveInject"](he.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-shell"]],decls:5,vars:2,consts:[[3,"pageContent","queryParams",4,"ngIf","ngIfElse"],["spinner",""],[3,"pageContent","queryParams"],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){if(1&e&&(c["\u0275\u0275template"](0,ct,1,2,"app-page",0),c["\u0275\u0275text"](1,"\n\n"),c["\u0275\u0275template"](2,ut,3,1,"ng-template",null,1,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275text"](4,"\n")),2&e){var n=c["\u0275\u0275reference"](3);c["\u0275\u0275property"]("ngIf",t.page)("ngIfElse",n)}},directives:[r.NgIf,st.a],styles:["[_nghost-%COMP%] {\n     height: calc(100vh - 100px);\n     display: block;\n   }"]}),e}(),ht=[{path:":appName",component:ot,data:{title:"Home"},canActivate:[we],resolve:{appInfo:Se},children:[{path:"",component:dt},{path:":pageId",component:dt,resolve:{title:Ce}}]}],ft=function(){function e(){}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[he.i.forChild(ht)],he.i]}),e}(),mt=n("EgT8");function gt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275text"](1,"\n        "),c["\u0275\u0275elementStart"](2,"label",3),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](4,"\n        "),c["\u0275\u0275elementStart"](5,"div",4),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](7,"\n      "),c["\u0275\u0275elementStart"](8,"div"),c["\u0275\u0275text"](9,"\n    "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](10,"\n    "),c["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](r.formatLabel(n)),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](r.getValue(n))}}var vt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formatLabel=mt.formatCamelStr,t}return Object(s.d)(t,e),Object.defineProperty(t.prototype,"props",{get:function(){return this.displayProps?this.displayProps:(this.properties.props?this.displayProps=this.properties.props:Array.isArray(this.componentDataModel)&&this.componentDataModel.length&&(this.displayProps=Object.keys(this.componentDataModel[0])),this.displayProps)},enumerable:!0,configurable:!0}),t.prototype.getValue=function(e){return Array.isArray(this.componentDataModel)&&this.componentDataModel.length?this.componentDataModel[0][e]:this.componentDataModel?this.componentDataModel[e]:void 0},t.\u0275fac=function(e){return bt(e||t)},t.\u0275cmp=c["\u0275\u0275defineComponent"]({type:t,selectors:[["dc-detail-view"]],features:[c["\u0275\u0275InheritDefinitionFeature"]],decls:4,vars:2,consts:[[3,"ngStyle"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-lg-3","text-lg-right","mb-0"],[1,"col-lg-9","mb-2"]],template:function(e,t){1&e&&(c["\u0275\u0275text"](0,"\n    "),c["\u0275\u0275elementStart"](1,"div",0),c["\u0275\u0275text"](2,"\n      "),c["\u0275\u0275template"](3,gt,11,2,"div",1),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngStyle",t.itemStyles),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.props))},directives:[r.NgStyle,Ee.b,r.NgForOf],styles:["label[_ngcontent-%COMP%] {\n        font-weight: bold;\n      }"]}),t}(se.a),bt=c["\u0275\u0275getInheritedFactory"](vt),yt={name:"detail-view",label:"Detail veiw",packageName:"worksheet",category:"Custom Controls",description:"Data representation component",itemProperties:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.d)(t,e),Object(s.c)([Object(se.o)({description:"Displays properties data.",example:"['propA', 'propB']"}),Object(s.f)("design:type",Array)],t.prototype,"props",void 0),t}(se.d),component:vt,example:{title:"Text compoent example",uiModel:{type:"worksheet:detail-view",containerProperties:{},itemProperties:{props:["propA","propB"]}},dataModel:{}}},xt=n("tcrU"),wt=n("lMX+"),St=n("UkaQ"),Ot=["grid"],Ct=["pop"];function Mt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",24),c["\u0275\u0275text"](1,"\n      "),c["\u0275\u0275elementStart"](2,"div",25),c["\u0275\u0275text"](3,"\n        "),c["\u0275\u0275elementStart"](4,"span",26),c["\u0275\u0275text"](5,"Loading..."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](6,"\n      "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](7,"\n    "),c["\u0275\u0275elementEnd"]())}function _t(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275text"](0,"\n  "),c["\u0275\u0275elementStart"](1,"div",6),c["\u0275\u0275text"](2,"\n    "),c["\u0275\u0275template"](3,Mt,8,0,"div",7),c["\u0275\u0275text"](4,"\n    "),c["\u0275\u0275elementStart"](5,"div",8),c["\u0275\u0275text"](6,"\n      "),c["\u0275\u0275elementStart"](7,"div",9),c["\u0275\u0275text"](8,"\n        "),c["\u0275\u0275elementStart"](9,"div",10),c["\u0275\u0275element"](10,"i",11),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](11,"\n      "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](12,"\n      "),c["\u0275\u0275elementStart"](13,"input",12),c["\u0275\u0275listener"]("input",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onSearch(e.target.value)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](14,"\n    "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](15,"\n    "),c["\u0275\u0275elementStart"](16,"wj-flex-grid",13,14),c["\u0275\u0275listener"]("sortingColumn",(function(e){c["\u0275\u0275restoreView"](n);var t=c["\u0275\u0275reference"](17);return c["\u0275\u0275nextContext"]().sortingHandler(t,e)}))("initialized",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275reference"](17);return c["\u0275\u0275nextContext"]().onGridInit(e)})),c["\u0275\u0275text"](18,"\n      "),c["\u0275\u0275elementStart"](19,"wj-flex-grid-column",15),c["\u0275\u0275text"](20,"\n      "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](21,"\n      "),c["\u0275\u0275elementStart"](22,"wj-flex-grid-column",16),c["\u0275\u0275text"](23,"\n      "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](24,"\n      "),c["\u0275\u0275elementStart"](25,"wj-flex-grid-column",17),c["\u0275\u0275text"](26,"\n      "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](27,"\n    "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](28,"\n    "),c["\u0275\u0275elementStart"](29,"div",18),c["\u0275\u0275text"](30,"\n      "),c["\u0275\u0275elementStart"](31,"div",19),c["\u0275\u0275text"](32,"\n        "),c["\u0275\u0275elementStart"](33,"span",20),c["\u0275\u0275text"](34),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](35,"\n      "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](36,"\n    "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](37,"\n    "),c["\u0275\u0275elementStart"](38,"div",21),c["\u0275\u0275text"](39,"\n      "),c["\u0275\u0275elementStart"](40,"button",22),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onClear()})),c["\u0275\u0275text"](41,"Clear"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](42,"\n      "),c["\u0275\u0275elementStart"](43,"button",23),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onApply()})),c["\u0275\u0275text"](44,"Apply"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](45,"\n      "),c["\u0275\u0275elementStart"](46,"button",22),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](),c["\u0275\u0275reference"](3).hide()})),c["\u0275\u0275text"](47,"Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](48,"\n    "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](49,"\n  "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](50,"\n")}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",r.loading),c["\u0275\u0275advance"](13),c["\u0275\u0275property"]("allowDelete",!1)("allowAddNew",!1)("selectionMode",3)("itemsSource",r.itemsSource),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("isReadOnly",!1)("width",50),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("isReadOnly",!0)("dataType",r.properties.field.dataType)("format",r.properties.field.displayFormat),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("isReadOnly",!0)("width",80),c["\u0275\u0275advance"](9),c["\u0275\u0275textInterpolate1"]("Rows: ",r.rows,"")}}var Pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loading=!0,t}return Object(s.d)(t,e),t.prototype.ngOnInit=function(){return this.initCollection(),e.prototype.ngOnInit.call(this)},t.prototype.onShown=function(){return Object(s.b)(this,void 0,void 0,(function(){return Object(s.e)(this,(function(e){this.loading=!0;try{this._collectionView.sourceCollection=Object(s.i)(this._collectionView.sourceCollection),this.emitEvent(this.properties.onShow)}catch(t){console.error(t)}finally{this.loading=!1}return[2]}))}))},Object.defineProperty(t.prototype,"rows",{get:function(){return this._collectionView?this._collectionView.items.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){var e=this,t=se.f.find(this.dataModel,this.properties.selectedPath),n=this.properties.field.bindingName,r=n;return t&&t.length&&(n=(r=n+": "+t.map((function(e){return e})).join(", ")).length>50?r.substring(0,47)+"...":r),this.title!==r&&(this.selected=t,window.requestAnimationFrame((function(){e.title=r}))),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){var e=this;if(this.componentDataModel===this._componentDataModel)return this._collectionView;this._componentDataModel=this.componentDataModel;var t=this.componentDataModel;return window.requestAnimationFrame((function(){e._collectionView.sourceCollection=t||[],t&&e.setFooter(e.grid)})),this._collectionView},enumerable:!0,configurable:!0}),t.prototype.sortingHandler=function(e,t){var n=e.columns[t.col],r=this._collectionView.sortDescriptions,o=new xt.SortDescription(n.binding,"+"!==n.currentSort);this._collectionView.deferUpdate((function(){r.clear(),r.push(new xt.SortDescription("applied",!1)),r.push(o)})),t.cancel=!0},t.prototype.onGridInit=function(e){e.columnFooters.rows.push(new wt.Row({count:0})),e.groupHeaderFormat="<b>{value}</b>",e.formatItem.addHandler((function(e,t){var n=t.panel,r=n.rows[t.row].dataItem,o=n.columns[t.col].binding;n.cellType===wt.CellType.Cell&&r&&"value"===o&&null===r[o]&&(t.cell.innerHTML="[NULL]")})),this.selected&&this._collectionView.sortDescriptions.push(new xt.SortDescription("applied",!1))},t.prototype.onSearch=function(e){this.search=e,this._collectionView.refresh()},t.prototype.onHidden=function(){},t.prototype.onApply=function(){this.selected=this._collectionView.items.filter((function(e){return e.selected})).map((function(e){return e.value})),this.selected.length||(this.selected=null),this.pop.hide(),se.f.setValue(this.dataModel,this.properties.selectedPath,this.selected),this.emitEvent(this.properties.onApply,this.selected)},t.prototype.onClear=function(){this.selected=null,this.componentDataModel.forEach((function(e){return e.selected=!1})),this.onHidden(),this.pop.hide(),se.f.setValue(this.dataModel,this.properties.selectedPath,this.selected),this.emitEvent(this.properties.onApply,this.selected)},t.prototype.setFooter=function(e){if(e)try{e.columnFooters.setCellData(0,2,this._collectionView.sourceCollection.reduce((function(e,t){return e+t.count}),0))}catch(t){}},t.prototype.initCollection=function(){var e=this;this._collectionView=new xt.CollectionView,this._collectionView.sourceCollection=[],this._collectionView.filter=function(t){var n=t.value,r=e.properties.field.dataType;return r&&"Number"===r.toString()&&(n=t.value.toString()),!e.search||-1!==n.toLowerCase().indexOf(e.search.trim().toLowerCase())};var t=new xt.PropertyGroupDescription("applied",(function(t,n){return e.isSelected(t.value)?"Applied items":"Select items"}));this._collectionView.groupDescriptions.push(t),this._collectionView.sortConverter=function(t,n,r){return"applied"===t.property&&e.selected?e.isSelected(n.value):r}},t.prototype.isSelected=function(e){return!!this.selected&&(e instanceof Date?this.selected.some((function(t){return t.getTime()===e.getTime()})):this.selected.includes(e))},t.\u0275fac=function(e){return It(e||t)},t.\u0275cmp=c["\u0275\u0275defineComponent"]({type:t,selectors:[["app-filter"]],viewQuery:function(e,t){var n;1&e&&(c["\u0275\u0275viewQuery"](Ot,!0),c["\u0275\u0275viewQuery"](Ct,!0)),2&e&&(c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.grid=n.first),c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.pop=n.first))},features:[c["\u0275\u0275InheritDefinitionFeature"]],decls:15,vars:4,consts:[[1,"d-flex","border","border-secondary","rounded"],["containerClass","filter-component","placement","bottom",1,"d-flex",3,"popover","outsideClick","onHidden","onShown"],["pop","bs-popover"],[1,"col-form-label","px-1","cursor-pointer",3,"title"],[1,"fa","fa-angle-down"],["popTemplate",""],[1,"container","p-0","h-100","d-flex","flex-column"],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],[1,"input-group","mb-2","mr-sm-2"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-search"],["type","text","placeholder","Search",1,"form-control","form-control-sm",3,"input"],["headersVisibility","Column",1,"h-100","flex-fill",3,"allowDelete","allowAddNew","selectionMode","itemsSource","sortingColumn","initialized"],["grid",""],["header","?","binding","selected","dataType","Boolean",3,"isReadOnly","width"],["header","Value","binding","value","width","*",3,"isReadOnly","dataType","format"],["header","Count","binding","count","dataType","Number",3,"isReadOnly","width"],[1,"row","flex-column","m-0","my-2"],[1,"d-flex","justify-content-between","mb-2"],[1,"ml-auto"],[1,"d-flex"],["type","button",1,"btn","btn-light","btn-sm",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","ml-auto","mr-2",3,"click"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275text"](1,"\n  "),c["\u0275\u0275elementStart"](2,"div",1,2),c["\u0275\u0275listener"]("onHidden",(function(){return t.onHidden()}))("onShown",(function(){return t.onShown()})),c["\u0275\u0275text"](4,"\n    "),c["\u0275\u0275elementStart"](5,"label",3),c["\u0275\u0275text"](6),c["\u0275\u0275element"](7,"i",4),c["\u0275\u0275text"](8,"\n    "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](9,"\n  "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](10,"\n"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](11,"\n\n"),c["\u0275\u0275template"](12,_t,51,13,"ng-template",null,5,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275text"](14,"\n")),2&e){var n=c["\u0275\u0275reference"](13);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("popover",n)("outsideClick",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("title",t.title),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("",t.label,"\n      ")}},directives:[oe.a,r.NgIf,St.WjFlexGrid,St.WjFlexGridColumn],styles:[".filter-component{height:450px;min-width:450px}  .filter-component .popover-content.popover-body{height:100%;padding:.5rem;background-color:var(--bg);color:var(--color)}.fa-filter[_ngcontent-%COMP%]{color:#73818f}.fa-filter.selected[_ngcontent-%COMP%]{color:#2f353a}"]}),t}(se.a),It=c["\u0275\u0275getInheritedFactory"](Pt),Et={name:"vendor-filter",label:"Filter",packageName:"vendor",parseUIModel:function(e){var t={};if(!e.attrs.columns&&e.childNodes&&e.childNodes.length){var n=Object(se.p)(e.childNodes[0]);t.field=Object(s.a)({},n.attrs),e.childNodes=null}return{type:"vendor-grid",itemProperties:t}},category:"Custom Controls",description:"Filter component",itemProperties:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.d)(t,e),Object(s.c)([Object(se.o)({description:"Displays properties data.",example:'{bindingName: "prop"}'}),Object(s.f)("design:type",Object)],t.prototype,"field",void 0),Object(s.c)([Object(se.o)({description:"Path for filter value in dataModel.",example:"$.selectedFilter"}),Object(s.f)("design:type",String)],t.prototype,"selectedPath",void 0),Object(s.c)([Object(se.o)({description:"On show handler",example:"onShowFilter"}),Object(s.f)("design:type",String)],t.prototype,"onShow",void 0),Object(s.c)([Object(se.o)({description:"On apply handler",example:"onApplyFilter"}),Object(s.f)("design:type",String)],t.prototype,"onApply",void 0),t}(se.d),component:Pt,example:{title:"Text compoent example",uiModel:'\n  <vendor-filter binding="$.prop">\n    <field selectedPath="$.selectedFilter" bindingName="prop"/>\n  </vendor-filter>\n  ',dataModel:{}}},jt=n("vg9S");function Tt(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",8),c["\u0275\u0275text"](1,"\n      "),c["\u0275\u0275elementStart"](2,"label",9),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](4,"\n      "),c["\u0275\u0275elementStart"](5,"textarea",10),c["\u0275\u0275listener"]("ngModelChange",(function(e){c["\u0275\u0275restoreView"](n);var t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"](2).componentDataModel[t.bindingName]=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](6,"\n      "),c["\u0275\u0275text"](7,"\n    "),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]().$implicit,o=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",r.bindingName),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](o.getTitle(r)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("id",r.bindingName)("name",r.bindingName)("ngModel",o.componentDataModel[r.bindingName])}}function At(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",11),c["\u0275\u0275text"](1,"\n      "),c["\u0275\u0275elementStart"](2,"label",12),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](4,"\n      "),c["\u0275\u0275elementStart"](5,"input",13),c["\u0275\u0275listener"]("ngModelChange",(function(e){c["\u0275\u0275restoreView"](n);var t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"](2).componentDataModel[t.bindingName]=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](6,"\n    "),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]().$implicit,o=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",r.bindingName),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](o.getTitle(r)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("id",r.bindingName)("name",r.bindingName)("ngModel",o.componentDataModel[r.bindingName])}}function Nt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",14),c["\u0275\u0275text"](1,"\n      "),c["\u0275\u0275elementStart"](2,"label",15),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](4,"\n      "),c["\u0275\u0275elementStart"](5,"span",16),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](7,"\n    "),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]().$implicit,r=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",n.bindingName),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](r.getTitle(n)),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"]("\n        ",r.getString(r.componentDataModel[n.bindingName]),"\n      ")}}function Dt(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0,4),c["\u0275\u0275text"](1,"\n    "),c["\u0275\u0275template"](2,Tt,8,5,"div",5),c["\u0275\u0275text"](3,"\n    "),c["\u0275\u0275template"](4,At,7,5,"div",6),c["\u0275\u0275text"](5,"\n    "),c["\u0275\u0275template"](6,Nt,8,3,"div",7),c["\u0275\u0275text"](7,"\n  "),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,r=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("ngSwitch",n.dataType),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngSwitchCase",r.DataTypes.Text),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngSwitchCase",r.DataTypes.Input)}}function kt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"button",17),c["\u0275\u0275text"](1,"Save"),c["\u0275\u0275elementEnd"]())}function Rt(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"form",1),c["\u0275\u0275listener"]("ngSubmit",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onSave()})),c["\u0275\u0275text"](1,"\n  "),c["\u0275\u0275template"](2,Dt,8,3,"ng-container",2),c["\u0275\u0275text"](3,"\n  "),c["\u0275\u0275template"](4,kt,2,0,"button",3),c["\u0275\u0275text"](5,"\n"),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",r.props),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",r.isForm)}}var Lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DataTypes=jt.a,t}return Object(s.d)(t,e),Object.defineProperty(t.prototype,"props",{get:function(){return this.displayProps?this.displayProps:(this.properties.props?this.displayProps=this.properties.props:Array.isArray(this.componentDataModel)&&this.componentDataModel.length?this.displayProps=this.getDisplayProps(this.componentDataModel[0]):"object"==typeof this.componentDataModel&&(this.displayProps=this.getDisplayProps(this.componentDataModel)),this.displayProps)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isForm",{get:function(){return this.props.some((function(e){return[jt.a.Text,jt.a.Input].includes(e.dataType)}))},enumerable:!0,configurable:!0}),t.prototype.onSave=function(){this.emitEvent(this.properties.onSave)},t.prototype.getValue=function(e){if(this.componentDataModel)return this.componentDataModel[e]},t.prototype.getTitle=function(e){return e.headerText||Object(mt.formatCamelStr)(e.bindingName)},t.prototype.getString=function(e){return null==e?"":"string"==typeof e?e:"object"==typeof e?e instanceof Date?Object(ue.f)(e,"yyyy-MM-dd"):JSON.stringify(e):String(e)},t.prototype.getDisplayProps=function(e){return Object.keys(e).map((function(e){return{bindingName:e,headerText:Object(mt.formatCamelStr)(e)}}))},t.\u0275fac=function(e){return Yt(e||t)},t.\u0275cmp=c["\u0275\u0275defineComponent"]({type:t,selectors:[["app-data-view"]],features:[c["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:1,consts:[["class","form-inline",3,"ngSubmit",4,"ngIf"],[1,"form-inline",3,"ngSubmit"],[3,"ngSwitch",4,"ngFor","ngForOf"],["type","submit","class","btn btn-primary my-2 ml-auto",4,"ngIf"],[3,"ngSwitch"],["class","form-group mr-3 my-2 w-100",4,"ngSwitchCase"],["class","form-group mr-3 my-2",4,"ngSwitchCase"],["class","form-group col-3 my-1 d-flex flex-column align-items-start",4,"ngSwitchDefault"],[1,"form-group","mr-3","my-2","w-100"],[1,"mr-2","mt-1","align-self-baseline",3,"for"],["rows","3",1,"form-control","flex-fill",3,"id","name","ngModel","ngModelChange"],[1,"form-group","mr-3","my-2"],[1,"mr-2",3,"for"],["type","text",1,"form-control",3,"id","name","ngModel","ngModelChange"],[1,"form-group","col-3","my-1","d-flex","flex-column","align-items-start"],[3,"for"],[1,"font-weight-bold","border-bottom","w-100","white-space-nowrap","overflow-hidden","text-overflow-ellipsis"],["type","submit",1,"btn","btn-primary","my-2","ml-auto"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,Rt,6,2,"form",0),c["\u0275\u0275text"](1,"\n")),2&e&&c["\u0275\u0275property"]("ngIf",t.componentDataModel)},directives:[r.NgIf,o["\u0275angular_packages_forms_forms_y"],o.NgControlStatusGroup,o.NgForm,r.NgForOf,r.NgSwitch,r.NgSwitchCase,r.NgSwitchDefault,o.DefaultValueAccessor,o.NgControlStatus,o.NgModel],styles:[""]}),t}(se.a),Yt=c["\u0275\u0275getInheritedFactory"](Lt),Xt={name:"worksheet-data-view",label:"Data veiw",packageName:"worksheet",category:"Custom Controls",description:"Data representation component",itemProperties:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.d)(t,e),Object(s.c)([Object(se.o)({description:"Displays properties data.",example:"['propA', 'propB']"}),Object(s.f)("design:type",Array)],t.prototype,"props",void 0),Object(s.c)([Object(se.o)({description:"On save handler",example:"onSaveData"}),Object(s.f)("design:type",String)],t.prototype,"onSave",void 0),t}(se.d),component:Lt,example:{title:"Data view component example",uiModel:'\n  <worksheet-data-view binding="$.prop"></worksheet-data-view>\n  ',dataModel:{}}};n.d(t,"CustomAppModule",(function(){return Ft}));var Ft=function(){function e(){se.c.registerComponent(yt),se.c.registerComponent(Et),se.c.registerComponent(Xt)}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[de.b],imports:[[r.CommonModule,ft,ue.c,o.FormsModule,te,ne.c.forRoot(),re.b.forRoot(),oe.b.forRoot(),ie.c.forRoot(),ae.b.forRoot(),le.b,se.b,ce.a,pe.a]]}),e}()},dv3C:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("mrSG"),o=n("K9Ia"),i=n("gI3B"),a=n("G5J1"),l=n("15JJ"),s=n("xMyE"),c=n("9Z1F"),p=n("01LN"),u=n("TwVa"),d=n("UShy"),h=n("ZF+8"),f=n("0CDM"),m=n("iMra"),g=n("iMDe"),v=n("TYT/"),b=n("g4vN"),y=n("Valr");function x(e,t){1&e&&v["\u0275\u0275elementContainer"](0)}function w(e,t){1&e&&(v["\u0275\u0275text"](0,"\n  "),v["\u0275\u0275elementStart"](1,"div",4),v["\u0275\u0275text"](2,"\n      "),v["\u0275\u0275elementStart"](3,"div",5),v["\u0275\u0275text"](4,"\n        "),v["\u0275\u0275elementStart"](5,"span",6),v["\u0275\u0275text"](6,"Loading..."),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](7,"\n      "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](8,"\n    "),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](9,"\n"))}var S=function(){function e(e,t,n){this.apiService=e,this.appService=t,this.notifyService=n,this.loading=!1,this.dataModel={},this.destroy=new o.a}return e.prototype.ngOnInit=function(){this.interpreter=Object(d.a)(),this.mockRestMethods(),this.setPageInfo(this.pageContent)},e.prototype.ngOnChanges=function(e){var t,n=e.queryParams,r=e.pageContent;n&&!n.firstChange&&this.script&&(null===(t=this.interpreter)||void 0===t?void 0:t.hasFunction(this.script,"onQueryParamsChanged"))&&this.eventHandlers({eventName:"onQueryParamsChanged"}),r&&!r.firstChange&&this.setPageInfo(r.currentValue)},e.prototype.ngOnDestroy=function(){this.destroy.next(),this.destroy.complete()},e.prototype.eventHandlers=function(e){var t=e.eventName,n=e.rootUIModel,o=void 0===n?null:n,i=e.parameters,a=void 0===i?null:i;return Object(r.b)(this,void 0,void 0,(function(){var e,n=this;return Object(r.e)(this,(function(i){switch(i.label){case 0:if(!this.interpreter)return[2];if(!this.interpreter.hasFunction(this.script,t))return[3,5];window.requestAnimationFrame((function(){n.loading=!0})),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.interpreter.evaluate(this.script,Object(r.a)({rootUIModel:o,dataModel:this.dataModel,queryParams:this.queryParams},a),t)];case 2:return i.sent(),[3,5];case 3:return e=i.sent(),this.interpreter.evaluate('alert("'+e.message+'")'),[3,5];case 4:return window.requestAnimationFrame((function(){n.loading=!1})),[7];case 5:return[2]}}))}))},e.prototype.setPageInfo=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t=this;return Object(r.e)(this,(function(n){return this.page=null,this.script=null,this.uiModel=null,this.dataModel={},[2,Object(i.a)().pipe(Object(l.a)((function(){return t.appService.parsePageContent(e).pipe(Object(s.a)((function(n){var r=n.uiModel;t.script=n.script,t.uiModel=r,t.page=Object(p.deepClone)(e),t.dataModel.pageInfo=e})),Object(c.a)((function(e){return t.notifyService.open({type:u.f.DANGER,message:e.message}),a.a})))}))).toPromise()]}))}))},e.prototype.mockRestMethods=function(){var e=this;Object.values(g.b).forEach((function(t){e.interpreter.addFunction(t,(function(){}))}))},e.\u0275fac=function(t){return new(t||e)(v["\u0275\u0275directiveInject"](m.a),v["\u0275\u0275directiveInject"](f.a),v["\u0275\u0275directiveInject"](h.e))},e.\u0275cmp=v["\u0275\u0275defineComponent"]({type:e,selectors:[["app-page"]],inputs:{pageContent:"pageContent",queryParams:"queryParams"},features:[v["\u0275\u0275NgOnChangesFeature"]()],decls:11,vars:4,consts:[[1,"position-relative","h-100"],[1,"d-flex","h-100","overflow-auto",3,"uiModel","dataModel","eventHandlers"],[4,"ngIf","ngIfThen"],["spinner",""],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){if(1&e&&(v["\u0275\u0275text"](0,"\n\n"),v["\u0275\u0275elementStart"](1,"div",0),v["\u0275\u0275text"](2,"\n  "),v["\u0275\u0275elementStart"](3,"ngx-dynamic-component",1),v["\u0275\u0275listener"]("eventHandlers",(function(e){return t.eventHandlers(e)})),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](4,"\n    "),v["\u0275\u0275template"](5,x,1,0,"ng-container",2),v["\u0275\u0275text"](6,"\n"),v["\u0275\u0275elementEnd"](),v["\u0275\u0275text"](7,"\n\n"),v["\u0275\u0275template"](8,w,10,0,"ng-template",null,3,v["\u0275\u0275templateRefExtractor"]),v["\u0275\u0275text"](10,"\n")),2&e){var n=v["\u0275\u0275reference"](9);v["\u0275\u0275advance"](3),v["\u0275\u0275property"]("uiModel",t.uiModel)("dataModel",t.dataModel),v["\u0275\u0275advance"](2),v["\u0275\u0275property"]("ngIf",t.loading)("ngIfThen",n)}},directives:[b.i,y.NgIf],styles:["[_nghost-%COMP%]{display:block;overflow:hidden;position:relative}[_nghost-%COMP%], ngx-dynamic-component[_ngcontent-%COMP%]     .card{height:100%}"]}),e}()},iMDe:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=function(e){return e.ObjectExplorer="object-explorer",e.JSON="JSON",e.Chart="Chart",e.Grid="Grid",e}({}),o=function(e){return e.Textarea="textarea",e.Select="select",e.Text="text",e.Password="password",e.Email="email",e.Checkbox="checkbox",e.File="file",e}({}),i=function(e){return e.Assert="assert",e.Error="error",e.ShowInObjectExplorer="showInObjectExplorer",e.ShowInJSON="showInJSON",e.CreateChartTab="createChartTab",e.CreateGridTab="createGridTab",e.ShowAsserts="showAsserts",e.InputDialog="inputDialog",e}({})},iMra:function(e,t,n){"use strict";var r=n("mrSG"),o=n("67Y/"),i=n("M0ag"),a=n("ZF+8"),l=n("UShy"),s=n("TwVa"),c=n("UfhM"),p=n("Valr"),u=(n("oW1M"),n("TYT/")),d=n("CbkN"),h=n("g4vN"),f=["modal"];function m(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"ngx-dynamic-component",10),u["\u0275\u0275listener"]("eventHandlers",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().eventHandlers(e)})),u["\u0275\u0275elementEnd"]()}if(2&e){var r=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("uiModel",r.viewConfig.uiModel)("dataModel",r.dataModel)}}var g=function(){function e(){this.dataModel={}}return e.prototype.ngOnInit=function(){this.interpreter=Object(l.a)()},e.prototype.eventHandlers=function(e){var t=e.eventName,n=e.parameters,o=void 0===n?null:n;if(this.interpreter&&this.interpreter.hasFunction(this.viewConfig.script,t))try{this.interpreter.evaluate(this.viewConfig.script,Object(r.a)({rootUIModel:null,dataModel:this.dataModel},o),t)}catch(i){this.interpreter.evaluate('alert("'+i.message+'")')}},e.prototype.openModal=function(){this.modal.show()},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dynamic-modal"]],viewQuery:function(e,t){var n;1&e&&u["\u0275\u0275staticViewQuery"](f,!0),2&e&&u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.modal=n.first)},inputs:{viewConfig:"viewConfig",title:"title"},decls:28,vars:2,consts:[["bsModal","","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["modal","bs-modal"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"uiModel","dataModel","eventHandlers",4,"ngIf"],[3,"uiModel","dataModel","eventHandlers"]],template:function(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275text"](0,"\n  "),u["\u0275\u0275elementStart"](1,"div",0,1),u["\u0275\u0275text"](3,"\n    "),u["\u0275\u0275elementStart"](4,"div",2),u["\u0275\u0275text"](5,"\n      "),u["\u0275\u0275elementStart"](6,"div",3),u["\u0275\u0275text"](7,"\n        "),u["\u0275\u0275elementStart"](8,"div",4),u["\u0275\u0275text"](9,"\n          "),u["\u0275\u0275elementStart"](10,"h4",5),u["\u0275\u0275text"](11),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](12,"\n          "),u["\u0275\u0275elementStart"](13,"button",6),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275reference"](2).hide()})),u["\u0275\u0275text"](14,"\n            "),u["\u0275\u0275elementStart"](15,"span",7),u["\u0275\u0275text"](16,"\xd7"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](17,"\n          "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](18,"\n        "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](19,"\n        "),u["\u0275\u0275elementStart"](20,"div",8),u["\u0275\u0275text"](21,"\n        "),u["\u0275\u0275template"](22,m,1,2,"ngx-dynamic-component",9),u["\u0275\u0275text"](23,"\n        "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](24,"\n      "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](25,"\n    "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](26,"\n  "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](27,"\n  ")}2&e&&(u["\u0275\u0275advance"](11),u["\u0275\u0275textInterpolate"](t.title),u["\u0275\u0275advance"](11),u["\u0275\u0275property"]("ngIf",t.viewConfig))},directives:[d.b,p.NgIf,h.i],encapsulation:2}),e}(),v=function(){function e(e,t,n,r){this._document=e,this.componentFactoryResolver=t,this.appRef=n,this.injector=r}return e.prototype.open=function(e){this.appendModal(e)},e.prototype.close=function(){this.dialog&&this.dialog.modal.hide()},e.prototype.appendModal=function(e){var t=this.componentFactoryResolver.resolveComponentFactory(g).create(this.injector);this.dialog=t.instance,t.instance.viewConfig=e,t.instance.title=e.title,t.instance.modal.onHide.subscribe((function(){t.destroy()})),this.appRef.attachView(t.hostView),this._document.body.appendChild(t.hostView.rootNodes[0]),setTimeout((function(){t.instance.openModal()}))},e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](p.DOCUMENT),u["\u0275\u0275inject"](u.ComponentFactoryResolver),u["\u0275\u0275inject"](u.ApplicationRef),u["\u0275\u0275inject"](u.Injector))},e.\u0275prov=u["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),b=n("0CDM"),y=n("DUip");n.d(t,"a",(function(){return x}));var x=function(){function e(e,t,n,r,o,i){this.router=e,this.modalService=t,this.sqlDbService=n,this.appService=r,this.notificationService=o,this.authService=i,this.addAppServices(),this.addSqlUtils(),this.interpreter=Object(l.a)()}return e.prototype.handleAction=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n=this;return Object(r.e)(this,(function(r){switch(t.action){case s.a.OpenPage:case s.a.OpenPageInDialog:case s.a.OpenPageInNewTab:this.showPage(e,t.actionName,t.action,t.parameters);break;case s.a.RunFunction:this.appService.getAppScript().toPromise().then((function(e){return n.runFunction(e,t.actionName,t.parameters)}))}return[2]}))}))},e.prototype.onAppInit=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,t,n,o,i,a;return Object(r.e)(this,(function(r){switch(r.label){case 0:return[4,this.appService.getAppScript().toPromise()];case 1:return e=r.sent(),t=this.appService.shellSettings.onInit||"",n=Object(h.n)(t),o=n[0],i=n[1],e&&o&&this.interpreter.hasFunction(e,o)&&this.interpreter.evaluate(e,((a={})[i||"appInfo"]=this.appService.currentApp,a),o),[2]}}))}))},e.prototype.runFunction=function(e,t,n){this.interpreter.hasFunction(e,t)&&this.interpreter.evaluate(e,{appInfo:this.appService.currentApp,parameters:this.parseParameters(n)},t)},e.prototype.addAppServices=function(){var e=this,t="appService";Object(l.c)(t,"showPage",(function(t,n){void 0===n&&(n=null),e.showPage(e.appService.currentApp,t,s.a.OpenPage,n)})),Object(l.c)(t,"showDialog",(function(t){e.showPage(e.appService.currentApp,t,s.a.OpenPageInDialog)})),Object(l.c)(t,"showMessageBox",(function(t){e.notificationService.open({type:s.f.INFO,message:t})})),Object(l.c)(t,"showSuccessToast",(function(t){e.notificationService.open({type:s.f.SUCCESS,message:t})})),Object(l.c)(t,"showErrorToast",(function(t){e.notificationService.open({type:s.f.DANGER,message:t})})),Object(l.c)(t,"getQueryParams",i.k),Object(l.c)(t,"addMenuItem",(function(t){e.appService.addMenuItem(t)})),Object(l.c)(t,"removeMenuItem",(function(t){e.appService.removeMenuItem(t)})),Object(l.c)(t,"addSidebarItem",(function(t){e.appService.addSidebarItem(t)})),Object(l.c)(t,"removeSidebarItem",(function(t){e.appService.removeSidebarItem(t)})),Object(l.c)(t,"currentUser",this.authService.user)},e.prototype.addSqlUtils=function(){var e=this;Object(l.b)("dbService",(function(t){return{getData:function(n,a,l){var s=function(e,t){return t<e.length?e[t]:null},c=function(e){return{fieldName:s(e,0),operation:s(e,1),value:s(e,2),AndOr:s(e,3)||"AND"}},p=function(e){return{fieldName:s(e,0),direction:s(e,1)||"ASC"}};l=l||{};var u=Object(r.a)({},l),d=l.filters||[];u.filters=d.length>0&&!Array.isArray(d[0])&&"string"==typeof d[0]?[c(d)]:d.map((function(e){return Array.isArray(e)?c(e):e}));var h=l.orderBy||[];u.orderBy=h.length>0&&!Array.isArray(h[0])&&"string"==typeof h[0]?[p(h)]:h.map((function(e){return Array.isArray(e)?p(e):e}));try{return e.sqlDbService.selectSqlObjectData(t,n,a,u).pipe(Object(o.a)(i.n)).toPromise()}catch(f){return f}},saveData:function(n,r,o){try{return e.sqlDbService.saveSqlObjectData(t,{schemaName:n,objectName:r},{tableData:o}).toPromise()}catch(i){return i}},saveItems:function(n,r,o){try{return e.sqlDbService.saveSqlItems(t,{schemaName:n,objectName:r},{items:o}).toPromise()}catch(i){return i}},executeQuery:function(n){try{return e.sqlDbService.executeQuery(t,n).toPromise()}catch(r){return r}}}}))},e.prototype.showPage=function(e,t,n,o){return void 0===n&&(n=s.a.OpenPage),void 0===o&&(o=null),Object(r.b)(this,void 0,void 0,(function(){var i,a,l,c,p;return Object(r.e)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.appService.getPageInfo(e.ownerName,e.appName,t).toPromise()];case 1:return i=r.sent(),[4,this.appService.parsePageContent(i).toPromise()];case 2:if(a=r.sent(),l=this.parseParameters(o),!i)throw Error("Page "+t+" ("+e.ownerName+"/"+e.appName+") not found");return c=["app",e.ownerName,e.appName,i.pageName],this.appService.isDesignMode&&c.splice(2,0,"designer"),n===s.a.OpenPage?[2,this.router.navigate(c,{queryParams:l})]:(n===s.a.OpenPageInDialog?this.modalService.open(a):n===s.a.OpenPageInNewTab&&window.open(c.join("/"),"_blank").focus(),[3,4]);case 3:return p=r.sent(),console.error(p),[3,4];case 4:return[2]}}))}))},e.prototype.parseParameters=function(e){if(e)return e.split(";").reduce((function(e,t){var n=t.split("=");return e[n[0]]=n[1],e}),{})},e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](y.f),u["\u0275\u0275inject"](v),u["\u0275\u0275inject"](a.f),u["\u0275\u0275inject"](b.a),u["\u0275\u0275inject"](a.e),u["\u0275\u0275inject"](c.a))},e.\u0275prov=u["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{Bkkg:function(e,t,i){"use strict";i.d(t,"a",(function(){return D}));var n=i("eY+I"),r=i("mrSG"),s=i("EgT8"),o=i("vg9S"),a=i("iFvM"),l=i("fXoL"),u=i("ofXK"),h=i("3Pt+");function c(e,t){if(1&e){var i=l.Ub();l.Tb(0,"div",8),l.Tb(1,"label",9),l.Ec(2),l.Sb(),l.Tb(3,"textarea",10),l.bc("ngModelChange",(function(e){l.vc(i);var t=l.dc().$implicit;return l.dc(2).componentDataModel[t.bindingName]=e})),l.Sb(),l.Sb()}if(2&e){var n=l.dc().$implicit,r=l.dc(2);l.Bb(1),l.jc("for",n.bindingName),l.Bb(1),l.Fc(r.getTitle(n)),l.Bb(1),l.jc("id",n.bindingName)("name",n.bindingName)("ngModel",r.componentDataModel[n.bindingName])}}function p(e,t){if(1&e){var i=l.Ub();l.Tb(0,"div",11),l.Tb(1,"label",12),l.Ec(2),l.Sb(),l.Tb(3,"input",13),l.bc("ngModelChange",(function(e){l.vc(i);var t=l.dc().$implicit;return l.dc(2).componentDataModel[t.bindingName]=e})),l.Sb(),l.Sb()}if(2&e){var n=l.dc().$implicit,r=l.dc(2);l.Bb(1),l.jc("for",n.bindingName),l.Bb(1),l.Fc(r.getTitle(n)),l.Bb(1),l.jc("id",n.bindingName)("name",n.bindingName)("ngModel",r.componentDataModel[n.bindingName])}}function d(e,t){if(1&e&&(l.Tb(0,"div",14),l.Tb(1,"label",15),l.Ec(2),l.Sb(),l.Tb(3,"span",16),l.Ec(4),l.Sb(),l.Sb()),2&e){var i=l.dc().$implicit,n=l.dc(2);l.Bb(1),l.jc("for",i.bindingName),l.Bb(1),l.Fc(n.getTitle(i)),l.Bb(2),l.Gc(" ",n.getString(n.componentDataModel[i.bindingName])," ")}}function m(e,t){if(1&e&&(l.Rb(0,4),l.Cc(1,c,4,5,"div",5),l.Cc(2,p,4,5,"div",6),l.Cc(3,d,5,3,"div",7),l.Qb()),2&e){var i=t.$implicit,n=l.dc(2);l.jc("ngSwitch",i.dataType),l.Bb(1),l.jc("ngSwitchCase",n.DataTypes.Text),l.Bb(1),l.jc("ngSwitchCase",n.DataTypes.Input)}}function g(e,t){1&e&&(l.Tb(0,"button",17),l.Ec(1,"Save"),l.Sb())}function f(e,t){if(1&e){var i=l.Ub();l.Tb(0,"form",1),l.bc("ngSubmit",(function(){return l.vc(i),l.dc().onSave()})),l.Cc(1,m,4,3,"ng-container",2),l.Cc(2,g,2,0,"button",3),l.Sb()}if(2&e){var n=l.dc();l.Bb(1),l.jc("ngForOf",n.props),l.Bb(1),l.jc("ngIf",n.isForm)}}var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DataTypes=o.a,t}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"props",{get:function(){return this.displayProps||(this.properties.props?this.displayProps=this.properties.props:Array.isArray(this.componentDataModel)&&this.componentDataModel.length?this.displayProps=this.getDisplayProps(this.componentDataModel[0]):"object"==typeof this.componentDataModel&&(this.displayProps=this.getDisplayProps(this.componentDataModel))),this.displayProps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isForm",{get:function(){return this.props.some((function(e){return[o.a.Text,o.a.Input].includes(e.dataType)}))},enumerable:!1,configurable:!0}),t.prototype.onSave=function(){this.emitEvent(this.properties.onSave)},t.prototype.getValue=function(e){if(this.componentDataModel)return this.componentDataModel[e]},t.prototype.getTitle=function(e){return e.headerText||Object(s.formatCamelStr)(e.bindingName)},t.prototype.getString=function(e){return null==e?"":"string"==typeof e?e:"object"==typeof e?e instanceof Date?Object(a.d)(e,"yyyy-MM-dd"):JSON.stringify(e):String(e)},t.prototype.getDisplayProps=function(e){return Object.keys(e).map((function(e){return{bindingName:e,headerText:Object(s.formatCamelStr)(e)}}))},t.\u0275fac=function(e){return v(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-data-view"]],features:[l.yb],decls:1,vars:1,consts:[["class","form-inline",3,"ngSubmit",4,"ngIf"],[1,"form-inline",3,"ngSubmit"],[3,"ngSwitch",4,"ngFor","ngForOf"],["type","submit","class","btn btn-primary my-2 ml-auto",4,"ngIf"],[3,"ngSwitch"],["class","form-group mr-3 my-2 w-100",4,"ngSwitchCase"],["class","form-group mr-3 my-2",4,"ngSwitchCase"],["class","form-group col-3 my-1 d-flex flex-column align-items-start",4,"ngSwitchDefault"],[1,"form-group","mr-3","my-2","w-100"],[1,"mr-2","mt-1","align-self-baseline",3,"for"],["rows","3",1,"form-control","flex-fill",3,"id","name","ngModel","ngModelChange"],[1,"form-group","mr-3","my-2"],[1,"mr-2",3,"for"],["type","text",1,"form-control",3,"id","name","ngModel","ngModelChange"],[1,"form-group","col-3","my-1","d-flex","flex-column","align-items-start"],[3,"for"],[1,"font-weight-bold","border-bottom","w-100","white-space-nowrap","overflow-hidden","text-overflow-ellipsis"],["type","submit",1,"btn","btn-primary","my-2","ml-auto"]],template:function(e,t){1&e&&l.Cc(0,f,3,2,"form",0),2&e&&l.jc("ngIf",t.componentDataModel)},directives:[u.m,h.t,h.j,h.k,u.l,u.o,u.p,u.q,h.b,h.i,h.l],styles:[""]}),t}(n.a),v=l.Vb(_),y={name:"worksheet-data-view",label:"Data veiw",packageName:"worksheet",category:"Custom Controls",description:"Data representation component",itemProperties:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),Object(r.c)([Object(n.r)({description:"Displays properties data.",example:"['propA', 'propB']"}),Object(r.f)("design:type",Array)],t.prototype,"props",void 0),Object(r.c)([Object(n.r)({description:"On save handler",example:"onSaveData"}),Object(r.f)("design:type",String)],t.prototype,"onSave",void 0),t}(n.e),component:_,example:{title:"Data view component example",uiModel:'\n  <worksheet-data-view binding="$.artist"></worksheet-data-view>\n  ',dataModel:{artist:{name:"Paul Jackson Pollock",born:"January 28, 1912",died:"August 11, 1956 (aged 44)",education:"Art Students League of New York"}}}},k=i("1OyB"),b=i("vuIU"),M=function(){function e(t,i,n){Object(k.a)(this,e),this.extend(e,google.maps.OverlayView),this.map_=t,this.MARKER_CLUSTER_IMAGE_PATH_="../images/m",this.MARKER_CLUSTER_IMAGE_EXTENSION_="png",this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var r=n||{};this.zIndex_=r.zIndex||google.maps.Marker.MAX_ZINDEX+1,this.gridSize_=r.gridSize||60,this.minClusterSize_=r.minimumClusterSize||2,this.maxZoom_=r.maxZoom||null,this.styles_=r.styles||[],this.imagePath_=r.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=r.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,null!=r.zoomOnClick&&(this.zoomOnClick_=r.zoomOnClick),this.averageCenter_=!1,null!=r.averageCenter&&(this.averageCenter_=r.averageCenter),this.setupStyles_(),this.setMap(t),this.prevZoom_=this.map_.getZoom();var s=this;google.maps.event.addListener(this.map_,"zoom_changed",(function(){var e=s.map_.getZoom(),t=s.map_.minZoom||0,i=Math.min(s.map_.maxZoom||100,s.map_.mapTypes[s.map_.getMapTypeId()].maxZoom);e=Math.min(Math.max(e,t),i),s.prevZoom_!=e&&(s.prevZoom_=e,s.resetViewport())})),google.maps.event.addListener(this.map_,"idle",(function(){s.redraw()})),i&&(i.length||Object.keys(i).length)&&this.addMarkers(i,!1)}return Object(b.a)(e,[{key:"extend",value:function(e,t){return(function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this}).apply(e,[t])}},{key:"onAdd",value:function(){this.setReady_(!0)}},{key:"draw",value:function(){}},{key:"setupStyles_",value:function(){if(!this.styles_.length)for(var e,t=0;e=this.sizes[t];t++)this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})}},{key:"fitMapToMarkers",value:function(){for(var e,t=this.getMarkers(),i=new google.maps.LatLngBounds,n=0;e=t[n];n++)i.extend(e.getPosition());this.map_.fitBounds(i)}},{key:"setZIndex",value:function(e){this.zIndex_=e}},{key:"getZIndex",value:function(){return this.zIndex_}},{key:"setStyles",value:function(e){this.styles_=e}},{key:"getStyles",value:function(){return this.styles_}},{key:"isZoomOnClick",value:function(){return this.zoomOnClick_}},{key:"isAverageCenter",value:function(){return this.averageCenter_}},{key:"getMarkers",value:function(){return this.markers_}},{key:"getTotalMarkers",value:function(){return this.markers_.length}},{key:"setMaxZoom",value:function(e){this.maxZoom_=e}},{key:"getMaxZoom",value:function(){return this.maxZoom_}},{key:"calculator_",value:function(e,t){for(var i=0,n=e.length,r=n;0!==r;)r=parseInt(r/10,10),i++;return{text:n,index:i=Math.min(i,t)}}},{key:"setCalculator",value:function(e){this.calculator_=e}},{key:"getCalculator",value:function(){return this.calculator_}},{key:"addMarkers",value:function(e,t){if(e.length)for(var i,n=0;i=e[n];n++)this.pushMarkerTo_(i);else if(Object.keys(e).length)for(var r in e)this.pushMarkerTo_(e[r]);t||this.redraw()}},{key:"pushMarkerTo_",value:function(e){if(e.isAdded=!1,e.draggable){var t=this;google.maps.event.addListener(e,"dragend",(function(){e.isAdded=!1,t.repaint()}))}this.markers_.push(e)}},{key:"addMarker",value:function(e,t){this.pushMarkerTo_(e),t||this.redraw()}},{key:"removeMarker_",value:function(e){var t=-1;if(this.markers_.indexOf)t=this.markers_.indexOf(e);else for(var i,n=0;i=this.markers_[n];n++)if(i==e){t=n;break}return-1!=t&&(e.setMap(null),this.markers_.splice(t,1),!0)}},{key:"removeMarker",value:function(e,t){var i=this.removeMarker_(e);return!(t||!i||(this.resetViewport(),this.redraw(),0))}},{key:"removeMarkers",value:function(e,t){for(var i,n=e===this.getMarkers()?e.slice():e,r=!1,s=0;i=n[s];s++){var o=this.removeMarker_(i);r=r||o}if(!t&&r)return this.resetViewport(),this.redraw(),!0}},{key:"setReady_",value:function(e){this.ready_||(this.ready_=e,this.createClusters_())}},{key:"getTotalClusters",value:function(){return this.clusters_.length}},{key:"getMap",value:function(){return this.map_}},{key:"setMap",value:function(e){this.map_=e}},{key:"getGridSize",value:function(){return this.gridSize_}},{key:"setGridSize",value:function(e){this.gridSize_=e}},{key:"getMinClusterSize",value:function(){return this.minClusterSize_}},{key:"setMinClusterSize",value:function(e){this.minClusterSize_=e}},{key:"getExtendedBounds",value:function(e){var t=this.getProjection(),i=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),n=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),r=t.fromLatLngToDivPixel(i);r.x+=this.gridSize_,r.y-=this.gridSize_;var s=t.fromLatLngToDivPixel(n);s.x-=this.gridSize_,s.y+=this.gridSize_;var o=t.fromDivPixelToLatLng(r),a=t.fromDivPixelToLatLng(s);return e.extend(o),e.extend(a),e}},{key:"isMarkerInBounds_",value:function(e,t){return t.contains(e.getPosition())}},{key:"clearMarkers",value:function(){this.resetViewport(!0),this.markers_=[]}},{key:"resetViewport",value:function(e){for(var t,i=0;t=this.clusters_[i];i++)t.remove();for(var n,r=0;n=this.markers_[r];r++)n.isAdded=!1,e&&n.setMap(null);this.clusters_=[]}},{key:"repaint",value:function(){var e=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),setTimeout((function(){for(var t,i=0;t=e[i];i++)t.remove()}),0)}},{key:"redraw",value:function(){this.createClusters_()}},{key:"distanceBetweenPoints_",value:function(e,t){if(!e||!t)return 0;var i=(t.lat()-e.lat())*Math.PI/180,n=(t.lng()-e.lng())*Math.PI/180,r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371}},{key:"addToClosestCluster_",value:function(e){for(var t,i=4e4,n=null,r=0;t=this.clusters_[r];r++){var s=t.getCenter();if(s){var o=this.distanceBetweenPoints_(s,e.getPosition());o<i&&(i=o,n=t)}}if(n&&n.isMarkerInClusterBounds(e))n.addMarker(e);else{var a=new x(this);a.addMarker(e),this.clusters_.push(a)}}},{key:"createClusters_",value:function(){if(this.ready_)for(var e,t=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),i=this.getExtendedBounds(t),n=0;e=this.markers_[n];n++)!e.isAdded&&this.isMarkerInBounds_(e,i)&&this.addToClosestCluster_(e)}}]),e}(),x=function(){function e(t){Object(k.a)(this,e),this.markerClusterer_=t,this.map_=t.getMap(),this.gridSize_=t.getGridSize(),this.minClusterSize_=t.getMinClusterSize(),this.averageCenter_=t.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new w(this,t.getStyles(),t.getGridSize())}return Object(b.a)(e,[{key:"isMarkerAlreadyAdded",value:function(e){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(e);for(var t,i=0;t=this.markers_[i];i++)if(t==e)return!0;return!1}},{key:"addMarker",value:function(e){if(this.isMarkerAlreadyAdded(e))return!1;if(this.center_){if(this.averageCenter_){var t=this.markers_.length+1,i=(this.center_.lat()*(t-1)+e.getPosition().lat())/t,n=(this.center_.lng()*(t-1)+e.getPosition().lng())/t;this.center_=new google.maps.LatLng(i,n),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();e.isAdded=!0,this.markers_.push(e);var r=this.markers_.length;if(r<this.minClusterSize_&&e.getMap()!=this.map_&&e.setMap(this.map_),r==this.minClusterSize_)for(var s=0;s<r;s++)this.markers_[s].setMap(null);return r>=this.minClusterSize_&&e.setMap(null),this.updateIcon(),!0}},{key:"getMarkerClusterer",value:function(){return this.markerClusterer_}},{key:"getBounds",value:function(){for(var e,t=new google.maps.LatLngBounds(this.center_,this.center_),i=this.getMarkers(),n=0;e=i[n];n++)t.extend(e.getPosition());return t}},{key:"remove",value:function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_}},{key:"getSize",value:function(){return this.markers_.length}},{key:"getMarkers",value:function(){return this.markers_}},{key:"getCenter",value:function(){return this.center_}},{key:"calculateBounds_",value:function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)}},{key:"isMarkerInClusterBounds",value:function(e){return this.bounds_.contains(e.getPosition())}},{key:"getMap",value:function(){return this.map_}},{key:"updateIcon",value:function(){var e=this.map_.getZoom(),t=this.markerClusterer_.getMaxZoom();if(t&&e>t)for(var i,n=0;i=this.markers_[n];n++)i.setMap(this.map_);else if(this.markers_.length<this.minClusterSize_)this.clusterIcon_.hide();else{var r=this.markerClusterer_.getStyles().length,s=this.markerClusterer_.getCalculator()(this.markers_,r);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(s),this.clusterIcon_.show()}}}]),e}(),w=function(){function e(t,i,n){Object(k.a)(this,e),t.getMarkerClusterer().extend(e,google.maps.OverlayView),this.styles_=i,this.padding_=n||0,this.cluster_=t,this.center_=null,this.map_=t.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}return Object(b.a)(e,[{key:"triggerClusterClick",value:function(){var e=this.cluster_.getBounds(),t=this.cluster_.getMarkerClusterer();google.maps.event.trigger(t.map_,"clusterclick",this.cluster_),t.isZoomOnClick()&&(this.map_.fitBounds(e),this.map_.setCenter(e.getCenter()))}},{key:"onAdd",value:function(){if(this.div_=document.createElement("DIV"),this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.innerHTML=this.sums_.text}this.getPanes().overlayMouseTarget.appendChild(this.div_);var t=this;google.maps.event.addDomListener(this.div_,"click",(function(){t.triggerClusterClick()}))}},{key:"getPosFromLatLng_",value:function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=parseInt(this.width_/2,10),t.y-=parseInt(this.height_/2,10),t}},{key:"draw",value:function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}}},{key:"hide",value:function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1}},{key:"show",value:function(){if(this.div_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.style.display=""}this.visible_=!0}},{key:"remove",value:function(){this.setMap(null)}},{key:"onRemove",value:function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)}},{key:"setSums",value:function(e){this.sums_=e,this.text_=e.text,this.index_=e.index,this.div_&&(this.div_.innerHTML=e.text),this.useStyle()}},{key:"useStyle",value:function(){var e=Math.max(0,this.sums_.index-1);e=Math.min(this.styles_.length-1,e);var t=this.styles_[e];this.url_=t.url,this.height_=t.height,this.width_=t.width,this.textColor_=t.textColor,this.anchor_=t.anchor,this.textSize_=t.textSize,this.backgroundPosition_=t.backgroundPosition}},{key:"setCenter",value:function(e){this.center_=e}},{key:"createCss",value:function(e){var t=[];return t.push("z-index:"+this.cluster_.markerClusterer_.getZIndex()+";"),t.push("background-image:url("+this.url_+");"),t.push("background-position:"+(this.backgroundPosition_?this.backgroundPosition_:"0 0")+";"),"object"==typeof this.anchor_?(t.push("number"==typeof this.anchor_[0]&&this.anchor_[0]>0&&this.anchor_[0]<this.height_?"height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;":"height:"+this.height_+"px; line-height:"+this.height_+"px;"),t.push("number"==typeof this.anchor_[1]&&this.anchor_[1]>0&&this.anchor_[1]<this.width_?"width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;":"width:"+this.width_+"px; text-align:center;")):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;"),t.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+(this.textColor_?this.textColor_:"black")+"; position:absolute; font-size:"+(this.textSize_?this.textSize_:11)+"px; font-family:Arial,sans-serif; font-weight:bold"),t.join("")}}]),e}(),C=M,S=i("vkgz"),O=i("eIep"),j=i("0CDM"),I=i("xgIS"),P=function(){function e(e){this.appService=e,this.scriptId="google-maps"}return e.prototype.load=function(e){var t=this;return void 0===e&&(e=null),e?(this.apiKey=e,this.loadScript()):this.appService.googleMapKey$.pipe(Object(S.a)((function(e){t.apiKey=e,t.apiKey||alert("Provide key in app settings to use google-map")})),Object(O.a)((function(){return t.loadScript()})))},e.prototype.loadScript=function(){var e=document.getElementById(this.scriptId);e&&e.parentNode.removeChild(e);var t=document.createElement("SCRIPT");return t.id=this.scriptId,t.src="https://maps.googleapis.com/maps/api/js?key="+this.apiKey,document.body.appendChild(t),Object(I.a)(t,"load")},e.\u0275fac=function(t){return new(t||e)(l.Xb(j.a))},e.\u0275prov=l.Jb({token:e,factory:e.\u0275fac}),e}(),T=i("XNiG"),z=i("1G5W"),L=["map"],E=function(e){function t(t){var i=e.call(this)||this;return i.googleMapsLoader=t,i.loadedScript=!1,i.center={lat:51.5,lng:0},i.markerOptions={draggable:!1},i.destroy=new T.a,i}return Object(r.d)(t,e),t.prototype.ngOnInit=function(){return Object(r.b)(this,void 0,void 0,(function(){var t=this;return Object(r.e)(this,(function(i){return e.prototype.ngOnInit.call(this),"number"==typeof this.properties.latitude&&(this.center.lat=this.properties.latitude),"number"==typeof this.properties.longitude&&(this.center.lng=this.properties.longitude),"number"!=typeof this.properties.zoom&&(this.properties.zoom=8),"function"==typeof this.properties.infoWindowHandler&&(this.contentInfo=this.properties.infoWindowHandler),this.googleMapsLoader.load(this.properties.apiKey).pipe(Object(z.a)(this.destroy)).subscribe((function(){t.loadedScript=!0,t.map=new google.maps.Map(t.mapElement.nativeElement,{center:t.center,zoom:t.properties.zoom}),t.setMarkers(t.properties.markers)})),[2]}))}))},t.prototype.ngOnDestroy=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.e)(this,(function(t){return this.destroy.next(),this.destroy.complete(),e.prototype.ngOnDestroy.call(this),[2]}))}))},t.prototype.setMarkers=function(e){var t,i,n=this;this.map&&((null===(t=this.markers)||void 0===t?void 0:t.length)&&this.markers.forEach((function(e){return e.setMap(null)})),this.markers=(e||[]).map((function(e){var t=new google.maps.Marker(e);return t.addListener("click",(function(){n.openInfoWindow(t,e)})),t})),null===(i=this.markerCluster)||void 0===i||i.clearMarkers(),this.markerCluster=new C(this.map,this.markers,{imagePath:"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m"}))},t.prototype.contentInfo=function(e){return e.label},t.prototype.reset=function(){this.map.setCenter(this.center),this.map.setZoom(this.properties.zoom)},t.prototype.openInfoWindow=function(e,t){this.infowindow&&this.infowindow.close(),this.infowindow=new google.maps.InfoWindow({content:'<div class="gm-infowindow-content">'+this.contentInfo(t)+"</div>"}),this.infowindow.open(this.map,e)},t.\u0275fac=function(e){return new(e||t)(l.Nb(P))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-ngx-google-map"]],viewQuery:function(e,t){var i;1&e&&l.Jc(L,!0),2&e&&l.rc(i=l.cc())&&(t.mapElement=i.first)},features:[l.Ab([P]),l.yb],decls:2,vars:0,consts:[[1,"h-100","w-100"],["map",""]],template:function(e,t){1&e&&l.Ob(0,"div",0,1)},styles:[""]}),t}(n.a),B=[y,{name:"google-map",label:"Google Map",packageName:"custom app",category:"Custom Controls",description:"Google map component",itemProperties:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),Object(r.c)([Object(n.r)({description:"Google map longitude",example:"30"}),Object(r.f)("design:type",Number)],t.prototype,"longitude",void 0),Object(r.c)([Object(n.r)({description:"Google map latitude",example:"50"}),Object(r.f)("design:type",Number)],t.prototype,"latitude",void 0),Object(r.c)([Object(n.r)({description:"Google map zoom",example:"50"}),Object(r.f)("design:type",Number)],t.prototype,"zoom",void 0),Object(r.c)([Object(n.r)({description:"Google maps API Key",example:"xxxxxx"}),Object(r.f)("design:type",String)],t.prototype,"apiKey",void 0),t}(n.e),component:E,example:{title:"Google map component example",uiModel:'\n  <google-map binding="$.markers"></google-map>\n  ',dataModel:{artist:{name:"Paul Jackson Pollock",born:"January 28, 1912",died:"August 11, 1956 (aged 44)",education:"Art Students League of New York"}}},parseUIModel:function(e){var t={};return["zoom","longitude","latitude"].forEach((function(i){var n;e.attrs.hasOwnProperty(n=i)&&(t[n]=Number(e.attrs[n]))})),{type:"google-map",itemProperties:t}}}];function D(){B.forEach((function(e){return n.d.registerComponent(e)}))}}}]);
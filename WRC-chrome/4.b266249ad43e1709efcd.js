(window.webpackJsonp=window.webpackJsonp||[]).push([[4,14],{"0P6F":function(e,t,n){"use strict";n.r(t),n.d(t,"RestClientModule",(function(){return wi}));var i=n("ofXK"),r=n("3Pt+"),o=n("44PX"),s=n("psEu"),c=n("dZIy"),a=n("s3T5"),l=n("vuIU"),u=n("1OyB"),d=n("fXoL"),b=(n("lUod"),n("mrSG")),p=n("3XJ7"),f=n("WyaX");n("PqYM");var h=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[p.a,f.a]}}}]),e}();return e.\u0275mod=d.Lb({type:e}),e.\u0275inj=d.Kb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e}(),g=n("K3ix"),v=n("EDFS"),m=n("eY+I"),S=n("bqqp"),y=n("M0ag"),j=n("OaQ9"),O=n("tyNb"),w=n("OLrf"),C=n("XNiG"),T=n("LRne"),q=n("1G5W"),x=n("pLZG"),E=n("JIr8"),M=n("kt0X"),k=function(e){return e.SET_DYNAMIC_PAGES="[Rest content] set dynamic pages",e.SAVE_DYNAMIC_PAGES="[Rest content] save dynamic pages",e}({}),R=Object(M.n)("[Rest content] set scripts",Object(M.s)()),I=Object(M.n)("[Rest content] update model",Object(M.s)()),B=Object(M.n)("[Rest content] update ui settings",Object(M.s)()),P=Object(M.n)("[Rest content] send request",Object(M.s)()),N=Object(M.n)("[Rest content] save request to history",Object(M.s)()),$=Object(M.n)("[Rest content] receive responce",Object(M.s)()),F=Object(M.n)("[Rest content] clear response"),A=function(){return function(e){this.payload=e,this.type=k.SET_DYNAMIC_PAGES}}(),D=(Object(M.u)({setScripts:R,updateRequestModel:I,updateUiSettings:B,sendRequest:P,saveRequestInHistory:N,recieveResponse:$,clearResponse:F}),Object(M.n)("[Saved requests] save request",Object(M.s)())),z=Object(M.n)("[Saved requests] load public requests"),L=Object(M.n)("[Saved requests] loaded public requests",Object(M.s)()),U=Object(M.n)("[Saved requests] saves request",Object(M.s)()),_=Object(M.n)("[Saved requests] save request failed",Object(M.s)()),V=Object(M.n)("[Saved requests] load requests"),J=Object(M.n)("[Saved requests] loaded requests",Object(M.s)()),H=Object(M.n)("[Saved requests] load requests failed",Object(M.s)()),G=Object(M.n)("[Saved requests] load request",Object(M.s)()),X=Object(M.n)("[Saved requests] loaded public request",Object(M.s)()),Q=Object(M.n)("[Saved requests] loaded request",Object(M.s)()),K=Object(M.n)("[Saved requests] load request failed",Object(M.s)()),Y=Object(M.n)("[Saved requests] deselect request",(function(e){return{url:e}})),W=Object(M.n)("[Saved requests] delete request",(function(e){return{id:e}})),Z=Object(M.n)("[Saved requests] deleted request",(function(e){return{id:e}})),ee=(Object(M.u)({saveRequest:D,loadPublicRequests:z,loadedPublicRequests:L,savedRequest:U,saveRequestFailed:_,loadRequests:V,loadedRequests:J,loadRequestsFailed:H,loadRequest:G,loadPublicRequest:X,loadedRequest:Q,loadRequestFailed:K,deselectRequest:Y,deleteRequest:W,deletedRequest:Z}),Object(M.n)("[Rest client] error appear",Object(M.s)())),te=Object(M.n)("[Rest client] info",Object(M.s)()),ne=(Object(M.u)({appErrorAction:ee,appInfoAction:te}),n("eIep")),ie=n("lJxs"),re=n("Cfvw"),oe=n("cSY5"),se=n("Y8v1"),ce=n("t3T2"),ae=n("UShy"),le=n("uh6x"),ue=n("ZF+8"),de=function(){function e(e,t){this.requestService=e,this.dialogService=t,Object(ae.c)("wsUtils","runRequest",(function(n,i,r,o){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===o&&(o=!1);var s=n.split("."),c=s[0],a=s[1];return(o?e.getPublicRequest$({ownerName:c,requestName:a}):e.getSavedRequest$({ownerName:c,requestName:a})).pipe(Object(ne.a)((function(n){if(n){var o=n.scripts;return(i?Object(T.a)(null):Object(re.a)(new ce.a(t).evaluate(o,null,le.c.PRE_REQUEST))).pipe(Object(ne.a)((function(){return e.send(n.request).pipe(Object(E.a)((function(e){return Object(T.a)(e)})),Object(ie.a)((function(e){return{response:e,requestInfo:n}})),Object(ne.a)((function(e){var n=e.response,i=Object(se.a)(n);return Object(se.c)(i),r?Object(T.a)(n):200===n.status?Object(re.a)(new ce.a(t).evaluate(o,{response:i},le.c.POST_REQUEST_SUCCESS)).pipe(Object(ie.a)((function(){return i}))):Object(re.a)(new ce.a(t).evaluate(o,{error:i},le.c.POST_REQUEST_ERROR)).pipe(Object(ie.a)((function(){return i})))})))})))}return Object(T.a)(null)}))).toPromise()}))}return e.\u0275fac=function(t){return new(t||e)(d.Xb(oe.a),d.Xb(ue.b))},e.\u0275prov=d.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),be=n("jhN1"),pe=n("Xn/w"),fe=n("z6cu"),he=n("Czp8"),ge=n("AytR"),ve=n("tk/3"),me=ge.a.apiBaseUrl+"/api/environment/variables",Se=function(){function e(e,t){this.httpClient=e,this.authService=t}return e.prototype.getEnvVariables$=function(){return this.httpClient.get(me,this.authService.getHttpHeaders())},e.prototype.saveEnvVariables$=function(e){return this.httpClient.post(me,e,this.authService.getHttpHeaders())},e.\u0275fac=function(t){return new(t||e)(d.Xb(ve.a),d.Xb(w.b))},e.\u0275prov=d.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),ye=n("01LN"),je=function(){function e(){}return e.prototype.validate=function(e){return this.forbiddenValues?(t=this.forbiddenValues,function(e){return t.includes(e.value)?{forbiddenValues:{value:e.value}}:null})(e):null;var t},e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=d.Ib({type:e,selectors:[["","appForbiddenValues",""]],inputs:{forbiddenValues:["appForbiddenValues","forbiddenValues"]},features:[d.Ab([{provide:r.g,useExisting:e,multi:!0}])]}),e}(),Oe=["envTemplate"],we=["appVarTemplate"],Ce=["modal"];function Te(e,t){1&e&&(d.Tb(0,"button",8),d.Ec(1,"Environments"),d.Ob(2,"span",9),d.Sb())}function qe(e,t){if(1&e&&(d.Tb(0,"button",10),d.Ec(1),d.Ob(2,"span",9),d.Sb()),2&e){var n=d.dc();d.Bb(1),d.Gc("",n.selectedEnvironment||"Environments"," ")}}function xe(e,t){if(1&e){var n=d.Ub();d.Tb(0,"li",14),d.Tb(1,"a",15),d.bc("click",(function(){d.vc(n);var e=t.$implicit;return d.dc(2).onEnvSelect(e)})),d.Ec(2),d.Sb(),d.Sb()}if(2&e){var i=t.$implicit;d.Bb(2),d.Fc(i)}}function Ee(e,t){1&e&&d.Ob(0,"li",16)}function Me(e,t){if(1&e){var n=d.Ub();d.Tb(0,"ul",11),d.Cc(1,xe,3,1,"li",12),d.Cc(2,Ee,1,0,"li",13),d.Tb(3,"li",14),d.Tb(4,"a",15),d.bc("click",(function(){return d.vc(n),d.dc().editEnv()})),d.Ec(5,"Manage Environment"),d.Sb(),d.Sb(),d.Sb()}if(2&e){var i=d.dc();d.Bb(1),d.jc("ngForOf",i.environments),d.Bb(1),d.jc("ngIf",i.environments.length)}}function ke(e,t){1&e&&(d.Tb(0,"div"),d.Ec(1,"Environment name is required."),d.Sb())}function Re(e,t){1&e&&(d.Tb(0,"div"),d.Ec(1,"Name already exist."),d.Sb())}function Ie(e,t){if(1&e&&(d.Tb(0,"div",39),d.Cc(1,ke,2,0,"div",40),d.Cc(2,Re,2,0,"div",40),d.Sb()),2&e){d.dc();var n=d.sc(5);d.Bb(1),d.jc("ngIf",n.errors.required),d.Bb(1),d.jc("ngIf",n.errors.forbiddenValues)}}function Be(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",32),d.Tb(1,"label",33),d.Ec(2,"Environment name"),d.Sb(),d.Tb(3,"div",34),d.Tb(4,"input",35,36),d.bc("ngModelChange",(function(e){return d.vc(n),d.dc(2).environment.name=e})),d.Sb(),d.Cc(6,Ie,3,2,"div",37),d.Sb(),d.Tb(7,"button",38),d.bc("click",(function(){d.vc(n);var e=d.dc(2);return e.formSelectedEnv=e.selectedEnvironment,e.setSelectEnv()})),d.Ec(8,"Cancel"),d.Sb(),d.Sb()}if(2&e){var i=d.sc(5),r=d.dc(2);d.Bb(4),d.jc("appForbiddenValues",r.environments)("ngModel",r.environment.name),d.Bb(2),d.jc("ngIf",i.invalid&&(i.dirty||i.touched))}}function Pe(e,t){if(1&e&&(d.Tb(0,"option",49),d.Ec(1),d.Sb()),2&e){var n=t.$implicit;d.jc("value",n),d.Bb(1),d.Fc(n)}}var Ne=function(){return{standalone:!0}};function $e(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",32),d.Tb(1,"label",41),d.Ec(2,"Select environment"),d.Sb(),d.Tb(3,"div",42),d.Tb(4,"select",43),d.bc("ngModelChange",(function(e){return d.vc(n),d.dc(2).formSelectedEnv=e}))("change",(function(){return d.vc(n),d.dc(2).onEnvFormChange()})),d.Cc(5,Pe,2,2,"option",44),d.Sb(),d.Sb(),d.Tb(6,"button",45),d.bc("click",(function(){return d.vc(n),d.dc(2).deleteEnv()})),d.Ob(7,"i",46),d.Ec(8,"\xa0Delete "),d.Sb(),d.Tb(9,"button",47),d.bc("click",(function(){return d.vc(n),d.dc(2).setNewEnv()})),d.Ob(10,"i",48),d.Ec(11,"\xa0Add "),d.Sb(),d.Sb()}if(2&e){var i=d.dc(2);d.Bb(4),d.jc("ngModel",i.formSelectedEnv)("ngModelOptions",d.mc(4,Ne)),d.Bb(1),d.jc("ngForOf",i.environments),d.Bb(1),d.jc("disabled",!i.formSelectedEnv)}}function Fe(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",50),d.Tb(1,"div",51),d.Tb(2,"input",52),d.bc("ngModelChange",(function(e){d.vc(n);var i=t.$implicit;return d.dc(2).onEnvVarNameChanged(e,i.name)}))("ngModelChange",(function(e){return d.vc(n),t.$implicit.name=e})),d.Sb(),d.Sb(),d.Tb(3,"div",53),d.Tb(4,"input",54),d.bc("ngModelChange",(function(e){return d.vc(n),t.$implicit.value=e}))("ngModelChange",(function(e){d.vc(n);var i=t.$implicit;return d.dc(2).onEnvVarValueChanged(e,i.name)})),d.Sb(),d.Sb(),d.Tb(5,"div",55),d.Tb(6,"button",31),d.bc("click",(function(){d.vc(n);var e=t.index,i=t.$implicit;return d.dc(2).deleteVariable(e,i.name)})),d.Ob(7,"i",56),d.Sb(),d.Sb(),d.Sb()}if(2&e){var i=t.$implicit,r=t.index;d.Bb(2),d.lc("name","env-name-param-",r,""),d.jc("ngModel",i.name),d.Bb(2),d.lc("name","env-value-param-",r,""),d.jc("ngModel",i.value)}}function Ae(e,t){}function De(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",17),d.Tb(1,"h4",18),d.Ec(2,"Enviroment"),d.Sb(),d.Tb(3,"button",19),d.bc("click",(function(){return d.vc(n),d.dc().modalRef.hide()})),d.Tb(4,"span",20),d.Ec(5,"\xd7"),d.Sb(),d.Sb(),d.Sb(),d.Tb(6,"div",21),d.Tb(7,"form",null,22),d.Cc(9,Be,9,3,"div",23),d.Cc(10,$e,12,5,"div",23),d.Cc(11,Fe,8,4,"div",24),d.Sb(),d.Cc(12,Ae,0,0,"ng-template",25),d.Sb(),d.Tb(13,"div",26),d.Tb(14,"div",27),d.Tb(15,"button",28),d.bc("click",(function(){return d.vc(n),d.dc().addVariable()})),d.Ob(16,"i",29),d.Ec(17,"\xa0Add variable"),d.Sb(),d.Tb(18,"button",30),d.bc("click",(function(){return d.vc(n),d.dc().onEnvSubmit()})),d.Ec(19,"Save"),d.Sb(),d.Tb(20,"button",31),d.bc("click",(function(){return d.vc(n),d.dc().modalRef.hide()})),d.Ec(21,"Cancel"),d.Sb(),d.Sb(),d.Sb()}if(2&e){var i=d.sc(8),r=d.dc(),o=d.sc(11);d.Bb(9),d.jc("ngIf",r.newEnv||!r.environments.length),d.Bb(1),d.jc("ngIf",!r.newEnv&&r.environments.length),d.Bb(1),d.jc("ngForOf",r.environment.variables),d.Bb(1),d.jc("ngTemplateOutlet",o),d.Bb(6),d.jc("disabled",!i.valid)}}function ze(e,t){if(1&e&&(d.Tb(0,"option",49),d.Ec(1),d.Sb()),2&e){var n=t.$implicit;d.jc("value",n),d.Bb(1),d.Fc(n)}}function Le(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",32),d.Tb(1,"label",41),d.Ec(2,"Select environment"),d.Sb(),d.Tb(3,"div",42),d.Tb(4,"select",43),d.bc("ngModelChange",(function(e){return d.vc(n),d.dc(2).selectedEnvironment=e}))("change",(function(e){return d.vc(n),d.dc(2).onAppVarEnvChange(e)})),d.Cc(5,ze,2,2,"option",44),d.Sb(),d.Sb(),d.Sb()}if(2&e){var i=d.dc(2);d.Bb(4),d.jc("ngModel",i.selectedEnvironment)("ngModelOptions",d.mc(3,Ne)),d.Bb(1),d.jc("ngForOf",i.environments)}}function Ue(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",50),d.Tb(1,"div",61),d.Ob(2,"input",62),d.Sb(),d.Tb(3,"div",42),d.Tb(4,"input",54),d.bc("ngModelChange",(function(e){return d.vc(n),t.$implicit.value=e})),d.Sb(),d.Sb(),d.Sb()}if(2&e){var i=t.$implicit,r=t.index;d.Bb(2),d.lc("name","loc-env-name-param-",r,""),d.jc("value",i.name),d.Bb(2),d.lc("name","loc-env-value-param-",r,""),d.jc("ngModel",i.value)}}function _e(e,t){1&e&&d.Ob(0,"div",63)}function Ve(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",50),d.Tb(1,"div",61),d.Tb(2,"input",64),d.bc("ngModelChange",(function(e){return d.vc(n),t.$implicit.name=e})),d.Sb(),d.Sb(),d.Tb(3,"div",53),d.Tb(4,"input",54),d.bc("ngModelChange",(function(e){return d.vc(n),t.$implicit.value=e})),d.Sb(),d.Sb(),d.Tb(5,"div",55),d.Tb(6,"button",31),d.bc("click",(function(){d.vc(n);var e=t.index;return d.dc(2).deleteAppVariable(e)})),d.Ob(7,"i",56),d.Sb(),d.Sb(),d.Sb()}if(2&e){var i=t.$implicit,r=t.index;d.Bb(2),d.lc("name","loc-name-param-",r,""),d.jc("ngModel",i.name),d.Bb(2),d.lc("name","loc-value-param-",r,""),d.jc("ngModel",i.value)}}function Je(e,t){}function He(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",17),d.Tb(1,"h4",18),d.Ec(2,"Application variables"),d.Sb(),d.Tb(3,"button",19),d.bc("click",(function(){return d.vc(n),d.dc().modalRef.hide()})),d.Tb(4,"span",20),d.Ec(5,"\xd7"),d.Sb(),d.Sb(),d.Sb(),d.Tb(6,"div",21),d.Tb(7,"form",null,57),d.Cc(9,Le,6,4,"div",23),d.Cc(10,Ue,5,4,"div",24),d.Cc(11,_e,1,0,"div",58),d.Cc(12,Ve,8,4,"div",24),d.Sb(),d.Cc(13,Je,0,0,"ng-template",25),d.Sb(),d.Tb(14,"div",26),d.Tb(15,"div",59),d.Tb(16,"button",60),d.bc("click",(function(){return d.vc(n),d.dc().addAppVariable()})),d.Ob(17,"i",29),d.Ec(18,"\xa0Add variable"),d.Sb(),d.Tb(19,"button",30),d.bc("click",(function(){return d.vc(n),d.dc().onAppVarSubmit()})),d.Ec(20,"Save"),d.Sb(),d.Tb(21,"button",31),d.bc("click",(function(){return d.vc(n),d.dc().modalRef.hide()})),d.Ec(22,"Cancel"),d.Sb(),d.Sb(),d.Sb()}if(2&e){var i=d.sc(8),r=d.dc(),o=d.sc(11);d.Bb(9),d.jc("ngIf",r.environments.length),d.Bb(1),d.jc("ngForOf",r.envVariables),d.Bb(1),d.jc("ngIf",r.environments.length),d.Bb(1),d.jc("ngForOf",r.localVariables),d.Bb(1),d.jc("ngTemplateOutlet",o),d.Bb(6),d.jc("disabled",!i.valid)}}function Ge(e,t){1&e&&(d.Tb(0,"alert",65),d.Ec(1," You can use a variable in your requests and all other configurations, by referencing it. "),d.Ob(2,"br"),d.Ec(3),d.Sb()),2&e&&(d.Bb(3),d.Ic(" For example, use ","{","","{","base_url","}","","}"," to reference the value of variable base_url. "))}var Xe=function(){function e(e,t,n,i){this.modalService=e,this.envService=t,this.authService=n,this.store=i,this.newEnvironment={name:null,variables:[{name:"",value:null}]},this.environments=[],this.variables=[{name:"",value:null}],this.localVariables=[],this.envVariables=[],this.selectedEnvironment=null,this.isAuthenticated=!1}return e.prototype.ngOnInit=function(){var e=this;this.authService.isAuthenticated$.subscribe((function(t){e.isAuthenticated=t,t?e.loadEnvVariables$().subscribe((function(){e.environments.length&&(e.environments.includes(he.a.currentEnv)?e.onEnvSelect(he.a.currentEnv):e.onEnvSelect(e.environments[0]),e.modalService.onHide.subscribe((function(){return e.resetEnvForm()})))})):(e.envs={},e.environments=[])}))},e.prototype.onEnvSelect=function(e){this.selectedEnvironment=e;var t=Object.entries(this.envs[this.selectedEnvironment]).map((function(e){return{name:e[0],value:e[1]}}));he.a.addVariables(t),he.a.currentEnv=this.selectedEnvironment},e.prototype.onAppVarEnvChange=function(e){this.onEnvSelect(e.target.value),this.setAppVariables()},e.prototype.editEnv=function(){this.selectedEnvironment?(this.formSelectedEnv=this.selectedEnvironment,this.setSelectEnv()):this.setNewEnv(),this.modalRef=this.modalService.show(this.envTemplate,{class:"modal-lg"})},e.prototype.setNewEnv=function(){this.newEnv=!0,this.formSelectedEnv=null,this.cleanUpEnvFormVars()},e.prototype.setSelectEnv=function(){this.formSelectedEnv?this.environment={name:this.formSelectedEnv,variables:Object.entries(this.editableEnvs[this.formSelectedEnv]).map((function(e){return{name:e[0],value:e[1]}}))}:this.cleanUpEnvFormVars(),this.newEnv=!1},e.prototype.editAppVar=function(){this.setAppVariables(),this.modalRef=this.modalService.show(this.appVarTemplate,{class:"modal-lg"})},e.prototype.deleteEnv=function(){var e=this;this.editableEnvs=this.envs;var t=this.formSelectedEnv;delete this.editableEnvs[t],this.saveEnvs$().subscribe((function(){e.store.dispatch(te({message:"Environment "+t+" successfully deleted"})),e.selectedEnvironment===t&&(e.selectedEnvironment=null,he.a.currentEnv=null)}),(function(){e.store.dispatch(ee({message:"Failed to delete environment"}))}))},e.prototype.onEnvSubmit=function(){var e=this;this.newEnv&&(this.editableEnvs[this.environment.name]=this.environment.variables.reduce((function(e,t){return e[t.name]=t.value,e}),{}),this.formSelectedEnv=this.environment.name);var t=this.environment.variables.map((function(e){return e.name}));Object.entries(this.editableEnvs).forEach((function(e){var n=e[1],i=Object.keys(n);t.forEach((function(e){i.includes(e)||(n[e]=null)}))})),this.saveEnvs$(this.formSelectedEnv).subscribe((function(){e.modalRef&&e.modalRef.hide(),e.store.dispatch(te({message:"Environment changes successfully updated"})),he.a.currentEnv=e.selectedEnvironment}),(function(t){e.store.dispatch(ee({message:"Failed to save environment"}))}))},e.prototype.onEnvVarNameChanged=function(e,t){Object.entries(this.editableEnvs).forEach((function(n){var i=n[1];i[e]=i[t]||null,delete i[t]}))},e.prototype.onEnvFormChange=function(){this.setSelectEnv()},e.prototype.onEnvVarValueChanged=function(e,t){this.formSelectedEnv&&(this.editableEnvs[this.formSelectedEnv][t]=e)},e.prototype.onAppVarSubmit=function(){he.a.setVariables([]),he.a.addVariables(this.envVariables),he.a.addVariables(this.localVariables),this.modalRef.hide()},e.prototype.deleteAppVariable=function(e){this.localVariables.splice(e,1)},e.prototype.addAppVariable=function(){this.localVariables.push({name:"",value:""})},e.prototype.deleteVariable=function(e,t){Object.entries(this.editableEnvs).forEach((function(e){delete e[1][t]})),this.environment.variables.splice(e,1)},e.prototype.addVariable=function(){this.environment.variables.push({name:"",value:""})},e.prototype.resetEnvForm=function(){this.editableEnvs=Object(ye.deepClone)(this.envs)},e.prototype.loadEnvVariables$=function(){var e=this;return this.envService.getEnvVariables$().pipe(Object(ie.a)((function(t){return e.envs=t,e.resetEnvForm(),e.environments=t?Object.keys(t):[],e.setNewEnv(),e.environments.includes(e.selectedEnvironment)||(e.selectedEnvironment=null),e.environments.includes(e.formSelectedEnv)||(e.formSelectedEnv=null),t})))},e.prototype.saveEnvs$=function(e){var t=this;return this.envService.saveEnvVariables$({EnvironmentVariables:this.editableEnvs}).pipe(Object(ne.a)((function(){return t.loadEnvVariables$().pipe(Object(ie.a)((function(){e&&t.onEnvSelect(e)})))})),Object(E.a)((function(){return Object(fe.a)("Failed to save environment")})))},e.prototype.cleanUpEnvFormVars=function(){this.environments.length&&(this.newEnvironment.variables=Object.keys(this.editableEnvs[this.environments[0]]).map((function(e){return{name:e,value:null}}))),this.environment=Object(b.a)({},this.newEnvironment)},e.prototype.getEnvKeys=function(){return this.environments.length?Object.keys(Object.values(this.envs)[0]):[]},e.prototype.setAppVariables=function(){var e=this;this.variables=Object.entries(he.a.variables).map((function(e){return{name:e[0],value:e[1]}})),this.variables.length||(this.variables=[{name:"",value:null}]),this.localVariables=this.variables.filter((function(t){return!e.getEnvKeys().includes(t.name)})),this.envVariables=this.variables.filter((function(t){return e.getEnvKeys().includes(t.name)}))},e.\u0275fac=function(t){return new(t||e)(d.Nb(g.a),d.Nb(Se),d.Nb(w.b),d.Nb(M.h))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-environments"]],viewQuery:function(e,t){var n;1&e&&(d.Jc(Oe,!0),d.Jc(we,!0),d.Jc(Ce,!0)),2&e&&(d.rc(n=d.cc())&&(t.envTemplate=n.first),d.rc(n=d.cc())&&(t.appVarTemplate=n.first),d.rc(n=d.cc())&&(t.modal=n.first))},decls:12,vars:3,consts:[["id","env-btn-group","dropdown","","placement","right",1,"btn-group","align-self-center"],["class","btn btn-primary dropdown-toggle btn-sm m-0","disabled","disabled","title","Login to use environment","aria-controls","dropdown-basic","tabindex","0","role","button",4,"ngIf"],["class","btn btn-light dropdown-toggle btn-sm m-0","title","Select environment","dropdownToggle","","aria-controls","dropdown-basic","tabindex","0","role","button",4,"ngIf"],["id","dropdown-basic","class","dropdown-menu","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["title","Application variables",1,"btn","btn-secondary","btn-sm","align-self-center","mx-2","d-inline-block",3,"click"],["envTemplate",""],["appVarTemplate",""],["envInfo",""],["disabled","disabled","title","Login to use environment","aria-controls","dropdown-basic","tabindex","0","role","button",1,"btn","btn-primary","dropdown-toggle","btn-sm","m-0"],[1,"caret"],["title","Select environment","dropdownToggle","","aria-controls","dropdown-basic","tabindex","0","role","button",1,"btn","btn-light","dropdown-toggle","btn-sm","m-0"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu"],["role","menuitem",4,"ngFor","ngForOf"],["class","divider dropdown-divider",4,"ngIf"],["role","menuitem"],[1,"dropdown-item",3,"click"],[1,"divider","dropdown-divider"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4"],["envForm","ngForm"],["class","row mx-0 mb-3",4,"ngIf"],["class","row my-1 mx-0",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0"],["type","button",1,"btn","btn-sm","btn-light",3,"click"],[1,"fa","fa-plus","fa-xl"],["type","button",1,"btn","btn-primary","ml-auto","mr-2",3,"disabled","click"],["type","button",1,"btn","btn-light",3,"click"],[1,"row","mx-0","mb-3"],["for","env-name",1,"col-form-label"],[1,"flex-fill","mx-2"],["type","text","id","env-name","placeholder","Enter name","required","","name","name",1,"form-control",3,"appForbiddenValues","ngModel","ngModelChange"],["envName","ngModel"],["class","alert alert-danger py-1 px-2 m-0",4,"ngIf"],["role","button",1,"btn","btn-light","align-self-baseline",3,"click"],[1,"alert","alert-danger","py-1","px-2","m-0"],[4,"ngIf"],["for","env-selection",1,"col-form-label","pr-2"],[1,"flex-fill"],["id","env-selection",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-light","mx-2",3,"disabled","click"],[1,"fa","fa-remove"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus"],[3,"value"],[1,"row","my-1","mx-0"],[1,"col-sm-4","pl-0","pr-2"],["type","text","required","","placeholder","name",1,"form-control",3,"ngModel","name","ngModelChange"],[1,"flex-fill","px-0"],["type","text","placeholder","value",1,"form-control",3,"name","ngModel","ngModelChange"],[1,"pl-2","d-flex","align-items-end"],[1,"fa","fa-remove","fa-lg"],["appVarForm","ngForm"],["class","row line my-3 mx-0",4,"ngIf"],[1,"row","w-100","mx-0","px-0"],["type","button",1,"btn","btn-info","active",3,"click"],[1,"col-sm-4","pr-2","pl-0"],["type","text","placeholder","name","disabled","disabled",1,"form-control",3,"value","name"],[1,"row","line","my-3","mx-0"],["type","text","placeholder","name",1,"form-control",3,"ngModel","name","ngModelChange"],["type","info",1,"row","flex-column","w-100","mx-0","mt-4"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Cc(1,Te,3,0,"button",1),d.Cc(2,qe,3,1,"button",2),d.Cc(3,Me,6,2,"ul",3),d.Sb(),d.Tb(4,"a",4),d.bc("click",(function(){return t.editAppVar()})),d.Ec(5),d.Sb(),d.Cc(6,De,22,5,"ng-template",null,5,d.Dc),d.Cc(8,He,23,6,"ng-template",null,6,d.Dc),d.Cc(10,Ge,4,4,"ng-template",null,7,d.Dc)),2&e&&(d.Bb(1),d.jc("ngIf",!t.isAuthenticated),d.Bb(1),d.jc("ngIf",t.isAuthenticated),d.Bb(3),d.Gc(" ","{VARS}","\n"))},directives:[c.a,i.m,c.b,c.d,i.l,r.t,r.j,r.k,i.r,r.b,r.q,je,r.i,r.l,r.r,r.m,r.s,s.a],styles:['[_ngcontent-%COMP%]:root{--bg:#fff;--body-bg:#e4e5e6;--header-bg:#ebedef;--color:#4f5d73;--border-color:#c4c9d0;--wj-alt:#f7f7f7;--form-input-bg:#fff;--form-input-color:#768192;--nav-link-color:#8a93a2;--secondary-color:#c4c9d0;--opacity:0.05;--hover:"#f0f3f5"}[_nghost-%COMP%] > a[_ngcontent-%COMP%]{width:70px}.dropdown-item[_ngcontent-%COMP%], [_nghost-%COMP%] > a[_ngcontent-%COMP%]{cursor:pointer}#env-btn-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:first-child{border-bottom-right-radius:0;border-top-right-radius:0}#env-btn-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.25rem;border-top-right-radius:.25rem}.line[_ngcontent-%COMP%]{border-bottom:1px solid #3c4b64}alert[_ngcontent-%COMP%]     .alert{width:100%}.var-img[_ngcontent-%COMP%]{max-height:40px}']}),e}(),Qe=function(e){return e.savedRequests},Ke=Object(M.q)(Qe,(function(e){return e.activeRequest})),Ye=Object(M.q)(Qe,(function(e){return e.error})),We=Object(M.q)(Qe,(function(e){return e.requestLoading}));function Ze(e,t,n){var i=t||{request:void 0};t||e.dispatch(B({settings:{isRequestPanelCollapsed:!1}})),e.dispatch(I({requestModel:i.request})),e.dispatch(new A(i.dynamicPages)),e.dispatch(Y(n)),e.dispatch(R({scripts:i.scripts})),e.dispatch(F())}var et=n("UfhM"),tt=n("fQZA"),nt=["sideTabs"],it=["listView"],rt=["listViewPublic"],ot=function(e,t,n){return{"fa-send":e,"fa-play":t,"fa-edit":n}};function st(e,t){if(1&e&&(d.Tb(0,"div",10),d.Ob(1,"i",11),d.Ec(2),d.Sb()),2&e){var n=t.$implicit,i=d.dc();d.kc("title",n.description),d.Bb(1),d.jc("ngClass",d.pc(3,ot,n.linkType===i.LinkType.RestRequest,n.linkType===i.LinkType.JSPythonEditor,n.linkType===i.LinkType.DataEditor)),d.Bb(1),d.Gc(" ",n.name," ")}}function ct(e,t){if(1&e&&(d.Tb(0,"div",10),d.Ob(1,"i",11),d.Ec(2),d.Sb()),2&e){var n=t.$implicit,i=d.dc();d.kc("title",n.description),d.Bb(1),d.jc("ngClass",d.pc(3,ot,n.linkType===i.LinkType.RestRequest,n.linkType===i.LinkType.JSPythonEditor,n.linkType===i.LinkType.DataEditor)),d.Bb(1),d.Gc(" ",n.name," ")}}function at(e,t){if(1&e&&(d.Tb(0,"alert",12),d.Tb(1,"strong"),d.Ec(2,"Error:"),d.Sb(),d.Ec(3),d.Sb()),2&e){var n=d.dc();d.Bb(3),d.Gc(" ",n.error," ")}}function lt(e,t){if(1&e){var n=d.Ub();d.Tb(0,"alert",13),d.Ec(1," Please "),d.Tb(2,"a",14),d.bc("click",(function(){return d.vc(n),d.dc().onLogin()})),d.Ec(3,"Login"),d.Sb(),d.Ec(4," to be able to save requests. "),d.Sb()}}var ut=function(e){return{display:e}},dt=function(){function e(e,t,n,i,r){this.authService=e,this.loginService=t,this.store=n,this.router=i,this.route=r,this.LinkType=le.d,this.isAuthenticated=!1}return e.prototype.ngOnInit=function(){var e=this;this.store.dispatch(z()),this.store.select((function(e){return e.savedRequests.requests})).subscribe((function(t){e.requests=t})),this.store.select((function(e){return e.savedRequests.publicRequests})).subscribe((function(t){e.publicRequests=t})),this.store.select(Ke).subscribe((function(t){e.selectedRequest=t;var n=e.isAuthenticated&&t&&t.ownerName===e.authService.user.userName&&!t.source;e.listViewPublic&&e.listViewPublic.selectItem(t&&t.isPublic&&t.source?t:null),e.listView&&e.listView.selectItem(n?t:null),n&&(e.sideTabs.tabs[1].active=!0)})),this.authService.isAuthenticated$.subscribe((function(t){t&&e.isAuthenticated!==t?e.store.dispatch(V()):t||(e.requests=[]),e.isAuthenticated=t})),this.store.select(Ye).subscribe((function(t){e.error=t}))},e.prototype.onSelect=function(e){if(e){var t=e.ownerName,n=e.name,i=e.linkType;if(t&&n){if(this.selectedRequest&&this.selectedRequest.ownerName===t&&this.selectedRequest.name===n)return;var r=[t,n];switch(e.source&&r.unshift("github-examples"),i){case le.d.RestRequest:this.router.navigate(r,{relativeTo:this.route});break;case le.d.JSPythonEditor:this.router.navigate(Object(b.g)(["jspython-editor"],r),{relativeTo:this.route});break;case le.d.DataEditor:this.router.navigate(Object(b.g)(["data-editor"],r),{relativeTo:this.route})}}}},e.prototype.onLogin=function(){this.loginService.openDialog()},e.\u0275fac=function(t){return new(t||e)(d.Nb(et.a),d.Nb(et.b),d.Nb(M.h),d.Nb(O.f),d.Nb(O.a))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-saved-requests"]],viewQuery:function(e,t){var n;1&e&&(d.Ac(nt,!0),d.Ac(it,!0),d.Ac(rt,!0)),2&e&&(d.rc(n=d.cc())&&(t.sideTabs=n.first),d.rc(n=d.cc())&&(t.listView=n.first),d.rc(n=d.cc())&&(t.listViewPublic=n.first))},decls:12,vars:7,consts:[[1,"tabset-fx","nav-tabs-boxed"],["sideTabs",""],["heading","Examples",1,"h-100"],["group","folder","orderBy","id",1,"d-flex","h-100","overflow-auto",3,"list","select"],["listViewPublic",""],["heading","My",1,"h-100"],["group","folder","orderBy","id",1,"h-100","overflow-auto",3,"list","ngStyle","select"],["listView",""],["type","danger",4,"ngIf"],["type","info",4,"ngIf"],[1,"m-1","pl-3",3,"title"],[1,"fa","mr-1",3,"ngClass"],["type","danger"],["type","info"],[1,"link","cursor-pointer",3,"click"]],template:function(e,t){1&e&&(d.Tb(0,"tabset",0,1),d.Tb(2,"tab",2),d.Tb(3,"app-list-view",3,4),d.bc("select",(function(e){return t.onSelect(e)})),d.Cc(5,st,3,7,"ng-template"),d.Sb(),d.Sb(),d.Tb(6,"tab",5),d.Tb(7,"app-list-view",6,7),d.bc("select",(function(e){return t.onSelect(e)})),d.Cc(9,ct,3,7,"ng-template"),d.Sb(),d.Cc(10,at,4,1,"alert",8),d.Cc(11,lt,5,0,"alert",9),d.Sb(),d.Sb()),2&e&&(d.Bb(3),d.jc("list",t.publicRequests),d.Bb(4),d.jc("list",t.requests)("ngStyle",d.nc(5,ut,t.requests&&t.requests.length?"flex":"none")),d.Bb(3),d.jc("ngIf",t.isAuthenticated&&t.error),d.Bb(1),d.jc("ngIf",!t.isAuthenticated))},directives:[o.d,o.a,tt.a,i.n,i.m,i.k,s.a],styles:['[_ngcontent-%COMP%]:root{--bg:#fff;--body-bg:#e4e5e6;--header-bg:#ebedef;--color:#4f5d73;--border-color:#c4c9d0;--wj-alt:#f7f7f7;--form-input-bg:#fff;--form-input-color:#768192;--nav-link-color:#8a93a2;--secondary-color:#c4c9d0;--opacity:0.05;--hover:"#f0f3f5"}i.fa[_ngcontent-%COMP%]{color:#20a8d8}']}),e}(),bt=function(){function e(){}return e.getSavedRequests=function(){return Object.values(pt()).reduce((function(e,t){return Object(b.g)(e,[t])}),[])},e.saveRequestConfig=function(t){try{var n=pt();t.responseInfo||(t.responseInfo=e.getInitResponseInfo());var i=e.getKey(t);if(i){var r=!n.hasOwnProperty(i);n[i]=t,localStorage.setItem("requests",JSON.stringify(n)),e.callbacks.forEach((function(e){return e(t,r)}))}}catch(o){console.error(o)}},e.updateRequestConfig=function(t){var n=pt(),i=Object(b.a)(Object(b.a)({},t),{responseInfo:e.getInitResponseInfo()}),r=n[e.getKey(i)];r&&e.saveRequestConfig(Object.assign(r,t))},e.getInitResponseInfo=function(){return{date:(new Date).toDateString(),status:0,statusText:null,time:null}},e.onRequestSave=function(t){"function"==typeof t&&e.callbacks.push(t)},e.equals=function(t,n){return e.getKey(t)===e.getKey(n)},e.getKey=function(e){if(!e)return null;var t=Object(ye.dateToString)(new Date(e.responseInfo.date)).replace(/T.*/,"");if(e.request){var n=JSON.stringify(e.request.body),i=JSON.stringify(e.request.headers),r=JSON.stringify(e.request.queryParameters);return[t,e.request.method,e.request.url,n,e.request.auth.type,i,r].map((function(e){return e&&e.replace(/ /g,"")})).join("-")}var o=Object(se.b)(e.scripts);return o?[t,o].map((function(e){return e&&e.replace(/ /g,"")})).join("-"):void 0},e.callbacks=[],e}();function pt(){var e=localStorage.getItem("requests");return e?JSON.parse(e):{}}var ft=["list"];function ht(e,t){if(1&e&&(d.Tb(0,"div",14),d.Ec(1),d.Sb()),2&e){var n=d.dc(2).$implicit;d.Bb(1),d.Gc(" ",n.responseInfo.time," ")}}var gt=function(e,t){return{"badge-success":e,"badge-danger":t}};function vt(e,t){if(1&e&&(d.Rb(0),d.Tb(1,"div",13),d.Ec(2),d.Sb(),d.Tb(3,"div",14),d.Ec(4),d.Sb(),d.Cc(5,ht,2,1,"div",15),d.Tb(6,"div",16),d.Ec(7),d.Sb(),d.Qb()),2&e){var n=d.dc().$implicit,i=d.dc();d.Bb(1),d.jc("ngClass",d.oc(5,gt,200===n.responseInfo.status,200!==n.responseInfo.status)),d.Bb(1),d.Gc(" ",n.responseInfo.status," "),d.Bb(2),d.Gc(" ",n.request.method," "),d.Bb(1),d.jc("ngIf",i.showTime),d.Bb(2),d.Gc(" ",i.getDisplayUrl(n.request.url)," ")}}function mt(e,t){if(1&e&&(d.Tb(0,"div",14),d.Ec(1),d.Sb()),2&e){var n=d.dc(2).$implicit;d.Bb(1),d.Gc(" ",n.responseInfo.time," ")}}function St(e,t){if(1&e&&(d.Tb(0,"div",17),d.Ob(1,"i",18),d.Sb(),d.Tb(2,"div",14),d.Ec(3,"jspy:"),d.Sb(),d.Cc(4,mt,2,1,"div",15),d.Tb(5,"div",14),d.Ec(6),d.Sb()),2&e){var n=d.dc().$implicit,i=d.dc();d.Bb(4),d.jc("ngIf",i.showTime),d.Bb(2),d.Gc(" ",i.getScriptName(n.scripts)," ")}}function yt(e,t){if(1&e&&(d.Cc(0,vt,8,8,"ng-container",11),d.Cc(1,St,7,2,"ng-template",null,12,d.Dc)),2&e){var n=t.$implicit,i=d.sc(2);d.jc("ngIf",n.request)("ngIfElse",i)}}var jt=function(){return{key:"responseInfo.date",type:"date"}},Ot=function(){function e(e){this.store=e,this.requests=[],this.groupBy={groupDate:!0,url:!1},this.grouping=this.dateGrouping,this.showTime=!1,this.showFullUrl=!1,this.getScriptName=se.b}return e.prototype.ngOnInit=function(){var e=this;bt.onRequestSave((function(t,n){var i=Object(ye.deepClone)(t);if(n)e.requests=Object(b.g)(e.requests,[i]),e.list.selectItem(i);else{var r=e.requests.findIndex((function(e){return bt.equals(e,i)}));e.requests=Object(b.g)(e.requests.slice(0,r),[i],e.requests.slice(r+1)),e.list.selectItem(i)}})),this.requests=bt.getSavedRequests()||[]},e.prototype.onDateGroupClick=function(){this.groupBy.groupDate?(this.groupBy.url=!1,this.grouping=this.dateGrouping):this.grouping=null},e.prototype.onDomainGroupClick=function(){this.groupBy.url?(this.groupBy.groupDate=!1,this.grouping=this.domainGrouping):this.grouping=null},e.prototype.onSelect=function(e){if(null==e?void 0:e.hasOwnProperty("request")){var t=Object(ye.deepClone)(e);this.store.dispatch(B({settings:t.uiSettings})),Ze(this.store,t,"/rest-client")}else(null==e?void 0:e.scripts)&&Ze(this.store,{scripts:e.scripts},"/rest-client/jspython-editor")},e.prototype.searchHitoryItem=function(e,t){return[t.request.method,t.request.url,t.responseInfo.status].join().toLowerCase().includes(e)},e.prototype.getDisplayUrl=function(e){return!e||e.length<26||this.showFullUrl?e:"..."+e.slice(-25)},e.prototype.dateGrouping=function(e){return new Date(e.responseInfo.date).toDateString()},e.prototype.domainGrouping=function(e){return e.request?Object(y.g)(e.request.url):"script"},e.\u0275fac=function(t){return new(t||e)(d.Nb(M.h))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-history"]],viewQuery:function(e,t){var n;1&e&&d.Ac(ft,!0),2&e&&d.rc(n=d.cc())&&(t.list=n.first)},decls:12,vars:17,consts:[[1,"btn-group"],["btnCheckbox","","tabindex","0","role","button","title","Group by Day",1,"btn","btn-secondary","cursor-pointer",3,"ngModel","ngModelChange","click"],[1,"fa","fa-calendar","fa-lg"],["btnCheckbox","","tabindex","0","role","button","title","Group by Domain",1,"btn","btn-secondary","cursor-pointer",3,"ngModel","ngModelChange","click"],[1,"fa","fa-bookmark-o","fa-lg"],["btnCheckbox","","tabindex","0","role","button","title","Show Full URL",1,"btn","btn-secondary","cursor-pointer",3,"ngModel","ngModelChange"],[1,"fa","fa-expand","fa-lg"],["btnCheckbox","","tabindex","0","role","button","title","Show Time",1,"btn","btn-secondary","cursor-pointer",3,"ngModel","ngModelChange"],[1,"fa","fa-clock-o","fa-lg"],[1,"d-flex","h-100","overflow-auto",3,"list","searchFn","group","orderBy","select"],["list",""],[4,"ngIf","ngIfElse"],["scripted",""],[1,"badge","m-1",3,"ngClass"],[1,"m-1"],["class","m-1",4,"ngIf"],[1,"m-1","text-break"],[1,"m-1","px-2"],[1,"fa","fa-play"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Tb(1,"label",1),d.bc("ngModelChange",(function(e){return t.groupBy.groupDate=e}))("click",(function(){return t.onDateGroupClick()})),d.Ob(2,"i",2),d.Sb(),d.Tb(3,"label",3),d.bc("ngModelChange",(function(e){return t.groupBy.url=e}))("click",(function(){return t.onDomainGroupClick()})),d.Ob(4,"i",4),d.Sb(),d.Tb(5,"label",5),d.bc("ngModelChange",(function(e){return t.showFullUrl=e})),d.Ob(6,"i",6),d.Sb(),d.Tb(7,"label",7),d.bc("ngModelChange",(function(e){return t.showTime=e})),d.Ob(8,"i",8),d.Sb(),d.Sb(),d.Tb(9,"app-list-view",9,10),d.bc("select",(function(e){return t.onSelect(e)})),d.Cc(11,yt,3,2,"ng-template"),d.Sb()),2&e&&(d.Bb(1),d.Fb("active",t.groupBy.groupDate),d.jc("ngModel",t.groupBy.groupDate),d.Bb(2),d.Fb("active",t.groupBy.url),d.jc("ngModel",t.groupBy.url),d.Bb(2),d.Fb("active",t.showFullUrl),d.jc("ngModel",t.showFullUrl),d.Bb(2),d.Fb("active",t.showTime),d.jc("ngModel",t.showTime),d.Bb(2),d.jc("list",t.requests)("searchFn",t.searchHitoryItem)("group",t.grouping)("orderBy",d.mc(16,jt)))},directives:[a.a,r.i,r.l,tt.a,i.m,i.k],styles:['[_ngcontent-%COMP%]:root{--bg:#fff;--body-bg:#e4e5e6;--header-bg:#ebedef;--color:#4f5d73;--border-color:#c4c9d0;--wj-alt:#f7f7f7;--form-input-bg:#fff;--form-input-color:#768192;--nav-link-color:#8a93a2;--secondary-color:#c4c9d0;--opacity:0.05;--hover:"#f0f3f5"}i.fa.fa-play[_ngcontent-%COMP%]{color:#20a8d8}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:0 0 50px}']}),e}(),wt=["sideTabs"],Ct=function(){return["/rest-client","data-editor"]};function Tt(e,t){if(1&e){var n=d.Ub();d.Tb(0,"ul",10),d.Tb(1,"li",11),d.Tb(2,"a",12),d.bc("click",(function(){return d.vc(n),d.dc().onNewRequest()})),d.Ec(3,"Rest Request"),d.Sb(),d.Sb(),d.Tb(4,"li",11),d.Tb(5,"a",12),d.bc("click",(function(){return d.vc(n),d.dc().onNewJSPythonEditor()})),d.Ec(6,"JSPython Editor"),d.Sb(),d.Sb(),d.Tb(7,"li",11),d.Tb(8,"a",13),d.Ec(9,"Data Editor"),d.Sb(),d.Sb(),d.Sb()}2&e&&(d.Bb(8),d.jc("routerLink",d.mc(1,Ct)))}var qt=function(){function e(e,t){this.store=e,this.router=t}return e.prototype.ngOnInit=function(){var e=this;this.store.select(Ke).subscribe((function(t){t&&e.sideTabs&&e.sideTabs.tabs.length&&(e.sideTabs.tabs[0].active=!0)}))},e.prototype.onNewRequest=function(){Ze(this.store),this.router.navigate(["/rest-client"])},e.prototype.onNewJSPythonEditor=function(){Ze(this.store),this.router.navigate(["/rest-client","jspython-editor"])},e.prototype.onNewData=function(){Ze(this.store,{request:{}}),this.router.navigate(["/rest-client","data-editor"])},e.\u0275fac=function(t){return new(t||e)(d.Nb(M.h),d.Nb(O.f))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-rest-sidebar"]],viewQuery:function(e,t){var n;1&e&&d.Jc(wt,!0),2&e&&d.rc(n=d.cc())&&(t.sideTabs=n.first)},decls:11,vars:0,consts:[["dropdown","","placement","bottom left","container","body",1,"btn-group","position-absolute","new-dropdown","mr-1"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-new-item",1,"btn","btn-primary","dropdown-toggle","btn-sm"],[1,"caret"],["id","dropdown-new-item","class","dropdown-menu","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],[1,"tabset-fx","nav-tabs-boxed"],["sideTabs",""],["heading","Requests",1,"h-100"],[1,"d-flex","flex-column","overflow-auto","h-100"],["heading","History",1,"h-100"],[1,"d-flex","flex-column","h-100"],["id","dropdown-new-item","role","menu","aria-labelledby","button-basic",1,"dropdown-menu"],["role","menuitem"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"dropdown-item",3,"routerLink"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Tb(1,"button",1),d.Ec(2,"New "),d.Ob(3,"span",2),d.Sb(),d.Cc(4,Tt,10,2,"ul",3),d.Sb(),d.Tb(5,"tabset",4,5),d.Tb(7,"tab",6),d.Ob(8,"app-saved-requests",7),d.Sb(),d.Tb(9,"tab",8),d.Ob(10,"app-history",9),d.Sb(),d.Sb())},directives:[c.a,c.d,c.b,o.d,o.a,dt,Ot,O.h],styles:['[_ngcontent-%COMP%]:root{--bg:#fff;--body-bg:#e4e5e6;--header-bg:#ebedef;--color:#4f5d73;--border-color:#c4c9d0;--wj-alt:#f7f7f7;--form-input-bg:#fff;--form-input-color:#768192;--nav-link-color:#8a93a2;--secondary-color:#c4c9d0;--opacity:0.05;--hover:"#f0f3f5"}tabset[_ngcontent-%COMP%]     .nav-link{padding-bottom:.5rem}app-history-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cells .wj-cell, app-saved-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cells .wj-cell{border:none}app-history-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cells .wj-cell.wj-alt, app-saved-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cells .wj-cell.wj-alt{background:#fff}app-history-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cells .wj-cell.wj-state-multi-selected, app-history-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cells .wj-cell.wj-state-selected, app-saved-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cells .wj-cell.wj-state-multi-selected, app-saved-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cells .wj-cell.wj-state-selected{background:#c4c9d0;color:#4f5d73}app-history-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cells .wj-cell.wj-group, app-saved-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cells .wj-cell.wj-group{background:#ebedef;color:#636f83}app-history-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cells .wj-cell .badge, app-saved-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cells .wj-cell .badge{vertical-align:text-bottom}app-history-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cell:not(.wj-group):first-child, app-saved-requests[_ngcontent-%COMP%]     wj-flex-grid .wj-cell:not(.wj-group):first-child{padding-left:20px!important}.new-dropdown[_ngcontent-%COMP%]{right:0;z-index:2}  #dropdown-new-item.dropdown-menu{left:auto!important;right:-30px!important}[_nghost-%COMP%]{position:relative}']}),e}(),xt=function(){function e(e,t,n,i,r){var o=this;this.titleService=e,this.store=t,this.router=n,this.authService=i,this.actions=r,this.layoutConfig={icon:"assets/img/rc-logo-64x64.png",smIcon:"assets/img/rc-logo-36x36.png",appName:"rest-client"},this.destroy=new C.a,this.router.events.pipe(Object(q.a)(this.destroy),Object(x.a)((function(e){return e instanceof O.c}))).subscribe((function(e){if(o.router.routerState.snapshot.url.startsWith("/rest-client")){for(var t,n=o.router.routerState.root.firstChild,i=Boolean(e.url.match(/.*\/github-examples\/.*/));n;)t=n.snapshot.params,n=n.firstChild;o.store.dispatch(t.ownerName&&t.requestName?i?X({ownerRequest:t}):G({ownerRequest:t}):Y())}})),this.authService.getCurrentUser().pipe(Object(E.a)((function(e){return Object(T.a)(!1)})),Object(x.a)((function(e){return!e}))).subscribe((function(){o.store.dispatch(J({requests:[]}))}))}return e.prototype.ngOnInit=function(){this.titleService.setTitle("Worksheets REST Client")},e.prototype.ngOnDestroy=function(){this.destroy.next(),this.destroy.complete()},e.\u0275fac=function(t){return new(t||e)(d.Nb(be.b),d.Nb(M.h),d.Nb(O.f),d.Nb(w.b),d.Nb(de))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-rest-layout"]],decls:9,vars:1,consts:[[3,"config"],["title","",1,"mb-0","ml-0","top-sub-header","w-md-down-50"],["header","",1,"ml-auto","d-flex"],["sidebar","",1,"h-100","w-100","py-2","d-flex","flex-column"],["content",""]],template:function(e,t){1&e&&(d.Tb(0,"app-layout",0),d.Tb(1,"h2",1),d.Ec(2,"WORKSHEET "),d.Tb(3,"span"),d.Ec(4,"SYSTEMS"),d.Sb(),d.Ec(5," - REST Client"),d.Sb(),d.Ob(6,"app-environments",2),d.Ob(7,"app-rest-sidebar",3),d.Ob(8,"router-outlet",4),d.Sb()),2&e&&d.jc("config",t.layoutConfig)},directives:[pe.a,Xe,qt,O.j],styles:['[_ngcontent-%COMP%]:root{--bg:#fff;--body-bg:#e4e5e6;--header-bg:#ebedef;--color:#4f5d73;--border-color:#c4c9d0;--wj-alt:#f7f7f7;--form-input-bg:#fff;--form-input-color:#768192;--nav-link-color:#8a93a2;--secondary-color:#c4c9d0;--opacity:0.05;--hover:"#f0f3f5"}app-environment[_ngcontent-%COMP%]{flex:0;width:100%}app-rest-sidebar[_ngcontent-%COMP%]{min-width:250px}']}),e}(),Et=n("zp1y"),Mt={method:"GET",url:"",headers:[{name:"Content-Type",value:"application/json",active:!0}],queryParameters:[],contentType:le.b.JSON,body:void 0,auth:{type:le.a.None}},kt={requestContentModel:{request:Mt,uiSettings:{isRequestPanelCollapsed:!1,runOnload:!1}}},Rt={contentType:le.b.JSON,body:"",headers:null},It={response:Rt,status:null,loading:!1},Bt={requests:[],publicRequests:[],saving:!1,activeRequest:null,error:null,requestLoading:!1},Pt=Object(M.p)(Bt,Object(M.r)(D,(function(e){return Object(b.a)(Object(b.a)({},e),{saving:!0})})),Object(M.r)(U,(function(e,t){var n=t.request,i=e.requests.findIndex((function(e){return e.id===n.id}));i>-1?e.requests[i]=n:(e.activeRequest={id:n.id,folder:n.folder,ownerName:n.ownerName,name:n.name,description:n.description,linkType:n.linkType,isPublic:n.isPublic,source:n.source},e.requests.push(n));var r=e.publicRequests.findIndex((function(e){return e.id===n.id}));return r>-1?n.isPublic?e.publicRequests[r]=n:e.publicRequests.splice(r):n.isPublic&&e.publicRequests.push(n),Object(b.a)(Object(b.a)({},e),{requests:Object(b.g)(e.requests),publicRequests:Object(b.g)(e.publicRequests)})})),Object(M.r)(J,(function(e,t){var n=t.requests;return Object(b.a)(Object(b.a)({},e),{requests:n,error:null})})),Object(M.r)(Y,(function(e){return Object(b.a)(Object(b.a)({},e),{activeRequest:null})})),Object(M.r)(G,X,(function(e){return Object(b.a)(Object(b.a)({},e),{requestLoading:!0})})),Object(M.r)(H,(function(e,t){var n=t.error;return Object(b.a)(Object(b.a)({},e),{error:n})})),Object(M.r)(Q,(function(e,t){var n=t.requestInfo,i=n.id,r=n.folder,o=n.ownerName,s=n.name,c=n.description,a=n.linkType,l=n.isPublic,u=n.source;return Object(b.a)(Object(b.a)({},e),{activeRequest:{id:i,folder:r,ownerName:o,name:s,description:c,linkType:a,isPublic:l,source:u},requestLoading:!1})})),Object(M.r)(Z,(function(e,t){var n=t.id,i=e.requests,r=e.requests.findIndex((function(e){return e.id===n}));-1!==r&&(i=Object(b.g)(e.requests.slice(0,r),e.requests.slice(r+1)));var o=e.publicRequests;return-1!==o.findIndex((function(e){return e.id===n}))&&(o=Object(b.g)(o.slice(0,r),o.slice(r+1))),Object(b.a)(Object(b.a)({},e),{requests:i,publicRequests:o})})),Object(M.r)(L,(function(e,t){var n=t.requests;return Object(b.a)(Object(b.a)({},e),{publicRequests:n,error:null})}))),Nt={requestModel:function(e,t){switch(void 0===e&&(e=kt),t.type){case I.type:var n=t.requestModel;if(n){if(n.headers){var i=n.headers.find((function(e){return"Content-Type"===e.name}));n.contentType=i?i.value:le.b.JSON}n.body&&"string"!=typeof n.body&&(n.body=JSON.stringify(n.body)),n.auth||(n.auth={type:le.a.None})}return Object(b.a)(Object(b.a)({},e),{requestContentModel:Object(b.a)(Object(b.a)({},e.requestContentModel),{request:void 0===n?Mt:n})});case R.type:return Object(b.a)(Object(b.a)({},e),{requestContentModel:Object(b.a)(Object(b.a)({},e.requestContentModel),{scripts:t.scripts})});case N.type:return bt.saveRequestConfig(Object(b.a)(Object(b.a)({},e.requestContentModel),{responseInfo:t.responseStatus})),e;case B.type:return e.requestContentModel.uiSettings=Object(b.a)({},t.settings),e;case P.type:var r=e.requestContentModel.request,o=r.method;return he.a.setContextVariable({name:"requestUrl",value:r.url}),he.a.setContextVariable({name:"requestMethod",value:o}),e;case k.SAVE_DYNAMIC_PAGES:var s=Object(b.a)(Object(b.a)({},e.requestContentModel),{dynamicPages:t.payload});return bt.updateRequestConfig(s),Object(b.a)(Object(b.a)({},e),{requestContentModel:s});case k.SET_DYNAMIC_PAGES:return Object(b.a)(Object(b.a)({},e),{requestContentModel:Object(b.a)(Object(b.a)({},e.requestContentModel),{dynamicPages:t.payload||[]})});default:return e}},responseModel:function(e,t){switch(void 0===e&&(e=It),t.type){case $.type:var n=t.response;return n?{response:n,status:t.status,loading:!1}:Object(b.a)({},It);case F.type:return Object(se.c)(Object(b.a)({},Rt)),Object(b.a)(Object(b.a)({},e),{response:Object(b.a)({},Rt),status:null});case P.type:return Object(b.a)(Object(b.a)({},e),{loading:!0});default:return e}},savedRequests:function(e,t){return void 0===e&&(e=Bt),Pt(e,t)}},$t=[],Ft=function(e){return e.responseModel.response},At=function(e){return e.responseModel.status},Dt=function(e){return e.responseModel.loading},zt=Object(M.o)("requestModel"),Lt=Object(M.q)(zt,(function(e){return e.requestContentModel.request})),Ut=(Object(M.q)(zt,(function(e){return e.requestContentModel})),Object(M.q)(zt,(function(e){return e.requestContentModel.scripts}))),_t=Object(M.q)(zt,(function(e){return e.requestContentModel.uiSettings})),Vt=n("BgSd");function Jt(e,t){1&e&&(d.Tb(0,"div"),d.Ec(1,"Request name is required."),d.Sb())}function Ht(e,t){if(1&e&&(d.Tb(0,"div",25),d.Cc(1,Jt,2,0,"div",26),d.Sb()),2&e){d.dc();var n=d.sc(14);d.Bb(1),d.jc("ngIf",n.errors.required)}}function Gt(e,t){1&e&&(d.Tb(0,"div"),d.Ec(1,"Folder is required."),d.Sb())}function Xt(e,t){if(1&e&&(d.Tb(0,"div",25),d.Cc(1,Gt,2,0,"div",26),d.Sb()),2&e){d.dc();var n=d.sc(21);d.Bb(1),d.jc("ngIf",n.errors.required)}}var Qt=function(){function e(){this.save=new d.p}return e.prototype.ngOnInit=function(){this.saveRequestLink=Object(ye.deepClone)(this.config)},e.prototype.saveRequest=function(){this.save.emit(this.saveRequestLink)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Hb({type:e,selectors:[["app-save-request"]],inputs:{config:"config",modalRef:"modalRef"},outputs:{save:"save"},decls:39,vars:8,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4"],["saveRequestForm","ngForm"],[1,"form-group","row","mx-0","mb-3"],["for","request-name",1,"col-form-label","px-0","col-sm-3"],[1,"flex-fill","ml-2"],["type","text","required","","placeholder","Enter request name","name","name","id","request-name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","alert alert-danger py-1 px-2 m-0",4,"ngIf"],["for","folder-name",1,"col-form-label","px-0","col-sm-3"],["type","text","id","folder-name","required","","placeholder","Enter request folder","name","folder",1,"form-control",3,"ngModel","ngModelChange"],["folder","ngModel"],["for","is-public",1,"col-form-label","px-0","col-sm-3"],[1,"flex-fill","ml-2","d-flex","align-items-center"],["type","checkbox","id","is-public","name","isPublic",1,"mr-2",3,"ngModel","ngModelChange"],[1,"form-group","row","mx-0","mb-1"],["for","description-name",1,"col-form-label","px-0","col-sm-3"],["rows","5","placeholder","Enter request description","id","description-name","name","description",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","button",1,"btn","btn-primary","ml-auto","mr-2",3,"disabled","click"],["type","button",1,"btn","btn-light",3,"click"],[1,"alert","alert-danger","py-1","px-2","m-0"],[4,"ngIf"]],template:function(e,t){if(1&e&&(d.Tb(0,"div",0),d.Tb(1,"h4",1),d.Ec(2),d.Sb(),d.Tb(3,"button",2),d.bc("click",(function(){return t.modalRef.hide()})),d.Tb(4,"span",3),d.Ec(5,"\xd7"),d.Sb(),d.Sb(),d.Sb(),d.Tb(6,"div",4),d.Tb(7,"form",null,5),d.Tb(9,"div",6),d.Tb(10,"label",7),d.Ec(11,"Request name"),d.Sb(),d.Tb(12,"div",8),d.Tb(13,"input",9,10),d.bc("ngModelChange",(function(e){return t.saveRequestLink.name=e})),d.Sb(),d.Cc(15,Ht,2,1,"div",11),d.Sb(),d.Sb(),d.Tb(16,"div",6),d.Tb(17,"label",12),d.Ec(18,"Folder"),d.Sb(),d.Tb(19,"div",8),d.Tb(20,"input",13,14),d.bc("ngModelChange",(function(e){return t.saveRequestLink.folder=e})),d.Sb(),d.Cc(22,Xt,2,1,"div",11),d.Sb(),d.Sb(),d.Tb(23,"div",6),d.Tb(24,"label",15),d.Ec(25,"Is Public"),d.Sb(),d.Tb(26,"div",16),d.Tb(27,"input",17),d.bc("ngModelChange",(function(e){return t.saveRequestLink.isPublic=e})),d.Sb(),d.Sb(),d.Sb(),d.Tb(28,"div",18),d.Tb(29,"label",19),d.Ec(30,"Description"),d.Sb(),d.Tb(31,"div",8),d.Tb(32,"textarea",20),d.bc("ngModelChange",(function(e){return t.saveRequestLink.description=e})),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(33,"div",21),d.Tb(34,"div",22),d.Tb(35,"button",23),d.bc("click",(function(){return t.saveRequest()})),d.Ec(36,"Save"),d.Sb(),d.Tb(37,"button",24),d.bc("click",(function(){return t.modalRef.hide()})),d.Ec(38,"Cancel"),d.Sb(),d.Sb(),d.Sb()),2&e){var n=d.sc(8),i=d.sc(14),r=d.sc(21);d.Bb(2),d.Fc(t.saveRequestLink.id?"Update request":"Save Request"),d.Bb(11),d.jc("ngModel",t.saveRequestLink.name),d.Bb(2),d.jc("ngIf",i.invalid&&(i.dirty||i.touched)),d.Bb(5),d.jc("ngModel",t.saveRequestLink.folder),d.Bb(2),d.jc("ngIf",r.invalid&&(r.dirty||r.touched)),d.Bb(5),d.jc("ngModel",t.saveRequestLink.isPublic),d.Bb(5),d.jc("ngModel",t.saveRequestLink.description),d.Bb(3),d.jc("disabled",!n.valid)}},directives:[r.t,r.j,r.k,r.b,r.q,r.i,r.l,i.m,r.a],styles:[""]}),e}(),Kt=n("M2rw"),Yt=n("jyck"),Wt=["bodyEditor"],Zt=["header"],en=["requestTabs"],tn=["script"];function nn(e,t){if(1&e){var n=d.Ub();d.Tb(0,"li",57),d.Tb(1,"a",58),d.bc("click",(function(){d.vc(n);var e=t.$implicit;return d.dc(3).selectMethod(e)})),d.Ec(2),d.Sb(),d.Sb()}if(2&e){var i=t.$implicit;d.Bb(2),d.Fc(i)}}function rn(e,t){if(1&e&&(d.Tb(0,"ul",55),d.Cc(1,nn,3,1,"li",56),d.Sb()),2&e){var n=d.dc(2);d.Bb(1),d.jc("ngForOf",n.methods)}}function on(e,t){}var sn=function(e,t){return{"fa-chevron-right":e,"fa-chevron-down":t}};function cn(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",32,33),d.Tb(2,"div",34),d.Tb(3,"a",35),d.bc("click",(function(){return d.vc(n),d.dc().toggleCard()})),d.Ob(4,"i",36),d.Sb(),d.Tb(5,"div",37),d.Tb(6,"div",38),d.Tb(7,"button",39),d.Ec(8),d.Ob(9,"span",40),d.Sb(),d.Cc(10,rn,2,1,"ul",41),d.Sb(),d.Sb(),d.Tb(11,"div",42),d.Tb(12,"input",43),d.bc("ngModelChange",(function(e){return d.vc(n),d.dc().requestModel.url=e}))("input",(function(){return d.vc(n),d.dc().onUrlInput()})),d.Sb(),d.Sb(),d.Tb(13,"div",44),d.Tb(14,"div",45),d.Tb(15,"button",46),d.bc("click",(function(){return d.vc(n),d.dc().sendRequest()})),d.Ob(16,"i",47),d.Ec(17,"\xa0Send"),d.Sb(),d.Tb(18,"button",48),d.bc("click",(function(){return d.vc(n),d.dc().onSave()})),d.Ob(19,"i",49),d.Sb(),d.Tb(20,"button",50),d.Ob(21,"i",51),d.Sb(),d.Tb(22,"a",52),d.bc("click",(function(){return d.vc(n),d.dc().toggleDirection()})),d.Ob(23,"i",53),d.Sb(),d.Cc(24,on,0,0,"ng-template",54),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){var i=d.dc(),r=d.sc(41);d.Bb(4),d.jc("ngClass",d.oc(5,sn,i.isCollapsed,!i.isCollapsed)),d.Bb(4),d.Gc(" ",i.requestModel.method," "),d.Bb(4),d.jc("ngModel",i.requestModel.url),d.Bb(11),d.jc("ngClass","vertical"===i.direction?"fa-arrows-h":"fa-arrows-v"),d.Bb(1),d.jc("ngTemplateOutlet",r)}}function an(e,t){if(1&e&&(d.Tb(0,"alert",59),d.Tb(1,"strong"),d.Ec(2,"Error:"),d.Sb(),d.Ec(3),d.Sb()),2&e){var n=d.dc();d.Bb(3),d.Gc(" ",n.error," ")}}var ln=function(e){return{active:e}};function un(e,t){if(1&e){var n=d.Ub();d.Tb(0,"button",63),d.bc("click",(function(){return d.vc(n),d.dc(2),d.sc(13).validateJSON()})),d.Ec(1," Validate "),d.Sb()}if(2&e){var i=d.dc(2);d.jc("ngClass",d.nc(1,ln,i.formatted))}}function dn(e,t){if(1&e){var n=d.Ub();d.Tb(0,"button",64),d.bc("click",(function(){return d.vc(n),d.dc(2).formatJSON()})),d.Ob(1,"i",65),d.Sb(),d.Tb(2,"button",66),d.bc("click",(function(){return d.vc(n),d.dc(2).formatJSON(!1)})),d.Ob(3,"i",67),d.Sb()}if(2&e){var i=d.dc(2);d.jc("ngClass",d.nc(2,ln,i.formatted)),d.Bb(2),d.jc("ngClass",d.nc(4,ln,!i.formatted))}}function bn(e,t){if(1&e&&(d.Tb(0,"div",60),d.Cc(1,un,2,3,"button",61),d.ec(2,"async"),d.Cc(3,dn,4,6,"ng-template",null,62,d.Dc),d.Sb()),2&e){var n=d.sc(4);d.dc();var i=d.sc(13);d.Bb(1),d.jc("ngIf",!d.fc(2,2,i.isJSON$))("ngIfElse",n)}}function pn(e,t){if(1&e){var n=d.Ub();d.Tb(0,"li",57),d.Tb(1,"a",72),d.bc("click",(function(){d.vc(n);var e=t.$implicit;return d.dc(3).onAuthTypeChange(e)})),d.Ec(2),d.Sb(),d.Sb()}if(2&e){var i=t.$implicit;d.Bb(2),d.Fc(i)}}function fn(e,t){if(1&e&&(d.Tb(0,"ul",71),d.Cc(1,pn,3,1,"li",56),d.Sb()),2&e){var n=d.dc(2);d.Bb(1),d.jc("ngForOf",n.authTypes)}}function hn(e,t){if(1&e&&(d.Tb(0,"div",68),d.Ec(1," Authentication "),d.Tb(2,"button",69),d.Ec(3),d.Ob(4,"span",40),d.Sb(),d.Cc(5,fn,2,1,"ul",70),d.Sb()),2&e){var n=d.dc();d.Bb(3),d.Gc(" ",n.requestModel.auth.type," ")}}function gn(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",73),d.Tb(1,"div",74),d.Tb(2,"label",75),d.Ec(3,"Username"),d.Sb(),d.Tb(4,"div",76),d.Tb(5,"input",77),d.bc("ngModelChange",(function(e){return d.vc(n),d.dc().requestModel.auth.username=e}))("input",(function(e){return d.vc(n),d.dc().updateAuthData(e,"username")})),d.Sb(),d.Sb(),d.Sb(),d.Tb(6,"div",78),d.Tb(7,"label",79),d.Ec(8,"Password"),d.Sb(),d.Tb(9,"div",76),d.Tb(10,"input",80),d.bc("ngModelChange",(function(e){return d.vc(n),d.dc().requestModel.auth.password=e}))("input",(function(e){return d.vc(n),d.dc().updateAuthData(e,"password")})),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){var i=d.dc();d.Bb(5),d.jc("ngModel",i.requestModel.auth.username),d.Bb(5),d.jc("ngModel",i.requestModel.auth.password)}}function vn(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",78),d.Tb(1,"label",81),d.Ec(2,"Bearer Token"),d.Sb(),d.Tb(3,"div",76),d.Tb(4,"input",82),d.bc("ngModelChange",(function(e){return d.vc(n),d.dc().requestModel.auth.token=e}))("input",(function(e){return d.vc(n),d.dc().updateAuthData(e)})),d.Sb(),d.Sb(),d.Sb()}if(2&e){var i=d.dc();d.Bb(4),d.jc("ngModel",i.requestModel.auth.token)}}function mn(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",83),d.Tb(1,"div"),d.Tb(2,"input",84),d.bc("ngModelChange",(function(e){return d.vc(n),t.$implicit.active=e}))("change",(function(){d.vc(n);var e=d.dc();return e.syncQueryParams(),e.updateModel()})),d.Sb(),d.Sb(),d.Tb(3,"div",85),d.Tb(4,"input",86),d.bc("ngModelChange",(function(e){return d.vc(n),t.$implicit.name=e}))("change",(function(){return d.vc(n),d.dc().updateModel()}))("input",(function(){return d.vc(n),d.dc().syncQueryParams()})),d.Sb(),d.Sb(),d.Tb(5,"div",87),d.Tb(6,"input",88),d.bc("ngModelChange",(function(e){return d.vc(n),t.$implicit.value=e}))("change",(function(){return d.vc(n),d.dc().updateModel()}))("input",(function(){return d.vc(n),d.dc().syncQueryParams()})),d.Sb(),d.Sb(),d.Tb(7,"button",89),d.bc("click",(function(){d.vc(n);var e=t.index;return d.dc().deleteQueryParam(e)})),d.Ob(8,"i",90),d.Sb(),d.Sb()}if(2&e){var i=t.$implicit,r=t.index;d.Bb(2),d.lc("name","active-param-",r,""),d.jc("ngModel",i.active),d.Bb(2),d.lc("name","name-param-",r,""),d.jc("ngModel",i.name),d.Bb(2),d.lc("name","value-param-",r,""),d.jc("ngModel",i.value)}}function Sn(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",83),d.Tb(1,"div"),d.Tb(2,"input",84),d.bc("ngModelChange",(function(e){return d.vc(n),t.$implicit.active=e}))("change",(function(){return d.vc(n),d.dc().updateModel()})),d.Sb(),d.Sb(),d.Tb(3,"div",87),d.Tb(4,"input",91),d.bc("ngModelChange",(function(e){return d.vc(n),t.$implicit.name=e}))("change",(function(){return d.vc(n),d.dc().updateModel()})),d.Sb(),d.Sb(),d.Tb(5,"div",87),d.Tb(6,"input",92),d.bc("ngModelChange",(function(e){return d.vc(n),t.$implicit.value=e}))("change",(function(){return d.vc(n),d.dc().updateModel()})),d.Sb(),d.Sb(),d.Tb(7,"button",89),d.bc("click",(function(){d.vc(n);var e=t.index;return d.dc().deleteHeader(e)})),d.Ob(8,"i",90),d.Sb(),d.Sb()}if(2&e){var i=t.$implicit,r=t.index;d.Bb(2),d.lc("name","active-header-",r,""),d.jc("ngModel",i.active),d.Bb(2),d.lc("name","name-header-",r,""),d.jc("ngModel",i.name),d.Bb(2),d.lc("name","value-header-",r,""),d.jc("ngModel",i.value)}}function yn(e,t){}function jn(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",93),d.Tb(1,"a",94),d.bc("click",(function(){return d.vc(n),d.dc().toggleCard()})),d.Ob(2,"i",36),d.Sb(),d.Tb(3,"button",95),d.bc("click",(function(){return d.vc(n),d.dc().sendRequest()})),d.Ob(4,"i",47),d.Sb(),d.Tb(5,"button",96),d.bc("click",(function(){return d.vc(n),d.dc().onSave()})),d.Ob(6,"i",49),d.Sb(),d.Tb(7,"a",97),d.bc("click",(function(){return d.vc(n),d.dc().toggleDirection()})),d.Ob(8,"i",53),d.Sb(),d.Cc(9,yn,0,0,"ng-template",98),d.Sb()}if(2&e){var i=d.dc(),r=d.sc(41);d.Bb(2),d.jc("ngClass",d.oc(3,sn,i.isCollapsed,!i.isCollapsed)),d.Bb(6),d.jc("ngClass","vertical"===i.direction?"fa-arrows-h":"fa-arrows-v"),d.Bb(1),d.jc("ngTemplateOutlet",r)}}function On(e,t){if(1&e){var n=d.Ub();d.Tb(0,"li",57),d.Tb(1,"a",58),d.bc("click",(function(){return d.vc(n),d.dc(3).onDeleteRequest()})),d.Ec(2,"Delete request"),d.Sb(),d.Sb()}}function wn(e,t){if(1&e){var n=d.Ub();d.Tb(0,"ul",103),d.Tb(1,"li",57),d.Tb(2,"div",104),d.Tb(3,"input",105),d.bc("click",(function(e){return d.vc(n),e.stopPropagation()}))("change",(function(e){return d.vc(n),d.dc(2).onRunOnloadToggle(e.target.checked)})),d.Sb(),d.Tb(4,"label",106),d.bc("click",(function(e){return d.vc(n),e.stopPropagation()})),d.Ec(5,"Run onload"),d.Sb(),d.Sb(),d.Sb(),d.Tb(6,"li",57),d.Tb(7,"a",58),d.bc("click",(function(){return d.vc(n),d.dc(2).onNewRequest()})),d.Ec(8,"New request"),d.Sb(),d.Sb(),d.Tb(9,"li",57),d.Tb(10,"a",58),d.bc("click",(function(){return d.vc(n),d.dc(2).onFileImport()})),d.Ec(11,"Import file"),d.Sb(),d.Sb(),d.Tb(12,"li",57),d.Tb(13,"a",58),d.bc("click",(function(){return d.vc(n),d.dc(2).onCurlImport()})),d.Ec(14,"Import cUrl"),d.Sb(),d.Sb(),d.Tb(15,"li",57),d.Tb(16,"a",58),d.bc("click",(function(){return d.vc(n),d.dc(2).onCurlExport()})),d.Ec(17,"Export cUrl"),d.Sb(),d.Sb(),d.Tb(18,"li",57),d.Tb(19,"a",58),d.bc("click",(function(){return d.vc(n),d.dc(2).onFileExport()})),d.Ec(20,"Export file"),d.Sb(),d.Sb(),d.Cc(21,On,3,0,"li",107),d.Sb()}if(2&e){var i=d.dc(2);d.Bb(3),d.jc("checked",i.uiSettings.runOnload),d.Bb(18),d.jc("ngIf",i.selectedSavedRequestLink&&i.selectedSavedRequestLink.ownerName===i.userName)}}function Cn(e,t){1&e&&(d.Tb(0,"span",99),d.Tb(1,"button",100),d.Ob(2,"i",101),d.Sb(),d.Cc(3,wn,22,2,"ul",102),d.Sb())}var Tn=function(e){return{"min-height":e}},qn=function(){function e(e,t,n,i,r,o){this.authService=e,this.store=t,this.fileManager=n,this.loginService=i,this.dialogService=r,this.requestsService=o,this.scriptResult=new d.p,this.minCardBodyHeight=90,this.newRequestLink={ownerName:null,name:null,folder:null,description:null,linkType:le.d.RestRequest,isPublic:!1},this.explorerUIModel={type:"grid-object-explorer",containerProperties:{},itemProperties:{dataSource:null,isReadOnly:!1,allowDelete:!0,allowAddNew:!0,host:"request-body-object-explorer",selectionMode:4}},this.isCollapsed=!0,this.direction="vertical",this.saveRequestLink=Object(b.a)({},this.newRequestLink),this.isAuthenticated=!1,this.formatted=!1,this.authTypes=Object.values(le.a),this.AuthTypes=le.a,this.userName=null,this.defaultScript=["def preRequest(request):","  request.cancelRequest = False\n","def successResponse(response):",'  showInObjectExplorer(response.body, "Content")','  showInJSON(response.headers, "Header")\n',"def errorResponse(response):",'  showInObjectExplorer(response.body, "Error")','  showInJSON(response.headers, "Header")'].join("\n"),this.methods=["GET","POST","PUT","DELETE","OPTIONS"],this.destroy$=new C.a}return e.prototype.ngOnInit=function(){var e=this;this.uiSettings$=this.store.pipe(Object(M.t)(_t)),this.request$=this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)(Lt),Object(Et.a)(this.uiSettings$)),this.authService.isAuthenticated$.subscribe((function(t){e.isAuthenticated=t,t?(e.userName=e.authService.user.userName,e.saveRequestLink.ownerName=e.userName,e.newRequestLink.ownerName=e.userName):(e.userName=null,e.saveRequestLink&&(e.saveRequestLink.ownerName=null))})),this.request$.subscribe((function(t){var n=t[0],i=t[1];e.uiSettings=i,e.direction=e.uiSettings.direction||"vertical",e.requestModel=n,e.bodyData=n.body,e.bodyEditor&&e.bodyEditor.setReadOnly("GET"===e.requestModel.method),e.syncUrl(),i.runOnload&&window.requestAnimationFrame((function(){e.sendRequest()}))})),this.isCollapsed$=this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)((function(e){return e.requestModel.requestContentModel.uiSettings.isRequestPanelCollapsed}))),this.isCollapsed$.subscribe((function(t){return e.isCollapsed=t})),this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)(zt)).subscribe((function(t){e.exportData=t})),this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)(Ut)).subscribe((function(t){e.script.setScript(t||e.defaultScript)})),this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)(Ke)).subscribe((function(t){e.selectedSavedRequestLink=t,e.saveRequestLink=t&&t.ownerName!==e.userName?Object(b.a)(Object(b.a)({},t),{ownerName:e.userName,id:0,isPublic:!1}):t||Object(b.a)({},e.newRequestLink)}))},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},Object.defineProperty(e.prototype,"isFormatActionActive",{get:function(){return this.requestTabs.tabs[0].active&&"GET"!==this.requestModel.method},enumerable:!1,configurable:!0}),e.prototype.onUrlInput=function(){this.syncUrl(),this.updateModel()},e.prototype.formatJSON=function(e){void 0===e&&(e=!0);try{this.requestTabs.tabs[0].active&&this.bodyEditor.formatJSON(e),this.formatted=e,this.error=null}catch(t){console.error(t),this.error=t,this.formatted=!1}},e.prototype.updateModel=function(){this.error=null,this.store.dispatch(I({requestModel:this.requestModel}))},e.prototype.onRunOnloadToggle=function(e){this.uiSettings.runOnload=e,this.store.dispatch(B({settings:Object(b.a)({},this.uiSettings)}))},e.prototype.updateAuthData=function(e,t){var n=e.target.value;switch(this.requestModel.auth.type){case le.a.Basic:this.requestModel.auth[t]=n;break;case le.a.Bearer:this.requestModel.auth.token=n}this.updateModel()},e.prototype.selectMethod=function(e){this.requestModel.method=e,this.updateModel(),this.bodyEditor.setReadOnly("GET"===e),this.bodyData="GET"===e?void 0:{}},e.prototype.sendRequest=function(){return Object(b.b)(this,void 0,void 0,(function(){var e,t,n;return Object(b.e)(this,(function(i){switch(i.label){case 0:return"GET"!==this.requestModel.method&&this.bodyEditor.dataModel&&(this.requestModel.body="string"==typeof(e=this.bodyEditor.dataModel)?e:JSON.stringify(e)),this.store.dispatch(F()),t=this.script.getScript(),this.store.dispatch(R({scripts:t})),this.store.dispatch(P({requestModel:this.requestModel})),this.script.restInterpreter&&this.script.restInterpreter.reset(),[4,this.requestsService.sendRequest(this.requestModel,t,this.script.restInterpreter)];case 1:return n=i.sent(),this.scriptResult.emit(this.script.context),this.store.dispatch($({response:n.response,status:n.status})),this.store.dispatch(N({responseStatus:n.status})),[2]}}))}))},e.prototype.toggleCard=function(){this.uiSettings.isRequestPanelCollapsed=!this.isCollapsed,this.store.dispatch(B({settings:Object(b.a)({},this.uiSettings)}))},e.prototype.addQueryParam=function(){this.requestModel.queryParameters.push({name:"",value:"",active:!0}),this.syncQueryParams(),this.updateModel()},e.prototype.deleteQueryParam=function(e){this.requestModel.queryParameters.splice(e,1),this.syncQueryParams(),this.updateModel()},e.prototype.addHeader=function(){this.requestModel.headers.push({name:"",value:"",active:!0}),this.updateModel()},e.prototype.deleteHeader=function(e){this.requestModel.headers.splice(e,1),this.updateModel()},e.prototype.onBodyTabSelect=function(){var e=this;window.requestAnimationFrame((function(){e.bodyEditor.setReadOnly("GET"===e.requestModel.method),e.bodyEditor.resize()}))},e.prototype.onAuthTypeChange=function(e){this.requestModel.auth.type=e,this.updateModel()},e.prototype.onNewRequest=function(){Ze(this.store)},e.prototype.onDeleteRequest=function(){if(!this.selectedSavedRequestLink)throw new Error("Saved request is not selected");this.store.dispatch(W(this.selectedSavedRequestLink.id))},e.prototype.onFileExport=function(){var e=Object(y.g)(this.exportData.requestContentModel.request.url);this.fileManager.exportToFile({requestContentModel:this.exportData.requestContentModel},{fileName:"rc-"+e})},e.prototype.onFileImport=function(){var e=this;this.fileManager.importFromFile$().subscribe((function(t){Ze(e.store,t.result.requestContentModel)}),(function(t){e.error=t.message,e.store.dispatch(B({settings:{isRequestPanelCollapsed:!1}}))}))},e.prototype.onCurlImport=function(){var e=this,t=this.dialogService.open(Vt.a);t.init.pipe(Object(ne.a)((function(){return t.component.import}))).subscribe((function(t){Ze(e.store,t)}))},e.prototype.onCurlExport=function(){var e=this,t=this.dialogService.open(Vt.a);t.init.pipe().subscribe((function(){t.component.isExport=!0,t.component.exportData=e.exportData.requestContentModel.request}))},e.prototype.onSave=function(){var e=this;if(this.isAuthenticated){var t=this.dialogService.open(Qt);t.config=this.saveRequestLink,t.init.pipe(Object(ne.a)((function(){return t.component.save}))).subscribe((function(n){e.store.dispatch(D(Object(b.a)(Object(b.a)(Object(b.a)({},e.exportData.requestContentModel),n),{scripts:e.script.getScript()}))),t.component.modalRef.hide()}))}else this.loginService.openDialog()},e.prototype.resize=function(){this.bodyEditor.resize(),this.script.resize()},e.prototype.toggleDirection=function(){this.direction="vertical"===this.direction?"horizontal":"vertical",this.uiSettings.direction=this.direction,this.store.dispatch(B({settings:Object(b.a)({},this.uiSettings)}))},e.prototype.syncQueryParams=function(){var e=this.requestModel.url.split("?")[0],t=this.requestModel.queryParameters.filter((function(e){return e.active&&e.name})).map((function(e){return e.name+"="+encodeURIComponent(e.value)})).join("&");this.requestModel.url=e+(t?"?"+t:"")},e.prototype.syncUrl=function(){var e=this;if(this.requestModel.url){var t=this.requestModel.url.split("?")[1];this.requestModel.queryParameters=[],t&&t.split("&").forEach((function(t){var n=t.split("="),i=n[1];e.requestModel.queryParameters.push({active:!0,name:n[0],value:i?decodeURIComponent(i):null})}))}},e.\u0275fac=function(t){return new(t||e)(d.Nb(et.a),d.Nb(M.h),d.Nb(ue.c),d.Nb(et.b),d.Nb(ue.b),d.Nb(oe.a))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-request"]],viewQuery:function(e,t){var n;1&e&&(d.Ac(Wt,!0),d.Jc(Zt,!0),d.Ac(en,!0),d.Ac(tn,!0)),2&e&&(d.rc(n=d.cc())&&(t.bodyEditor=n.first),d.rc(n=d.cc())&&(t.header=n.first),d.rc(n=d.cc())&&(t.requestTabs=n.first),d.rc(n=d.cc())&&(t.script=n.first))},outputs:{scriptResult:"scriptResult"},features:[d.Ab([ue.c])],decls:42,vars:18,consts:[[1,"card","overflow-hidden","mb-0","w-100"],["class","card-header d-flex pl-0 pb-0 pt-2 pr-2",4,"ngIf","ngIfElse"],[1,"card-body","p-0","flex-column",3,"ngStyle","ngClass"],["type","danger",4,"ngIf"],[1,"row","flex-fill","flex-column","p-2","h-100"],["form",""],[1,"col-12","d-flex","flex-column","h-100"],[1,"row","flex-fill","position-relative","h-100"],["class","tabs-actions position-absolute mr-3",4,"ngIf"],[1,"col-12","nav-tabs-boxed","tabset-fx","nav-tabs-boxed"],["requestTabs",""],["heading","Body",1,"h-100",3,"selectTab"],[1,"h-100",3,"isTextAvailable","data","uiModel","formatter"],["bodyEditor",""],["tabHeading",""],[3,"ngSwitch"],["class","row flex-column m-0 h-100",4,"ngSwitchCase"],["class","row m-0",4,"ngSwitchCase"],["heading","Query Params"],[1,"row","flex-fill","overflow-auto"],[1,"col-12"],["class","row my-1 mx-0 flex-nowrap",4,"ngFor","ngForOf"],[1,"row","mx-0"],["type","button",1,"btn","btn-sm","btn-light",3,"click"],[1,"fa","fa-plus","fa-xl"],["heading","Headers"],[1,"fa","fa-plus"],["heading","Script"],[1,"w-100","h-100",3,"defaultScript"],["script",""],["bar",""],["settingMenu",""],[1,"card-header","d-flex","pl-0","pb-0","pt-2","pr-2"],["header",""],[1,"row","w-100","ml-0","align-items-center"],[1,"p-2","mb-2",3,"click"],[1,"fa","text-center",3,"ngClass"],[1,"form-group","method-group","mb-2"],["dropdown","","container","body"],["dropdownToggle","","type","button",1,"btn","btn-light","dropdown-toggle","w-100","border"],[1,"caret"],["class","dropdown-menu","role","menu",4,"dropdownMenu"],[1,"form-group","flex-fill","p-0","pl-2","mb-2"],["type","text","id","url","placeholder","Enter request URL","name","url",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"form-group","mb-0","pl-2","actions-group","mb-2"],[1,"d-flex","flex-fill"],["title","Send request",1,"btn","flex-fill","btn-primary","mr-2",3,"click"],[1,"fa","fa-send"],["title","Save request",1,"btn","flex-fill","btn-primary","mr-2",3,"click"],[1,"fa","fa-save"],[1,"btn","flex-fill","btn-primary","disabled","mr-2"],[1,"fa","fa-share-alt"],["title","Switch to horizontal/vertical layout",1,"cursor-pointer","btn","btn-secondary","mr-2",3,"click"],[1,"fa",3,"ngClass"],[3,"ngTemplateOutlet"],["role","menu",1,"dropdown-menu"],["role","menuitem",4,"ngFor","ngForOf"],["role","menuitem"],[1,"dropdown-item",3,"click"],["type","danger"],[1,"tabs-actions","position-absolute","mr-3"],["type","button","class","btn btn-light btn-sm px-1 py-0","title","Validate JSON",3,"ngClass","click",4,"ngIf","ngIfElse"],["formatBtns",""],["type","button","title","Validate JSON",1,"btn","btn-light","btn-sm","px-1","py-0",3,"ngClass","click"],["type","button","title","Format JSON data, with proper indentation and line feeds (Ctrl+\\)",1,"btn","btn-light","btn-sm","px-1","py-0",3,"ngClass","click"],[1,"fa","fa-indent"],["type","button","title","Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",1,"btn","btn-light","btn-sm","ml-1","px-1","py-0",3,"ngClass","click"],[1,"fa","fa-align-justify"],["dropdown","","placement","bottom right",1,"btn-group","align-self-center","tab-button"],["id","auth-types-btn-group","dropdownToggle","","type","button","title","Select Authentication type","aria-controls","dropdown-menu-auth-types","tabindex","0","role","button",1,"btn","btn-primary","dropdown-toggle","btn-sm","m-0","py-0","px-1","ml-1"],["id","dropdown-menu-auth-types","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","auth-types-btn-group",4,"dropdownMenu"],["id","dropdown-menu-auth-types","role","menu","aria-labelledby","auth-types-btn-group",1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"row","flex-column","m-0","h-100"],[1,"row","m-0","mb-2"],["for","username",1,"col-form-label","pr-2"],[1,"flex-fill"],["id","bearer-token","name","username","type","text","placeholder","Username ...",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"row","m-0"],["for","password",1,"col-form-label","pr-2"],["id","password","name","password","type","password","placeholder","Password ...",1,"form-control",3,"ngModel","ngModelChange","input"],["for","bearer-selection",1,"col-form-label","pr-2"],["id","bearer-token","name","bearer-token","type","text","placeholder","Bearer ...",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"row","my-1","mx-0","flex-nowrap"],["type","checkbox",1,"mx-2","mt-0","h-100",3,"name","ngModel","ngModelChange","change"],[1,"col-4","col-sm-4","px-2"],["type","text","placeholder","name",1,"form-control",3,"ngModel","name","ngModelChange","change","input"],[1,"flex-fill","px-2"],["type","text","placeholder","value",1,"form-control",3,"name","ngModel","ngModelChange","change","input"],["type","button",1,"btn","btn-light",3,"click"],[1,"fa","fa-remove","fa-lg"],["type","text","placeholder","name",1,"form-control",3,"name","ngModel","ngModelChange","change"],["type","text","placeholder","value",1,"form-control",3,"name","ngModel","ngModelChange","change"],[1,"card-header","h-100","p-2","d-flex","flex-column","align-items-baseline","bar"],[1,"cursor-pointer","p-2","d-block","text-center",2,"width","37px",3,"click"],["title","Send request",1,"btn","btn-primary","px-0",3,"click"],["title","Save request",1,"btn","btn-primary","mt-2",3,"click"],["title","Switch to horizontal/vertical layout",1,"cursor-pointer","text-center","my-2","d-block","btn","btn-secondary",3,"click"],["class","mt-2",3,"ngTemplateOutlet"],["dropdown","","placement","bottom left","container","body",1,"position-relative"],["dropdownToggle","","type","button","title","Settings",1,"btn"],[1,"fa","fa-ellipsis-v"],["class","dropdown-menu left-bottom-menu","role","menu",4,"dropdownMenu"],["role","menu",1,"dropdown-menu","left-bottom-menu"],[1,"form-check","form-check-inline","w-100","dropdown-item","d-flex","pl-3"],["type","checkbox","id","run-onload",1,"form-check-input","mr-2",3,"checked","click","change"],["for","run-onload",1,"form-check-label",3,"click"],["role","menuitem",4,"ngIf"]],template:function(e,t){if(1&e&&(d.Tb(0,"div",0),d.Cc(1,cn,25,8,"div",1),d.Tb(2,"div",2),d.Cc(3,an,4,1,"alert",3),d.Tb(4,"form",4,5),d.Tb(6,"div",6),d.Tb(7,"div",7),d.Cc(8,bn,5,4,"div",8),d.Tb(9,"tabset",9,10),d.Tb(11,"tab",11),d.bc("selectTab",(function(){return t.onBodyTabSelect()})),d.Ob(12,"app-content-explorer",12,13),d.Sb(),d.Tb(14,"tab"),d.Cc(15,hn,6,1,"ng-template",14),d.Rb(16,15),d.Cc(17,gn,11,2,"div",16),d.Cc(18,vn,5,1,"div",17),d.Qb(),d.Sb(),d.Tb(19,"tab",18),d.Tb(20,"div",19),d.Tb(21,"div",20),d.Cc(22,mn,9,6,"div",21),d.Sb(),d.Sb(),d.Tb(23,"div",22),d.Tb(24,"button",23),d.bc("click",(function(){return t.addQueryParam()})),d.Ob(25,"i",24),d.Ec(26,"\xa0Add query parameter"),d.Sb(),d.Sb(),d.Sb(),d.Tb(27,"tab",25),d.Tb(28,"div",19),d.Tb(29,"div",20),d.Cc(30,Sn,9,6,"div",21),d.Sb(),d.Sb(),d.Tb(31,"div",22),d.Tb(32,"button",23),d.bc("click",(function(){return t.addHeader()})),d.Ob(33,"i",26),d.Ec(34,"\xa0Add header"),d.Sb(),d.Sb(),d.Sb(),d.Tb(35,"tab",27),d.Ob(36,"app-script",28,29),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Cc(38,jn,10,6,"ng-template",null,30,d.Dc),d.Cc(40,Cn,4,0,"ng-template",null,31,d.Dc)),2&e){var n=d.sc(39);d.Bb(1),d.jc("ngIf",!("horizontal"===t.direction&&t.isCollapsed))("ngIfElse",n),d.Bb(1),d.jc("ngStyle",d.nc(16,Tn,t.minCardBodyHeight+"px"))("ngClass","horizontal"===t.direction&&t.isCollapsed?"d-none":"d-flex"),d.Bb(1),d.jc("ngIf",t.error),d.Bb(5),d.jc("ngIf",t.isFormatActionActive),d.Bb(4),d.jc("isTextAvailable",!0)("data",t.bodyData)("uiModel",t.explorerUIModel)("formatter",!1),d.Bb(4),d.jc("ngSwitch",t.requestModel.auth.type),d.Bb(1),d.jc("ngSwitchCase",t.AuthTypes.Basic),d.Bb(1),d.jc("ngSwitchCase",t.AuthTypes.Bearer),d.Bb(4),d.jc("ngForOf",t.requestModel.queryParameters),d.Bb(8),d.jc("ngForOf",t.requestModel.headers),d.Bb(6),d.jc("defaultScript",t.defaultScript)}},directives:[i.m,i.n,i.k,r.t,r.j,r.k,o.d,o.a,Yt.a,o.b,i.o,i.p,i.l,Kt.a,c.a,c.d,c.b,r.b,r.i,r.l,i.r,s.a,r.a],pipes:[i.b],styles:[".card-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.card-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa-chevron-right[_ngcontent-%COMP%]{width:14px}.tab-button[_ngcontent-%COMP%]{height:19px}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}.dropdown-menu[_ngcontent-%COMP%]{min-width:auto}.method-group[_ngcontent-%COMP%]{flex:0 0 110px}@media (max-width:575.98px){.form-group[_ngcontent-%COMP%]{align-items:baseline;display:flex;justify-content:center}.method-group[_ngcontent-%COMP%]{flex:0 0 80px}.actions-group[_ngcontent-%COMP%]{margin-top:.5rem;width:100%}}.body-editor[_ngcontent-%COMP%]{min-height:28px}.bar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:36px}span[dropdown][_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{color:var(--color)}"]}),e}(),xn=n("ZZj6"),En=n("0yZh"),Mn=function(e,t){return{"badge-success":e,"badge-danger":t}};function kn(e,t){if(1&e&&(d.Rb(0),d.Tb(1,"span",11),d.Ec(2),d.Sb(),d.Tb(3,"span",12),d.Ec(4),d.Sb(),d.Qb()),2&e){var n=t.ngIf;d.Bb(1),d.jc("ngClass",d.oc(4,Mn,200===n.status,200!==n.status)),d.Bb(1),d.Hc(" ",n.status," ",n.statusText,""),d.Bb(2),d.Gc("",(n.time/1e3).toFixed(2)," s")}}function Rn(e,t){1&e&&(d.Tb(0,"div",13),d.Tb(1,"div",14),d.Tb(2,"span",15),d.Ec(3,"Loading..."),d.Sb(),d.Sb(),d.Sb())}function In(e,t){if(1&e&&(d.Tb(0,"alert",16),d.Tb(1,"strong"),d.Ec(2,"Response Error:"),d.Sb(),d.Ec(3),d.Sb()),2&e){var n=d.dc().ngIf;d.Bb(3),d.Gc(" ",n.error," ")}}function Bn(e,t){if(1&e&&(d.Rb(0),d.Cc(1,In,4,1,"alert",8),d.Qb()),2&e){var n=t.ngIf;d.Bb(1),d.jc("ngIf",n.error)}}function Pn(e,t){if(1&e&&(d.Tb(0,"p",18),d.Ec(1),d.Sb()),2&e){var n=t.$implicit;d.Bb(1),d.Fc(n)}}function Nn(e,t){if(1&e&&(d.Tb(0,"alert",16),d.Tb(1,"strong"),d.Ec(2,"Runtime Error:"),d.Sb(),d.Cc(3,Pn,2,1,"p",17),d.Sb()),2&e){var n=d.dc();d.Bb(3),d.jc("ngForOf",n.scriptContext.errors)}}function $n(e,t){if(1&e&&d.Ob(0,"app-show-in-presenter",19),2&e){var n=d.dc();d.jc("items",n.scriptContext.showInItems)}}var Fn=function(){function e(e){this.store=e}return e.prototype.ngOnInit=function(){var e=this;this.response$=this.store.pipe(Object(M.t)(Ft)),this.responseStatus$=this.store.pipe(Object(M.t)(At)),this.loading$=this.store.pipe(Object(M.t)(Dt)),this.response$.subscribe((function(t){e.responseModel=t,e.setContentValue(t)}))},e.prototype.resize=function(){this.tabs&&this.tabs.resize()},e.prototype.setContentValue=function(e){var t=he.a.resolveString("{{responseContent}}");t&&"{{responseContent}}"!==t?(this.responseType=e.contentType===le.b.JSON&&"object"==typeof t?"json":t.toLowerCase().startsWith("<!doctype html")?"html":"text",this.dataModel=t):(this.dataModel=null,this.responseType=null)},e.\u0275fac=function(t){return new(t||e)(d.Nb(M.h))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-response"]],viewQuery:function(e,t){var n;1&e&&d.Jc(xn.a,!0),2&e&&d.rc(n=d.cc())&&(t.tabs=n.first)},inputs:{scriptContext:"scriptContext"},decls:16,vars:12,consts:[[1,"card","flex-fill","overflow-hidden","mb-0"],[1,"card-header","p-2","d-flex","align-items-center"],["header",""],[4,"ngIf"],[1,"ml-auto",3,"assertions"],[1,"card-body","overflow-hidden","response-container","p-0","d-flex","flex-column"],["body",""],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner",4,"ngIf"],["type","danger",4,"ngIf"],[1,"p-2","h-100"],[3,"items",4,"ngIf"],[1,"badge","ml-2","p-1",3,"ngClass"],[1,"badge","badge-info","ml-2","p-1"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner"],["role","status",1,"spinner-border"],[1,"sr-only"],["type","danger"],["class","mb-0",4,"ngFor","ngForOf"],[1,"mb-0"],[3,"items"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Tb(1,"div",1,2),d.Ec(3," Response "),d.Cc(4,kn,5,7,"ng-container",3),d.ec(5,"async"),d.Ob(6,"app-assertion-logs",4),d.Sb(),d.Tb(7,"div",5,6),d.Cc(9,Rn,4,0,"div",7),d.ec(10,"async"),d.Cc(11,Bn,2,1,"ng-container",3),d.ec(12,"async"),d.Cc(13,Nn,4,1,"alert",8),d.Tb(14,"div",9),d.Cc(15,$n,1,1,"app-show-in-presenter",10),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.Bb(4),d.jc("ngIf",d.fc(5,6,t.responseStatus$)),d.Bb(2),d.jc("assertions",t.scriptContext&&t.scriptContext.asserts),d.Bb(3),d.jc("ngIf",d.fc(10,8,t.loading$)),d.Bb(2),d.jc("ngIf",d.fc(12,10,t.responseStatus$)),d.Bb(2),d.jc("ngIf",t.scriptContext&&t.scriptContext.errors.length),d.Bb(2),d.jc("ngIf",t.scriptContext))},directives:[i.m,En.a,i.k,s.a,i.l,xn.a],pipes:[i.b],styles:['[_ngcontent-%COMP%]:root{--bg:#fff;--body-bg:#e4e5e6;--header-bg:#ebedef;--color:#4f5d73;--border-color:#c4c9d0;--wj-alt:#f7f7f7;--form-input-bg:#fff;--form-input-color:#768192;--nav-link-color:#8a93a2;--secondary-color:#c4c9d0;--opacity:0.05;--hover:"#f0f3f5"}.response-json[_ngcontent-%COMP%], wj-flex-grid[_ngcontent-%COMP%]{border:1px solid #d8dbe0;height:100%;width:auto}.response-container[_ngcontent-%COMP%]{padding:8px}tabset[_ngcontent-%COMP%]     .nav-link.active>.bs-remove-tab{display:inline}.bs-remove-tab[_ngcontent-%COMP%]{display:none}.bs-remove-tab[_ngcontent-%COMP%]:hover{color:#636f83;cursor:pointer}.left-menu[_ngcontent-%COMP%]{left:auto!important;min-width:100px;right:0!important}.tabs-actions[_ngcontent-%COMP%]{z-index:7}.tabs-options[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:3px;vertical-align:middle}  .workflow-logs-container.popover{max-width:400px;width:400px}alert[_ngcontent-%COMP%]    >.alert{margin-bottom:0}']}),e}(),An=n("cdP3"),Dn=["requestCard"],zn=["responseCard"];function Ln(e,t){1&e&&(d.Tb(0,"div",11),d.Tb(1,"div",12),d.Tb(2,"span",13),d.Ec(3,"Loading..."),d.Sb(),d.Sb(),d.Sb())}var Un=function(e){return{collapsed:e}},_n=function(){function e(e,t){this.store=e,this.container=t,this.minCardBodyHeight=90,this.headerHeight=54,this.direction="vertical",this.requestHeight=0,this.requestMinHeight=254,this.isCollapsed=!1,this.defaultSizes={},this.defaultMinSizes={vertical:54,horizontal:254},this.destroy$=new C.a}return e.prototype.ngOnInit=function(){var e=this;this.uiSettings$=this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)((function(e){return e.requestModel.requestContentModel.uiSettings}))),this.uiSettings$.subscribe((function(t){e.uiSettings=t})),this.isCollapsed$=this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)((function(e){return e.requestModel.requestContentModel.uiSettings.isRequestPanelCollapsed}))),this.isCollapsed$.subscribe((function(t){e.isCollapsed=Boolean(t),e.setSize()})),this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)(Lt)).subscribe((function(t){e.scriptContext=null,e.currentRequest=t,e.setSize()})),this.resetDefaultSizes(),this.direction$=this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)((function(e){return e.requestModel.requestContentModel.uiSettings.direction}))),this.direction$.subscribe((function(t){e.direction=t||"vertical",e.uiSettings.direction=e.direction,e.setSize()})),this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)((function(e){return e.requestModel.requestContentModel.uiSettings.sizes}))).subscribe((function(t){t?e.defaultSizes[e.direction]=t[0]:e.resetDefaultSizes()})),this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)(Ft)).subscribe((function(){window.requestAnimationFrame((function(){e.uiSettings.isRequestPanelCollapsed||e.setSize()}))})),this.loading$=this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)(We))},e.prototype.onScriptChange=function(e){this.scriptContext=e},e.prototype.onResize=function(){this.requestCard.resize(),this.responseCard.resize()},e.prototype.onDragEnd=function(e){he.a.setSettingsVariable(this.getSettingsKey(),e.sizes),this.uiSettings.sizes=e.sizes,this.store.dispatch(B({settings:Object(b.a)({},this.uiSettings)})),this.onResize()},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.setSize=function(){if(this.isCollapsed)this.requestHeight=this.headerHeight;else if(this.currentRequest){var e=he.a.settingsVariables[this.getSettingsKey()];this.requestHeight=e?e[0]:this.defaultSizes[this.direction]}else this.requestHeight=this.defaultSizes[this.direction];this.requestMinHeight=this.defaultMinSizes[this.direction]},e.prototype.getSettingsKey=function(){var e=this.currentRequest;return"rest-request-"+e.method+"-"+e.url},e.prototype.resetDefaultSizes=function(){this.defaultSizes={horizontal:.4*this.container.nativeElement.offsetHeight,vertical:.5*this.container.nativeElement.offsetWidth}},e.\u0275fac=function(t){return new(t||e)(d.Nb(M.h),d.Nb(d.n))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-rest-content"]],viewQuery:function(e,t){var n;1&e&&(d.Jc(Dn,!0),d.Jc(zn,!0)),2&e&&(d.rc(n=d.cc())&&(t.requestCard=n.first),d.rc(n=d.cc())&&(t.responseCard=n.first))},decls:12,vars:14,consts:[["unit","pixel",3,"direction","useTransition","ngClass","disabled","gutterSize","dragEnd","transitionEnd"],["split","asSplit"],[1,"d-flex",3,"size","minSize"],["area1","asSplitArea"],[1,"d-flex","flex-fill","w-100",3,"scriptResult"],["requestCard",""],["size","*",1,"d-flex","mb-0",3,"minSize"],["area2","asSplitArea"],[1,"d-flex","flex-fill","w-100",3,"scriptContext"],["responseCard",""],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner",4,"ngIf"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(d.Tb(0,"as-split",0,1),d.bc("dragEnd",(function(e){return t.onDragEnd(e)}))("transitionEnd",(function(){return t.onResize()})),d.Tb(2,"as-split-area",2,3),d.Tb(4,"app-request",4,5),d.bc("scriptResult",(function(e){return t.onScriptChange(e)})),d.Sb(),d.Sb(),d.Tb(6,"as-split-area",6,7),d.Ob(8,"app-response",8,9),d.Sb(),d.Sb(),d.Cc(10,Ln,4,0,"div",10),d.ec(11,"async")),2&e&&(d.jc("direction",t.direction)("useTransition",!0)("ngClass",d.nc(12,Un,t.isCollapsed))("disabled","horizontal"===t.direction&&t.isCollapsed)("gutterSize",t.isCollapsed?0:11),d.Bb(2),d.jc("size",t.requestHeight)("minSize",t.requestMinHeight),d.Bb(4),d.jc("minSize",t.requestMinHeight),d.Bb(2),d.jc("scriptContext",t.scriptContext),d.Bb(2),d.jc("ngIf",d.fc(11,10,t.loading$)))},directives:[An.c,i.k,An.b,qn,Fn,i.m],pipes:[i.b],styles:["[_nghost-%COMP%] {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n\n    as-split.collapsed[_ngcontent-%COMP%]   as-split-area[_ngcontent-%COMP%]:not(:last-child) {\n      margin-bottom: .5rem;\n      margin-right: .5rem;\n    }"]}),e}(),Vn=n("iMDe"),Jn=["responseExplorer"],Hn=["header"],Gn=["script"],Xn=["showIn"];function Qn(e,t){}var Kn=function(e,t){return{"fa-chevron-right":e,"fa-chevron-down":t}};function Yn(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",21,22),d.Tb(2,"div",13),d.Tb(3,"a",23),d.bc("click",(function(){return d.vc(n),d.dc().toggleCard()})),d.Ob(4,"i",24),d.Sb(),d.Ec(5," JSPython Editor "),d.Tb(6,"button",25),d.bc("click",(function(){return d.vc(n),d.dc().run()})),d.Ob(7,"i",26),d.Ec(8,"\xa0Run"),d.Sb(),d.Tb(9,"button",27),d.bc("click",(function(){return d.vc(n),d.dc().save()})),d.Ob(10,"i",28),d.Sb(),d.Tb(11,"a",29),d.bc("click",(function(){return d.vc(n),d.dc().toggleDirection()})),d.Ob(12,"i",30),d.Sb(),d.Cc(13,Qn,0,0,"ng-template",31),d.Sb(),d.Sb()}if(2&e){var i=d.dc(),r=d.sc(26);d.Bb(4),d.jc("ngClass",d.oc(3,Kn,i.isCollapsed,!i.isCollapsed)),d.Bb(8),d.jc("ngClass","vertical"===i.direction?"fa-arrows-h":"fa-arrows-v"),d.Bb(1),d.jc("ngTemplateOutlet",r)}}function Wn(e,t){}function Zn(e,t){if(1&e){var n=d.Ub();d.Tb(0,"div",32),d.Tb(1,"a",33),d.bc("click",(function(){return d.vc(n),d.dc().toggleCard()})),d.Ob(2,"i",24),d.Sb(),d.Tb(3,"button",34),d.bc("click",(function(){return d.vc(n),d.dc().run()})),d.Ob(4,"i",35),d.Sb(),d.Tb(5,"button",36),d.bc("click",(function(){return d.vc(n),d.dc().save()})),d.Ob(6,"i",28),d.Sb(),d.Tb(7,"a",37),d.bc("click",(function(){return d.vc(n),d.dc().toggleDirection()})),d.Ob(8,"i",30),d.Sb(),d.Cc(9,Wn,0,0,"ng-template",38),d.Sb()}if(2&e){var i=d.dc(),r=d.sc(26);d.Bb(2),d.jc("ngClass",d.oc(3,Kn,i.isCollapsed,!i.isCollapsed)),d.Bb(6),d.jc("ngClass","vertical"===i.direction?"fa-arrows-h":"fa-arrows-v"),d.Bb(1),d.jc("ngTemplateOutlet",r)}}function ei(e,t){if(1&e&&(d.Tb(0,"span",39),d.Ec(1),d.Sb()),2&e){d.dc();var n=d.sc(8);d.Bb(1),d.Gc("",n.evaluationTime/1e3," s")}}function ti(e,t){1&e&&d.Ob(0,"app-assertion-logs",40),2&e&&d.jc("assertions",t.ngIf.asserts)}function ni(e,t){if(1&e&&(d.Tb(0,"p",46),d.Ec(1),d.Sb()),2&e){var n=t.$implicit;d.Bb(1),d.Fc(n)}}function ii(e,t){if(1&e&&(d.Tb(0,"alert",44),d.Tb(1,"strong"),d.Ec(2,"Runtime Error:"),d.Sb(),d.Cc(3,ni,2,1,"p",45),d.Sb()),2&e){var n=d.dc().ngIf;d.Bb(3),d.jc("ngForOf",n.errors)}}function ri(e,t){if(1&e&&(d.Rb(0),d.Cc(1,ii,4,1,"alert",41),d.Ob(2,"app-show-in-presenter",42,43),d.Qb()),2&e){var n=t.ngIf;d.Bb(1),d.jc("ngIf",n.errors&&n.errors.length),d.Bb(1),d.jc("items",n.showInItems)}}function oi(e,t){1&e&&(d.Tb(0,"div",47),d.Tb(1,"div",48),d.Tb(2,"span",49),d.Ec(3,"Loading..."),d.Sb(),d.Sb(),d.Sb())}function si(e,t){1&e&&(d.Tb(0,"div",50),d.Tb(1,"div",48),d.Tb(2,"span",49),d.Ec(3,"Loading..."),d.Sb(),d.Sb(),d.Sb())}function ci(e,t){if(1&e){var n=d.Ub();d.Tb(0,"li",56),d.Tb(1,"a",60),d.bc("click",(function(){return d.vc(n),d.dc(3).onDeleteRequest()})),d.Ec(2,"Delete request"),d.Sb(),d.Sb()}}function ai(e,t){if(1&e){var n=d.Ub();d.Tb(0,"ul",55),d.Tb(1,"li",56),d.Tb(2,"div",57),d.Tb(3,"input",58),d.bc("click",(function(e){return d.vc(n),e.stopPropagation()}))("change",(function(e){return d.vc(n),d.dc(2).onRunOnloadToggle(e.target.checked)})),d.Sb(),d.Tb(4,"label",59),d.bc("click",(function(e){return d.vc(n),e.stopPropagation()})),d.Ec(5,"Run onload"),d.Sb(),d.Sb(),d.Sb(),d.Tb(6,"li",56),d.Tb(7,"a",60),d.bc("click",(function(){return d.vc(n),d.dc(2).onNewJSPythonEditor()})),d.Ec(8,"New JSPython Editor"),d.Sb(),d.Sb(),d.Cc(9,ci,3,0,"li",61),d.Sb()}if(2&e){var i=d.dc(2);d.Bb(3),d.jc("checked",i.uiSettings.runOnload),d.Bb(6),d.jc("ngIf",i.selectedSavedRequestLink&&i.selectedSavedRequestLink.ownerName===i.userName)}}function li(e,t){1&e&&(d.Tb(0,"span",51),d.Tb(1,"button",52),d.Ob(2,"i",53),d.Sb(),d.Cc(3,ai,10,2,"ul",54),d.Sb())}var ui=function(e){return{"min-height":e}},di=["dataEditor"];function bi(e,t){if(1&e){var n=d.Ub();d.Tb(0,"li",15),d.Tb(1,"a",16),d.bc("click",(function(){return d.vc(n),d.dc(2).onDeleteRequest()})),d.Ec(2,"Delete"),d.Sb(),d.Sb()}}function pi(e,t){if(1&e){var n=d.Ub();d.Tb(0,"ul",14),d.Tb(1,"li",15),d.Tb(2,"a",16),d.bc("click",(function(){return d.vc(n),d.dc().onNewDataEditor()})),d.Ec(3,"New"),d.Sb(),d.Sb(),d.Cc(4,bi,3,0,"li",17),d.Sb()}if(2&e){var i=d.dc();d.Bb(4),d.jc("ngIf",i.selectedSavedRequestLink&&i.selectedSavedRequestLink.ownerName===i.userName)}}function fi(e,t){1&e&&(d.Tb(0,"div",18),d.Tb(1,"div",19),d.Tb(2,"span",20),d.Ec(3,"Loading..."),d.Sb(),d.Sb(),d.Sb())}var hi=[{path:"",component:xt,children:[{path:"",component:_n,children:[{path:":ownerName/:requestName",canActivate:[w.a]},{path:"github-examples/:ownerName/:requestName"}]},{path:"jspython-editor",component:function(){function e(e,t,n,i,r,o){this.store=e,this.dialogService=t,this.authService=n,this.loginService=i,this.router=r,this.container=o,this.minCardBodyHeight=90,this.headerHeight=54,this.isCollapsed=!1,this.direction="vertical",this.defaultScript=["# script 1"].join("\n"),this.scriptSize=70,this.userName=null,this.runningScript$=new C.a,this.destroy$=new C.a,this.defaultSizes={},this.responseUIModel={type:"grid-object-explorer",containerProperties:{},itemProperties:{dataSource:null,isReadOnly:!1,allowDelete:!0,allowAddNew:!0,host:"response-body-object-explorer",selectionMode:4}},this.newRequestLink={ownerName:null,name:null,folder:null,description:null,linkType:le.d.JSPythonEditor,id:0,isPublic:!1}}return e.prototype.ngOnInit=function(){var e=this;this.response$=this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)(Ft)),this.loading$=this.store.select(We).pipe(Object(q.a)(this.destroy$)),this.resetDefaultSizes();var t=he.a.settingsVariables[this.getSettingsKey()];this.scriptSize=t?t[0]:this.defaultSizes[this.direction],this.response$.subscribe((function(t){e.responseData=t.body,e.setSize()})),this.isCollapsed$=this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)((function(e){return e.requestModel.requestContentModel.uiSettings.isRequestPanelCollapsed}))),this.isCollapsed$.subscribe((function(t){e.isCollapsed=Boolean(t),e.setSize()})),this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)((function(e){return e.requestModel.requestContentModel.uiSettings.sizes}))).subscribe((function(t){t?e.defaultSizes[e.direction]=t[0]:e.resetDefaultSizes()})),this.direction$=this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)((function(e){return e.requestModel.requestContentModel.uiSettings.direction}))),this.direction$.subscribe((function(t){e.direction=t||"vertical",e.setSize()})),this.uiSettings$=this.store.select(_t),this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)(Ut),Object(Et.a)(this.uiSettings$)).subscribe((function(t){var n=t[0],i=t[1];e.uiSettings=i,e.script.setScript(n||e.defaultScript),i.runOnload&&e.run()})),this.authService.isAuthenticated$.subscribe((function(t){e.isAuthenticated=t,t?(e.userName=e.authService.user.userName,e.newRequestLink.ownerName=e.userName,e.saveRequestLink&&e.saveRequestLink.ownerName!==e.userName&&(e.saveRequestLink.ownerName=e.userName)):(e.userName=null,e.saveRequestLink&&(e.saveRequestLink.ownerName=null))})),this.store.pipe(Object(q.a)(this.destroy$),Object(M.t)(Ke)).subscribe((function(t){e.selectedSavedRequestLink=t,e.saveRequestLink=t&&(t.ownerName!==e.userName||t.source)?Object(b.a)(Object(b.a)({},t),{ownerName:e.userName,id:0,isPublic:!1,source:void 0}):t||Object(b.a)({},e.newRequestLink)}))},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.onRunOnloadToggle=function(e){this.uiSettings.runOnload=e,this.store.dispatch(B({settings:Object(b.a)({},this.uiSettings)}))},e.prototype.run=function(){return Object(b.b)(this,void 0,void 0,(function(){var e;return Object(b.e)(this,(function(t){switch(t.label){case 0:return this.runningScript$.next(!0),[4,this.script.evaluate()];case 1:return void 0!==(e=t.sent())&&(this.script.context.showInItems=Object(b.g)(this.script.context.showInItems,[{type:Vn.c.ObjectExplorer,title:"Return Value",data:e}])),this.runningScript$.next(!1),bt.saveRequestConfig({scripts:this.script.getScript(),responseInfo:{date:Object(ye.dateToString)(new Date),time:this.script.evaluationTime,status:null,statusText:null}}),[2]}}))}))},e.prototype.save=function(){var e=this;if(this.isAuthenticated){var t=this.dialogService.open(Qt);t.config=this.saveRequestLink,t.init.pipe(Object(ne.a)((function(){return t.component.save}))).subscribe((function(n){e.store.dispatch(D(Object(b.a)(Object(b.a)({},n),{scripts:e.script.getScript(),uiSettings:e.uiSettings}))),t.component.modalRef.hide()}))}else this.loginService.openDialog()},e.prototype.onDeleteRequest=function(){if(!this.selectedSavedRequestLink)throw new Error("Saved request is not selected");this.store.dispatch(W(this.selectedSavedRequestLink.id))},e.prototype.onNewJSPythonEditor=function(){Ze(this.store),this.router.navigate(["/rest-client","jspython-editor"])},e.prototype.onResize=function(e){this.script.resize(),this.responseExplorer&&this.responseExplorer.resize(),this.showIn&&this.showIn.resize();var t=this.getSettingsKey();e&&t&&e.sizes&&(he.a.setSettingsVariable(this.getSettingsKey(),e.sizes),this.uiSettings.sizes=e.sizes)},e.prototype.getSettingsKey=function(){if(this.selectedSavedRequestLink){var e=this.selectedSavedRequestLink;return"jspython-editor-"+e.ownerName+"-"+e.name}var t=Object(se.b)(this.script.getScript()||this.defaultScript);if(t)return"jspython-editor-"+t},e.prototype.setSize=function(){var e=this.minCardBodyHeight+this.headerHeight;if(this.isCollapsed)this.scriptSize=this.headerHeight;else{var t=he.a.settingsVariables[this.getSettingsKey()];this.scriptSize=t?t[0]:this.defaultSizes[this.direction]}this.scriptMinHeight=e},e.prototype.toggleCard=function(){this.uiSettings.isRequestPanelCollapsed=!this.isCollapsed,this.store.dispatch(B({settings:Object(b.a)({},this.uiSettings)}))},e.prototype.toggleDirection=function(){this.direction="vertical"===this.direction?"horizontal":"vertical",this.uiSettings.direction=this.direction,this.store.dispatch(B({settings:Object(b.a)({},this.uiSettings)}))},e.prototype.resetDefaultSizes=function(){this.defaultSizes={horizontal:.6*this.container.nativeElement.offsetHeight,vertical:.5*this.container.nativeElement.offsetWidth}},e.\u0275fac=function(t){return new(t||e)(d.Nb(M.h),d.Nb(ue.b),d.Nb(et.a),d.Nb(et.b),d.Nb(O.f),d.Nb(d.n))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-jspython-editor"]],viewQuery:function(e,t){var n;1&e&&(d.Jc(Jn,!0),d.Jc(Hn,!0),d.Ac(Gn,!0),d.Jc(Xn,!0)),2&e&&(d.rc(n=d.cc())&&(t.responseExplorer=n.first),d.rc(n=d.cc())&&(t.header=n.first),d.rc(n=d.cc())&&(t.script=n.first),d.rc(n=d.cc())&&(t.showIn=n.first))},decls:27,vars:21,consts:[["unit","pixel",1,"h-100",3,"direction","useTransition","disabled","transitionEnd","dragEnd"],["split","asSplit"],[1,"d-flex",3,"size","minSize"],["area1","asSplitArea"],[1,"card","overflow-hidden","mb-0","w-100"],["class","card-header d-flex p-2",4,"ngIf","ngIfElse"],[1,"card-body","p-0","flex-column",3,"ngStyle","ngClass"],[1,"w-100","h-100",3,"defaultScript"],["script",""],["bar",""],["size","*",1,"d-flex","mb-0"],["area2","asSplitArea"],[1,"card-header","d-flex","py-2","px-2"],[1,"row","w-100","ml-0","align-items-center"],["class","badge badge-info ml-2 p-1",4,"ngIf"],["class","ml-auto",3,"assertions",4,"ngIf"],[1,"card-body","overflow-hidden","d-flex","p-2","flex-column","h-100"],[4,"ngIf"],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner",4,"ngIf"],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],["settingMenu",""],[1,"card-header","d-flex","p-2"],["header",""],[1,"cursor-pointer","p-2",3,"click"],[1,"fa","text-center",3,"ngClass"],["title","Execute script",1,"btn","btn-primary","ml-auto","mr-2",3,"click"],[1,"fa","fa-play"],["title","Save script",1,"btn","btn-primary","mr-2",3,"click"],[1,"fa","fa-save"],["title","Switch to horizontal/vertical layout",1,"cursor-pointer","btn","btn-secondary","mr-2",3,"click"],[1,"fa",3,"ngClass"],[3,"ngTemplateOutlet"],[1,"card-header","h-100","p-2","d-flex","flex-column","align-items-baseline","bar"],[1,"cursor-pointer","p-2","d-block","text-center",2,"width","37px",3,"click"],[1,"btn","btn-primary",3,"click"],["title","Execute script",1,"fa","fa-play"],["title","Save script",1,"btn","btn-primary","mt-2",3,"click"],["title","Switch to horizontal/vertical layout",1,"cursor-pointer","text-center","my-2","d-block","btn","btn-secondary",3,"click"],["class","mt-2",3,"ngTemplateOutlet"],[1,"badge","badge-info","ml-2","p-1"],[1,"ml-auto",3,"assertions"],["type","danger",4,"ngIf"],[1,"h-100",3,"items"],["showIn",""],["type","danger"],["class","mb-0",4,"ngFor","ngForOf"],[1,"mb-0"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["dropdown","","placement","bottom left","container","body",1,"position-relative"],["dropdownToggle","","type","button","title","Settings",1,"btn"],[1,"fa","fa-ellipsis-v"],["class","dropdown-menu left-bottom-menu","role","menu",4,"dropdownMenu"],["role","menu",1,"dropdown-menu","left-bottom-menu"],["role","menuitem"],[1,"form-check","form-check-inline","w-100","dropdown-item","d-flex"],["type","checkbox","id","run-onload",1,"form-check-input","mr-2",3,"checked","click","change"],["for","run-onload",1,"form-check-label",3,"click"],[1,"dropdown-item","cursor-pointer",3,"click"],["role","menuitem",4,"ngIf"]],template:function(e,t){if(1&e&&(d.Tb(0,"as-split",0,1),d.bc("transitionEnd",(function(){return t.onResize()}))("dragEnd",(function(e){return t.onResize(e)})),d.Tb(2,"as-split-area",2,3),d.Tb(4,"div",4),d.Cc(5,Yn,14,6,"div",5),d.Tb(6,"div",6),d.Ob(7,"app-script",7,8),d.Sb(),d.Sb(),d.Cc(9,Zn,10,6,"ng-template",null,9,d.Dc),d.Sb(),d.Tb(11,"as-split-area",10,11),d.Tb(13,"div",4),d.Tb(14,"div",12),d.Tb(15,"div",13),d.Ec(16," Response "),d.Cc(17,ei,2,1,"span",14),d.Cc(18,ti,1,1,"app-assertion-logs",15),d.Sb(),d.Sb(),d.Tb(19,"div",16),d.Cc(20,ri,4,2,"ng-container",17),d.Sb(),d.Cc(21,oi,4,0,"div",18),d.ec(22,"async"),d.Sb(),d.Sb(),d.Cc(23,si,4,0,"div",19),d.ec(24,"async"),d.Sb(),d.Cc(25,li,4,0,"ng-template",null,20,d.Dc)),2&e){var n=d.sc(8),i=d.sc(10);d.jc("direction",t.direction)("useTransition",!0)("disabled","horizontal"===t.direction&&t.isCollapsed),d.Bb(2),d.jc("size",t.scriptSize)("minSize",t.scriptMinHeight),d.Bb(3),d.jc("ngIf",!("horizontal"===t.direction&&t.isCollapsed))("ngIfElse",i),d.Bb(1),d.jc("ngStyle",d.nc(19,ui,t.minCardBodyHeight+"px"))("ngClass","horizontal"===t.direction&&t.isCollapsed?"d-none":"d-flex"),d.Bb(1),d.jc("defaultScript",t.defaultScript),d.Bb(10),d.jc("ngIf",n.evaluationTime),d.Bb(1),d.jc("ngIf",n.context),d.Bb(2),d.jc("ngIf",n.context),d.Bb(1),d.jc("ngIf",d.fc(22,15,t.runningScript$)),d.Bb(2),d.jc("ngIf",d.fc(24,17,t.loading$))}},directives:[An.c,An.b,i.m,i.n,i.k,Kt.a,i.r,En.a,xn.a,s.a,i.l,c.a,c.d,c.b],pipes:[i.b],styles:[".workflow-logs-container.popover{max-width:400px;width:400px}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.bar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:36px}"]}),e}(),children:[{path:":ownerName/:requestName",canActivate:[w.a]},{path:"github-examples/:ownerName/:requestName"}]},{path:"data-editor",component:function(){function e(e,t,n,i,r){this.store=e,this.dialogService=t,this.loginService=n,this.authService=i,this.router=r,this.isAuthenticated=!1,this.destroy$=new C.a,this.userName=null,this.newRequestLink={ownerName:null,name:null,folder:null,description:null,linkType:le.d.DataEditor,id:0,isPublic:!1}}return e.prototype.ngOnInit=function(){var e=this;this.store.dispatch(I(null)),this.authService.isAuthenticated$.subscribe((function(t){e.isAuthenticated=t,t?(e.userName=e.authService.user.userName,e.newRequestLink.ownerName=e.userName,e.saveRequestLink&&0===e.saveRequestLink.id&&(e.saveRequestLink.ownerName=e.userName)):(e.userName=null,e.saveRequestLink&&(e.saveRequestLink.ownerName=null))})),this.store.select(Ke).pipe(Object(q.a)(this.destroy$)).subscribe((function(t){e.data=void 0,e.selectedSavedRequestLink=t,e.saveRequestLink=t&&t.ownerName!==e.userName?Object(b.a)(Object(b.a)({},t),{ownerName:e.userName,id:0,isPublic:!1}):t||Object(b.a)({},e.newRequestLink)})),this.store.select(Lt).pipe(Object(q.a)(this.destroy$)).subscribe((function(t){e.saveRequestLink.linkType===le.d.DataEditor&&(e.data=t)})),this.loading$=this.store.select(We)},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e.prototype.saveJson=function(){var e=this;if(this.isAuthenticated){var t=this.dialogService.open(Qt);t.config=this.saveRequestLink,t.init.pipe(Object(ne.a)((function(){return t.component.save}))).subscribe((function(n){e.store.dispatch(D(Object(b.a)(Object(b.a)({},n),{request:e.dataEditor.dataModel}))),t.component.modalRef.hide()}))}else this.loginService.openDialog()},e.prototype.onDeleteRequest=function(){if(!this.selectedSavedRequestLink)throw new Error("Saved request is not selected");this.store.dispatch(W(this.selectedSavedRequestLink.id))},e.prototype.onNewDataEditor=function(){this.store.dispatch(I(null)),this.router.navigate(["/rest-client","data-editor"])},e.\u0275fac=function(t){return new(t||e)(d.Nb(M.h),d.Nb(ue.b),d.Nb(et.b),d.Nb(et.a),d.Nb(O.f))},e.\u0275cmp=d.Hb({type:e,selectors:[["app-data-editor"]],viewQuery:function(e,t){var n;1&e&&d.Ac(di,!0),2&e&&d.rc(n=d.cc())&&(t.dataEditor=n.first)},decls:17,vars:5,consts:[[1,"card","overflow-hidden","mb-0","w-100","h-100"],[1,"card-header","d-flex","pl-0","py-2","px-2"],["header",""],[1,"row","w-100","ml-0","align-items-center"],["title","Save data",1,"btn","btn-primary","mr-2","ml-auto",3,"click"],[1,"fa","fa-save"],["dropdown","","placement","bottom left","container","body",1,"position-relative","px-2"],["dropdownToggle","","type","button","title","Settings",1,"btn"],[1,"fa","fa-ellipsis-v"],["class","dropdown-menu left-bottom-menu","role","menu",4,"dropdownMenu"],[1,"card-body","d-flex","p-0","flex-column"],["content","",1,"h-100",3,"data","formatter"],["dataEditor",""],["class","d-flex justify-content-center position-absolute align-items-center w-100 h-100 spinner flex-column",4,"ngIf"],["role","menu",1,"dropdown-menu","left-bottom-menu"],["role","menuitem"],[1,"dropdown-item","cursor-pointer",3,"click"],["role","menuitem",4,"ngIf"],[1,"d-flex","justify-content-center","position-absolute","align-items-center","w-100","h-100","spinner","flex-column"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Tb(1,"div",1,2),d.Tb(3,"div",3),d.Ec(4," Data Editor "),d.Tb(5,"button",4),d.bc("click",(function(){return t.saveJson()})),d.Ob(6,"i",5),d.Ec(7,"\xa0Save"),d.Sb(),d.Tb(8,"span",6),d.Tb(9,"button",7),d.Ob(10,"i",8),d.Sb(),d.Cc(11,pi,5,1,"ul",9),d.Sb(),d.Sb(),d.Sb(),d.Tb(12,"div",10),d.Ob(13,"app-content-explorer",11,12),d.Sb(),d.Cc(15,fi,4,0,"div",13),d.ec(16,"async"),d.Sb()),2&e&&(d.Bb(13),d.jc("data",t.data)("formatter",!0),d.Bb(2),d.jc("ngIf",d.fc(16,3,t.loading$)))},directives:[c.a,c.d,c.b,Yt.a,i.m],pipes:[i.b],styles:[""]}),e}(),children:[{path:":ownerName/:requestName",canActivate:[w.a]},{path:"github-examples/:ownerName/:requestName"}]}]}],gi=function(){function e(){}return e.\u0275mod=d.Lb({type:e}),e.\u0275inj=d.Kb({factory:function(t){return new(t||e)},imports:[[O.i.forChild(hi)],O.i]}),e}(),vi=n("snw9"),mi=n("TwVa"),Si=n("9nlD"),yi=function(){function e(e,t,n,i){var r=this;this.actions$=e,this.requestsService=t,this.router=n,this.notificationService=i,this.loadRequests$=Object(vi.d)((function(){return r.actions$.pipe(Object(vi.e)(V),Object(ne.a)((function(){return r.requestsService.getSavedRequests$()})),Object(ie.a)((function(e){return J({requests:e})})),Object(E.a)((function(e){return Object(T.a)(H({error:e.error||"Failed to load saved requests."}))})))})),this.loadPublicRequests$=Object(vi.d)((function(){return r.actions$.pipe(Object(vi.e)(z),Object(ne.a)((function(){return r.requestsService.getPublicRequests$()})),Object(ie.a)((function(e){return L({requests:e})})),Object(E.a)((function(e){return Object(T.a)({type:"Failed to load public requests"})})))})),this.saveRequest=Object(vi.d)((function(){return r.actions$.pipe(Object(vi.e)(D.type),Object(ne.a)((function(e){return r.requestsService.saveRequest$(e).pipe(Object(ne.a)((function(t){var n=e;switch(n.linkType){case le.d.RestRequest:r.router.navigate(["/rest-client",n.ownerName,n.name]);break;case le.d.JSPythonEditor:r.router.navigate(["/rest-client/jspython-editor",n.ownerName,n.name]);break;case le.d.DataEditor:r.router.navigate(["/rest-client/data-editor",n.ownerName,n.name])}return[U({request:Object(b.a)({id:t},n)}),te({message:"Request saved successfully"})]})),Object(E.a)((function(t){return Object(T.a)(ee({message:Object(y.h)(t,"Failed to save request "+e.name)}))})))})),Object(E.a)((function(e){return Object(T.a)(_({error:e.error}))})))})),this.loadRequest$=Object(vi.d)((function(){return r.actions$.pipe(Object(vi.e)(G),Object(ne.a)((function(e){var t=e.ownerRequest,n=t.ownerName,i=t.requestName;return n&&i?r.requestsService.getSavedRequest$(t).pipe(Object(ne.a)((function(e){if(!e){var t="Request "+i+" of owner "+n+" not available";return[ee({message:t}),Y(),K({message:t})]}return[B({settings:e.uiSettings}),R({scripts:e.scripts}),Q({requestInfo:e}),I({requestModel:e.request}),F()]})),Object(E.a)((function(e){var t=e.error||"Failed to load "+i+" of owner "+n;return Object(T.a)(K({message:t}),ee({message:t}))}))):[Y()]})))})),this.loadPublicRequest$=Object(vi.d)((function(){return r.actions$.pipe(Object(vi.e)(X),Object(ne.a)((function(e){var t=e.ownerRequest,n=t.ownerName,i=t.requestName;return n&&i?r.requestsService.getPublicRequest$(t).pipe(Object(ne.a)((function(e){if(!e){var t="Public request "+n+" of owner "+i+" not found in examples repo:";return[ee({message:t}),Y(),K({message:t})]}return e.source="github-examples",(e.scripts?r.requestsService.getPublicFile$(e.scripts):Object(T.a)(null)).pipe(Object(ne.a)((function(t){return[B({settings:e.uiSettings}),R({scripts:t}),Q({requestInfo:e}),I({requestModel:e.request}),F()]})))})),Object(E.a)((function(e){var t=e.error||"Failed to load "+i+" of owner "+n+" in examples repo";return Object(T.a)(K({message:t}),ee({message:t}))}))):[Y()]})))})),this.deleteRequest$=Object(vi.d)((function(){return r.actions$.pipe(Object(vi.e)(W),Object(ne.a)((function(e){var t=e.id;return r.requestsService.deleteRequest$(t).pipe(Object(ne.a)((function(){return[Z(t),Y(),te({message:"Request deleted"})]})),Object(E.a)((function(e){return Object(T.a)(ee({message:e.error||"Failed to delete request id: "+t+"."}))})))})))})),this.appError=this.actions$.pipe(Object(vi.e)(ee),Object(ie.a)((function(e){return r.notificationService.open({type:mi.NotificationType.DANGER,message:e.message}),{type:"[Rest client] error shown"}}))),this.appInfo=this.actions$.pipe(Object(vi.e)(te),Object(ie.a)((function(e){return r.notificationService.open({type:mi.NotificationType.SUCCESS,message:e.message}),{type:"[Rest client] info shown"}}))),this.deselectRequest=this.actions$.pipe(Object(vi.e)(Y),Object(ie.a)((function(e){var t=e.url;return t?r.router.navigateByUrl(t):r.router.url.includes("/rest-client/jspython-editor")?r.router.navigate(["/rest-client/jspython-editor"]):r.router.url.includes("/rest-client/data-editor")?r.router.navigate(["/rest-client/data-editor"]):r.router.navigate(["/rest-client"]),{type:"[Saved requests] deselected"}})))}return e.\u0275fac=function(t){return new(t||e)(d.Xb(vi.a),d.Xb(oe.a),d.Xb(O.f),d.Xb(Si.a))},e.\u0275prov=d.Jb({token:e,factory:e.\u0275fac}),Object(b.c)([Object(vi.b)(),Object(b.f)("design:type",Object)],e.prototype,"appError",void 0),Object(b.c)([Object(vi.b)(),Object(b.f)("design:type",Object)],e.prototype,"appInfo",void 0),Object(b.c)([Object(vi.b)(),Object(b.f)("design:type",Object)],e.prototype,"deselectRequest",void 0),e}(),ji=n("B3rN"),Oi=n("Bkkg"),wi=function(){function e(){Object(Oi.a)()}return e.\u0275mod=d.Lb({type:e}),e.\u0275inj=d.Kb({factory:function(t){return new(t||e)},providers:[oe.a,Se,ue.b,de],imports:[[i.c,gi,r.d,o.c.forRoot(),s.b.forRoot(),c.c.forRoot(),a.b.forRoot(),h.forRoot(),g.c.forRoot(),v.b.forRoot(),y.c,j.a,m.g,S.a,M.j.forRoot(Nt,{metaReducers:$t,runtimeChecks:{strictStateImmutability:!1,strictActionImmutability:!1}}),vi.c.forRoot([yi]),ji.a.instrument({maxAge:25,logOnly:ge.a.production})]]}),e}()},"0yZh":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("fXoL"),r=n("ofXK"),o=n("EDFS"),s=function(e,t){return{"badge-success":e,"badge-danger":t}};function c(e,t){if(1&e&&(i.Tb(0,"li",4),i.Tb(1,"div",5),i.Tb(2,"span",6),i.Ec(3),i.Sb(),i.Sb(),i.Tb(4,"div",7),i.Ec(5),i.Sb(),i.Tb(6,"div",8),i.Ec(7),i.Sb(),i.Sb()),2&e){var n=t.$implicit;i.Bb(2),i.jc("ngClass",i.oc(4,s,n.condition,!n.condition)),i.Bb(1),i.Gc(" ",n.condition?"Success":"Failed",""),i.Bb(2),i.Fc(n.name),i.Bb(2),i.Fc(n.description)}}function a(e,t){if(1&e&&(i.Tb(0,"ul",2),i.Cc(1,c,8,7,"li",3),i.Sb()),2&e){var n=i.dc();i.Bb(1),i.jc("ngForOf",n.assertions)}}function l(e,t){if(1&e&&(i.Tb(0,"span",9),i.Ec(1),i.Sb()),2&e){var n=i.dc(),r=i.sc(1);i.jc("ngClass",i.oc(5,s,n.success,!n.success))("adaptivePosition",!1)("popover",r)("outsideClick",!0),i.Bb(1),i.Gc(" ",n.stepsCount,"\n")}}var u=function(){function e(){}return e.prototype.ngOnInit=function(){this.setState()},e.prototype.ngOnChanges=function(){this.setState()},e.prototype.setState=function(){this.assertions?(this.success=this.assertions.every((function(e){return e.condition})),this.stepsCount=this.assertions.length):this.stepsCount=0},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Hb({type:e,selectors:[["app-assertion-logs"]],inputs:{assertions:"assertions"},features:[i.zb],decls:3,vars:1,consts:[["logsTemplate",""],["class","badge cursor-pointer mr-2 p-1","placement","left","container","body","containerClass","assertion-logs-container","popoverTitle","Assertion logs",3,"ngClass","adaptivePosition","popover","outsideClick",4,"ngIf"],[1,"list-group"],["class","list-group-item d-flex py-1 px-0",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","py-1","px-0"],[1,"px-1","status"],[1,"badge","p-1","w-100",3,"ngClass"],[1,"col-4","px-1"],[1,"px-1"],["placement","left","container","body","containerClass","assertion-logs-container","popoverTitle","Assertion logs",1,"badge","cursor-pointer","mr-2","p-1",3,"ngClass","adaptivePosition","popover","outsideClick"]],template:function(e,t){1&e&&(i.Cc(0,a,2,1,"ng-template",null,0,i.Dc),i.Cc(2,l,2,8,"span",1)),2&e&&(i.Bb(2),i.jc("ngIf",t.stepsCount))},directives:[r.m,r.l,r.k,o.a],styles:[".status[_ngcontent-%COMP%]{flex:0 0 50px}  .assertion-logs-container.popover{max-width:400px;width:400px}"]}),e}()},"7hlH":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("lgZ4"),r=n("iMDe"),o=function(){function e(e,t){this.title="",this.type=r.c.Chart,this.chartModel={type:"vendor-chart",itemProperties:{chartType:i.ChartType.Line,selectionMode:i.SelectionMode.Point,legendPosition:i.Position.Bottom,header:null,bindingX:null,stacking:i.Stacking.None}},this.secondaryAxis=null,e&&(this.title=e,this.chartModel.itemProperties.header=e),"function"==typeof t&&t(this.chartModel.itemProperties)}return e.prototype.plot=function(e){var t=this;this.data=e,this.chartModel.itemProperties.dataSource=e,this.chartModel.itemProperties.series.forEach((function(e){!0===e.secondaryAxis&&(e.secondaryAxis=t.secondaryAxis)})),this.uiModel=this.chartModel},e.prototype.x=function(e,t){var n=this.chartModel.itemProperties;if(n.bindingX=e,"function"==typeof t){var i={binding:e};t(i),n.xAxis=i}return this},e.prototype.yAxis=function(e){var t=this.chartModel.itemProperties,n={position:i.Position.Left};return"function"==typeof e&&(e(n),t.yAxis=n),this},e.prototype.y=function(e,t){var n=this.chartModel.itemProperties,i={binding:e,name:e};return"function"==typeof t&&t(i),n.series=n.series||[],n.series.push(i),this},e.prototype.ySecondaryAxis=function(e){return this.secondaryAxis={position:i.Position.Right},"function"==typeof e&&e(this.secondaryAxis),this},e}()},"9xyN":function(e,t){(function(){var e;e=function(e,t,n){var i,r;for(r="";e.length>0;)(i=e.match(t))?(r+=e.slice(0,i.index),r+=n(i),e=e.slice(i.index+i[0].length)):(r+=e,e="");return r},t.split=function(t){var n,i;return null==t&&(t=""),i=[],n="",e(t,/\s*(?:([^\s\\\'\"]+)|'((?:[^\'\\]|\\.)*)'|"((?:[^\"\\]|\\.)*)"|(\\.?)|(\S))(\s|$)?/,(function(e){var t,r,o,s,c;if(c=e[1],s=e[2],t=e[3],r=e[4],o=e[6],null!=e[5])throw new Error("Unmatched quote");if(n+=c||(s||t||r).replace(/\\(?=.)/,""),null!=o)return i.push(n),n=""})),n&&i.push(n),i},t.escape=function(e){return null==e&&(e=""),null==e?"''":e.replace(/([^A-Za-z0-9_\-.,:\/@\n])/g,"\\$1").replace(/\n/g,"'\n'")}}).call(this)},BgSd:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("fXoL"),r=(n("K3ix"),n("UD/M")),o=n("uh6x"),s=n("Czp8"),c=n("3Pt+"),a=n("ofXK"),l=["txtArea"];function u(e,t){if(1&e&&(i.Tb(0,"div"),i.Ec(1),i.Sb()),2&e){var n=i.dc(2);i.Bb(1),i.Fc(n.error)}}function d(e,t){if(1&e&&(i.Tb(0,"div",16),i.Cc(1,u,2,1,"div",17),i.Sb()),2&e){var n=i.dc();i.Bb(1),i.jc("ngIf",n.error)}}function b(e,t){if(1&e){var n=i.Ub();i.Tb(0,"button",18),i.bc("click",(function(){return i.vc(n),i.dc().importCurl()})),i.Ec(1,"Create request"),i.Sb()}if(2&e){var r=i.dc();i.jc("disabled",!r.cUrl||r.error)}}function p(e,t){if(1&e){var n=i.Ub();i.Tb(0,"button",19),i.bc("click",(function(){return i.vc(n),i.dc().copy()})),i.Ob(1,"i",20),i.Ec(2,"\xa0Copy"),i.Sb()}}var f=function(){function e(){this.import=new i.p,this.isExport=!1}return Object.defineProperty(e.prototype,"title",{get:function(){return this.isExport?"Export to cUrl":"Import from cUrl"},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){if(this.isExport&&this.exportData){var e=s.a.resolve(this.exportData),t=e.method,n=e.url,i=e.body,r=e.headers,c="",a="";"POST"===t&&i&&(c=this.exportData.contentType!==o.b.JSON?'-d "'+Object.entries(JSON.parse(i)).reduce((function(e,t){return e.push(t[0]+"="+t[1]),e}),[]).join("&")+'"':"-d '"+i+"'"),r&&(a=r.filter((function(e){return e.active})).map((function(e){return'-H "'+e.name+": "+e.value+'"'})).join(" ")),this.cUrl=("curl -X "+t+" "+n+" "+c+" "+a).replace(/[\n\t]/g,"")}},e.prototype.importCurl=function(){var e=r(this.cUrl);if(e){var t=[];e.header&&(t=Object.entries(e.header).map((function(e){return{name:e[0],value:e[1],active:!0}})));var n={request:{method:e.method,url:e.url,headers:t,queryParameters:[],contentType:null,auth:{type:o.a.None}}};t.some((function(e){return"Content-Type"===e.name&&e.value===o.b.JSON}))&&(n.request.contentType=o.b.JSON),e.body&&(n.request.contentType===o.b.JSON?n.request.body=e.body.replace(/\t|\n/g,""):(n.request.body=this.parseQueryStr(e.body),n.request.contentType=o.b.FORM)),this.import.emit(n),this.modalRef.hide()}else this.error="Not valid curl"},e.prototype.copy=function(){this.txtArea.nativeElement.select(),document.execCommand("copy"),this.modalRef.hide()},e.prototype.parseQueryStr=function(e){return JSON.stringify(e.split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=n[1],e}),{}))},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Hb({type:e,selectors:[["app-curl-form"]],viewQuery:function(e,t){var n;1&e&&i.Ac(l,!0),2&e&&i.rc(n=i.cc())&&(t.txtArea=n.first)},inputs:{modalRef:"modalRef",exportData:"exportData"},outputs:{import:"import"},decls:21,vars:5,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4","d-flex","flex-column"],[1,"form-group","row","mx-0","mb-1"],["for","curl",1,"col-form-label","px-0","col-sm-1"],[1,"flex-fill","ml-2"],["rows","5","required","","placeholder","Enter cUrl","id","curl","name","curl",1,"form-control",3,"ngModel","ngModelChange","input"],["txtArea","","envName","ngModel"],["class","alert alert-danger py-1 px-2 m-0",4,"ngIf"],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","button","class","btn btn-primary ml-auto mr-2",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary ml-auto mr-2",3,"click",4,"ngIf"],["type","button",1,"btn","btn-light",3,"click"],[1,"alert","alert-danger","py-1","px-2","m-0"],[4,"ngIf"],["type","button",1,"btn","btn-primary","ml-auto","mr-2",3,"disabled","click"],["type","button",1,"btn","btn-primary","ml-auto","mr-2",3,"click"],[1,"fa","fa-copy"]],template:function(e,t){if(1&e&&(i.Tb(0,"div",0),i.Tb(1,"h4",1),i.Ec(2),i.Sb(),i.Tb(3,"button",2),i.bc("click",(function(){return t.modalRef.hide()})),i.Tb(4,"span",3),i.Ec(5,"\xd7"),i.Sb(),i.Sb(),i.Sb(),i.Tb(6,"div",4),i.Tb(7,"div",5),i.Tb(8,"label",6),i.Ec(9,"Curl"),i.Sb(),i.Tb(10,"div",7),i.Tb(11,"textarea",8,9),i.bc("ngModelChange",(function(e){return t.cUrl=e}))("input",(function(){return t.error=null})),i.Sb(),i.Cc(14,d,2,1,"div",10),i.Sb(),i.Sb(),i.Sb(),i.Tb(15,"div",11),i.Tb(16,"div",12),i.Cc(17,b,2,1,"button",13),i.Cc(18,p,3,0,"button",14),i.Tb(19,"button",15),i.bc("click",(function(){return t.modalRef.hide()})),i.Ec(20,"Cancel"),i.Sb(),i.Sb(),i.Sb()),2&e){var n=i.sc(13);i.Bb(2),i.Fc(t.title),i.Bb(9),i.jc("ngModel",t.cUrl),i.Bb(3),i.jc("ngIf",t.error&&(n.dirty||n.touched)),i.Bb(3),i.jc("ngIf",!t.isExport),i.Bb(1),i.jc("ngIf",t.isExport)}},directives:[c.b,c.q,c.i,c.l,a.m],styles:[""]}),e}()},M2rw:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n("mrSG"),r=n("t3T2"),o=["data = [",'\t{color: "blue", value: 10},','\t{color: "yellow", value: 20},','\t{color: "red", value: 15},','\t{color: "black", value: 25}',"]"],s='\ncountries = "US,Canada,Mexico,Germany,UK,France,Italy,Japan,Korea,China".split(",")\ndata = []\nfor country in countries:\n  item = {}\n  item.country = country\n  item.sales = Math.random() * 10000 + 1000\n  item.expenses = Math.random() * 5000 + 1000\n  item.downloads = Math.round(Math.random() * 100000)\n  data.push(item)\n  ',c=[{title:"Asserts",script:'assert(5 == 10, "My Test", "Testing falsy assertion")'},{title:"Print to console",script:'print("Hello World!") # Print to output console'},{title:"Show results in object explorer",script:Object(i.g)(o,['showInObjectExplorer(data, "Tab title")']).join("\n")},{title:"Show results in JSON",script:Object(i.g)(o,['showInJSON(data, "JSON")']).join("\n")},{title:"Create chart tab",script:"\n"+s+'\n\n# you can provide chartType for each series\n# chartTypes: Column | Bar | Scatter | Line | LineSymbols | Area | Spline | SplineSymbols | SplineArea\ncreateChartTab("Countries Chart")\n  .x("country")\n  .yAxis(\n    r =>\n    r.title = "Sales/Expenses (US$ k)"\n    r.format = "n0,"\n  )\n  .y("sales", r => r.chartType = "Column")\n  .y("expenses", r => r.chartType = "Column")\n  .ySecondaryAxis(\n    r =>\n    r.min = 0\n    r.format = "n0,"\n    r.title = "Downloads (k)"\n  )\n  .y("downloads", r => r.chartType = "LineSymbols")\n  .plot(data)\n  '},{title:"Create grid tab",script:"\n"+s+'\n\ncreateGridTab("Countries table").show(data)\n'},{title:"Get contex variable",script:"variable = session.variableName"},{title:"Get app variable",script:"userName = app.user_name"},{title:"Set context variable",script:"session.count = 1"},{title:"Set app variable",script:'app.request = "new request"'},{title:"Run saved request",script:'result = runRequest("owner.request", False, False)'},{title:"httpGet request",script:['data = httpGet("https://restcountries.eu/rest/v2/regionalbloc/eu")','showInObjectExplorer(data, "Response data")'].join("\n")},{title:"httpPost request",script:['sendData = {name: "John"}','httpPost("url/to/post/data", sendData)'].join("\n")},{title:"httpDelete request",script:['httpDelete("url/to/delete/data")'].join("\n")},{title:"httpPut request",script:['updateData = {id: 1, name: "John"}','httpPut("url/to/update/data", updateData)'].join("\n")},{title:"notify",script:'notify("Notification message")'},{title:"warning",script:'notify("Warning message", "Warning")'},{title:"alert",script:'alert("Alert message")'}],a=n("bU/s"),l=n("Czp8"),u=n("M0ag"),d=n("ZF+8"),b=n("fXoL"),p=n("cdP3"),f=n("ofXK"),h=["script"];function g(e,t){if(1&e){var n=b.Ub();b.Tb(0,"li"),b.Tb(1,"a",11),b.bc("click",(function(){b.vc(n);var e=t.$implicit;return b.dc().addSnippet(e.script)})),b.Ec(2),b.Sb(),b.Sb()}if(2&e){var i=t.$implicit;b.Bb(2),b.Fc(i.title)}}var v=function(e){return{collapsed:e}},m=function(e){return{active:e}},S=function(){function e(e){this.dialogService=e,this.snippets=c,this.isCollapsed=!1,this.scriptSize=70}return Object.defineProperty(e.prototype,"context",{get:function(){return this.restInterpreter.scriptContext},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.isCollapsed=l.a.variables["script-help-panel"],this.setScriptSize(),this.restInterpreter=new r.a(this.dialogService),this.editor=Object(a.edit)(this.scriptEl.nativeElement,{mode:"ace/mode/python",autoScrollEditorIntoView:!0,value:this.defaultScript,tabSize:2,useSoftTabs:!0,indentedSoftWrap:!0,theme:Object(u.f)()}),this.editor.setOptions({enableBasicAutocompletion:!0,enableSnippets:!1,enableLiveAutocompletion:!0})},e.prototype.getScript=function(){if(this.editor)return this.editor.getValue()},e.prototype.toggleHelp=function(){this.isCollapsed=!this.isCollapsed,this.setScriptSize(),l.a.setVariable("script-help-panel",this.isCollapsed)},e.prototype.evaluate=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t,n;return Object(i.e)(this,(function(i){switch(i.label){case 0:return this.evaluationTime=null,this.restInterpreter.reset(),e=(new Date).getTime(),t=this.getScript(),[4,this.restInterpreter.evaluate(t)];case 1:return n=i.sent(),this.evaluationTime=+new Date-e,[2,n]}}))}))},e.prototype.resize=function(){this.editor.resize()},e.prototype.setScript=function(e){var t=this;this.evaluationTime=null,this.editor?this.setValue(e):window.requestAnimationFrame((function(){t.setValue(e)}))},e.prototype.addSnippet=function(e){var t=this.editor.session.getLength()-1,n=this.editor.session.getLine(t).length;this.editor.moveCursorTo(t,n),this.editor.insert("\n"+e,!0)},e.prototype.setValue=function(e){this.editor.setValue(e,-1),this.restInterpreter.reset()},e.prototype.setScriptSize=function(){this.scriptSize=this.isCollapsed?100:70},e.\u0275fac=function(t){return new(t||e)(b.Nb(d.b))},e.\u0275cmp=b.Hb({type:e,selectors:[["app-script"]],viewQuery:function(e,t){var n;1&e&&b.Ac(h,!0),2&e&&b.rc(n=b.cc())&&(t.scriptEl=n.first)},inputs:{defaultScript:"defaultScript"},decls:17,vars:10,consts:[["unit","percent","direction","horizontal",3,"useTransition","ngClass","dragEnd","transitionEnd"],["split","asSplit"],[1,"d-flex","position-relative","h-100",3,"size"],["area1","asSplitArea"],["type","button","title","Show/hide help panel",1,"btn","btn-secondary","btn-sm","px-1","py-0","position-absolute","help-toggle",3,"ngClass","click"],[1,"fa","fa-question","fa-lg"],[1,"w-100","h-100"],["script",""],[1,"d-flex",3,"size"],[1,"content"],[4,"ngFor","ngForOf"],[1,"cursor-pointer",3,"click"]],template:function(e,t){1&e&&(b.Tb(0,"as-split",0,1),b.bc("dragEnd",(function(){return t.resize()}))("transitionEnd",(function(){return t.resize()})),b.Tb(2,"as-split-area",2,3),b.Tb(4,"button",4),b.bc("click",(function(){return t.toggleHelp()})),b.Ob(5,"i",5),b.Sb(),b.Ob(6,"div",6,7),b.Sb(),b.Tb(8,"as-split-area",8,3),b.Tb(10,"div",9),b.Tb(11,"p"),b.Ec(12,"Use python-like scripting language to facilitate running multi-requests, data transformations, and testing tasks."),b.Sb(),b.Tb(13,"h5"),b.Ec(14,"Code snippets"),b.Sb(),b.Tb(15,"ul"),b.Cc(16,g,3,1,"li",10),b.Sb(),b.Sb(),b.Sb(),b.Sb()),2&e&&(b.jc("useTransition",!0)("ngClass",b.nc(6,v,t.isCollapsed)),b.Bb(2),b.jc("size",t.scriptSize),b.Bb(2),b.jc("ngClass",b.nc(8,m,t.isCollapsed)),b.Bb(4),b.jc("size",100-t.scriptSize),b.Bb(8),b.jc("ngForOf",t.snippets))},directives:[p.c,f.k,p.b,f.l],styles:['[_ngcontent-%COMP%]:root{--bg:#fff;--body-bg:#e4e5e6;--header-bg:#ebedef;--color:#4f5d73;--border-color:#c4c9d0;--wj-alt:#f7f7f7;--form-input-bg:#fff;--form-input-color:#768192;--nav-link-color:#8a93a2;--secondary-color:#c4c9d0;--opacity:0.05;--hover:"#f0f3f5"}.content[_ngcontent-%COMP%]{margin:1em;overflow-y:scroll}ul[_ngcontent-%COMP%]{-webkit-padding-start:.8em;padding-inline-start:.8em}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#20a8d8}.help-toggle[_ngcontent-%COMP%]{right:10px;z-index:5}as-split.collapsed[_ngcontent-%COMP%]     .as-split-area{flex:0 0 100%!important}']}),e}()},"UD/M":function(e,t,n){var i=n("9xyN");e.exports=t.default=function(e){if(0==e.indexOf("curl ")){var t=function(e){return e.reduce((function(e,t){return 0==t.indexOf("-X")?(e.push("-X"),e.push(t.slice(2))):e.push(t),e}),[])}(i.split(e)),n={method:"GET",header:{}},r="";return t.forEach((function(e){switch(!0){case function(e){return/^https?:\/\//.test(e)}(e):n.url=e;break;case"-A"==e||"--user-agent"==e:r="user-agent";break;case"-H"==e||"--header"==e:r="header";break;case"-d"==e||"--data"==e||"--data-ascii"==e:r="data";break;case"-u"==e||"--user"==e:r="user";break;case"-I"==e||"--head"==e:n.method="HEAD";break;case"-X"==e||"--request"==e:r="method";break;case"-b"==e||"--cookie"==e:r="cookie";break;case"--compressed"==e:n.header["Accept-Encoding"]=n.header["Accept-Encoding"]||"deflate, gzip";break;case!!e:switch(r){case"header":var t=function(e){return e.split(/: (.+)/)}(e);n.header[t[0]]=t[1],r="";break;case"user-agent":n.header["User-Agent"]=e,r="";break;case"data":"GET"!=n.method&&"HEAD"!=n.method||(n.method="POST"),n.header["Content-Type"]=n.header["Content-Type"]||"application/x-www-form-urlencoded",n.body=n.body?n.body+"&"+e:e,r="";break;case"user":n.header.Authorization="Basic "+btoa(e),r="";break;case"method":n.method=e,r="";break;case"cookie":n.header["Set-Cookie"]=e,r=""}}})),n}}},Y8v1:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));var i=n("mrSG"),r=n("uh6x"),o=n("Czp8");function s(e){o.a.setContextVariable({name:"responseContent",value:e.body}),o.a.setContextVariable({name:"responseHeaders",value:e.headers})}function c(e){return Object(i.a)({headers:(t=e,Object.entries(t).filter((function(e){return"body"!==e[0]})).reduce((function(e,n){var i=n[0],r=n[1];return e[i]="headers"===i?function(e){return e&&e.headers?e.headers.keys().reduce((function(t,n){return t.push({active:!0,name:n,value:e.headers.get(n)}),t}),[]).map((function(e){var t;return(t={})[e.name]=e.value,t})):[]}(t):r,e}),{}))},function(e){var t=e.body||e.error||"";if("string"!=typeof t&&(t=JSON.stringify(t)),!t)return{contentType:r.b.TEXT,body:t};if("{[".includes(t[0]))try{return t=JSON.parse(t),{contentType:r.b.JSON,body:t}}catch(n){return{contentType:r.b.TEXT,body:t}}return{contentType:r.b.TEXT,body:t}}(e));var t}function a(e){if(!e)return null;var t=e.split("\n")[0].match(/#([\w\s]+)/);return t&&t.length?t[1].trim():void 0}},ZZj6:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("mrSG"),r=n("jyck"),o=n("iMDe"),s=n("lgZ4"),c=n("7hlH"),a=n("fXoL"),l=n("44PX"),u=n("ofXK"),d=n("bU/s"),b=n("iFvM"),p=["json"],f=function(){function e(){}return e.prototype.ngOnInit=function(){this.jsonEditor=Object(d.edit)(this.jsonEl.nativeElement,{mode:"ace/mode/json",autoScrollEditorIntoView:!0,value:Object(b.e)(this.data),readOnly:!0,theme:Object(b.i)()})},e.prototype.ngOnChanges=function(e){var t=e.data;!t.firstChange&&t.currentValue&&this.jsonEditor.setValue(Object(b.e)(this.data))},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Hb({type:e,selectors:[["app-json-preview"]],viewQuery:function(e,t){var n;1&e&&a.Ac(p,!0),2&e&&a.rc(n=a.cc())&&(t.jsonEl=n.first)},inputs:{data:"data"},features:[a.zb],decls:2,vars:0,consts:[[1,"w-100","h-100"],["json",""]],template:function(e,t){1&e&&a.Ob(0,"div",0,1)},styles:[""]}),e}(),h=n("eY+I");function g(e,t){if(1&e&&a.Ob(0,"app-content-explorer",9),2&e){var n=a.dc(2).$implicit;a.jc("isTextAvailable",!0)("formatter",!1)("uiModel",n.uiModel)("data",n.data)}}function v(e,t){if(1&e&&a.Ob(0,"app-json-preview",10),2&e){var n=a.dc(2).$implicit;a.jc("data",n.data)}}function m(e,t){if(1&e&&a.Ob(0,"ngx-dynamic-component",11),2&e){var n=a.dc(2).$implicit;a.jc("dataModel",n.data)("uiModel",n.uiModel)}}function S(e,t){if(1&e&&(a.Rb(0,5),a.Cc(1,g,1,4,"app-content-explorer",6),a.Cc(2,v,1,1,"app-json-preview",7),a.Cc(3,m,1,2,"ngx-dynamic-component",8),a.Qb()),2&e){var n=a.dc().$implicit,i=a.dc();a.jc("ngSwitch",n.type),a.Bb(1),a.jc("ngSwitchCase",i.ShowInTypes.ObjectExplorer),a.Bb(1),a.jc("ngSwitchCase",i.ShowInTypes.JSON)}}function y(e,t){1&e&&(a.Tb(0,"div"),a.Ec(1,"[No data]"),a.Sb())}function j(e,t){if(1&e&&(a.Tb(0,"tab",2),a.Cc(1,S,4,3,"ng-container",3),a.Cc(2,y,2,0,"div",4),a.Sb()),2&e){var n=t.$implicit;a.jc("heading",n.title||"Tab "+t.index),a.Bb(1),a.jc("ngIf",void 0!==n.data),a.Bb(1),a.jc("ngIf",!n.data)}}var O=function(){function e(){this.objectExplorerUIModels=[],this.ShowInTypes=o.c}return e.prototype.ngOnInit=function(){this.tabs=this.getTabsList(this.items)},e.prototype.ngOnChanges=function(e){var t=e.items;!t.firstChange&&t.currentValue&&(this.tabs=this.getTabsList(t.currentValue))},e.prototype.getTabsList=function(e){var t=this;return e?e.map((function(e,n){return e.type===o.c.ObjectExplorer?Object(i.a)(Object(i.a)({},e),{uiModel:t.getObjectExplorerUIModel(e.type+"-"+e.title+"-"+n)}):e.type!==o.c.Chart||e instanceof c.a?e:Object(i.a)(Object(i.a)({},e),{uiModel:t.getChartUIModel(e)})})):null},e.prototype.resize=function(){this.contentExplorers.toArray().forEach((function(e){e.resize()}))},e.prototype.getObjectExplorerUIModel=function(e){return{type:"grid-object-explorer",itemProperties:{host:e,isReadOnly:!0,allowDelete:!1,allowAddNew:!1,selectionMode:4}}},e.prototype.getChartUIModel=function(e){e.config=e.config||{};var t=e.config.header,n=e.config.bindingX,i=e.config.series||[];if(e.data&&!Array.isArray(e.data)&&(e.data=[e.data]),e.data.length){var r=Object.keys(e.data[0]);t||(t=r[0]),n||(n=r[0]),i.length||(i=Object.entries(e.data[0]).map((function(e){var t=e[0];if("number"==typeof e[1])return{binding:t,name:t}})).filter((function(e){return e})))}return{type:"vendor-chart",itemProperties:{chartType:e.config.chartType||s.ChartType.Line,header:t,bindingX:n,selectionMode:e.config.selectionMode||s.SelectionMode.Point,legendPosition:e.config.legendPosition||s.Position.Bottom,series:i,dataSource:e.data}}},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Hb({type:e,selectors:[["app-show-in-presenter"]],viewQuery:function(e,t){var n;1&e&&a.Jc(r.a,!0),2&e&&a.rc(n=a.cc())&&(t.contentExplorers=n)},inputs:{items:"items"},features:[a.zb],decls:2,vars:1,consts:[[1,"tabset-fx","nav-tabs-boxed"],[3,"heading",4,"ngFor","ngForOf"],[3,"heading"],[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],[3,"ngSwitch"],["class","d-block h-100",3,"isTextAvailable","formatter","uiModel","data",4,"ngSwitchCase"],["class","w-100 h-100",3,"data",4,"ngSwitchCase"],["class","w-100 h-100",3,"dataModel","uiModel",4,"ngSwitchDefault"],[1,"d-block","h-100",3,"isTextAvailable","formatter","uiModel","data"],[1,"w-100","h-100",3,"data"],[1,"w-100","h-100",3,"dataModel","uiModel"]],template:function(e,t){1&e&&(a.Tb(0,"tabset",0),a.Cc(1,j,3,3,"tab",1),a.Sb()),2&e&&(a.Bb(1),a.jc("ngForOf",t.tabs))},directives:[l.d,u.l,l.a,u.m,u.o,u.p,u.q,r.a,f,h.h],styles:[""]}),e}()},cSY5:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i=n("mrSG"),r=n("tk/3"),o=n("NJ9Y"),s=n("JIr8"),c=n("eIep"),a=n("lJxs"),l=n("uh6x"),u=n("Czp8"),d=n("z6cu"),b=n("Cfvw"),p=n("LRne"),f=n("AytR"),h=n("OLrf"),g=n("Y8v1"),v=n("01LN"),m=n("fXoL"),S=n("kt0X"),y="https://raw.githubusercontent.com/FalconSoft/sample-data/master",j=function(){function e(e,t,n){this.httpClient=e,this.authService=t,this.store=n}return e.prototype.send=function(e){var t=u.a.resolve(e),n=t.method,i=t.url,s=t.headers,c=t.queryParameters,a=t.body,d=t.auth,b=new r.d;if(s.forEach((function(e){b=b.set(e.name,e.value)})),d)switch(d.type){case l.a.Basic:var p=btoa(d.username+":"+d.password);b=b.set("Authorization","Basic "+p);break;case l.a.Bearer:d.token.startsWith("Bearer ")||(d.token="Bearer "+d.token),b=b.set("Authorization",d.token)}var f=new r.e;c.forEach((function(e){f=f.append(e.name,e.value)}));var h=new r.f(n,i.replace(/\/+/g,"/").replace(":/","://"),a,{headers:b,params:f,responseType:"text"});return this.httpClient.request(h).pipe(Object(o.a)())},e.prototype.getSavedRequests$=function(){return this.httpClient.get(f.a.apiBaseUrl+"/api/my/requests",this.authService.getHttpHeaders())},e.prototype.getPublicFile$=function(e){return e.match(/^https?:\/\//)||(e=y+"/"+e),this.httpClient.get(e,{responseType:"text"}).pipe(Object(s.a)((function(t){throw Error("Cannot load file: "+e)})))},e.prototype.getPublicRequests$=function(){return this.httpClient.get(y+"/rest-client/index.json")},e.prototype.getSavedRequest$=function(e){return this.httpClient.get(f.a.apiBaseUrl+"/api/my/request/"+e.ownerName+"/"+e.requestName,this.authService.getHttpHeaders()).pipe(Object(s.a)((function(){return Object(d.a)("Failed to load.")})))},e.prototype.getPublicRequest$=function(e){return this.httpClient.get(y+"/rest-client/"+e.ownerName+"/"+e.requestName+".json").pipe(Object(s.a)((function(){return Object(d.a)("Failed to load.")})))},e.prototype.saveRequest$=function(e){return this.httpClient.post(f.a.apiBaseUrl+"/api/my/request",e,this.authService.getHttpHeaders())},e.prototype.deleteRequest$=function(e){return this.httpClient.delete(f.a.apiBaseUrl+"/api/my/request/"+e,this.authService.getHttpHeaders())},e.prototype.executeInterpreter=function(e,t,n,r){return void 0===n&&(n={}),Object(i.b)(this,void 0,void 0,(function(){return Object(i.e)(this,(function(o){switch(o.label){case 0:return e?[4,r.evaluate(e,Object(i.a)({},n),t)]:[3,2];case 1:return o.sent(),[2,r];case 2:return[2,null]}}))}))},e.prototype.sendRequest=function(e,t,n){var i=this,r=(new Date).getTime();return Object(b.a)(this.executeInterpreter(t,l.c.PRE_REQUEST,{request:e},n)).pipe(Object(c.a)((function(n){return e.cancelRequest?Object(p.a)({scriptContext:n.scriptContext}):i.send(e).pipe(Object(c.a)((function(e){return O(e,r,n.scriptContext)})),Object(s.a)((function(e){return O(e,r,n.scriptContext)})),Object(c.a)((function(e){var r=e.response,o=e.status;return Object(b.a)(i.executeInterpreter(t,200===o.status?l.c.POST_REQUEST_SUCCESS:l.c.POST_REQUEST_ERROR,{response:r},n)).pipe(Object(a.a)((function(e){return Object(g.c)(r),{response:r,status:o,scriptContext:e.scriptContext}})))})))})),Object(s.a)((function(e){return Object(p.a)({scriptContext:e.scriptContext})}))).toPromise()},e.\u0275fac=function(t){return new(t||e)(m.Xb(r.a),m.Xb(h.b),m.Xb(S.h))},e.\u0275prov=m.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function O(e,t,n){var i=+new Date-t,r={status:e.status,statusText:e.statusText,time:i,date:Object(v.dateToString)(new Date)};200!==e.status&&e.message&&(r.error=e.message);var o=Object(g.a)(e);return Object(p.a)({response:o,status:r,scriptContext:n})}},iMDe:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=function(e){return e.ObjectExplorer="object-explorer",e.JSON="JSON",e.Chart="Chart",e.Grid="Grid",e.Map="Map",e}({}),r=function(e){return e.Textarea="textarea",e.Select="select",e.Text="text",e.Password="password",e.Email="email",e.Checkbox="checkbox",e.File="file",e}({}),o=function(e){return e.Assert="assert",e.Error="error",e.ShowInObjectExplorer="showInObjectExplorer",e.ShowInJSON="showInJSON",e.CreateChartTab="createChartTab",e.CreateGridTab="createGridTab",e.CreateMapTab="createMapTab",e.ShowAsserts="showAsserts",e.InputDialog="inputDialog",e}({})},t3T2:function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var i=n("mrSG"),r=n("UShy"),o=n("M0ag"),s=n("Czp8"),c=n("iMDe"),a=n("7hlH"),l=n("EgT8"),u=function(){function e(e){this.type=c.c.Grid,this.uiModel={type:"vendor-grid",itemProperties:{isReadOnly:!0,allowDelete:!1,selectionMode:4}},e&&(this.title=e)}return e.prototype.show=function(e){this.data=e,this.uiModel.itemProperties.dataSource=e},e.prototype.column=function(e,t){var n={bindingName:e,headerText:Object(l.formatCamelStr)(e)};"function"==typeof t&&t(n);var i=this.uiModel.itemProperties;return i.overrideColumns=i.overrideColumns||[],i.overrideColumns.push(n),this},e.prototype.hidecolumn=function(e){var t=this.uiModel.itemProperties;return t.removeColumns=t.removeColumns||[],t.removeColumns.push(e),this},e}(),d=n("eIep"),b=n("fXoL"),p=(n("K3ix"),n("3Pt+")),f=n("ofXK"),h=n("ZF+8");function g(e,t){if(1&e){var n=b.Ub();b.Tb(0,"li",4),b.Tb(1,"span",5),b.Ec(2),b.Sb(),b.Tb(3,"i",6),b.bc("click",(function(){b.vc(n);var e=t.index;return b.dc().removeFile(e)})),b.Sb(),b.Sb()}if(2&e){var i=t.$implicit;b.Bb(2),b.Fc(i.fileName)}}var v=function(){function e(e){this.fileService=e,this.change=new b.p,this.files=[]}return e.prototype.loadFiles=function(){return Object(i.b)(this,void 0,void 0,(function(){var e=this;return Object(i.e)(this,(function(t){return this.fileService.importFilesContent$().subscribe((function(t){t.forEach((function(t){e.files.find((function(e){return e.content===t.content&&e.fileName===t.fileName}))||e.files.push(t)})),e.change.emit(e.files)})),[2]}))}))},e.prototype.removeFile=function(e){this.files.splice(e,1),this.change.emit(this.files)},e.\u0275fac=function(t){return new(t||e)(b.Nb(h.c))},e.\u0275cmp=b.Hb({type:e,selectors:[["app-input-files"]],outputs:{change:"change"},decls:5,vars:1,consts:[[1,"d-flex"],["type","button",1,"btn","btn-light","btn-sm","align-self-start",3,"click"],[1,"list-unstyled","ml-2","overflow-hidden","mt-1"],["class","overflow-hidden d-flex",4,"ngFor","ngForOf"],[1,"overflow-hidden","d-flex"],[1,"text-nowrap","overflow-hidden","flex-fill","text-truncate"],[1,"fa","fa-remove","cursor-pointer","align-self-center",3,"click"]],template:function(e,t){1&e&&(b.Tb(0,"div",0),b.Tb(1,"button",1),b.bc("click",(function(){return t.loadFiles()})),b.Ec(2,"Browse..."),b.Sb(),b.Tb(3,"ul",2),b.Cc(4,g,4,1,"li",3),b.Sb(),b.Sb()),2&e&&(b.Bb(4),b.jc("ngForOf",t.files))},directives:[f.l],styles:[""]}),e}(),m=n("psEu");function S(e,t){if(1&e){var n=b.Ub();b.Tb(0,"textarea",24),b.bc("ngModelChange",(function(e){b.vc(n);var t=b.dc().$implicit;return b.dc().data[t.name]=e})),b.Sb()}if(2&e){var i=b.dc().$implicit,r=b.dc();b.jc("id",r.getId(i.name))("ngModel",r.data[i.name])("name",i.name)}}function y(e,t){if(1&e&&(b.Tb(0,"option",27),b.Ec(1),b.Sb()),2&e){var n=t.$implicit;b.jc("value",n),b.Bb(1),b.Fc(n)}}function j(e,t){if(1&e){var n=b.Ub();b.Tb(0,"select",25),b.bc("ngModelChange",(function(e){b.vc(n);var t=b.dc().$implicit;return b.dc().data[t.name]=e})),b.Cc(1,y,2,2,"option",26),b.Sb()}if(2&e){var i=b.dc().$implicit,r=b.dc();b.jc("ngModel",r.data[i.name])("name",i.name),b.Bb(1),b.jc("ngForOf",i.options)}}function O(e,t){1&e&&(b.Tb(0,"div"),b.Ec(1,"Email is not valid."),b.Sb())}function w(e,t){if(1&e&&(b.Tb(0,"div",30),b.Cc(1,O,2,0,"div",31),b.Sb()),2&e){b.dc();var n=b.sc(2);b.Bb(1),b.jc("ngIf",n.errors.email)}}function C(e,t){if(1&e){var n=b.Ub();b.Rb(0),b.Tb(1,"input",28,29),b.bc("ngModelChange",(function(e){b.vc(n);var t=b.dc().$implicit;return b.dc().data[t.name]=e})),b.Sb(),b.Cc(3,w,2,1,"div",22),b.Qb()}if(2&e){var i=b.sc(2),r=b.dc().$implicit,o=b.dc();b.Bb(1),b.jc("id",o.getId(r.name))("ngModel",o.data[r.name])("name",r.name),b.Bb(2),b.jc("ngIf",i.invalid&&(i.dirty||i.touched))}}function T(e,t){if(1&e){var n=b.Ub();b.Tb(0,"input",32),b.bc("ngModelChange",(function(e){b.vc(n);var t=b.dc().$implicit;return b.dc().data[t.name]=e})),b.Sb()}if(2&e){var i=b.dc().$implicit,r=b.dc();b.jc("id",r.getId(i.name))("ngModel",r.data[i.name])("name",i.name)}}function q(e,t){if(1&e){var n=b.Ub();b.Tb(0,"app-input-files",33),b.bc("change",(function(e){b.vc(n);var t=b.dc().$implicit;return b.dc().onFilesChange(e,t.name)})),b.Sb()}}function x(e,t){if(1&e){var n=b.Ub();b.Tb(0,"input",34),b.bc("ngModelChange",(function(e){b.vc(n);var t=b.dc().$implicit;return b.dc().data[t.name]=e})),b.Sb()}if(2&e){var i=b.dc().$implicit,r=b.dc();b.jc("id",r.getId(i.name))("type",i.type)("ngModel",r.data[i.name])("name",i.name)}}function E(e,t){if(1&e&&(b.Tb(0,"div",30),b.Tb(1,"div"),b.Ec(2),b.Sb(),b.Sb()),2&e){var n=b.dc().$implicit,i=b.dc();b.Bb(2),b.Fc(i.errors[n.name])}}function M(e,t){if(1&e&&(b.Tb(0,"span",35),b.Tb(1,"small"),b.Ec(2),b.Sb(),b.Sb()),2&e){var n=b.dc().$implicit;b.Bb(2),b.Fc(n.description)}}function k(e,t){if(1&e&&(b.Tb(0,"div",13),b.Tb(1,"label",14),b.Ec(2),b.Sb(),b.Tb(3,"div",15),b.Cc(4,S,1,3,"textarea",16),b.Cc(5,j,2,3,"select",17),b.Cc(6,C,4,4,"ng-container",18),b.Cc(7,T,1,3,"input",19),b.Cc(8,q,1,0,"app-input-files",20),b.Cc(9,x,1,4,"input",21),b.Cc(10,E,3,1,"div",22),b.Sb(),b.Cc(11,M,3,1,"span",23),b.Sb()),2&e){var n=t.$implicit,i=b.dc();b.Bb(1),b.jc("for",i.getId(n.name)),b.Bb(1),b.Fc(i.getLabel(n)),b.Bb(1),b.jc("ngSwitch",n.type),b.Bb(1),b.jc("ngSwitchCase",i.types.Textarea),b.Bb(1),b.jc("ngSwitchCase",i.types.Select),b.Bb(1),b.jc("ngSwitchCase",i.types.Email),b.Bb(1),b.jc("ngSwitchCase",i.types.Checkbox),b.Bb(1),b.jc("ngSwitchCase",i.types.File),b.Bb(2),b.jc("ngIf",i.errors[n.name]),b.Bb(1),b.jc("ngIf",n.description)}}function R(e,t){if(1&e&&(b.Tb(0,"alert",36),b.Tb(1,"strong"),b.Ec(2,"Error:"),b.Sb(),b.Ec(3),b.Sb()),2&e){var n=b.dc();b.Bb(3),b.Gc(" ",n.error," ")}}function I(e,t){if(1&e&&(b.Tb(0,"button",37),b.Ec(1),b.Sb()),2&e){var n=b.dc();b.Bb(1),b.Fc(n.settings.acceptLabel)}}function B(e,t){if(1&e){var n=b.Ub();b.Tb(0,"button",38),b.bc("click",(function(){return b.vc(n),b.dc().modalRef.hide()})),b.Ec(1),b.Sb()}if(2&e){var i=b.dc();b.Bb(1),b.Fc(i.settings.rejectLabel)}}var P=function(){function e(){this.save=new b.p,this.data={},this.fields=[],this.sent=!1,this.errors={},this.types=c.a,this.settings={title:"Script input form",acceptLabel:"Save",rejectLabel:"Cancel",acceptVisible:!0,rejectVisible:!0},this.files={}}return e.prototype.onSubmit=function(e){var t=this.config.onSave;if(this.error=null,this.errors={},!t&&e.valid)this.send();else{var n=t({data:this.data,errors:this.errors});"string"==typeof n||Object.keys(this.errors).length?this.error=n:e.valid&&this.send()}},e.prototype.send=function(){this.save.emit(this.data),this.sent=!0,this.modalRef.hide()},e.prototype.ngOnInit=function(){var e=this;Object.assign(this.settings,this.config.settings),this.config.params.forEach((function(t){"string"==typeof t?(e.fields.push({type:c.a.Text,name:t}),e.data[t]=null):(e.fields.push(Object(i.a)({},t)),e.data[t.name]=t.defaultValue||null)})),this.modalRef.onHide.subscribe((function(){!1===e.sent&&e.save.emit(null)}))},e.prototype.getId=function(e){return"id-"+e.replace(/\s/g,"-")},e.prototype.getLabel=function(e){return e.label||Object(l.formatCamelStr)(e.name)},e.prototype.onFilesChange=function(e,t){this.data[t]=e},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b.Hb({type:e,selectors:[["app-interpreter-input"]],inputs:{config:"config",modalRef:"modalRef"},outputs:{save:"save"},decls:15,vars:5,consts:[[3,"ngSubmit"],["form","ngForm"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","px-4","d-flex","flex-column"],["class","form-group row my-2",4,"ngFor","ngForOf"],["type","danger",4,"ngIf"],[1,"modal-footer","flex-column"],[1,"row","w-100","mx-0","px-0"],["type","submit","class","btn btn-primary ml-auto mr-2",4,"ngIf"],["type","button","class","btn btn-light",3,"click",4,"ngIf"],[1,"form-group","row","my-2"],[1,"col-sm-4","col-form-label",3,"for"],[1,"col-sm-8",3,"ngSwitch"],["class","form-control","rows","5","placeholder","Enter value",3,"id","ngModel","name","ngModelChange",4,"ngSwitchCase"],["class","form-control py-0",3,"ngModel","name","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","align-bottom","type","checkbox",3,"id","ngModel","name","ngModelChange",4,"ngSwitchCase"],[3,"change",4,"ngSwitchCase"],["class","form-control","placeholder","Enter value",3,"id","type","ngModel","name","ngModelChange",4,"ngSwitchDefault"],["class","alert alert-danger py-1 px-2 m-0",4,"ngIf"],["class","description font-italic",4,"ngIf"],["rows","5","placeholder","Enter value",1,"form-control",3,"id","ngModel","name","ngModelChange"],[1,"form-control","py-0",3,"ngModel","name","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["placeholder","Enter value","type","email","email","",1,"form-control",3,"id","ngModel","name","ngModelChange"],["emailField","ngModel"],[1,"alert","alert-danger","py-1","px-2","m-0"],[4,"ngIf"],["type","checkbox",1,"align-bottom",3,"id","ngModel","name","ngModelChange"],[3,"change"],["placeholder","Enter value",1,"form-control",3,"id","type","ngModel","name","ngModelChange"],[1,"description","font-italic"],["type","danger"],["type","submit",1,"btn","btn-primary","ml-auto","mr-2"],["type","button",1,"btn","btn-light",3,"click"]],template:function(e,t){if(1&e){var n=b.Ub();b.Tb(0,"form",0,1),b.bc("ngSubmit",(function(){b.vc(n);var e=b.sc(1);return t.onSubmit(e)})),b.Tb(2,"div",2),b.Tb(3,"h4",3),b.Ec(4),b.Sb(),b.Tb(5,"button",4),b.bc("click",(function(){return t.modalRef.hide()})),b.Tb(6,"span",5),b.Ec(7,"\xd7"),b.Sb(),b.Sb(),b.Sb(),b.Tb(8,"div",6),b.Cc(9,k,12,10,"div",7),b.Cc(10,R,4,1,"alert",8),b.Sb(),b.Tb(11,"div",9),b.Tb(12,"div",10),b.Cc(13,I,2,1,"button",11),b.Cc(14,B,2,1,"button",12),b.Sb(),b.Sb(),b.Sb()}2&e&&(b.Bb(4),b.Fc(t.settings.title),b.Bb(5),b.jc("ngForOf",t.fields),b.Bb(1),b.jc("ngIf",t.error),b.Bb(3),b.jc("ngIf",t.settings.acceptVisible),b.Bb(1),b.jc("ngIf",t.settings.rejectVisible))},directives:[p.t,p.j,p.k,f.l,f.m,f.o,f.p,f.q,p.b,p.i,p.l,p.r,p.m,p.s,p.c,p.a,v,m.a],styles:[".description[_ngcontent-%COMP%]{padding:0 15px}"]}),e}(),N=function(){function e(e){this.type=c.c.Map,this.uiModel={type:"google-map",itemProperties:{}},this.data={},e&&(this.title=e)}return e.prototype.center=function(e,t){return this.uiModel.itemProperties.latitude=e,this.uiModel.itemProperties.longitude=t,this},e.prototype.setApiKey=function(e){return this.uiModel.itemProperties.apiKey=e,this},e.prototype.setMarkers=function(e){return this.uiModel.itemProperties.markers=e,this},e.prototype.zoom=function(e){return this.uiModel.itemProperties.zoom=e,this},e.prototype.setInfoWindow=function(e){return"function"==typeof e&&(this.uiModel.itemProperties.infoWindowHandler=e),this},e}(),$=function(){function e(e){var t=this;this.dialogService=e,this.reset(),this.interpreter=Object(r.a)(),this.interpreter.addFunction(c.b.Assert,(function(e,n,r){t.scriptContext.asserts=Object(i.g)(t.scriptContext.asserts,[{condition:e,name:n,description:r}])})),this.interpreter.addFunction(c.b.Error,(function(e){t.scriptContext.errors=Object(i.g)(t.scriptContext.errors,[e])})),this.interpreter.addFunction(c.b.ShowInObjectExplorer,(function(e,n){t.showIn(c.c.ObjectExplorer,e,n)})),this.interpreter.addFunction(c.b.ShowInJSON,(function(e,n){t.showIn(c.c.JSON,e,n)})),this.interpreter.addFunction("plotChart",(function(e,n,i){t.showIn(c.c.Chart,e,n,i)})),this.interpreter.addFunction(c.b.CreateChartTab,(function(e,n){var i=new a.a(e,n);return t.addTab(i),i})),this.interpreter.addFunction(c.b.CreateGridTab,(function(e){var n=new u(e);return t.addTab(n),n})),this.interpreter.addFunction(c.b.CreateMapTab,(function(e){var n=new N(e);return t.addTab(n),n})),this.interpreter.addFunction(c.b.ShowAsserts,(function(){var e=new u("Asserts");e.column("description",(function(e){e.width="*"})).show(t.scriptContext.asserts),t.addTab(e)})),this.interpreter.addFunction(c.b.InputDialog,(function(e,n,i){return new Promise((function(r,o){var s=t.dialogService.open(P);s.config={params:e,onSave:n,settings:i},s.init.pipe(Object(d.a)((function(){return s.component.save}))).subscribe((function(e){r(e)}))}))}))}return e.prototype.evaluate=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),Object(i.b)(this,void 0,void 0,(function(){var r,c;return Object(i.e)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.interpreter.evaluate(e,Object(i.a)({},t),n)];case 1:return r=a.sent(),s.a.syncVariables(),[2,r];case 2:return c=a.sent(),this.scriptContext.errors=Object(i.g)(this.scriptContext.errors,[Object(o.h)(c)]),[3,3];case 3:return[2]}}))}))},e.prototype.reset=function(){this.scriptContext={errors:[],asserts:[],showInItems:[]}},e.prototype.showIn=function(e,t,n,r){this.scriptContext.showInItems=Object(i.g)(this.scriptContext.showInItems,[{type:e,data:t,title:n,config:r}])},e.prototype.addTab=function(e){this.scriptContext.showInItems=Object(i.g)(this.scriptContext.showInItems,[e])},e}()}}]);